function loadCsvData(){if(!dataFinish){var xhr=new XMLHttpRequest;xhr.open("GET",game.dataUrl,!0),xhr.addEventListener("progress",function(e){game.LoadingScene.getInstance().setProgress(e.loaded,e.total,!0)},this),xhr.addEventListener("load",function(e){dataFinish=!0,game.CsvData=eval("("+xhr.response+")"),loadFinish&&(game.GameLayer.loadLayer.removeChild(game.LoadingScene.getInstance()),createGameScene())}),xhr.send()}}function createGameScene(){if(!dataFinish)return void loadCsvData();if(6==SDK.$platformType){if(gameEnter)return;0==game.GameLayer.teachLayer.numChildren&&game.GameLayer.teachLayer.addChild(new game.SDKLogining),loadFinish&&sdkFinish&&(gameEnter=!0,game.run())}else if(13==SDK.$platformType||14==SDK.$platformType){if(gameEnter)return;if(0==game.GameLayer.teachLayer.numChildren&&game.GameLayer.teachLayer.addChild(new game.SDKLogining),loadFinish&&(!game.checkIsNull(iosUserId)||host&&!game.checkIsNull(host.getSessionId())))return gameEnter=!0,void game.run()}else if(9==SDK.$platformType){if(gameEnter)return;var e=Auth.$openkeydata;if(null!=e&&e.length>2)return 0!=game.GameLayer.teachLayer.numChildren&&game.GameLayer.teachLayer.removeChildAt(0),gameEnter=!0,void game.run();if(0==game.GameLayer.teachLayer.numChildren)return RefreshOpenKey(),void game.GameLayer.teachLayer.addChild(new game.SDKLogining)}else game.run()}function sendProductValue(e){}function reqLoginFromIOS(e,t,n,i){return iosToken=e,iosUserId=t,sdkFinish=!0,iosID=n,game.channelType=i,!0}function leaveGame(){game.sendAYUserInfo("3")}function onResume(){game.SoundManager.back=!1,game.SoundManager.resumeBgSound(),game.SoundManager.resumeWeather()}function onPause(){game.SoundManager.back=!0,game.SoundManager.stopBgSound(),game.SoundManager.stopTeach(),game.SoundManager.stopWeather()}function setLocalResList(e,t){LocalResDict={};for(var n in t){var i=t[n];LocalResDict[i]=e+i}}var __reflect=this&&this.__reflect||function(e,t,n){e.__class__=t,n?n.push(t):n=[t],e.__types__=e.__types__?n.concat(e.__types__):n},__extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n},__awaiter=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,o){function s(e){try{u(i.next(e))}catch(t){o(t)}}function r(e){try{u(i["throw"](e))}catch(t){o(t)}}function u(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,r)}u((i=i.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(i){n=[6,i],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,r,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r},game;!function(e){var t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._adjust=!1,e._heightScale=1,e}return __extends(n,t),n.prototype.createChildren=function(){t.prototype.createChildren.call(this),this._adjust&&(this.stage.addEventListener(egret.Event.RESIZE,this.onHeightChange,this),this.onHeightChange())},n.prototype.addEventAndNotify=function(){if(this._touchEvent&&this._touchEvent.length>0&&this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.registerTouchEvent,this),this._notify&&this._notify.length>0)for(var t=0;t<this._notify.length;t++){var n=this._notify[t];n.execute?e.BINDING_EXEC(n.source,n.target,n.callBackFunc,n.notifyName):e.BINDING_ONLY(n.source,n.target,n.callBackFunc,n.notifyName)}},n.prototype.registerTouchEvent=function(e){for(var t=e.target,n=0;n<this._touchEvent.length;n++)t==this._touchEvent[n].target&&this._touchEvent[n].callBackFunc.bind(this)(t,e)},n.prototype.removeFromParent=function(){this.onRemove(),this.parent&&this.parent.removeChild(this)},n.prototype.onRemove=function(){},n.prototype.onHeightChange=function(){this.height=gameConfig.curHeight(),this._heightScale=Math.max(this.height/1100,1)},n}(eui.Component);e.GameComponent=t,__reflect(t.prototype,"game.GameComponent")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=PokemonIconSkin,e.touchChildren=!1,e}return __extends(n,t),Object.defineProperty(n.prototype,"pokemon",{set:function(t){this.pokemonData=e.Data.TElf[t],this.pokemonData?(this.pokemonGroup.visible=!0,this._pokemonImage||(this.createImage(),this._pokemonImage.setDisplayPosition(54,90),this.pokemonGroup.addChild(this._pokemonImage.display)),this._pokemonImage.setPokemon(t),this.grade=this.pokemonData.quality):(this.pokemonGroup.visible=!1,this.grade=0)},enumerable:!0,configurable:!0}),n.prototype.createImage=function(){this._pokemonImage=new e.PokemonIconAnim},Object.defineProperty(n.prototype,"grade",{set:function(e){this.gradeDisplay&&(this.gradeDisplay.source="icon/pokemon/q"+e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scale",{set:function(e){this.scaleX=this.scaleY=e},enumerable:!0,configurable:!0}),n.prototype.setPosition=function(e,t){this.x=e,this.y=t},n.prototype.play=function(){this._pokemonImage&&this._pokemonImage.play(1)},n.prototype.stop=function(){this._pokemonImage&&this._pokemonImage.stop()},n.prototype.onDestroy=function(){this.stop(),this.removeFromParent()},n.prototype.showDetail=function(){var t=e.PokemonDetail.getInstance();t.setCurrentPokemon(this.pokemonData.id),t.show()},n}(e.GameComponent);e.PokemonIcon=t,__reflect(t.prototype,"game.PokemonIcon",["game.PoolItem"])}(game||(game={}));var game;!function(e){var t=function(){function t(){this._timeout=null,this._timeScale=1,this._bitmap=new egret.Bitmap,this._bitmap.touchEnabled=!1}return t.prototype.setData=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return this.sequenceImageData=t,this._maxFrame=t.size.col,e.SpriteSheetPool[t.resource]?(this._spriteSheet=e.SpriteSheetPool[t.resource],this._width=Math.ceil(this._spriteSheet.$texture.textureWidth/t.size.col),this._height=Math.ceil(this._spriteSheet.$texture.textureHeight/t.size.row),[3,3]):[3,1];case 1:return[4,e.loadRes(t.resource)];case 2:n=i.sent(),this._spriteSheet=new egret.SpriteSheet(n),e.SpriteSheetPool[t.resource]=this._spriteSheet,this._width=Math.ceil(n.textureWidth/t.size.col),this._height=Math.ceil(n.textureHeight/t.size.row),i.label=3;case 3:return this.setAnchorOffset(),[2]}})})},t.prototype.updateTexture=function(e,t){if(this._spriteSheet){var n=e+":"+t,i=this._spriteSheet.getTexture(n);if(i)this._bitmap.texture=i;else{var a=(t-1)*this._width,o=(e-1)*this._height;this._bitmap.texture=this._spriteSheet.createTexture(n,a,o,this._width,this._height)}}},Object.defineProperty(t.prototype,"display",{get:function(){return this._bitmap},enumerable:!0,configurable:!0}),t.prototype.setAnchorOffset=function(e,t){void 0===e&&(e=.5),void 0===t&&(t=1),this.display.anchorOffsetX=this._width*e,this.display.anchorOffsetY=this._height*t},t.prototype.setDisplayPosition=function(e,t){this.display.x=e,this.display.y=t},Object.defineProperty(t.prototype,"displayPosition",{get:function(){return[this.display.x,this.display.y]},enumerable:!0,configurable:!0}),t.prototype.setScale=function(e){this.display.scaleX=this.display.scaleY=e},t.prototype.setScaleX=function(e){this.display.scaleX=e},t.prototype.setScaleY=function(e){this.display.scaleY=e},t.prototype.setAlpha=function(e){this.display.alpha=e},t.prototype.onDestroy=function(){this.display.anchorOffsetX=0,this.display.anchorOffsetY=0,this.display.x=0,this.display.y=0,this.display.alpha=1,this.display.scaleX=this.display.scaleY=1,this.display.parent&&this.display.parent.removeChild(this.display),this.stop(),this.removeTween(),this._spriteSheet.dispose()},t.prototype.play=function(e,t,n){var i=this;void 0===t&&(t=-1),void 0===n&&(n=!1),this.stop();var a=e,o=1,s=0,r=function(){return o>i._maxFrame&&(o=1,s++,t>0&&s>=t)?(i.stop(),void(n&&i.updateTexture(1,1))):(i.updateTexture(a,o),void(i._timeout=setTimeout(function(){i._timeout=null,o++,r()},i.getDelay())))};r()},t.prototype.playAll=function(t){var n=this;void 0===t&&(t=-1);var i=e.defer();this.stop();var a=1,o=1,s=0,r=1,u=function(){return o>n._maxFrame*n.sequenceImageData.size.row&&(a=1,o=1,r=1,s++,t>0&&s>=t)?(n.stop(),void i.resolve(null)):(r>n._maxFrame&&(a++,r=1),n.updateTexture(a,r),void(n._timeout=setTimeout(function(){n._timeout=null,o++,r++,u()},n.getDelay())))};return u(),i.promise()},t.prototype.getDelay=function(){var e=150;return this.sequenceImageData&&(e=this.sequenceImageData.delay),e*=this._timeScale},t.prototype.stop=function(){null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null)},t.prototype.removeTween=function(){egret.Tween.removeTweens(this._bitmap)},t.prototype.onCreate=function(){},Object.defineProperty(t.prototype,"visible",{set:function(e){this.display.visible=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t.prototype.setTimeScale=function(e){this._timeScale=e},t}();e.SequenceImage=t,__reflect(t.prototype,"game.SequenceImage",["game.PoolItem"])}(game||(game={}));var gameConfig;!function(e){function t(){var e=window.navigator.userAgent.toLowerCase(),t=""+e.match(/MicroMessenger/i);return"null"==t?!1:"micromessenger"==t?!0:void 0}function n(){return document.body.clientHeight/document.body.clientWidth>1.32}function i(){var e=window.navigator.userAgent.toLowerCase();""+e.match(/MicroMessenger/i);return""+e.match(/windows nt/i)=="windows nt"?"windows":""+e.match(/iphone/i)=="iphone"?"ios":""+e.match(/android/i)=="android"?"android":""+e.match(/ipad/i)=="ipad"?"ipad":""+e.match(/linux/i)=="linux"?"linux":""+e.match(/mac/i)=="mac"?"mac":""+e.match(/ucbrower/i)=="ucbrower"?"ucbrower":void egret.log("未知系统类型")}function a(){var e=window.navigator.userAgent.toLowerCase();return""+e.match(/micromessenger/i)=="micromessenger"?"micromessenger":""+e.match(/qzone/i)=="qzone"?"qzone":""+e.match(/weibo/i)=="weibo"?"weibo":""+e.match(/qq/i)=="qq"?"qq":""+e.match(/renren/i)=="renren"?"renren":""+e.match(/txmicroblog/i)=="txmicroblog"?"txmicroblog":""+e.match(/douban/i)=="douban"?"douban":"other"}function o(){return egret.MainContext.instance.stage}function s(){return egret.MainContext.instance.stage.stageWidth}function r(){return egret.MainContext.instance.stage.stageHeight}e.isOnLine=navigator.onLine,e.TextColors={white:16777215,milkWhite:16051129,grayWhite:13547170,yellow:16776960,lightYellow:16765813,orangeYellow:16750848,red:16730698,green:7733066,blue:1742039,grayBlue:3101047,purple:15284466,pink:16724016,black:3026221,golden:16766720,skyBlue:60344},e.LabelFontSize={littleSize:12,middleSize:18,normalSize:24,bigSize:36},e.isWeiXin=t,e.isBigScreen=n,e.systemType=i,e.platformType=a,e.curStage=o,e.curWidth=s,e.curHeight=r,e.ColorMatrix={gray:new egret.ColorMatrixFilter([.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0]),gray2:new egret.ColorMatrixFilter([.2,.5,0,0,0,.2,.5,0,0,0,.2,.5,0,0,0,0,0,0,1,0])}}(gameConfig||(gameConfig={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._ifCloseBtn=!1,e._haveCheck=!1,e._ifplayEffect=!0,e._point=!1,e._lock=!1,e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouchBegin,e),e}return __extends(n,t),Object.defineProperty(n.prototype,"ifplayEffect",{set:function(e){this._ifplayEffect=e},enumerable:!0,configurable:!0}),n.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.lock=this._lock,this.point=this._point},Object.defineProperty(n.prototype,"ifCloseBtn",{get:function(){if(!this._haveCheck){var e=this,t=!1;!t&&e.skinName&&(e.skinName.name?n.CLOSE_REG.test(e.skinName.name.toLowerCase())&&(t=!0):n.CLOSE_REG.test(e.skinName.toLowerCase())&&(t=!0)),!t&&e.imageDisplay&&e.imageDisplay.source&&n.CLOSE_REG.test(e.imageDisplay.source.toLowerCase())&&(t=!0),!t&&e.labelDisplay&&e.labelDisplay.text&&n.CLOSE_REG.test(e.labelDisplay.text.toLowerCase())&&(t=!0),this._ifCloseBtn=t,this._haveCheck=!0}return this._ifCloseBtn},enumerable:!0,configurable:!0}),n.prototype.onTouchBegin=function(t){this._ifplayEffect&&(this.ifCloseBtn?e.SoundManager.playEffect("music/UI_guanbi"):e.SoundManager.playEffect("music/UI_dianji"))},Object.defineProperty(n.prototype,"point",{get:function(){return this.pointDisplay?this.pointDisplay.visible:!1},set:function(e){this._point=e,this.pointDisplay&&(this.pointDisplay.visible=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lock",{get:function(){return this._lock},set:function(e){this._lock=e,this.filters=e?[gameConfig.ColorMatrix.gray]:[],e&&(this.point=!1)},enumerable:!0,configurable:!0}),n.CLOSE_REG=new RegExp(/close|back|cancel|guanbi|tuichu|fanhui/),n}(e.GameComponent);e.BaseButton=t,__reflect(t.prototype,"game.BaseButton")}(game||(game={}));var game;!function(e){var t=function(t){function n(e){void 0===e&&(e=!0);var n=t.call(this)||this;return n._starImages=[],n.skinName=TeamPokemonIconSkin,e&&n.addEventListener(egret.TouchEvent.TOUCH_BEGIN,n.onTouchBegin,n),n}return __extends(n,t),n.prototype.onTouchBegin=function(t){this.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onStageTouchEnd,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),e.GameLayer.effectLayer.addChild(this._pokemonImage.display),this.setMovePokemonPosition(t),this.postTouchNotify()},n.prototype.postTouchNotify=function(){e.NotificationCenter.getInstance().postNotification(e.TeamScene.TOUCH_POKEMON,this.pokemonInfo)},n.prototype.onTouchMove=function(e){this.setMovePokemonPosition(e)},n.prototype.onStageTouchEnd=function(e){var t=e.currentTarget;t.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onStageTouchEnd,this),t.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),t.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.endMovePokemon(e)},n.prototype.setMovePokemonPosition=function(e){var t=e.stageX,n=e.stageY,i=this._pokemonImage.height/2;this._pokemonImage.setDisplayPosition(t,n+i)},n.prototype.endMovePokemon=function(t){e.NotificationCenter.getInstance().postNotification(e.TeamScene.MOVE_POKEMON_END,{icon:this,event:t})},n.prototype.setPokemonInfo=function(e){if(this.pokemonInfo=e,this.starGroup.removeChildren(),this.pokemonInfo){this.gradeDisplay.visible=!0,this.pokemon=e.type,this.typeImage.visible=!0,this.typeImage.source="icon/skillType/"+this.pokemonData.attribute,this.typeImage2.visible=!1,this.pokemonData.attribute2&&(this.typeImage2.visible=!0,this.typeImage2.source="icon/skillType/"+this.pokemonData.attribute2),this.textLabel.text="LV."+e.lv,this.textLabel.visible=!0,this.touchEnabled=!0;for(var t=e.star||0,n=Math.floor(t/5),i=t%5,a=0,o=0;n>o;o++){var s=this._starImages[a];s||(s=new eui.Image,this._starImages[a]=s),s.source="ui/scene/team/star1",this.starGroup.addChild(s),a++}for(var o=0;i>o;o++){var s=this._starImages[a];s||(s=new eui.Image,this._starImages[a]=s),s.source="ui/scene/team/star",s.scaleX=s.scaleY=1,this.starGroup.addChild(s),a++}}else this.typeImage.visible=!1,this.pokemonGroup.visible=!1,this.textLabel.visible=!1,this.gradeDisplay.visible=!1,this.touchEnabled=!1,this.typeImage2.visible=!1;this.resetPokemon(),this.updatePoint()},n.prototype.resetPokemon=function(){this._pokemonImage&&(this._pokemonImage.setDisplayPosition(54,90),this.pokemonGroup.addChild(this._pokemonImage.display),this._pokemonImage.stay())},n.prototype.setLock=function(t,n){this._lock=t,this._lock?(this.bgDisplay.source="ui/scene/team/td2",this.infoLabel.text=e.formatString(e.Lang.jiguanjiesuo,n),this.infoLabel.textColor=gameConfig.TextColors.red,this.pokemonGroup.visible=!1,this.textLabel.visible=!1,this.gradeDisplay.visible=!1,this.touchEnabled=!1):(this.bgDisplay.source="ui/scene/team/td",this.infoLabel.text=e.Lang.tuodongshangzhen,this.infoLabel.textColor=gameConfig.TextColors.milkWhite),this.updatePoint()},n.prototype.updatePoint=function(){return this.point.visible=!1,this._lock||this.pokemonInfo?e.checkPokemonCanLevelUp(this.pokemonInfo)?void(this.point.visible=!0):e.checkPokemonCanEvaluation(this.pokemonInfo)?void(this.point.visible=!0):e.checkPokemonCanEquip(this.pokemonInfo)?void(this.point.visible=!0):e.checkPokemonCanLearnSkill(this.pokemonInfo)?void(this.point.visible=!0):e.checkPokemonCanStar(this.pokemonInfo)?void(this.point.visible=!0):e.checkPokemonCanSuperEquip(this.pokemonInfo)?void(this.point.visible=!0):e.checkPokemonCanLearnGift(this.pokemonInfo)?void(this.point.visible=!0):void 0:void(this.point.visible=!0)},n}(e.PokemonIcon);e.TeamPokemonIcon=t,__reflect(t.prototype,"game.TeamPokemonIcon")}(game||(game={}));var game;!function(e){function t(e,t,n,i){t?e.addObserver(t,n,i)&&n.call(t):n.call(t)}function n(e,t,n,i){t&&e.addObserver(t,n,i)}function i(e,t){t&&e.removeAllObservers(t)}function a(e,t,n){t&&e.removeObserver(t,n)}e.BINDING_EXEC=t,e.BINDING_ONLY=n,e.UNBINDING_ALL=i,e.UNBINDING=a;var o=function(){function e(e,t,n){this.m_name=e,this.m_target=t,this.m_selector=n}return e.create=function(t,n,i,a){var o=new e(t,i,a);return egret.setTimeout(o.scheduleUpdate,o,n),o},e.prototype.scheduleUpdate=function(e){var t=this;t.m_target&&(t.m_selector.call(t.m_target,t.m_name),t.m_target=null,t.m_selector=null)},e}();e.NotificationInfo=o,__reflect(o.prototype,"game.NotificationInfo");var s=function(){function e(){this.m_observers=[]}return e.prototype.observerExisted=function(e,t){for(var n=this.m_observers,i=0,a=n.length;a>i;i++){var o=n[i];if(o.target==e&&o.name==t)return!0}return!1},e.prototype.addObserver=function(e,t,n){if(this.observerExisted(e,n))return!1;var i={target:e,selector:t,name:n};return this.m_observers.push(i),!0},e.prototype.removeObserver=function(e,t){for(var n=this.m_observers,i=0,a=n.length;a>i;i++){var o=n[i];if(o.name==t&&o.target==e)return void n.splice(i,1)}},e.prototype.removeAllObservers=function(e){for(var t=this.m_observers,n=0,i=t.length-1;i>=0;--i){var a=t[i];a.target==e&&(t.splice(i,1),n++)}return n},e.prototype.postNotification=function(e,t){return void 0===t&&(t=null),__awaiter(this,void 0,void 0,function(){var n,i,a,o;return __generator(this,function(s){switch(s.label){case 0:n=this.m_observers,a=0,s.label=1;case 1:return a<n.length?(i=n[a],i.name!==e?[3,3]:[4,i.selector.call(i.target,t)]):[3,4];case 2:o=s.sent(),o&&a--,s.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e}();e.Notification=s,__reflect(s.prototype,"game.Notification");var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.getInstance=function(){return t._instance||(t._instance=new t),t._instance},t}(s);e.NotificationCenter=r,__reflect(r.prototype,"game.NotificationCenter")}(game||(game={}));var EasyGame;!function(e){function t(e){var t=e.length/4*3;"="==e.charAt[e.length-1]&&t--,"="==e.charAt[e.length-2]&&t--;var n,i,a,o,s,r,u,l=0,h=0,p=new Uint8Array(t);for(l=0;t>l;l+=3)n=c[e.charCodeAt(h++)-43],i=c[e.charCodeAt(h++)-43],a=c[e.charCodeAt(h++)-43],o=c[e.charCodeAt(h++)-43],s=n<<2|i>>4,r=(15&i)<<4|a>>2,u=(3&a)<<6|o,p[l]=s,64!=a&&(p[l+1]=r),64!=o&&(p[l+2]=u);return p}function n(e,t){var n="";t=t||e.length;for(var i,a=t%3,o=t-a,s=0;o>s;s+=3)i=e[s]<<16|e[s+1]<<8|e[s+2],n+=l[(16515072&i)>>18]+l[(258048&i)>>12]+l[(4032&i)>>6]+l[63&i];return 1==a?(i=e[o],n+=l[(252&i)>>2]+l[(3&i)<<4]+"=="):2==a&&(i=e[o]<<8|e[o+1],n+=l[(64512&i)>>10]+l[(1008&i)>>4]+l[(15&i)<<2]+"="),n}function i(e){for(var t=new Uint8Array(4*e.length),n=0,i=0,a=e.length;a>i;i++){var o=e.charCodeAt(i);if(127>=o)t[n++]=o;else{if(o>=55296&&56319>=o){var s=e.charCodeAt(i+1);s>=56320&&57343>=s&&(o=((1023&o)<<10)+(1023&s)+65536,++i)}0!==(4292870144&o)?(t[n++]=248|o>>>24&3,t[n++]=128|o>>>18&63,t[n++]=128|o>>>12&63,t[n++]=128|o>>>6&63,t[n++]=128|63&o):0!==(4294901760&o)?(t[n++]=240|o>>>18&7,t[n++]=128|o>>>12&63,t[n++]=128|o>>>6&63,t[n++]=128|63&o):0!==(4294965248&o)?(t[n++]=224|o>>>12&15,t[n++]=128|o>>>6&63,t[n++]=128|63&o):(t[n++]=192|o>>>6&31,t[n++]=128|63&o)}}return t.subarray(0,n)}function a(e,t,n){if(0==n)return"";var i="",a=t||0;for(n=n?a+n:e.length;n>a;){var o=255&e[a++];if(127>=o)i+=String.fromCharCode(o);else{var s=192,r=5;do{var u=s>>1|128;if((o&u)===s)break;s=s>>1|128,--r}while(r>=0);if(0>=r)throw new Error("Invalid UTF8 char");for(var l=o&(1<<r)-1,c=5;c>=r;--c){var h=e[a++];if(128!=(192&h))throw new Error("Invalid UTF8 char");l=l<<6|63&h}i+=l>=65536?String.fromCharCode(l-65536>>10&1023|55296,1023&l|56320):String.fromCharCode(l)}}return i}function o(e){return e=Math.abs(e),e>4294967295?{low:e%4294967296,high:e/4294967296|0}:{low:e,high:0}}function s(e){return 65536*e.high*65536+e.low}function r(e,t){return{send:function(n,i){t.send(e,n,i)}}}function u(t,n,i){function a(e,t,n){m.push({id:y,response:n,path:e,data:t,time:Date.now()}),y++,1==m.length&&r()}function o(){console.log("request timeout. close the connection..."),l.close()}function s(){console.log("query notify "+_);var e=new p;e.writeInt(2),e.writeInt(_),l.send(e.byteBuffer.slice(0,e.pos))}function r(){if(0!=m.length&&1==g){var t=m[0];console.log("send request "+t.id);var n=new p;n.writeInt(1),n.writeInt(t.id),n.write(3,t.path),n.checkBound(t.data.length),n.byteBuffer.set(t.data,n.pos),n.pos+=t.data.length;var a=n.byteBuffer.slice(0,n.pos);l.send(a),v=setTimeout(function(){i(d.Issue,"timeout"),v=setTimeout(o,e.RequestTimeout)},1e3)}}function u(){console.log("connect to "+t),l=new WebSocket(t),l.binaryType="arraybuffer",l.onopen=function(){c?l.send("1:"+c):l.send("0:"+n),g=2,s()},l.onmessage=function(e){if(2==g)console.log("get session: "+e.data),c=e.data,g=1,r();else{var t=new h(e.data),n=t.readInt();if(1==n){var i=t.readInt(),a=m.shift(),o=(t.readInt(),t.readInt());if(console.log("get response "+i+" time: "+(Date.now()-a.time)),v>0&&clearTimeout(v),r(),i!=a.id)console.error("request id mismatch: get:%d want:%d",i,a.id);else try{a.response(t)}catch(u){console.error("response error: %o",u)}}else if(2==n){var l=t.readInt(),p=t.readInt();console.log("get notify "+l);for(var d=0;p>d;d++)try{var y=t.readInt(),b=new h(t.buffer.slice(t.pos,t.pos+y));t.pos+=y;var o=b.readInt();f[o]?f[o].dispatch(b):console.error("the stub for protocol id[%d] is not register.",o)}catch(u){console.error("notify error: %s stack:%o",u.message,u.stack)}_++,s()}else console.error("unknown data: %o",e.data)}},l.onerror=function(e){console.error("connection error",e),1==g?(g=5,u()):5==g&&(console.log("连接失败，1秒后重试..."),setTimeout(u,1e3))},l.onclose=function(e){return console.error("connection lost: "+e.reason),1e3==e.code?(alert(e.reason),void(window.location.href=window.location.href)):void(1==g&&(g=5,u()))}}var l,c,g=0,m=[],f=[],_=1,y=1,v=-1,b={addStub:function(e){f[e.pid]=e},send:a};return u(),b}e.Type={};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=[];!function(){for(var e=0;e<l.length;e++)c[l.charCodeAt(e)-43]=e}(),e.NumberToInt64=o,e.Int64ToNumber=s;var h=function(){function e(e,t){this.buffer=e,this.pos=0,t=t||e.byteLength,this.dataView=new DataView(e,0,t),this.byteView=new Uint8Array(e,0,t)}return e.prototype.checkBound=function(e){if(this.pos+e>this.dataView.byteLength)throw new Error("out of stream limit.")},e.prototype.readInt=function(){var e;return this.checkBound(1),e=this.dataView.getInt8(this.pos),this.pos++,-128==e?(this.checkBound(4),e=this.dataView.getInt32(this.pos,!0),this.pos+=4):127==e&&(this.checkBound(2),e=this.dataView.getInt16(this.pos,!0),this.pos+=2),e},e.prototype.read=function(e){var t,n;if("number"==typeof e){switch(e){case 1:this.checkBound(1),t=0!=this.dataView.getInt8(this.pos),this.pos++;break;case 2:return this.readInt();case 3:if(n=this.readInt(),0>n)return null;this.checkBound(n),t=a(this.byteView,this.pos,n),this.pos+=n;break;case 4:this.checkBound(4),t=this.dataView.getFloat32(this.pos,!0),this.pos+=4;break;case 5:this.checkBound(2),t=this.dataView.getInt16(this.pos,!0),this.pos+=2;break;case 6:this.checkBound(2),t=this.dataView.getInt16(this.pos,!0),this.pos+=2;break;case 7:this.checkBound(1),t=this.dataView.getUint8(this.pos),this.pos+=1;break;case 8:this.checkBound(8),t=this.dataView.getFloat64(this.pos,!0),this.pos+=8;break;case 9:this.checkBound(4),t=this.dataView.getUint32(this.pos,!0),this.pos+=4;break;case 10:this.checkBound(2),t=this.dataView.getUint16(this.pos,!0),this.pos+=2;break;case 11:this.checkBound(8),t={low:this.dataView.getUint32(this.pos,!0),high:this.dataView.getUint32(this.pos+4,!0)},this.pos+=8;break;case 12:this.checkBound(8),t={low:this.dataView.getUint32(this.pos,!0),high:this.dataView.getUint32(this.pos+4,!0)},this.pos+=8;break;case 13:t=new Date,t.setTime(1e-4*s(this.read(12)))}return t}return e.read(this)},e.prototype.readBits=function(e){for(var t=[],n=0,i=0;e>i;i++){var a=7&i;0==a&&(n=this.read(7)),t.push(0!=(n&1<<a))}return t},e.prototype.readArray=function(e){var t=this.readInt();if(0>t)return null;for(var n=[],i=0;t>i;i++)n.push(this.read(e));return n},e.prototype.readDict=function(e,t){var n=this.readInt();if(0>n)return null;for(var i={},a=0;n>a;a++)i[this.read(e)]=this.read(t);return i},e.prototype.readTuple=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=this.read(e[n]);return t},e}();e.StreamReader=h,__reflect(h.prototype,"EasyGame.StreamReader");var p=function(){function e(){this.byteBuffer=new Uint8Array(64),this.dataView=new DataView(this.byteBuffer.buffer,0,this.byteBuffer.length),this.pos=0}return e.prototype.checkBound=function(e){if(this.pos+e>this.byteBuffer.length){var t=this.byteBuffer;this.byteBuffer=new Uint8Array(2*(t.length+e)),this.byteBuffer.set(t),this.dataView=new DataView(this.byteBuffer.buffer,0,this.byteBuffer.length)}},e.prototype.writeInt=function(e){this.checkBound(1),e>-128&&127>e?this.dataView.setInt8(this.pos++,e):e>=-32768&&32767>=e?(this.dataView.setInt8(this.pos++,127),this.checkBound(2),this.dataView.setInt16(this.pos,e,!0),this.pos+=2):(this.dataView.setUint8(this.pos++,128),this.checkBound(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4)},e.prototype.write=function(e,t){if("number"!=typeof e)return e.write(this,t);switch(e){case 1:this.checkBound(1),this.dataView.setInt8(this.pos,t?1:0),this.pos++;break;case 2:this.writeInt(t);break;case 3:if(null==t)return void this.writeInt(-1);t=i(t),this.writeInt(t.length),this.checkBound(t.length),this.byteBuffer.set(t,this.pos),this.pos+=t.length;break;case 4:this.checkBound(4),this.dataView.setFloat32(this.pos,t,!0),this.pos+=4;break;case 5:this.checkBound(2),this.dataView.setInt16(this.pos,t,!0),this.pos+=2;break;case 6:this.checkBound(2),this.dataView.setInt16(this.pos,t,!0),this.pos+=2;break;case 7:this.checkBound(1),this.dataView.setUint8(this.pos,t),this.pos+=1;break;case 8:this.checkBound(8),this.dataView.setFloat64(this.pos,t,!0),this.pos+=8;break;case 9:this.checkBound(4),this.dataView.setUint32(this.pos,t,!0),this.pos+=4;break;case 10:this.checkBound(2),this.dataView.setUint16(this.pos,t,!0),this.pos+=2;break;case 11:this.checkBound(8),this.dataView.setUint32(this.pos,t.low,!0),this.dataView.setInt32(this.pos+4,t.high,!0),this.pos+=8;break;case 12:this.checkBound(8),this.dataView.setUint32(this.pos,t.low,!0),this.dataView.setUint32(this.pos+4,t.high,!0),this.pos+=8;case 13:t.getTime()}},e.prototype.writeArray=function(e,t){if(null==t)return void this.writeInt(-1);this.writeInt(t.length);for(var n=0;n<t.length;n++)this.write(e,t[n])},e.prototype.writeDict=function(e,t,n){if(null==n)return void this.writeInt(-1);var i=0;for(var a in n)i++;this.writeInt(i);for(var a in n)this.write(e,a),this.write(t,n[a])},e.prototype.writeBits=function(e){for(var t=[],n=0;n<e.length;n++)0==(7&n)&&t.push(0),e[n]&&(t[n>>3]|=1<<(7&n));for(n=0;n<t.length;n++)this.write(7,t[n])},e.prototype.writeTuple=function(e,t){for(var n=0;n<e.length;n++)this.write(e[n],t[n])},e}();e.StreamWriter=p,__reflect(p.prototype,"EasyGame.StreamWriter");var g=function(){function e(e){this.conn=e,this.onError=function(e){alert("Error: "+e.message)}}return e.prototype.send=function(e,t){var n=new Uint8Array(e.byteBuffer.buffer,0,e.pos);this.conn.send(n,t)},e.prototype.getResult=function(e,t,n){return function(i){var a=i.readInt();if(a){var o=new Error(i.read(3));o.code=a,n(o)}else e?t(e(i)):t()}},e}();e.ProxyBase=g,__reflect(g.prototype,"EasyGame.ProxyBase");var d;!function(e){e[e.Issue=0]="Issue",e[e.Recover=1]="Recover",e[e.Error=2]="Error"}(d=e.NetworkEvent||(e.NetworkEvent={}));var m=function(){function n(e,t,n){this.xhr=new XMLHttpRequest,this.reqId=1,this.stubs=[],this.retry=0,this.url=e,this.session=t,this.networkEvent=n;var i=this;setTimeout(function(){i.run()},100)}return n.prototype.addStub=function(e){this.stubs[e.pid]=e},n.prototype.stop=function(){this.xhr.abort(),this.xhr=null},n.prototype.run=function(){var n=this,i=this,a=this.xhr,o=this.stubs;a&&(a.open("GET",this.url+("?p="+this.reqId+"."+this.session),!0),a.onload=function(){if(200===a.status){if(i.reqId++,""!=a.responseText){var s=a.responseText.split("\n");console.debug("got %d notifies.",s.length);for(var r=0;r<s.length;r++)try{if(""==s[r])continue;var u=new e.StreamReader(t(s[r]).buffer),l=u.readInt();o[l]?o[l].dispatch(u):console.error("the stub for protocol id[%d] is not register.",l)}catch(c){console.error("notify error: %s stack:%o",c.message,c.stack)}}i.run()}else n.networkEvent(d.Error,a.statusText)},a.ontimeout=function(){console.log("notify timeout"),i.retry++>5||(i.xhr=new XMLHttpRequest,i.run())},a.onerror=function(e){console.log("notify error"),i.retry++>5||setTimeout(function(){i.run()},1e3)},a.timeout=6e4,a.send())},n}();e.NotifyListener=m,__reflect(m.prototype,"EasyGame.NotifyListener"),e.RequestTimeout=1e4;var f=function(){function i(e,t,n,i){this.xhr=new XMLHttpRequest,this.reqId=1,this.nextStep=[],this.retry=0,this.url=e,this.session=t,this.buzy=!1,this.multiplex=n,this.networkEvent=i}return i.prototype.send=function(i,a,o){var s=this,r=this;if(r.buzy)r.nextStep.push(function(){r.send(i,a)}),console.log("response buzy, queue length:%d",r.nextStep.length);else{o?console.log("resend request %d",r.reqId):console.log("send request %d",r.reqId),r.buzy=!0;var u=r.xhr;u.open("GET",r.url+("?p="+r.reqId+"."+r.session+"."+encodeURIComponent(n(i))),!0),u.onload=function(){if(r.retry=0,r.buzy=!1,200!==u.status)return void s.networkEvent(d.Error,u.status);if(r.reqId++,a)try{var n=new e.StreamReader(t(u.responseText).buffer);s.multiplex&&n.readInt(),a(n)}catch(i){console.error("onResponse error: %s",i.message)}if(r.nextStep.length>0){console.log("process pedding response length:%d %o",r.nextStep.length,r.nextStep);var o=r.nextStep.shift();o()}else s.networkEvent(d.Recover)},u.ontimeout=function(){return r.buzy=!1,r.retry++,console.log("request timeout, retry: %d",r.retry),r.retry>=5?(r.reqId++,void r.networkEvent(d.Error,"timeout")):(r.xhr=new XMLHttpRequest,r.networkEvent(d.Issue,r.reqId),void r.send(i,a,!0))},u.onerror=function(e){return r.buzy=!1,r.retry++,console.log("request error, retry: %d",r.retry),r.networkEvent(d.Issue,r.reqId),r.retry>5?(r.reqId++,void r.networkEvent(d.Error,"timeout")):void setTimeout(function(){r.send(i,a,!0)},1e3)},u.timeout=e.RequestTimeout*(r.retry+1),u.send()}},i}();e.RequestConnection=f,__reflect(f.prototype,"EasyGame.RequestConnection",["EasyGame.Connection"]),e.connectionAdapter=r,e.createWebSocketConnection=u;
var _=function(){function e(e){this._reqCB={},this._reqId=0,this.pid=e}return e.prototype.newReq=function(e){return this._reqId++,this._reqCB[this._reqId]=e,this._reqId},e.prototype.asyncCB=function(e){var t=e.readInt(),n=this._reqCB[t];delete this._reqCB[t],n(e)},e.prototype.dispatch=function(e){if(this.dispMethods){var t=e.readInt();-1==t?this.asyncCB(e):this.dispMethods(t,e)}else this.asyncCB(e)},e}();e.StubBase=_,__reflect(_.prototype,"EasyGame.StubBase")}(EasyGame||(EasyGame={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=TipLabelSkin,t}return __extends(t,e),Object.defineProperty(t.prototype,"text",{set:function(e){this.labelDisplay.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"warn",{set:function(e){this.labelDisplay.textColor=e?gameConfig.TextColors.red:gameConfig.TextColors.yellow},enumerable:!0,configurable:!0}),t}(eui.Component);e.TipLabel=t,__reflect(t.prototype,"game.TipLabel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.displayGroup=new eui.Group,e.displayGroup.width=e.displayGroup.height=100,e.displayGroup.touchChildren=e.displayGroup.touchEnabled=!1,e.displayGroup.addChild(e._bitmap),e}return __extends(n,t),n.prototype.setAvatar=function(e,n,i,a){return void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===a&&(a=1),__awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(s){switch(s.label){case 0:return e||(e=5001),this._avatar=e,this._bitmap.scaleX=this._bitmap.scaleY=.8,this._direction=a,o=i?{delay:150,size:{col:4,row:4},resource:"anim/human/"+e}:{delay:150,size:{col:4,row:4},resource:"anim/role/"+e},[4,t.prototype.setData.call(this,o)];case 1:return s.sent(),n?this.play(a,0):this.stay(),[2]}})})},n.prototype.setGymAvatar=function(e,n,i,a){return void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===a&&(a=1),__awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(s){switch(s.label){case 0:return this._avatar=e,o=i?{delay:150,size:{col:4,row:4},resource:"anim/role/"+e}:n?{delay:150,size:{col:4,row:1},resource:"anim/hero/"+e}:{delay:150,size:{col:4,row:4},resource:"anim/human/"+e},[4,t.prototype.setData.call(this,o)];case 1:return s.sent(),this.play(a),[2]}})})},n.prototype.setWing=function(t,n){if(t)switch(this._wing||(this._wing=new e.AvatarWing),this._wing.displayGroup.x=-50,this._wing.displayGroup.y=-110+e.Data.TPlayerRole[this._avatar].wingY,this._wing.setWing(t),this._wing.setDirection(n),this.displayGroup.addChild(this._wing.displayGroup),n){case 4:this.displayGroup.setChildIndex(this._wing.displayGroup,99);break;case 1:this.displayGroup.setChildIndex(this._wing.displayGroup,0);break;case 2:this.displayGroup.setChildIndex(this._wing.displayGroup,99);break;case 3:this.displayGroup.setChildIndex(this._wing.displayGroup,99)}else this._wing&&this._wing.removeFromParent()},n.prototype.setDecoration=function(t,n){t?(this._decoration||(this._decoration=new e.AvatarDecoration),this._decoration.displayGroup.x=-52,this._decoration.displayGroup.y=-110+e.Data.TPlayerRole[this._avatar].decorationY,this._decoration.setDecoration(t),this._decoration.setDirection(n),this.displayGroup.addChildAt(this._decoration.displayGroup,999)):this._decoration&&this._decoration.removeFromParent()},n.prototype.stay=function(){this.updateTexture(this._direction,1)},n.prototype.removeWing=function(){this._wing&&this._wing.removeFromParent(),this._decoration&&this._decoration.removeFromParent()},n}(e.SequenceImage);e.BattleAvatar=t,__reflect(t.prototype,"game.BattleAvatar")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=ItemIconSkin,e.touchChildren=!1,e}return __extends(n,t),Object.defineProperty(n.prototype,"item",{set:function(t){this.itemData=this.equipData=this.skinData=this.eggData=null,this.typeImage.visible=!1,this.itemInfo=t,this.itemInfo?(this.count=t.count,this.itemData=e.Data.TItem[t.type],this.itemData?this.setItem():(this.newEquipData=e.Data.Tequip[t.type],this.newEquipData?this.setNewEquip():(this.equipData=e.Data.TElfBring[t.type],this.equipData?this.setEquip():(this.skinData=e.Data.TPlayerRole[t.type],this.skinData?this.setSkinData():(this.eggData=e.Data.TPethatch[t.type],this.eggData&&this.setEgg()))))):(this.itemDisplay.visible=!1,this.grade=0,this.count=0)},enumerable:!0,configurable:!0}),n.prototype.setSkinData=function(){this.hidePiece(),this.itemDisplay.visible=!0,this.itemDisplay.source="icon/player/"+this.skinData.id,this.grade=4},n.prototype.setEquip=function(){this.hidePiece(),this.itemDisplay.visible=!0,this.itemDisplay.source="icon/equip/"+this.equipData.resours,this.grade=this.equipData.quality},n.prototype.setNewEquip=function(){this.hidePiece(),this.itemDisplay.visible=!0,this.itemDisplay.source="icon/equip/"+this.newEquipData.icon,this.grade=this.newEquipData.rare},n.prototype.setItem=function(){if(this.itemDisplay.visible=!0,8==this.itemData.type){var t=e.Data.TElfSkill[this.itemData.number1];t&&(this.itemDisplay.source="icon/skill/"+t.Icon,this.typeImage.visible=!0,this.typeImage.source="icon/skillType/"+t.attribute)}else 16==this.itemData.type?this.setPokemon():this.itemDisplay.source="icon/item/"+this.itemInfo.type;if(11==this.itemData.type)this.showPiece("icon/item/piece");else if(14==this.itemData.type||15==this.itemData.type)this.showPiece("icon/item/tuzhi");else if(16==this.itemData.type){var n=e.Data.TElf[this.itemData.number1];n&&this.showPiece("icon/item/piece"+n.quality)}else this.hidePiece();this.grade=this.itemData.quality},n.prototype.setPokemon=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return e=this.itemDisplay,[4,n.getPokemonTexture(this.itemData.number1)];case 1:return e.source=t.sent(),[2]}})})},n.getPokemonTexture=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s,a,o,s;return __generator(this,function(r){switch(r.label){case 0:return n="anim/pokemon/"+t,e.SpriteSheetPool[n]?(i=e.SpriteSheetPool[n],a=e.SpriteSheetPool[n].getTexture("1:1"),a?[2,a]:(o=i.$texture.textureWidth/4,s=i.$texture.textureHeight/4,[2,e.SpriteSheetPool[n].createTexture("1:1",0,0,o,s)])):[3,1];case 1:return[4,e.loadRes(n)];case 2:return a=r.sent(),o=a.textureWidth/4,s=a.textureHeight/4,e.SpriteSheetPool[n]=new egret.SpriteSheet(a),[2,e.SpriteSheetPool[n].createTexture("1:1",0,0,o,s)];case 3:return[2]}})})},n.prototype.setEgg=function(){this.hidePiece(),this.itemDisplay.visible=!0,this.itemDisplay.source="icon/item/"+this.eggData.res,this.grade=this.eggData.grade},n.prototype.setSEgg=function(t){this.hidePiece(),this.count=0;var n=e.Data.TElf[t];n&&(this.itemDisplay.visible=!0,this.typeImage.visible=!1,this.itemDisplay.source="ui/scene/egg/egg"+n.quality,this.grade=n.quality-1)},n.prototype.showPiece=function(e){this.pieceImage||(this.pieceImage=new eui.Image,this.pieceImage.x=this.pieceImage.y=0,this.addChildAt(this.pieceImage,2)),this.pieceImage.source=e,this.pieceImage.visible=!0},n.prototype.hidePiece=function(){this.pieceImage&&(this.pieceImage.visible=!1)},Object.defineProperty(n.prototype,"count",{set:function(e){e?(this.countLabel.visible=!0,this.countLabel.text=e.toString()):this.countLabel.visible=!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"countText",{set:function(e){e?(this.countLabel.visible=!0,this.countLabel.textFlow=e):this.countLabel.visible=!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grade",{set:function(e){this.itemData?this.gradeDisplay.source="icon/item/q"+(e||0):this.equipData?this.gradeDisplay.source="icon/equip/q"+(e||0):this.newEquipData?this.gradeDisplay.source="icon/equip/q"+(e||0):this.gradeDisplay.source="icon/item/q"+(e||0)},enumerable:!0,configurable:!0}),n.prototype.onDestroy=function(){this.removeFromParent()},n.prototype.showDetail=function(){var t=e.ItemInfoPanel.getInstance();this.newEquipData?t.setNewEquip(this.newEquipData):this.equipData?t.setBring(this.equipData):this.itemData?t.setData(this.itemData):this.skinData?t.setSkinData(this.skinData):this.eggData&&t.setEggData(this.eggData),t.show()},n.prototype.showInclude=function(){var t=e.ItemPackInfo.getInstance();t.setData(this.itemData),t.show()},n}(e.GameComponent);e.ItemIcon=t,__reflect(t.prototype,"game.ItemIcon",["game.PoolItem"])}(game||(game={}));var game;!function(e){var t=function(){function e(e){this._pool=[],this._list=[],this._classFactory=e}return e.prototype.createObject=function(){var e,t=this,n=t._pool;return e=null!=n&&n.length?n.shift():new t._classFactory,e.onCreate&&e.onCreate(),this._list.push(e),e},e.prototype.destroyObject=function(e){this._pool.push(e),e.onDestroy&&e.onDestroy();var t=this._list.indexOf(e);-1!=t&&this._list.splice(t,1)},e.prototype.destroyAllObject=function(){for(var e=this,t=e._list.length-1;t>=0;t--)e.destroyObject(e._list[t])},e.prototype.getListItemCount=function(){return this._list.length},e}();e.ObjectPool=t,__reflect(t.prototype,"game.ObjectPool")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(e.Notification);e.BaseModel=t,__reflect(t.prototype,"game.BaseModel")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.setInfo=function(){},t}(e.GameComponent);e.ActivityComponent=t,__reflect(t.prototype,"game.ActivityComponent")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t._noScale=!1,t.touchChildren=!1,t}return __extends(t,e),t.prototype.onTouchBegin=function(t){if(e.prototype.onTouchBegin.call(this,t),!this._noScale){this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),this._lastScaleX||(this._lastScaleX=this.scaleX),this._lastScaleY||(this._lastScaleY=this.scaleY);var n=this._lastScaleX,i=this._lastScaleY;this._lastScaleX>0?n+=.2:n-=.2,this._lastScaleY>0?i+=.2:i-=.2,this.setScale(n,i)}},t.prototype.onStageTouchEnd=function(e){var t=e.currentTarget;t.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),this.setScale(this._lastScaleX||1,this._lastScaleY||1)},t.prototype.setScale=function(e,t){this.scaleX=e,this.scaleY=t},Object.defineProperty(t.prototype,"noScale",{set:function(e){this._noScale=e},enumerable:!0,configurable:!0}),t}(e.BaseButton);e.EffectButton=t,__reflect(t.prototype,"game.EffectButton")}(game||(game={}));var game;!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.setEffectData=function(e){t.prototype.setData.call(this,{delay:100,resource:"anim/effect/"+e,size:{col:4,row:1}})},n.prototype.playAll=function(t){var n=this;void 0===t&&(t=-1);var i=e.defer();this.stop();var a=1,o=1,s=0,r=1,u=function(){return o>n._maxFrame*n.sequenceImageData.size.row&&(a=1,o=1,r=1,s++,t>0&&s>=t)?(n.stop(),void i.resolve(null)):(r>n._maxFrame&&(a++,r=1),n.updateTexture(a,r),void(n._timeout=setTimeout(function(){n._timeout=null,o++,r++,u()},n.getDelay())))};return u(),i.promise()},n}(e.SequenceImage);e.EffectAnim=t,__reflect(t.prototype,"game.EffectAnim")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._firstShow=!0,e}return __extends(n,t),n.prototype.removeDarkRect=function(){this.darkRect&&(e.DarkRectPool.destroyObject(this.darkRect),this.darkRect.parent&&this.darkRect.parent.removeChild(this.darkRect),this.darkRect=null)},n.prototype.firstShow=function(){},n.prototype.onShow=function(){},n.prototype.show=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.stage?[2]:(this._adjust&&this.onHeightChange(),this._firstShow?[4,this.firstShow()]:[3,2]);case 1:t.sent(),t.label=2;case 2:return[4,this.onShow()];case 3:return t.sent(),e.addPopUp(this),this._firstShow&&(this._firstShow=!1),[2]}})})},n}(e.GameComponent);e.PanelComponent=t,__reflect(t.prototype,"game.PanelComponent")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._firtShow=!0,t}return __extends(t,e),t.prototype.onCreate=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},t.prototype.firstShow=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},t.prototype.destroy=function(){this.removeFromParent()},t}(e.GameComponent);e.SceneComponent=t,__reflect(t.prototype,"game.SceneComponent")}(game||(game={}));var game;!function(e){function t(t){$u.PokemonCenter={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new xa;a.ID=e.ToNumber(n[i][0]),a.type=e.ToNumber(n[i][1]),a.condition=n[i][2],a.time=e.ToNumber(n[i][3]),a.limit=e.ToNumber(n[i][4]),a.reward=n[i][5],$u.PokemonCenter[a.ID]=a}e.CsvData.PokemonCenter=null}function n(t){$u.TAbility={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ca;a.id=e.ToNumber(n[i][0]),a.name=n[i][1],a.desc=n[i][2],a.star0=n[i][3],a.star1=n[i][4],a.star2=n[i][5],a.star3=n[i][6],a.star4=n[i][7],a.star5=n[i][8],a.star6=n[i][9],a.star7=n[i][10],a.star8=n[i][11],a.star9=n[i][12],a.star10=n[i][13],a.star11=n[i][14],a.star12=n[i][15],a.star13=n[i][16],a.star14=n[i][17],a.star15=n[i][18],a.star16=n[i][19],a.star17=n[i][20],a.star18=n[i][21],a.star19=n[i][22],a.star20=n[i][23],a.showBg=e.ToNumber(n[i][24]),a.isInt=e.ToNumber(n[i][25]),$u.TAbility[a.id]=a}e.CsvData.TAbility=null}function i(t){$u.TActiveConfiguration={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ba;a.level=e.ToNumber(n[i][0]),a.newactivity=e.ToNumber(n[i][1]),a.activity=e.ToNumber(n[i][2]),a.timelimit=e.ToNumber(n[i][3]),a.hilarity=e.ToNumber(n[i][4]),$u.TActiveConfiguration[a.level]=a}e.CsvData.TActiveConfiguration=null}function a(t){$u.TActiveReward={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Sa;a.id=e.ToNumber(n[i][0]),a.active=e.ToNumber(n[i][1]),a.Reward1=n[i][2],a.Reward2=n[i][3],a.Reward3=n[i][4],a.Reward4=n[i][5],$u.TActiveReward[a.id]=a}e.CsvData.TActiveReward=null}function o(t){$u.TAdvanced={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ea;a.quality=e.ToNumber(n[i][0]),a.QualityMax=e.ToNumber(n[i][1]),a.AdvancedPricePer=e.ToNumber(n[i][2]),a.AdvPropertiesPer=e.ToNumber(n[i][3]),a.PkmLoveLvAdd=e.ToNumber(n[i][4]),a.PkmLvAdd=e.ToNumber(n[i][5]),$u.TAdvanced[a.quality]=a}e.CsvData.TAdvanced=null}function s(t){$u.TAkeyCapture={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Aa;a.quality=e.ToNumber(n[i][0]),a.diamond=e.ToNumber(n[i][1]),$u.TAkeyCapture[a.quality]=a}e.CsvData.TAkeyCapture=null}function r(t){$u.TAnnouncement={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ma;a.ID=e.ToNumber(n[i][0]),a.Detail=n[i][1],a.Time=n[i][2],a.Type=e.ToNumber(n[i][3]),$u.TAnnouncement[a.ID]=a}e.CsvData.TAnnouncement=null}function u(t){$u.TAppointmentGift={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ga;a.ID=e.ToNumber(n[i][0]),a.itemForFree=n[i][1],a.itemForPay=n[i][2],a.itemCost=e.ToNumber(n[i][3]),$u.TAppointmentGift[a.ID]=a}e.CsvData.TAppointmentGift=null}function l(t){$u.TAttribute={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Na;a.Id=e.ToNumber(n[i][0]),a.Name=n[i][1],a.Kezhi=n[i][2],a.bg=e.ToNumber(n[i][3]),$u.TAttribute[a.Id]=a}e.CsvData.TAttribute=null}function c(t){$u.TBattleMetro={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ra;a.ID=e.ToNumber(n[i][0]),a.Type=e.ToNumber(n[i][1]),a.Name=n[i][2],a.CombatPower=n[i][3],a.LeadLevel=e.ToNumber(n[i][4]),a.LevelMonster=e.ToNumber(n[i][5]),a.Reward=n[i][6],$u.TBattleMetro[a.ID]=a}e.CsvData.TBattleMetro=null}function h(t){$u.TBattlesubwayRandClip={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new qa;a.id=e.ToNumber(n[i][0]),a.clipTalk=n[i][1],a.wight=e.ToNumber(n[i][2]),a.items=n[i][3],$u.TBattlesubwayRandClip[a.id]=a}e.CsvData.TBattlesubwayRandClip=null}function p(t){$u.TBattlesubway={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ja;a.id=e.ToNumber(n[i][0]),a.nextLv=e.ToNumber(n[i][1]),a.lvUpItem=e.ToNumber(n[i][2]),a.lvUpUse=e.ToNumber(n[i][3]),a.discount=e.ToNumber(n[i][4]),a.perExp=e.ToNumber(n[i][5]),a.randClip=e.ToNumber(n[i][6]),$u.TBattlesubway[a.id]=a}e.CsvData.TBattlesubway=null}function g(t){$u.Tbigcompete={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ha;a.id=e.ToNumber(n[i][0]),a.rank=n[i][1],a.lv=n[i][2],a.genius=n[i][3],a.fighting=n[i][4],$u.Tbigcompete[a.id]=a}e.CsvData.Tbigcompete=null}function d(t){$u.TbreedingHatch={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Oa;a.id=e.ToNumber(n[i][0]),a.grade=e.ToNumber(n[i][1]),a.name=n[i][2],$u.TbreedingHatch[a.id]=a}e.CsvData.TbreedingHatch=null}function m(t){$u.TbreedingQuality={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Fa;a.id=e.ToNumber(n[i][0]),a.des=n[i][1],a.probability=n[i][2],$u.TbreedingQuality[a.id]=a}e.CsvData.TbreedingQuality=null}function f(t){$u.TbreedingRandom={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new za;a.id=e.ToNumber(n[i][0]),a.zhushi=n[i][1],a.loot=e.ToNumber(n[i][2]),a.res=n[i][3],a.grade=e.ToNumber(n[i][4]),a.detail=n[i][5],a.name=n[i][6],$u.TbreedingRandom[a.id]=a}e.CsvData.TbreedingRandom=null}function _(t){$u.TChristmasEve={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ua;a.id=e.ToNumber(n[i][0]),a.money=e.ToNumber(n[i][1]),a.itemBuy=n[i][2],a.picture=e.ToNumber(n[i][3]),$u.TChristmasEve[a.id]=a}e.CsvData.TChristmasEve=null}function y(t){$u.TCombat=[];for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Wa;a.ID=e.ToNumber(n[i][0]),a.Content=n[i][1],$u.TCombat.push(a)}e.CsvData.TCombat=null}function v(t){$u.TConstants={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Va;a.ConstName=n[i][0],a.ConstValue=n[i][1],a.Inco=n[i][2],a.Chinese=n[i][3],$u.TConstants[a.ConstName]=a}e.CsvData.TConstants=null}function b(t){$u.TContestAwards={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ya;a.ID=e.ToNumber(n[i][0]),a.name=n[i][1],a.preview=n[i][2],$u.TContestAwards[a.ID]=a}e.CsvData.TContestAwards=null}function w(t){$u.TCustomsClearance={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Xa;a.ID=e.ToNumber(n[i][0]),a.Gatelevel=e.ToNumber(n[i][1]),a.XY=n[i][2],a.Player=e.ToNumber(n[i][3]),a.HeroID=e.ToNumber(n[i][4]),a.Name=n[i][5],a.VIPlevel=e.ToNumber(n[i][6]),a.Gatenumber=e.ToNumber(n[i][7]),a.CombatNum=n[i][8],a.Squad=n[i][9],a.ChallengeID=e.ToNumber(n[i][10]),a.Loots=n[i][11],$u.TCustomsClearance[a.ID]=a}e.CsvData.TCustomsClearance=null}function k(t){$u.TDailyCon={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ka;a.ID=e.ToNumber(n[i][0]),a.CostMoneyType=e.ToNumber(n[i][1]),a.Price=e.ToNumber(n[i][2]),a.RewardList=n[i][3],$u.TDailyCon[a.ID]=a}e.CsvData.TDailyCon=null}function I(t){$u.TDailyGifts={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Za;a.ID=e.ToNumber(n[i][0]),a.time=n[i][1],a.endtime=n[i][2],a.RewardList=n[i][3],$u.TDailyGifts[a.ID]=a}e.CsvData.TDailyGifts=null}function T(t){$u.TDailyRecharge={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Qa;a.ID=e.ToNumber(n[i][0]),a.Price=e.ToNumber(n[i][1]),a.RewardList=n[i][2],$u.TDailyRecharge[a.ID]=a}e.CsvData.TDailyRecharge=null}function P(t){$u.TDaimChGold={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ja;a.typeid=e.ToNumber(n[i][0]),a.costDam=e.ToNumber(n[i][1]),a.getGold=e.ToNumber(n[i][2]),a.towCril=n[i][3],$u.TDaimChGold[a.typeid]=a}e.CsvData.TDaimChGold=null}function L(t){$u.TDaysDiamond={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new $a;a.ID=e.ToNumber(n[i][0]),a.recharge=e.ToNumber(n[i][1]),a.doses=e.ToNumber(n[i][2]),a.Price=e.ToNumber(n[i][3]),a.acquiresmall=e.ToNumber(n[i][4]),a.acquiremax=e.ToNumber(n[i][5]),$u.TDaysDiamond[a.ID]=a}e.CsvData.TDaysDiamond=null}function D(t){$u.TDDialog=[];for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new eo;a.progress=e.ToNumber(n[i][0]),a.ZHUSHI=n[i][1],a.backgroundRe=n[i][2],a.timing=e.ToNumber(n[i][3]),a.sort=e.ToNumber(n[i][4]),a.side=e.ToNumber(n[i][5]),a.boolPlayer=e.ToNumber(n[i][6]),a.resource=n[i][7],a.name=n[i][8],a.dialog=n[i][9],a.pokemonId=e.ToNumber(n[i][10]),$u.TDDialog.push(a)}e.CsvData.TDDialog=null}function x(t){$u.TDebrisSwap={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new to;a.id=e.ToNumber(n[i][0]),a.FDebris=e.ToNumber(n[i][1]),a.FDebrisCount=e.ToNumber(n[i][2]),a.TDebris=n[i][3],a.Inco=n[i][4],a.price=n[i][5],$u.TDebrisSwap[a.id]=a}e.CsvData.TDebrisSwap=null}function C(t){$u.TDecennium={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new no;a.id=e.ToNumber(n[i][0]),a.draws=e.ToNumber(n[i][1]),a.award=n[i][2],$u.TDecennium[a.id]=a}e.CsvData.TDecennium=null}function B(t){$u.TDialog={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new io;a.ID=e.ToNumber(n[i][0]),a.Content=n[i][1],$u.TDialog[a.ID]=a}e.CsvData.TDialog=null}function S(t){$u.TDiamondCon={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ao;a.ID=e.ToNumber(n[i][0]),a.CostMoneyType=e.ToNumber(n[i][1]),a.Price=e.ToNumber(n[i][2]),a.RewardList=n[i][3],$u.TDiamondCon[a.ID]=a}e.CsvData.TDiamondCon=null}function E(t){$u.TDungeonAuto={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new oo;a.id=e.ToNumber(n[i][0]),a.autoPower=e.ToNumber(n[i][1]),$u.TDungeonAuto[a.id]=a}e.CsvData.TDungeonAuto=null}function A(t){$u.TDungeonMaps={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new so;a.ID=e.ToNumber(n[i][0]),a.Name=n[i][1],a.Production=n[i][2],a.Descripition=n[i][3],a.Map=n[i][4],a.DungeonId=e.ToNumber(n[i][5]),a.DayElfShow=n[i][6],a.NightElfShow=n[i][7],a.DayItemsShow=n[i][8],a.NightItemsShow=n[i][9],a.Swim=e.ToNumber(n[i][10]),a.EffectName=n[i][11],$u.TDungeonMaps[a.ID]=a}e.CsvData.TDungeonMaps=null}function M(t){$u.TEArtifactAbility={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ro;a.id=e.ToNumber(n[i][0]),a.type=e.ToNumber(n[i][1]),a.textE=n[i][2],a.ZHUSHI=n[i][3],a.anum1=n[i][4],a.openCondition=e.ToNumber(n[i][5]),a.openCondition2=e.ToNumber(n[i][6]),a.openNumber2=e.ToNumber(n[i][7]),a.xiaoGuotarget=e.ToNumber(n[i][8]),a.xiaoGuopro=e.ToNumber(n[i][9]),a.xiaoGuoType1=e.ToNumber(n[i][10]),a.xiaoGuoNum1=e.ToNumber(n[i][11]),a.xiaoGuoType2=e.ToNumber(n[i][12]),a.xiaoGuoNum2=e.ToNumber(n[i][13]),a.pro=e.ToNumber(n[i][14]),a.color=e.ToNumber(n[i][15]),$u.TEArtifactAbility[a.id]=a}e.CsvData.TEArtifactAbility=null}function G(t){$u.TEArtifactEtrAbility={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new uo;a.type=e.ToNumber(n[i][0]),a.effectId=e.ToNumber(n[i][1]),a.pro=e.ToNumber(n[i][2]),$u.TEArtifactEtrAbility[a.type]=a}e.CsvData.TEArtifactEtrAbility=null}function N(t){$u.TEArtifactEtrType={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new lo;a.id=e.ToNumber(n[i][0]),a.textE=n[i][1],a.pro=e.ToNumber(n[i][2]),a.attribute=n[i][3],$u.TEArtifactEtrType[a.id]=a}e.CsvData.TEArtifactEtrType=null}function R(t){$u.TEArtifactStarLv={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new co;a.starLv=e.ToNumber(n[i][0]),a.upItems=n[i][1],a.effectId=e.ToNumber(n[i][2]),a.textE=n[i][3],a.etrEffect=e.ToNumber(n[i][4]),$u.TEArtifactStarLv[a.starLv]=a}e.CsvData.TEArtifactStarLv=null}function q(t){$u.TEArtifactUpLv={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ho;a.id=e.ToNumber(n[i][0]),a.upItems=e.ToNumber(n[i][1]),a.effectId=e.ToNumber(n[i][2]),$u.TEArtifactUpLv[a.id]=a}e.CsvData.TEArtifactUpLv=null}function j(t){$u.TEArtifact={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new po;a.id=e.ToNumber(n[i][0]),a.ZHUSHI=n[i][1],a.itemName=n[i][2],a.text=n[i][3],a.sort=e.ToNumber(n[i][4]),a.icon=e.ToNumber(n[i][5]),a.attributeId=n[i][6],a.elfId=n[i][7],a.abilityType=e.ToNumber(n[i][8]),a.starOpen=e.ToNumber(n[i][9]),$u.TEArtifact[a.id]=a}e.CsvData.TEArtifact=null}function H(t){$u.TEffect={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new go;a.id=e.ToNumber(n[i][0]),a.zhushi=n[i][1],a.fireSkill=e.ToNumber(n[i][2]),a.waterSkill=e.ToNumber(n[i][3]),a.grassSkill=e.ToNumber(n[i][4]),a.demonSkill=e.ToNumber(n[i][5]),a.evilSkill=e.ToNumber(n[i][6]),a.dragonSkill=e.ToNumber(n[i][7]),a.iceSkill=e.ToNumber(n[i][8]),a.ghostSkill=e.ToNumber(n[i][9]),a.generalSkill=e.ToNumber(n[i][10]),a.electricSkill=e.ToNumber(n[i][11]),a.insectSkill=e.ToNumber(n[i][12]),a.flightSkill=e.ToNumber(n[i][13]),a.groundSkill=e.ToNumber(n[i][14]),a.rockSkill=e.ToNumber(n[i][15]),a.grappleSkill=e.ToNumber(n[i][16]),a.superSkill=e.ToNumber(n[i][17]),a.steelSkill=e.ToNumber(n[i][18]),a.poisonSkill=e.ToNumber(n[i][19]),a.critDamage=e.ToNumber(n[i][20]),a.critChance=e.ToNumber(n[i][21]),a.hit=e.ToNumber(n[i][22]),a.evade=e.ToNumber(n[i][23]),a.damageUpPer=e.ToNumber(n[i][24]),a.damageDownPer=e.ToNumber(n[i][25]),a.hpPer=e.ToNumber(n[i][26]),a.atkPer=e.ToNumber(n[i][27]),a.atkSpPer=e.ToNumber(n[i][28]),a.defPer=e.ToNumber(n[i][29]),a.defSpPer=e.ToNumber(n[i][30]),a.spePer=e.ToNumber(n[i][31]),a.hp=e.ToNumber(n[i][32]),a.atk=e.ToNumber(n[i][33]),a.atkSp=e.ToNumber(n[i][34]),a.def=e.ToNumber(n[i][35]),a.defSp=e.ToNumber(n[i][36]),a.spe=e.ToNumber(n[i][37]),$u.TEffect[a.id]=a}e.CsvData.TEffect=null}function O(t){$u.TElfBan={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new mo;a.id=e.ToNumber(n[i][0]),a.name=n[i][1],a.dcr=n[i][2],$u.TElfBan[a.id]=a}e.CsvData.TElfBan=null}function F(t){$u.TElfBringGrid={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new fo;a.id=e.ToNumber(n[i][0]),a.unlockElfLevel=e.ToNumber(n[i][1]),a.bringType=e.ToNumber(n[i][2]),$u.TElfBringGrid[a.id]=a}e.CsvData.TElfBringGrid=null}function z(t){$u.TElfBring={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new _o;a.id=e.ToNumber(n[i][0]),a.resours=n[i][1],a.name=n[i][2],a.desc=n[i][3],a.quality=e.ToNumber(n[i][4]),a.type=e.ToNumber(n[i][5]),a.level=e.ToNumber(n[i][6]),a.upItems=e.ToNumber(n[i][7]),a.effectId=e.ToNumber(n[i][8]),a.attribute=n[i][9],$u.TElfBring[a.id]=a}e.CsvData.TElfBring=null}function U(t){$u.TElfCombo={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new yo;a.id=e.ToNumber(n[i][0]),a.sort=e.ToNumber(n[i][1]),a.elfId=n[i][2],a.comboName=n[i][3],a.effectId=e.ToNumber(n[i][4]),$u.TElfCombo[a.id]=a}e.CsvData.TElfCombo=null}function W(t){$u.TElfFollowGrid={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new vo;a.id=e.ToNumber(n[i][0]),a.open=n[i][1],a.upLove=e.ToNumber(n[i][2]),$u.TElfFollowGrid[a.id]=a}e.CsvData.TElfFollowGrid=null}function V(t){$u.TElfHelpGrid={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new bo;a.id=e.ToNumber(n[i][0]),a.unlockLevel=e.ToNumber(n[i][1]),$u.TElfHelpGrid[a.id]=a}e.CsvData.TElfHelpGrid=null}function Y(t){$u.TElfIV={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new wo;a.ID=e.ToNumber(n[i][0]),a.Weight=e.ToNumber(n[i][1]),a.valueMIX=e.ToNumber(n[i][2]),a.valueMAX=e.ToNumber(n[i][3]),$u.TElfIV[a.ID]=a}e.CsvData.TElfIV=null}function X(t){$u.TElfLevel={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ko;a.level=e.ToNumber(n[i][0]),a.exp=e.ToNumber(n[i][1]),a.money=e.ToNumber(n[i][2]),$u.TElfLevel[a.level]=a}e.CsvData.TElfLevel=null}function K(t){$u.TElfLove={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Io;a.level=e.ToNumber(n[i][0]),a.exp=e.ToNumber(n[i][1]),a.hit=e.ToNumber(n[i][2]),a.evade=e.ToNumber(n[i][3]),a.critChance=e.ToNumber(n[i][4]),$u.TElfLove[a.level]=a}e.CsvData.TElfLove=null}function Z(t){$u.TElfOneInThree={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new To;a.id=e.ToNumber(n[i][0]),a.duration=e.ToNumber(n[i][1]),a.choice1=n[i][2],a.choice2=n[i][3],a.choice3=n[i][4],$u.TElfOneInThree[a.id]=a}e.CsvData.TElfOneInThree=null}function Q(t){$u.TElfQuality={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Po;a.level=e.ToNumber(n[i][0]),a.price=n[i][1],a.catchProb=e.ToNumber(n[i][2]),a.lvDeviation=e.ToNumber(n[i][3]),a.helpElfPre=e.ToNumber(n[i][4]),a.abilityUp=e.ToNumber(n[i][5]),$u.TElfQuality[a.level]=a}e.CsvData.TElfQuality=null}function J(t){$u.TElfSeerValue={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Lo;a.level=e.ToNumber(n[i][0]),a.everyValueLimit=e.ToNumber(n[i][1]),a.ttSeerValue=e.ToNumber(n[i][2]),a.LimitStar=e.ToNumber(n[i][3]),a.nextLv=e.ToNumber(n[i][4]),a.nextcost=n[i][5],a.elfCost=e.ToNumber(n[i][6]),$u.TElfSeerValue[a.level]=a}e.CsvData.TElfSeerValue=null}function $(t){$u.TElfSkill={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Do;a.id=e.ToNumber(n[i][0]),a.Icon=n[i][1],a.name=n[i][2],a.zhishi1=n[i][3],a.zhishi2=n[i][4],a.DamageType=e.ToNumber(n[i][5]),a.skillType=e.ToNumber(n[i][6]),a.damage=e.ToNumber(n[i][7]),a.hit=e.ToNumber(n[i][8]),a.ex=e.ToNumber(n[i][9]),a.attribute=e.ToNumber(n[i][10]),a.desc=n[i][11],a.zhushi3=n[i][12],a.effect=n[i][13],a.target=e.ToNumber(n[i][14]),a.resGather=e.ToNumber(n[i][15]),a.resFire=e.ToNumber(n[i][16]),a.resFly=e.ToNumber(n[i][17]),a.resBoom=e.ToNumber(n[i][18]),a.shakeBg=e.ToNumber(n[i][19]),a.voice=n[i][20],a.blackBg=e.ToNumber(n[i][21]),a.showBg=e.ToNumber(n[i][22]),a.frequencyLimit=e.ToNumber(n[i][23]),a.preview=e.ToNumber(n[i][24]),$u.TElfSkill[a.id]=a}e.CsvData.TElfSkill=null}function et(t){$u.TElfStarChange={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new xo;a.oldLever=e.ToNumber(n[i][0]),a.newLever=e.ToNumber(n[i][1]),$u.TElfStarChange[a.oldLever]=a}e.CsvData.TElfStarChange=null}function tt(t){$u.TElfStarUp={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Co;a.level=e.ToNumber(n[i][0]),a.costItem=n[i][1],a.costElf=e.ToNumber(n[i][2]),a.price=n[i][3],a.levelLimit=e.ToNumber(n[i][4]),a.counterDamageAddStar=e.ToNumber(n[i][5]),a.leverCap=e.ToNumber(n[i][6]),$u.TElfStarUp[a.level]=a}e.CsvData.TElfStarUp=null}function nt(t){$u.TElfTalentAbility={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Bo;a.id=e.ToNumber(n[i][0]),a.name=n[i][1],a.desc=n[i][2],a.icon=n[i][3],a.star0=n[i][4],a.star1=n[i][5],a.star2=n[i][6],a.star3=n[i][7],a.star4=n[i][8],$u.TElfTalentAbility[a.id]=a}e.CsvData.TElfTalentAbility=null}function it(t){$u.TElfTalent=[];for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new So;a.talentGroupId=e.ToNumber(n[i][0]),a.askLv=e.ToNumber(n[i][1]),a.talentIdArray=n[i][2],a.costItem=n[i][3],a.counterDamageAddStar=e.ToNumber(n[i][4]),a.alladd=e.ToNumber(n[i][5]),a.count=e.ToNumber(n[i][6]),$u.TElfTalent.push(a)}e.CsvData.TElfTalent=null}function at(t){$u.TElfXingGe={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Eo;a.id=e.ToNumber(n[i][0]),a.icon=n[i][1],a.name=n[i][2],a.atk=e.ToNumber(n[i][3]),a.atkSp=e.ToNumber(n[i][4]),a.def=e.ToNumber(n[i][5]),a.defSp=e.ToNumber(n[i][6]),a.spe=e.ToNumber(n[i][7]),$u.TElfXingGe[a.id]=a}e.CsvData.TElfXingGe=null}function ot(t){$u.TElf={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ao;a.id=e.ToNumber(n[i][0]),a.battleId=e.ToNumber(n[i][1]),a.name=n[i][2],a.drc=n[i][3],a.ability=e.ToNumber(n[i][4]),a.starUpCost=n[i][5],a.seerValueCost=n[i][6],a.skill=n[i][7],a.hp=e.ToNumber(n[i][8]),a.atk=e.ToNumber(n[i][9]),a.def=e.ToNumber(n[i][10]),a.atkSp=e.ToNumber(n[i][11]),a.defSp=e.ToNumber(n[i][12]),a.spe=e.ToNumber(n[i][13]),a.all=e.ToNumber(n[i][14]),a.attribute=e.ToNumber(n[i][15]),a.attribute2=e.ToNumber(n[i][16]),a.quality=e.ToNumber(n[i][17]),a.rarityStar=e.ToNumber(n[i][18]),a.rarity=e.ToNumber(n[i][19]),a.upLv=e.ToNumber(n[i][20]),a.upLoveLv=e.ToNumber(n[i][21]),a.upItem=n[i][22],a.downElf=e.ToNumber(n[i][23]),a.sotpGrow=e.ToNumber(n[i][24]),a.upElf=e.ToNumber(n[i][25]),a.upPrice=n[i][26],a.upLvSp=n[i][27],a.upLoveLvSp=n[i][28],a.upItemSp=n[i][29],a.upElfSp=n[i][30],a.upPriceSp=n[i][31],a.starPokemon=n[i][32],a.talentGroupId=e.ToNumber(n[i][33]),a.learnSkill=n[i][34],a.starCan=e.ToNumber(n[i][35]),a.advance=e.ToNumber(n[i][36]),a.voice=n[i][37],a.hatch=e.ToNumber(n[i][38]),a.debrisNeed=n[i][39],a.CostMoney=e.ToNumber(n[i][40]),a.abliUp=n[i][41],a.showBook=e.ToNumber(n[i][42]),a.ballID=e.ToNumber(n[i][43]),$u.TElf[a.id]=a}e.CsvData.TElf=null}function st(t){$u.TEngage={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Mo;a.ID=e.ToNumber(n[i][0]),a.Prob=e.ToNumber(n[i][1]),a.lootId=n[i][2],$u.TEngage[a.ID]=a
}e.CsvData.TEngage=null}function rt(t){$u.TEntryYuandan={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Go;a.type=e.ToNumber(n[i][0]),a.resource=n[i][1],$u.TEntryYuandan[a.type]=a}e.CsvData.TEntryYuandan=null}function ut(t){$u.TequipAttribute={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new No;a.id=e.ToNumber(n[i][0]),a.notes=n[i][1],a.type=e.ToNumber(n[i][2]),a.attributeId=e.ToNumber(n[i][3]),a.rare1=e.ToNumber(n[i][4]),a.rare2=e.ToNumber(n[i][5]),a.rare3=e.ToNumber(n[i][6]),a.rare4=e.ToNumber(n[i][7]),a.rare5=e.ToNumber(n[i][8]),a.rare6=e.ToNumber(n[i][9]),$u.TequipAttribute[a.id]=a}e.CsvData.TequipAttribute=null}function lt(t){$u.TequipExp={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ro;a.lv=e.ToNumber(n[i][0]),a.rare1=e.ToNumber(n[i][1]),a.rare2=e.ToNumber(n[i][2]),a.rare3=e.ToNumber(n[i][3]),a.rare4=e.ToNumber(n[i][4]),a.rare5=e.ToNumber(n[i][5]),a.rare6=e.ToNumber(n[i][6]),$u.TequipExp[a.lv]=a}e.CsvData.TequipExp=null}function ct(t){$u.TequipInitial={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new qo;a.id=e.ToNumber(n[i][0]),a.rare=e.ToNumber(n[i][1]),a.number=e.ToNumber(n[i][2]),a.weight=e.ToNumber(n[i][3]),$u.TequipInitial[a.id]=a}e.CsvData.TequipInitial=null}function ht(t){$u.TequipLv={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new jo;a.lv=e.ToNumber(n[i][0]),a.rare1=e.ToNumber(n[i][1]),a.rare2=e.ToNumber(n[i][2]),a.rare3=e.ToNumber(n[i][3]),a.rare4=e.ToNumber(n[i][4]),a.rare5=e.ToNumber(n[i][5]),a.rare6=e.ToNumber(n[i][6]),a.newAttribute=e.ToNumber(n[i][7]),a.money=e.ToNumber(n[i][8]),$u.TequipLv[a.lv]=a}e.CsvData.TequipLv=null}function pt(t){$u.Tequip={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ho;a.id=e.ToNumber(n[i][0]),a.icon=n[i][1],a.type=e.ToNumber(n[i][2]),a.name=n[i][3],a.jieshao=n[i][4],a.EffectDescribe=n[i][5],a.rare=e.ToNumber(n[i][6]),a.position=e.ToNumber(n[i][7]),a.Suiteffect=e.ToNumber(n[i][8]),a.weight=e.ToNumber(n[i][9]),a.basicAttributes=e.ToNumber(n[i][10]),a.lv1=e.ToNumber(n[i][11]),a.lv2=e.ToNumber(n[i][12]),a.lv3=e.ToNumber(n[i][13]),a.lv4=e.ToNumber(n[i][14]),a.lv5=e.ToNumber(n[i][15]),a.lv6=e.ToNumber(n[i][16]),a.lv7=e.ToNumber(n[i][17]),a.lv8=e.ToNumber(n[i][18]),a.lv9=e.ToNumber(n[i][19]),a.lv10=e.ToNumber(n[i][20]),a.lv11=e.ToNumber(n[i][21]),a.lv12=e.ToNumber(n[i][22]),a.lv13=e.ToNumber(n[i][23]),a.lv14=e.ToNumber(n[i][24]),a.lv15=e.ToNumber(n[i][25]),$u.Tequip[a.id]=a}e.CsvData.Tequip=null}function gt(t){$u.TEverydayRecharge={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Oo;a.id=e.ToNumber(n[i][0]),a.time=e.ToNumber(n[i][1]),a.doses=e.ToNumber(n[i][2]),a.Item=n[i][3],$u.TEverydayRecharge[a.id]=a}e.CsvData.TEverydayRecharge=null}function dt(t){$u.TFamLv={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Fo;a.id=e.ToNumber(n[i][0]),a.name=n[i][1],a.lootPreview=n[i][2],a.Events=e.ToNumber(n[i][3]),a.loot=n[i][4],a.bossFormation=e.ToNumber(n[i][5]),a.bossID=e.ToNumber(n[i][6]),a.EventLoot1=n[i][7],a.EventLoot2=n[i][8],a.EventLoot3=n[i][9],a.EventLoot4=n[i][10],a.talk4=n[i][11],a.MoleCount=n[i][12],a.MoleGold=e.ToNumber(n[i][13]),a.LeafEffort=e.ToNumber(n[i][14]),a.Weight1=e.ToNumber(n[i][15]),a.LeafLove=e.ToNumber(n[i][16]),a.Weight2=e.ToNumber(n[i][17]),a.LeafExp=e.ToNumber(n[i][18]),a.Weight3=e.ToNumber(n[i][19]),a.EventLoot8=n[i][20],a.npcFormation=e.ToNumber(n[i][21]),a.npcID=e.ToNumber(n[i][22]),a.npcPrice=n[i][23],a.EventLoot9=n[i][24],a.bossShow=e.ToNumber(n[i][25]),a.npcShow=e.ToNumber(n[i][26]),a.maps=e.ToNumber(n[i][27]),a.SweepAward=n[i][28],a.NormalCollectLootAll=n[i][29],a.FestivalCollectLootAll=n[i][30],a.NormalCollectLoot=n[i][31],a.FestivalCollectLoot=n[i][32],$u.TFamLv[a.id]=a}e.CsvData.TFamLv=null}function mt(t){$u.TFam={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new zo;a.id=e.ToNumber(n[i][0]),a.Weight=e.ToNumber(n[i][1]),$u.TFam[a.id]=a}e.CsvData.TFam=null}function ft(t){$u.TFGashapon={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Uo;a.id=e.ToNumber(n[i][0]),a.type=e.ToNumber(n[i][1]),a.count=e.ToNumber(n[i][2]),a.costItemType=e.ToNumber(n[i][3]),a.costItemCount=e.ToNumber(n[i][4]),a.freeCount=e.ToNumber(n[i][5]),a.freeInterval=e.ToNumber(n[i][6]),a.reset=e.ToNumber(n[i][7]),a.loot=e.ToNumber(n[i][8]),a.SpLoot=n[i][9],a.Fristloot=e.ToNumber(n[i][10]),$u.TFGashapon[a.id]=a}e.CsvData.TFGashapon=null}function _t(t){$u.TFHomeLandLv={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Wo;a.level=e.ToNumber(n[i][0]),a.setMax=e.ToNumber(n[i][1]),a.basicAbility=e.ToNumber(n[i][2]),a.extraAbility=e.ToNumber(n[i][3]),a.UpItems=e.ToNumber(n[i][4]),$u.TFHomeLandLv[a.level]=a}e.CsvData.TFHomeLandLv=null}function yt(t){$u.TFirstGroupon={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Vo;a.ID=e.ToNumber(n[i][0]),a.doses=e.ToNumber(n[i][1]),a.population=e.ToNumber(n[i][2]),a.Item=n[i][3],$u.TFirstGroupon[a.ID]=a}e.CsvData.TFirstGroupon=null}function vt(t){$u.TFlashElf={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Yo;a.ID=e.ToNumber(n[i][0]),a.Money=e.ToNumber(n[i][1]),a.RewardList=n[i][2],$u.TFlashElf[a.ID]=a}e.CsvData.TFlashElf=null}function bt(t){$u.TFSearch={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Xo;a.id=e.ToNumber(n[i][0]),a.itemShow=n[i][1],a.count=e.ToNumber(n[i][2]),a.lootId=n[i][3],$u.TFSearch[a.id]=a}e.CsvData.TFSearch=null}function wt(t){$u.TFunctionopen={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ko;a.id=e.ToNumber(n[i][0]),a.zhushi=n[i][1],a.lv=e.ToNumber(n[i][2]),a.picture=e.ToNumber(n[i][3]),a.panel=e.ToNumber(n[i][4]),a.getItems=n[i][5],a.text=n[i][6],$u.TFunctionopen[a.id]=a}e.CsvData.TFunctionopen=null}function kt(t){$u.TFurnitureExtraQual={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Zo;a.id=e.ToNumber(n[i][0]),a.count1=e.ToNumber(n[i][1]),a.count2=e.ToNumber(n[i][2]),a.pro=e.ToNumber(n[i][3]),$u.TFurnitureExtraQual[a.id]=a}e.CsvData.TFurnitureExtraQual=null}function It(t){$u.TFurnitureExtraType={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Qo;a.id=e.ToNumber(n[i][0]),a.effectId=e.ToNumber(n[i][1]),a.pro=e.ToNumber(n[i][2]),$u.TFurnitureExtraType[a.id]=a}e.CsvData.TFurnitureExtraType=null}function Tt(t){$u.TFurnitureLv={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Jo;a.ID=e.ToNumber(n[i][0]),a.basicUp=e.ToNumber(n[i][1]),a.extraUp=e.ToNumber(n[i][2]),a.upItem=n[i][3],$u.TFurnitureLv[a.ID]=a}e.CsvData.TFurnitureLv=null}function Pt(t){$u.TFurnitureMake={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new $o;a.itemID=e.ToNumber(n[i][0]),a.ZHUSHI=n[i][1],a.type1=e.ToNumber(n[i][2]),a.type2=e.ToNumber(n[i][3]),a.sort=e.ToNumber(n[i][4]),a.makeItem=n[i][5],a.price=n[i][6],$u.TFurnitureMake[a.itemID]=a}e.CsvData.TFurnitureMake=null}function Lt(t){$u.TFurnitureQuality={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new es;a.id=e.ToNumber(n[i][0]),a.color=e.ToNumber(n[i][1]),a.quality=e.ToNumber(n[i][2]),a.prob=e.ToNumber(n[i][3]),$u.TFurnitureQuality[a.id]=a}e.CsvData.TFurnitureQuality=null}function Dt(t){$u.TFurniture={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ts;a.id=e.ToNumber(n[i][0]),a.itemName=n[i][1],a.text=n[i][2],a.type=e.ToNumber(n[i][3]),a.sort=e.ToNumber(n[i][4]),a.place=e.ToNumber(n[i][5]),a.icon=e.ToNumber(n[i][6]),a.size=n[i][7],a.position=n[i][8],a.effectId=e.ToNumber(n[i][9]),$u.TFurniture[a.id]=a}e.CsvData.TFurniture=null}function xt(t){$u.TGashaponLoot={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ns;a.ID=e.ToNumber(n[i][0]),a.Weight=e.ToNumber(n[i][1]),a.ItemID=e.ToNumber(n[i][2]),a.ItemCount=e.ToNumber(n[i][3]),a.ZHUSHI=n[i][4],$u.TGashaponLoot[a.ID]=a}e.CsvData.TGashaponLoot=null}function Ct(t){$u.TGashaponReward={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new is;a.ID=e.ToNumber(n[i][0]),a.count=e.ToNumber(n[i][1]),a.reward=n[i][2],$u.TGashaponReward[a.ID]=a}e.CsvData.TGashaponReward=null}function Bt(t){$u.TGashapon={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new as;a.id=e.ToNumber(n[i][0]),a.count=e.ToNumber(n[i][1]),a.name=n[i][2],a.info=n[i][3],a.showImage=n[i][4],a.showBone=n[i][5],a.costItemType=e.ToNumber(n[i][6]),a.costItemCount=e.ToNumber(n[i][7]),a.freeCount=e.ToNumber(n[i][8]),a.freeInterval=e.ToNumber(n[i][9]),a.reset=e.ToNumber(n[i][10]),a.loot=e.ToNumber(n[i][11]),a.SpLoot=n[i][12],a.Fristloot=e.ToNumber(n[i][13]),a.GaGift=n[i][14],a.substitute=n[i][15],$u.TGashapon[a.id]=a}e.CsvData.TGashapon=null}function St(t){$u.TGMHelp={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new os;a.ID=e.ToNumber(n[i][0]),a.elfID=e.ToNumber(n[i][1]),a.count=e.ToNumber(n[i][2]),a.askLV=e.ToNumber(n[i][3]),a.HPFixation=e.ToNumber(n[i][4]),a.HpIndiv=e.ToNumber(n[i][5]),a.AtkIndiv=e.ToNumber(n[i][6]),a.DefIndiv=e.ToNumber(n[i][7]),a.AtkSpIndiv=e.ToNumber(n[i][8]),a.DefSpIndiv=e.ToNumber(n[i][9]),a.SpeIndiv=e.ToNumber(n[i][10]),a.HpBase=e.ToNumber(n[i][11]),a.AtkBase=e.ToNumber(n[i][12]),a.DefBase=e.ToNumber(n[i][13]),a.AtkSpBase=e.ToNumber(n[i][14]),a.DefSpBase=e.ToNumber(n[i][15]),a.SpeBase=e.ToNumber(n[i][16]),a.LoveLevel=e.ToNumber(n[i][17]),a.star=e.ToNumber(n[i][18]),$u.TGMHelp[a.ID]=a}e.CsvData.TGMHelp=null}function Et(t){$u.TGodbeast={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ss;a.ID=e.ToNumber(n[i][0]),a.Unlock=e.ToNumber(n[i][1]),a.Limit=e.ToNumber(n[i][2]),a.Area=e.ToNumber(n[i][3]),a.XY=n[i][4],a.ElfID=e.ToNumber(n[i][5]),a.DungeonsID=e.ToNumber(n[i][6]),a.Times=e.ToNumber(n[i][7]),a.GetTimes=e.ToNumber(n[i][8]),$u.TGodbeast[a.ID]=a}e.CsvData.TGodbeast=null}function At(t){$u.TGoldenEggs={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new rs;a.id=e.ToNumber(n[i][0]),a.Preview=n[i][1],a.costItemType=e.ToNumber(n[i][2]),a.costItemCount=e.ToNumber(n[i][3]),a.loot=e.ToNumber(n[i][4]),$u.TGoldenEggs[a.id]=a}e.CsvData.TGoldenEggs=null}function Mt(t){$u.TGridType={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new us;a.id=e.ToNumber(n[i][0]),a.typeid=e.ToNumber(n[i][1]),a.level=e.ToNumber(n[i][2]),a.name=n[i][3],a.itmes=n[i][4],a.nextId=e.ToNumber(n[i][5]),$u.TGridType[a.id]=a}e.CsvData.TGridType=null}function Gt(t){$u.TGridUp=[];for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ls;a.id=e.ToNumber(n[i][0]),a.grid=e.ToNumber(n[i][1]),a.hp=e.ToNumber(n[i][2]),a.atk=e.ToNumber(n[i][3]),a.atkSp=e.ToNumber(n[i][4]),a.def=e.ToNumber(n[i][5]),a.defSp=e.ToNumber(n[i][6]),a.spe=e.ToNumber(n[i][7]),$u.TGridUp.push(a)}e.CsvData.TGridUp=null}function Nt(t){$u.TGuildBoss={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new cs;a.id=e.ToNumber(n[i][0]),a.buildType=e.ToNumber(n[i][1]),a.buildLevel=e.ToNumber(n[i][2]),a.cost=e.ToNumber(n[i][3]),a.openLoot=n[i][4],a.openLootLook=n[i][5],a.helpLoot=n[i][6],a.helpLootLook=n[i][7],a.showPokemon=e.ToNumber(n[i][8]),a.level=e.ToNumber(n[i][9]),a.missionId=e.ToNumber(n[i][10]),a.formation=e.ToNumber(n[i][11]),$u.TGuildBoss[a.id]=a}e.CsvData.TGuildBoss=null}function Rt(t){$u.TGuildBuilding=[];for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new hs;a.id=e.ToNumber(n[i][0]),a.level=e.ToNumber(n[i][1]),a.degree=e.ToNumber(n[i][2]),a.addMemberCount=e.ToNumber(n[i][3]),a.pokemonCount=e.ToNumber(n[i][4]),a.cost=e.ToNumber(n[i][5]),a.effortAdd=e.ToNumber(n[i][6]),a.loveAdd=e.ToNumber(n[i][7]),a.maxTime=e.ToNumber(n[i][8]),a.ContainAttribute=n[i][9],$u.TGuildBuilding.push(a)}e.CsvData.TGuildBuilding=null}function qt(t){$u.TGuildLog={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ps;a.ID=e.ToNumber(n[i][0]),a.content=n[i][1],$u.TGuildLog[a.ID]=a}e.CsvData.TGuildLog=null}function jt(t){$u.TGYMLv={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new gs;a.level=e.ToNumber(n[i][0]),a.ex=e.ToNumber(n[i][1]),a.effectID=e.ToNumber(n[i][2]),a.wofType=e.ToNumber(n[i][3]),$u.TGYMLv[a.level]=a}e.CsvData.TGYMLv=null}function Ht(t){$u.TGYMReward={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ds;a.id=e.ToNumber(n[i][0]),a.type=e.ToNumber(n[i][1]),a.weight=e.ToNumber(n[i][2]),a.items=n[i][3],$u.TGYMReward[a.id]=a}e.CsvData.TGYMReward=null}function Ot(t){$u.TGYMRule={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ms;a.ID=e.ToNumber(n[i][0]),a.info=n[i][1],$u.TGYMRule[a.ID]=a}e.CsvData.TGYMRule=null}function Ft(t){$u.TGYMStageInfo={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new fs;a.id=e.ToNumber(n[i][0]),a.rewardBoxPreview=n[i][1],a.bossBattleRound=e.ToNumber(n[i][2]),a.GYMExp=e.ToNumber(n[i][3]),a.GYMGold=e.ToNumber(n[i][4]),a.exGYMExpcoefficient=e.ToNumber(n[i][5]),a.exLimitExp=e.ToNumber(n[i][6]),a.exGYMGoldcoefficient=e.ToNumber(n[i][7]),a.exLimitGold=e.ToNumber(n[i][8]),a.bossFormation=e.ToNumber(n[i][9]),a.bossID=e.ToNumber(n[i][10]),a.isBoss=e.ToNumber(n[i][11]),a.npcShow=e.ToNumber(n[i][12]),a.locationX=e.ToNumber(n[i][13]),a.locationY=e.ToNumber(n[i][14]),a.Direction=e.ToNumber(n[i][15]),a.maps=e.ToNumber(n[i][16]),a.NextMission=e.ToNumber(n[i][17]),a.collentLoot=n[i][18],$u.TGYMStageInfo[a.id]=a}e.CsvData.TGYMStageInfo=null}function zt(t){$u.TGYM={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new _s;a.Id=e.ToNumber(n[i][0]),a.Name=n[i][1],a.ExtExp=e.ToNumber(n[i][2]),a.ExtCoin=e.ToNumber(n[i][3]),a.LevelLimit=e.ToNumber(n[i][4]),a.Include=n[i][5],a.AvatarLocationX=e.ToNumber(n[i][6]),a.AvatarLocationY=e.ToNumber(n[i][7]),a.LocationX=e.ToNumber(n[i][8]),a.LocationY=e.ToNumber(n[i][9]),$u.TGYM[a.Id]=a}e.CsvData.TGYM=null}function Ut(t){$u.THallowmas={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ys;a.ID=e.ToNumber(n[i][0]),a.resource=n[i][1],$u.THallowmas[a.ID]=a}e.CsvData.THallowmas=null}function Wt(t){$u.THappyMidAutumn={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new vs;a.id=e.ToNumber(n[i][0]),a.sort=e.ToNumber(n[i][1]),a.price=n[i][2],a.countLimit=e.ToNumber(n[i][3]),a.goods=n[i][4],$u.THappyMidAutumn[a.id]=a}e.CsvData.THappyMidAutumn=null}function Vt(t){$u.THuntLoot=[];for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new bs;a.ID=e.ToNumber(n[i][0]),a.PokemonID=e.ToNumber(n[i][1]),a.Quality=e.ToNumber(n[i][2]),a.RandomPool=e.ToNumber(n[i][3]),a.name=n[i][4],a.all=e.ToNumber(n[i][5]),$u.THuntLoot.push(a)}e.CsvData.THuntLoot=null}function Yt(t){$u.THunt={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ws;a.id=e.ToNumber(n[i][0]),a.name=n[i][1],a.limit=e.ToNumber(n[i][2]),a.costItemType=e.ToNumber(n[i][3]),a.costItemCount=e.ToNumber(n[i][4]),a.replace=n[i][5],a.loot=n[i][6],a.time=e.ToNumber(n[i][7]),a.probability=n[i][8],a.showCount=n[i][9],a.quiltyCount=n[i][10],a.coefficient=e.ToNumber(n[i][11]),a.HuntDescribe=n[i][12],a.AvailableID=n[i][13],$u.THunt[a.id]=a}e.CsvData.THunt=null}function Xt(t){$u.THuoChengZhang={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ks;a.id=e.ToNumber(n[i][0]),a.level=e.ToNumber(n[i][1]),a.rewardList=n[i][2],$u.THuoChengZhang[a.id]=a}e.CsvData.THuoChengZhang=null}function Kt(t){$u.THuoCollent={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Is;a.id=e.ToNumber(n[i][0]),a.sort=e.ToNumber(n[i][1]),a.price=n[i][2],a.countLimit=e.ToNumber(n[i][3]),a.goods=n[i][4],$u.THuoCollent[a.id]=a}e.CsvData.THuoCollent=null}function Zt(t){$u.THuoConsumption={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ts;a.ID=e.ToNumber(n[i][0]),a.Item=n[i][1],$u.THuoConsumption[a.ID]=a}e.CsvData.THuoConsumption=null}function Qt(t){$u.THuoInvite={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ps;a.id=e.ToNumber(n[i][0]),a.name=n[i][1],a.count=e.ToNumber(n[i][2]),a.rewardList=n[i][3],$u.THuoInvite[a.id]=a}e.CsvData.THuoInvite=null}function Jt(t){$u.THuoOneRMB={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ls;a.id=e.ToNumber(n[i][0]),a.ZHUSHI=n[i][1],a.itemDay=n[i][2],$u.THuoOneRMB[a.id]=a}e.CsvData.THuoOneRMB=null}function $t(t){$u.THuoPolite={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ds;a.id=e.ToNumber(n[i][0]),a.ZHUSHI=n[i][1],a.getItem=n[i][2],$u.THuoPolite[a.id]=a}e.CsvData.THuoPolite=null}function en(t){$u.THuoQianDao={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new xs;a.month=e.ToNumber(n[i][0]),a.day=e.ToNumber(n[i][1]),a.ZHUSHI=n[i][2],a.getItem=n[i][3],$u.THuoQianDao[a.month]=a}e.CsvData.THuoQianDao=null}function tn(t){$u.THuoRechargeFrist={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Cs;a.ID=e.ToNumber(n[i][0]),a.Item=n[i][1],$u.THuoRechargeFrist[a.ID]=a}e.CsvData.THuoRechargeFrist=null}function nn(t){$u.THuoRechargeSum={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Bs;a.id=e.ToNumber(n[i][0]),a.price=e.ToNumber(n[i][1]),a.reward=n[i][2],$u.THuoRechargeSum[a.id]=a}e.CsvData.THuoRechargeSum=null}function an(t){$u.THuoRedElfTaskDetail={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ss;a.taskStyle=e.ToNumber(n[i][0]),a.taskName=n[i][1],a.taskDetail=n[i][2],$u.THuoRedElfTaskDetail[a.taskStyle]=a}e.CsvData.THuoRedElfTaskDetail=null}function on(t){$u.THuoRedElfTaskShop={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Es;a.id=e.ToNumber(n[i][0]),a.good=n[i][1],a.countLimit=e.ToNumber(n[i][2]),a.money=n[i][3],a.refreshStyle=e.ToNumber(n[i][4]),$u.THuoRedElfTaskShop[a.id]=a}e.CsvData.THuoRedElfTaskShop=null}function sn(t){$u.THuoRedElfTask={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new As;a.taskId=e.ToNumber(n[i][0]),a.taskStyle=e.ToNumber(n[i][1]),a.taskGroup=e.ToNumber(n[i][2]),a.taskDetail=n[i][3],a.taskRequire=e.ToNumber(n[i][4]),a.reward=n[i][5],$u.THuoRedElfTask[a.taskId]=a}e.CsvData.THuoRedElfTask=null}function rn(t){$u.THuoRedElf={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ms;a.ID=e.ToNumber(n[i][0]),a.Item=n[i][1],$u.THuoRedElf[a.ID]=a}e.CsvData.THuoRedElf=null}function un(t){$u.THuoSevenLg={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Gs;a.id=e.ToNumber(n[i][0]),a.ZHUSHI=n[i][1],a.getItem=n[i][2],$u.THuoSevenLg[a.id]=a}e.CsvData.THuoSevenLg=null}function ln(t){$u.THuoSuperElf={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ns;a.ID=e.ToNumber(n[i][0]),a.Item=n[i][1],$u.THuoSuperElf[a.ID]=a}e.CsvData.THuoSuperElf=null}function cn(t){$u.THuoVipfuli={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Rs;a.id=e.ToNumber(n[i][0]),a.vipLevel=e.ToNumber(n[i][1]),a.rewardList=n[i][2],a.ZHUSHI=n[i][3],$u.THuoVipfuli[a.id]=a}e.CsvData.THuoVipfuli=null}function hn(t){$u.THuoYue={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new qs;a.id=e.ToNumber(n[i][0]),a.ZHUSHI=n[i][1],a.itemDay=n[i][2],a.exAddPer=e.ToNumber(n[i][3]),a.goldAddper=e.ToNumber(n[i][4]),$u.THuoYue[a.id]=a}e.CsvData.THuoYue=null}function pn(t){$u.THuoZhandou={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new js;a.id=e.ToNumber(n[i][0]),a.elfShow=e.ToNumber(n[i][1]),a.lootPreview=n[i][2],a.loot=n[i][3],a.formation=e.ToNumber(n[i][4]),$u.THuoZhandou[a.id]=a}e.CsvData.THuoZhandou=null}function gn(t){$u.THuoZhongSheng={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Hs;a.id=e.ToNumber(n[i][0]),a.ZHUSHI=n[i][1],a.itemBuy=n[i][2],a.itemDay=n[i][3],a.itemAdd=n[i][4],a.exAddPer=e.ToNumber(n[i][5]),a.goldAddper=e.ToNumber(n[i][6]),a.SecretPass=e.ToNumber(n[i][7]),$u.THuoZhongSheng[a.id]=a}e.CsvData.THuoZhongSheng=null}function dn(t){$u.THuoZhuanPan={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Os;a.id=e.ToNumber(n[i][0]),a.weight=e.ToNumber(n[i][1]),a.items=n[i][2],$u.THuoZhuanPan[a.id]=a}e.CsvData.THuoZhuanPan=null}function mn(t){$u.TID={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Fs;a.Name=n[i][0],a.StartID=e.ToNumber(n[i][1]),a.EndID=e.ToNumber(n[i][2]),$u.TID[a.Name]=a}e.CsvData.TID=null}function fn(t){$u.TItem={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new zs;a.id=e.ToNumber(n[i][0]),a.name=n[i][1],a.desc=n[i][2],a.limit=e.ToNumber(n[i][3]),a.quality=e.ToNumber(n[i][4]),a.sort=e.ToNumber(n[i][5]),a.type=e.ToNumber(n[i][6]),a.used=e.ToNumber(n[i][7]),a.location=e.ToNumber(n[i][8]),a.comeFrom=n[i][9],a.loot=n[i][10],a.getItem=n[i][11],a.number1=e.ToNumber(n[i][12]),a.number2=e.ToNumber(n[i][13]),a.buyItemType=e.ToNumber(n[i][14]),a.buyPrice=e.ToNumber(n[i][15]),a.atk=e.ToNumber(n[i][16]),a.atkSp=e.ToNumber(n[i][17]),a.def=e.ToNumber(n[i][18]),a.defSp=e.ToNumber(n[i][19]),a.spe=e.ToNumber(n[i][20]),a.hp=e.ToNumber(n[i][21]),$u.TItem[a.id]=a}e.CsvData.TItem=null}function _n(t){$u.TJihuoma={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Us;a.id=e.ToNumber(n[i][0]),a.name=n[i][1],a.sec=n[i][2],a.content=n[i][3],$u.TJihuoma[a.id]=a}e.CsvData.TJihuoma=null}function yn(t){$u.TLootItem={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ws;a.ID=e.ToNumber(n[i][0]),a.ZhuShi=n[i][1],a.Weight=e.ToNumber(n[i][2]),a.ItemID=e.ToNumber(n[i][3]),a.ItemCount=e.ToNumber(n[i][4]),$u.TLootItem[a.ID]=a}e.CsvData.TLootItem=null}function vn(t){$u.TLoot={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Vs;a.ID=e.ToNumber(n[i][0]),a.ZhuShi=n[i][1],a.Weight=e.ToNumber(n[i][2]),a.ItemID=e.ToNumber(n[i][3]),a.ItemCount=e.ToNumber(n[i][4]),$u.TLoot[a.ID]=a}e.CsvData.TLoot=null}function bn(t){$u.TLuckZhuanPan=[];for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ys;a.id=e.ToNumber(n[i][0]),a.weight=e.ToNumber(n[i][1]),a.items=n[i][2],a.price=n[i][3],a.experience=e.ToNumber(n[i][4]),a.integral=e.ToNumber(n[i][5]),a.upgrade=e.ToNumber(n[i][6]),a.award=n[i][7],a.time=e.ToNumber(n[i][8]),a.commodity=n[i][9],a.StorePrice=e.ToNumber(n[i][10]),a.zoumadeng1=e.ToNumber(n[i][11]),a.zoumadeng2=e.ToNumber(n[i][12]),$u.TLuckZhuanPan.push(a)}e.CsvData.TLuckZhuanPan=null}function wn(t){$u.TLvaCtivity2={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Xs;a.ID=e.ToNumber(n[i][0]),a.Lv=e.ToNumber(n[i][1]),a.Item=n[i][2],$u.TLvaCtivity2[a.ID]=a}e.CsvData.TLvaCtivity2=null}function kn(t){$u.TLvaCtivity={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ks;a.ID=e.ToNumber(n[i][0]),a.Lv=e.ToNumber(n[i][1]),a.Item=n[i][2],$u.TLvaCtivity[a.ID]=a}e.CsvData.TLvaCtivity=null}function In(t){$u.TMagicShop={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Zs;a.ID=e.ToNumber(n[i][0]),a.OpenLv=e.ToNumber(n[i][1]),a.item=n[i][2],a.price=e.ToNumber(n[i][3]),a.limit=e.ToNumber(n[i][4]),a.title=n[i][5],a.desc=n[i][6],a.recharge=e.ToNumber(n[i][7]),$u.TMagicShop[a.ID]=a}e.CsvData.TMagicShop=null}function Tn(t){$u.TMail={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Qs;a.ID=e.ToNumber(n[i][0]),a.show=n[i][1],a.title=n[i][2],a.content=n[i][3],$u.TMail[a.ID]=a}e.CsvData.TMail=null}function Pn(t){$u.TMaintainAnnouncement={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Js;a.ID=e.ToNumber(n[i][0]),a.Detail=n[i][1],a.Time=n[i][2],$u.TMaintainAnnouncement[a.ID]=a}e.CsvData.TMaintainAnnouncement=null}function Ln(t){$u.TMammonRabbit={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new $s;a.ID=e.ToNumber(n[i][0]),a.Lv=e.ToNumber(n[i][1]),a.Price=e.ToNumber(n[i][2]),a.Item=e.ToNumber(n[i][3]),$u.TMammonRabbit[a.ID]=a}e.CsvData.TMammonRabbit=null}function Dn(t){$u.TMapsCatchItem=[];for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new er;a.ID=e.ToNumber(n[i][0]),a.ItemID=e.ToNumber(n[i][1]),a.MinCount=e.ToNumber(n[i][2]),a.MaxCount=e.ToNumber(n[i][3]),a.Prob=e.ToNumber(n[i][4]),a.NormalCollectLoot=n[i][5],a.FestivalCollectLoot=n[i][6],a.Time=e.ToNumber(n[i][7]),$u.TMapsCatchItem.push(a)}e.CsvData.TMapsCatchItem=null}function xn(t){$u.TMapsCatch=[];for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new tr;a.PmID=e.ToNumber(n[i][0]),a.Name=n[i][1],a.attribute=n[i][2],a.ID=e.ToNumber(n[i][3]),a.Time=e.ToNumber(n[i][4]),a.Rareness=e.ToNumber(n[i][5]),a.ShowProb=e.ToNumber(n[i][6]),a.quality=e.ToNumber(n[i][7]),$u.TMapsCatch.push(a)}e.CsvData.TMapsCatch=null}function Cn(t){$u.TMapsEvent={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new nr;a.ID=e.ToNumber(n[i][0]),a.Prob=e.ToNumber(n[i][1]),$u.TMapsEvent[a.ID]=a}e.CsvData.TMapsEvent=null}function Bn(t){$u.TMapsLegendary={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ir;a.id=e.ToNumber(n[i][0]),a.goods=e.ToNumber(n[i][1]),a.missionId=e.ToNumber(n[i][2]),a.loot=n[i][3],a.formation=e.ToNumber(n[i][4]),$u.TMapsLegendary[a.id]=a}e.CsvData.TMapsLegendary=null}function Sn(t){$u.TMapsRole={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ar;a.id=e.ToNumber(n[i][0]),a.person=e.ToNumber(n[i][1]),a.face=e.ToNumber(n[i][2]),a.positionX=e.ToNumber(n[i][3]),a.positionY=e.ToNumber(n[i][4]),a.DialogID=n[i][5],$u.TMapsRole[a.id]=a}e.CsvData.TMapsRole=null}function En(t){$u.TMiningCubeLoot={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new or;a.Level=e.ToNumber(n[i][0]),a.Weight=e.ToNumber(n[i][1]),a.CubeID=e.ToNumber(n[i][2]),$u.TMiningCubeLoot[a.Level]=a}e.CsvData.TMiningCubeLoot=null}function An(t){$u.TMiningCube={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new sr;a.id=e.ToNumber(n[i][0]),a.ZHUSHI=n[i][1],a.cubeType=e.ToNumber(n[i][2]),a.cubeIcon=n[i][3],a.cubeLastIcon=n[i][4],a.costTime=e.ToNumber(n[i][5]),a.getTime=e.ToNumber(n[i][6]),a.lootID=e.ToNumber(n[i][7]),a.festivalLoot=e.ToNumber(n[i][8]),$u.TMiningCube[a.id]=a}e.CsvData.TMiningCube=null}function Mn(t){$u.TMiningExplain={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new rr;a.id=e.ToNumber(n[i][0]),a.introduction=n[i][1],$u.TMiningExplain[a.id]=a}e.CsvData.TMiningExplain=null}function Gn(t){$u.TMiningLoot={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ur;a.ID=e.ToNumber(n[i][0]),a.ZhuShi=n[i][1],a.Weight=e.ToNumber(n[i][2]),a.ItemID=e.ToNumber(n[i][3]),a.ItemCount=e.ToNumber(n[i][4]),$u.TMiningLoot[a.ID]=a}e.CsvData.TMiningLoot=null}function Nn(t){$u.TMiningMap={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new lr;a.ID=e.ToNumber(n[i][0]),a.Picture=n[i][1],a.MiningCount=e.ToNumber(n[i][2]),$u.TMiningMap[a.ID]=a}e.CsvData.TMiningMap=null}function Rn(t){$u.TMiningRule={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new cr;a.ID=e.ToNumber(n[i][0]),a.info=n[i][1],$u.TMiningRule[a.ID]=a}e.CsvData.TMiningRule=null}function qn(t){$u.TMining=[];for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new hr;a.Id=e.ToNumber(n[i][0]),a.Lv=e.ToNumber(n[i][1]),a.Type=e.ToNumber(n[i][2]),a.Reserves=e.ToNumber(n[i][3]),a.Time=e.ToNumber(n[i][4]),a.Efficiency=e.ToNumber(n[i][5]),a.Proportion=e.ToNumber(n[i][6]),a.ProtectionTime=e.ToNumber(n[i][7]),a.Weight1=e.ToNumber(n[i][8]),a.Weight2=e.ToNumber(n[i][9]),a.monster=e.ToNumber(n[i][10]),$u.TMining.push(a)}e.CsvData.TMining=null}function jn(t){$u.TMissionReward={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new pr;a.id=e.ToNumber(n[i][0]),a.mission=e.ToNumber(n[i][1]),a.rewawrd=n[i][2],a.taskName=n[i][3],a.taskDetail=n[i][4],$u.TMissionReward[a.id]=a}e.CsvData.TMissionReward=null}function Hn(t){$u.TMooncake={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new gr;a.id=e.ToNumber(n[i][0]),a.money=e.ToNumber(n[i][1]),a.Item=n[i][2],$u.TMooncake[a.id]=a}e.CsvData.TMooncake=null}function On(t){$u.TMoYaReward={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new dr;a.ID=e.ToNumber(n[i][0]),a.Reward=n[i][1],a.MailHeadline=n[i][2],a.MailContent=n[i][3],$u.TMoYaReward[a.ID]=a}e.CsvData.TMoYaReward=null}function Fn(t){$u.TMysteryShop={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new mr;a.id=e.ToNumber(n[i][0]),a.countLimit=e.ToNumber(n[i][1]),a.goods=n[i][2],a.price=n[i][3],a.notify=e.ToNumber(n[i][4]),$u.TMysteryShop[a.id]=a}e.CsvData.TMysteryShop=null}function zn(t){$u.TNewMining={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new fr;a.ID=e.ToNumber(n[i][0]),a.Zone=e.ToNumber(n[i][1]),a.Picture=e.ToNumber(n[i][2]),a.Place=e.ToNumber(n[i][3]),a.Star=e.ToNumber(n[i][4]),a.Number=e.ToNumber(n[i][5]),a.Type=e.ToNumber(n[i][6]),a.Efficiency=e.ToNumber(n[i][7]),a.Time=e.ToNumber(n[i][8]),a.Monster=n[i][9],a.Position=n[i][10],$u.TNewMining[a.ID]=a}e.CsvData.TNewMining=null}function Un(t){$u.TNotePad={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new _r;a.ID=e.ToNumber(n[i][0]),a.opTime=n[i][1],a.edTime=n[i][2],a.index=e.ToNumber(n[i][3]),a.srcPath=n[i][4],a.toPanelID=e.ToNumber(n[i][5]),a.ItemsX=n[i][6],a.ItemsY=n[i][7],a.interval=e.ToNumber(n[i][8]),a.showingItems=n[i][9],a.textX=e.ToNumber(n[i][10]),a.textY=e.ToNumber(n[i][11]),a.noteTxt=n[i][12],a.parm1=n[i][13],a.parm2=n[i][14],a.goodVol=n[i][15],a.dsc=n[i][16],$u.TNotePad[a.ID]=a}e.CsvData.TNotePad=null}function Wn(t){$u.TOmnipotentDebris={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new yr;a.Fdebris=e.ToNumber(n[i][0]),a.FDebrisCount=n[i][1],a.TDebrisCount=e.ToNumber(n[i][2]),a.Inco=n[i][3],$u.TOmnipotentDebris[a.Fdebris]=a}e.CsvData.TOmnipotentDebris=null}function Vn(t){$u.TOnline={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new vr;a.ID=e.ToNumber(n[i][0]),a.waitTime=e.ToNumber(n[i][1]),a.RewardList=n[i][2],$u.TOnline[a.ID]=a}e.CsvData.TOnline=null}function Yn(t){$u.TOpencompetition={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new br;a.id=e.ToNumber(n[i][0]),a.contest=n[i][1],a.rewards=e.ToNumber(n[i][2]),a.title=e.ToNumber(n[i][3]),a.condition=e.ToNumber(n[i][4]),a.duration=e.ToNumber(n[i][5]),a.introduce=n[i][6],a.top=n[i][7],$u.TOpencompetition[a.id]=a}e.CsvData.TOpencompetition=null}function Xn(t){$u.TOrna={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new wr;a.id=e.ToNumber(n[i][0]),a.type=e.ToNumber(n[i][1]),a.limitLV=n[i][2],a.boolEquip=e.ToNumber(n[i][3]),a.upItems=e.ToNumber(n[i][4]),a.scoreItems=e.ToNumber(n[i][5]),a.nextId=e.ToNumber(n[i][6]),a.name=n[i][7],a.level=e.ToNumber(n[i][8]),a.effectId=e.ToNumber(n[i][9]),a.front=e.ToNumber(n[i][10]),$u.TOrna[a.id]=a}e.CsvData.TOrna=null}function Kn(t){$u.TPanel={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new kr;a.id=e.ToNumber(n[i][0]),a.name=n[i][1],$u.TPanel[a.id]=a}e.CsvData.TPanel=null}function Zn(t){$u.TPetBreeding={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ir;a.id=e.ToNumber(n[i][0]),a.eggTime=e.ToNumber(n[i][1]),a.loveAdd=e.ToNumber(n[i][2]),a.openLevel=e.ToNumber(n[i][3]),a.changeLevel=e.ToNumber(n[i][4]),a.baseProbability=e.ToNumber(n[i][5]),a.difProbability=e.ToNumber(n[i][6]),$u.TPetBreeding[a.id]=a}e.CsvData.TPetBreeding=null}function Qn(t){$u.TPethatchGrid={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Tr;a.id=e.ToNumber(n[i][0]),a.lv=e.ToNumber(n[i][1]),a.buy=e.ToNumber(n[i][2]),a.vip=e.ToNumber(n[i][3]),$u.TPethatchGrid[a.id]=a}e.CsvData.TPethatchGrid=null}function Jn(t){$u.TPethatch={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Pr;a.id=e.ToNumber(n[i][0]),a.zhushi=n[i][1],a.loot=e.ToNumber(n[i][2]),a.res=n[i][3],a.grade=e.ToNumber(n[i][4]),a.detail=n[i][5],a.name=n[i][6],$u.TPethatch[a.id]=a}e.CsvData.TPethatch=null}function $n(t){$u.TPetRebirth={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Lr;a.id=e.ToNumber(n[i][0]),a.gold=e.ToNumber(n[i][1]),a.bluecrystal=e.ToNumber(n[i][2]),a.experience=e.ToNumber(n[i][3]),a.Intimacy=e.ToNumber(n[i][4]),a.debris=e.ToNumber(n[i][5]),a.mega=e.ToNumber(n[i][6]),a.stone=e.ToNumber(n[i][7]),a.low=e.ToNumber(n[i][8]),a.scalamedia=e.ToNumber(n[i][9]),a.strive=e.ToNumber(n[i][10]),$u.TPetRebirth[a.id]=a}e.CsvData.TPetRebirth=null}function ei(t){$u.TPiecesShop={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Dr;a.ID=e.ToNumber(n[i][0]),a.refreshID=e.ToNumber(n[i][1]),a.countLimit=e.ToNumber(n[i][2]),a.refreshTime=e.ToNumber(n[i][3]),a.money=n[i][4],$u.TPiecesShop[a.ID]=a}e.CsvData.TPiecesShop=null}function ti(t){$u.TPlayerBadge={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new xr;a.id=e.ToNumber(n[i][0]),a.name=n[i][1],a.type=e.ToNumber(n[i][2]),a.openLevel=e.ToNumber(n[i][3]),a.level=e.ToNumber(n[i][4]),a.upItems=n[i][5],a.upPrice=e.ToNumber(n[i][6]),a.nextId=e.ToNumber(n[i][7]),a.effectId=e.ToNumber(n[i][8]),a.elfLvMax=e.ToNumber(n[i][9]),a.frontBadge=e.ToNumber(n[i][10]),$u.TPlayerBadge[a.id]=a}e.CsvData.TPlayerBadge=null}function ni(t){$u.TPlayerEquipDevil={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Cr;a.id=e.ToNumber(n[i][0]),a.type=e.ToNumber(n[i][1]),a.openLevel=e.ToNumber(n[i][2]),a.level=e.ToNumber(n[i][3]),a.upItems=e.ToNumber(n[i][4]),a.nextId=e.ToNumber(n[i][5]),a.effectId=e.ToNumber(n[i][6]),$u.TPlayerEquipDevil[a.id]=a}e.CsvData.TPlayerEquipDevil=null}function ii(t){$u.TPlayerEquipRefine={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Br;a.id=e.ToNumber(n[i][0]),a.type=e.ToNumber(n[i][1]),a.openLevel=e.ToNumber(n[i][2]),a.level=e.ToNumber(n[i][3]),a.upItems=n[i][4],a.nextId=e.ToNumber(n[i][5]),a.effectId=e.ToNumber(n[i][6]),$u.TPlayerEquipRefine[a.id]=a
}e.CsvData.TPlayerEquipRefine=null}function ai(t){$u.TPlayerEquipStren={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Sr;a.id=e.ToNumber(n[i][0]),a.type=e.ToNumber(n[i][1]),a.openLevel=e.ToNumber(n[i][2]),a.level=e.ToNumber(n[i][3]),a.upItems=n[i][4],a.nextId=e.ToNumber(n[i][5]),a.effectId=e.ToNumber(n[i][6]),$u.TPlayerEquipStren[a.id]=a}e.CsvData.TPlayerEquipStren=null}function oi(t){$u.TPlayerItemRecover={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Er;a.id=e.ToNumber(n[i][0]),a.type=e.ToNumber(n[i][1]),a.openLevel=e.ToNumber(n[i][2]),a.level=e.ToNumber(n[i][3]),a.upItems=e.ToNumber(n[i][4]),a.nextId=e.ToNumber(n[i][5]),a.effectId=e.ToNumber(n[i][6]),a.attribute=n[i][7],$u.TPlayerItemRecover[a.id]=a}e.CsvData.TPlayerItemRecover=null}function si(t){$u.TPlayerItemReExp={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ar;a.id=e.ToNumber(n[i][0]),a.ZHUSHI=n[i][1],a.itemId=e.ToNumber(n[i][2]),a.getItem=e.ToNumber(n[i][3]),$u.TPlayerItemReExp[a.id]=a}e.CsvData.TPlayerItemReExp=null}function ri(t){$u.TPlayerLvReward={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Mr;a.level=e.ToNumber(n[i][0]),a.items=n[i][1],$u.TPlayerLvReward[a.level]=a}e.CsvData.TPlayerLvReward=null}function ui(t){$u.TPlayerLv={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Gr;a.level=e.ToNumber(n[i][0]),a.ex=e.ToNumber(n[i][1]),$u.TPlayerLv[a.level]=a}e.CsvData.TPlayerLv=null}function li(t){$u.TPlayerRole={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Nr;a.id=e.ToNumber(n[i][0]),a.name=n[i][1],a.desc=n[i][2],a.roleIcon=n[i][3],a.roleResours=n[i][4],a.GetExplain=n[i][5],a.vip=e.ToNumber(n[i][6]),a.upItems=n[i][7],a.effectId=e.ToNumber(n[i][8]),a.wingY=e.ToNumber(n[i][9]),a.decorationY=e.ToNumber(n[i][10]),$u.TPlayerRole[a.id]=a}e.CsvData.TPlayerRole=null}function ci(t){$u.TPmCenterTaskRange={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Rr;a.pokemonId=e.ToNumber(n[i][0]),a.pokemonName=n[i][1],a.rarity=e.ToNumber(n[i][2]),$u.TPmCenterTaskRange[a.pokemonId]=a}e.CsvData.TPmCenterTaskRange=null}function hi(t){$u.TPmCenterTask={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new qr;a.taskId=e.ToNumber(n[i][0]),a.taskDemand=n[i][1],a.limit=e.ToNumber(n[i][2]),a.reward=n[i][3],$u.TPmCenterTask[a.taskId]=a}e.CsvData.TPmCenterTask=null}function pi(t){$u.TPremiumPacks={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new jr;a.ID=e.ToNumber(n[i][0]),a.CostMoneyType=e.ToNumber(n[i][1]),a.Price=e.ToNumber(n[i][2]),a.CountLimit=e.ToNumber(n[i][3]),a.RewardList=n[i][4],$u.TPremiumPacks[a.ID]=a}e.CsvData.TPremiumPacks=null}function gi(t){$u.TPrimeCharge={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Hr;a.ID=e.ToNumber(n[i][0]),a.doses=e.ToNumber(n[i][1]),a.preview=n[i][2],a.Item=n[i][3],$u.TPrimeCharge[a.ID]=a}e.CsvData.TPrimeCharge=null}function di(t){$u.TPVPComBuy={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Or;a.id=e.ToNumber(n[i][0]),a.count=e.ToNumber(n[i][1]),a.type=e.ToNumber(n[i][2]),a.rank=e.ToNumber(n[i][3]),a.reward=n[i][4],$u.TPVPComBuy[a.id]=a}e.CsvData.TPVPComBuy=null}function mi(t){$u.TPVPComMatch={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Fr;a.id=e.ToNumber(n[i][0]),a.battleMin=e.ToNumber(n[i][1]),a.battleMax=e.ToNumber(n[i][2]),$u.TPVPComMatch[a.id]=a}e.CsvData.TPVPComMatch=null}function fi(t){$u.TPVPComReward={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new zr;a.id=e.ToNumber(n[i][0]),a.rank=n[i][1],a.reward=n[i][2],$u.TPVPComReward[a.id]=a}e.CsvData.TPVPComReward=null}function _i(t){$u.TPVPComRuby={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ur;a.id=e.ToNumber(n[i][0]),a.battleMin=e.ToNumber(n[i][1]),a.Formation=e.ToNumber(n[i][2]),a.ZHUSHI=e.ToNumber(n[i][3]),$u.TPVPComRuby[a.id]=a}e.CsvData.TPVPComRuby=null}function yi(t){$u.TPVPMissionReward={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Wr;a.id=e.ToNumber(n[i][0]),a.rank=n[i][1],a.reward=n[i][2],$u.TPVPMissionReward[a.id]=a}e.CsvData.TPVPMissionReward=null}function vi(t){$u.TPVPPokemonMaster=[];for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Vr;a.attribute=e.ToNumber(n[i][0]),a.rank=e.ToNumber(n[i][1]),a.PokemonID=e.ToNumber(n[i][2]),a.HeroID=e.ToNumber(n[i][3]),a.name=n[i][4],a.Loots=n[i][5],a.CombatNum=n[i][6],$u.TPVPPokemonMaster.push(a)}e.CsvData.TPVPPokemonMaster=null}function bi(t){$u.TPVPSoloReward={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Yr;a.id=e.ToNumber(n[i][0]),a.rank=n[i][1],a.reward=n[i][2],$u.TPVPSoloReward[a.id]=a}e.CsvData.TPVPSoloReward=null}function wi(t){$u.TQuest={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Xr;a.id=e.ToNumber(n[i][0]),a.type=e.ToNumber(n[i][1]),a.number=e.ToNumber(n[i][2]),a.NextQuestID=n[i][3],a.QuestTitle=n[i][4],a.QuestInformation=n[i][5],a.LimitedType=e.ToNumber(n[i][6]),a.LimitedNum=e.ToNumber(n[i][7]),a.active=e.ToNumber(n[i][8]),a.ReSet=e.ToNumber(n[i][9]),a.Reward1=n[i][10],a.Reward2=n[i][11],a.Reward3=n[i][12],a.GoToNumber=e.ToNumber(n[i][13]),a.TeachStartId=e.ToNumber(n[i][14]),a.visual=e.ToNumber(n[i][15]),$u.TQuest[a.id]=a}e.CsvData.TQuest=null}function ki(t){$u.TRandomNameNew={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Kr;a.FirstName=n[i][0],a.Male=n[i][1],a.Female=n[i][2],$u.TRandomNameNew[a.FirstName]=a}e.CsvData.TRandomNameNew=null}function Ii(t){$u.TRandomName=[];for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Zr;a.Male=n[i][0],a.Female=n[i][1],$u.TRandomName.push(a)}e.CsvData.TRandomName=null}function Ti(t){$u.TRankGradCompetition={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Qr;a.ID=e.ToNumber(n[i][0]),a.Division=e.ToNumber(n[i][1]),a.Victory=e.ToNumber(n[i][2]),a.CorresLv=e.ToNumber(n[i][3]),a.enemyId=e.ToNumber(n[i][4]),$u.TRankGradCompetition[a.ID]=a}e.CsvData.TRankGradCompetition=null}function Pi(t){$u.TRankHonorLv={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Jr;a.ID=e.ToNumber(n[i][0]),a.dec=n[i][1],a.name=e.ToNumber(n[i][2]),a.DayReward=n[i][3],a.WeekReward=n[i][4],a.nextLv=e.ToNumber(n[i][5]),a.proLv=e.ToNumber(n[i][6]),a.needBattle=e.ToNumber(n[i][7]),a.needBattleWin=e.ToNumber(n[i][8]),a.medal=e.ToNumber(n[i][9]),$u.TRankHonorLv[a.ID]=a}e.CsvData.TRankHonorLv=null}function Li(t){$u.TRankRule={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new $r;a.ID=e.ToNumber(n[i][0]),a.info=n[i][1],$u.TRankRule[a.ID]=a}e.CsvData.TRankRule=null}function Di(t){$u.TRankSignReward={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new eu;a.ID=e.ToNumber(n[i][0]),a.name=e.ToNumber(n[i][1]),a.lvMix=n[i][2],a.lvMax=n[i][3],$u.TRankSignReward[a.ID]=a}e.CsvData.TRankSignReward=null}function xi(t){$u.TRankSignUp={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new tu;a.ID=e.ToNumber(n[i][0]),a.name=n[i][1],a.lvMix=e.ToNumber(n[i][2]),a.lvMax=e.ToNumber(n[i][3]),a.honorMax=e.ToNumber(n[i][4]),a.initialDan=e.ToNumber(n[i][5]),a.MaxDan=e.ToNumber(n[i][6]),a.Robot=n[i][7],$u.TRankSignUp[a.ID]=a}e.CsvData.TRankSignUp=null}function Ci(t){$u.TRecharge49={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new nu;a.ID=e.ToNumber(n[i][0]),a.Price=e.ToNumber(n[i][1]),a.preview=n[i][2],a.RewardList=n[i][3],$u.TRecharge49[a.ID]=a}e.CsvData.TRecharge49=null}function Bi(t){$u.TRechargeDouble={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new iu;a.ID=e.ToNumber(n[i][0]),a.resource=n[i][1],$u.TRechargeDouble[a.ID]=a}e.CsvData.TRechargeDouble=null}function Si(t){$u.TRechargeElfin={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new au;a.ID=e.ToNumber(n[i][0]),a.doses=e.ToNumber(n[i][1]),a.preview=n[i][2],a.Item=n[i][3],$u.TRechargeElfin[a.ID]=a}e.CsvData.TRechargeElfin=null}function Ei(t){$u.TRechargeIOS={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ou;a.ID=e.ToNumber(n[i][0]),a.Diamonds=n[i][1],a.Price=n[i][2],a.AddVip=e.ToNumber(n[i][3]),a.MagicID=e.ToNumber(n[i][4]),$u.TRechargeIOS[a.ID]=a}e.CsvData.TRechargeIOS=null}function Ai(t){$u.TRecharge={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new su;a.ID=e.ToNumber(n[i][0]),a.Diamonds=n[i][1],a.Price=n[i][2],a.AddVip=e.ToNumber(n[i][3]),a.MagicID=e.ToNumber(n[i][4]),$u.TRecharge[a.ID]=a}e.CsvData.TRecharge=null}function Mi(t){$u.TRecommend={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ru;a.id=e.ToNumber(n[i][0]),a.type1=e.ToNumber(n[i][1]),a.type2=e.ToNumber(n[i][2]),a.elfId=e.ToNumber(n[i][3]),$u.TRecommend[a.id]=a}e.CsvData.TRecommend=null}function Gi(t){$u.TRedElfShop={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new uu;a.id=e.ToNumber(n[i][0]),a.goods=e.ToNumber(n[i][1]),a.price=n[i][2],$u.TRedElfShop[a.id]=a}e.CsvData.TRedElfShop=null}function Ni(t){$u.TRedElfTimeLimitShop={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new lu;a.id=e.ToNumber(n[i][0]),a.group=e.ToNumber(n[i][1]),a.item=n[i][2],a.price=e.ToNumber(n[i][3]),a.limit=e.ToNumber(n[i][4]),a.rechargeId=e.ToNumber(n[i][5]),a.title=n[i][6],a.desc=n[i][7],$u.TRedElfTimeLimitShop[a.id]=a}e.CsvData.TRedElfTimeLimitShop=null}function Ri(t){$u.TRefresh={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new cu;a.ID=e.ToNumber(n[i][0]),a.goods=e.ToNumber(n[i][1]),a.good=n[i][2],a.weight=e.ToNumber(n[i][3]),$u.TRefresh[a.ID]=a}e.CsvData.TRefresh=null}function qi(t){$u.TREvolveUp={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new hu;a.id=e.ToNumber(n[i][0]),a.level=e.ToNumber(n[i][1]),a.stage=e.ToNumber(n[i][2]),a.abliUp=e.ToNumber(n[i][3]),a.costItem=n[i][4],a.price=n[i][5],$u.TREvolveUp[a.id]=a}e.CsvData.TREvolveUp=null}function ji(t){$u.TRewardPreview={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new pu;a.id=e.ToNumber(n[i][0]),a.AdvPreview=n[i][1],a.LowerPreview=n[i][2],$u.TRewardPreview[a.id]=a}e.CsvData.TRewardPreview=null}function Hi(t){$u.TRisk=[];for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new gu;a.ID=e.ToNumber(n[i][0]),a.Content=n[i][1],$u.TRisk.push(a)}e.CsvData.TRisk=null}function Oi(t){$u.Trobotup={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new du;a.id=e.ToNumber(n[i][0]),a.lvUpPerHour=n[i][1],a.lvLimit=e.ToNumber(n[i][2]),a.starUp=n[i][3],$u.Trobotup[a.id]=a}e.CsvData.Trobotup=null}function Fi(t){$u.TSevenDaysCompetition={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new mu;a.date=e.ToNumber(n[i][0]),a.competitionName=n[i][1],a.competitionDetail=n[i][2],a.reward1st=n[i][3],a.reward2nd=n[i][4],a.reward3rd=n[i][5],a.reward4to10=n[i][6],$u.TSevenDaysCompetition[a.date]=a}e.CsvData.TSevenDaysCompetition=null}function zi(t){$u.TSevendaysReward=[];for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new fu;a.id=e.ToNumber(n[i][0]),a.type=e.ToNumber(n[i][1]),a.QuestTitle=n[i][2],a.QuestInformation=n[i][3],a.LimitedNum=e.ToNumber(n[i][4]),a.unit=n[i][5],a.GoToNumber=e.ToNumber(n[i][6]),a.Reward=n[i][7],a.integral=e.ToNumber(n[i][8]),a.Reward1=n[i][9],$u.TSevendaysReward.push(a)}e.CsvData.TSevendaysReward=null}function Ui(t){$u.TShopType={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new _u;a.typeid=e.ToNumber(n[i][0]),a.name=n[i][1],a.level=e.ToNumber(n[i][2]),a.recoveTime=e.ToNumber(n[i][3]),a.MaxCount=e.ToNumber(n[i][4]),a.price=n[i][5],a.recoverType=e.ToNumber(n[i][6]),a.sort=e.ToNumber(n[i][7]),a.describe=n[i][8],$u.TShopType[a.typeid]=a}e.CsvData.TShopType=null}function Wi(t){$u.TShop={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new yu;a.id=e.ToNumber(n[i][0]),a.type=e.ToNumber(n[i][1]),a.countLimit=e.ToNumber(n[i][2]),a.buyLimitType=e.ToNumber(n[i][3]),a.buyLimitNumber=e.ToNumber(n[i][4]),a.refreshCycle=e.ToNumber(n[i][5]),a.startTime=n[i][6],a.dedTime=n[i][7],a.goods=n[i][8],a.price=n[i][9],a.notify=e.ToNumber(n[i][10]),a.cycleNotify=e.ToNumber(n[i][11]),a.display=e.ToNumber(n[i][12]),$u.TShop[a.id]=a}e.CsvData.TShop=null}function Vi(t){$u.TSocietypersonageScience=[];for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new vu;a.id=e.ToNumber(n[i][0]),a.level=e.ToNumber(n[i][1]),a.cost=e.ToNumber(n[i][2]),a.AbilityDPS=e.ToNumber(n[i][3]),$u.TSocietypersonageScience.push(a)}e.CsvData.TSocietypersonageScience=null}function Yi(t){$u.TSocietyScience=[];for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new bu;a.id=e.ToNumber(n[i][0]),a.zhushi=n[i][1],a.level=e.ToNumber(n[i][2]),a.needgold=e.ToNumber(n[i][3]),a.effectId=e.ToNumber(n[i][4]),$u.TSocietyScience.push(a)}e.CsvData.TSocietyScience=null}function Xi(t){$u.TSpecialDungeonsType={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new wu;a.type=e.ToNumber(n[i][0]),a.name=n[i][1],a.openLv=e.ToNumber(n[i][2]),a.openWeek=n[i][3],a.countBegin=e.ToNumber(n[i][4]),$u.TSpecialDungeonsType[a.type]=a}e.CsvData.TSpecialDungeonsType=null}function Ki(t){$u.TSpecialDungeons={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ku;a.id=e.ToNumber(n[i][0]),a.type=e.ToNumber(n[i][1]),a.bg=e.ToNumber(n[i][2]),a.name=n[i][3],a.limitLevel=e.ToNumber(n[i][4]),a.Reward=n[i][5],a.Formation=e.ToNumber(n[i][6]),a.Preview=n[i][7],a.NormalCollectLoot=n[i][8],a.FestivalCollectLoot=n[i][9],$u.TSpecialDungeons[a.id]=a}e.CsvData.TSpecialDungeons=null}function Zi(t){$u.TStrategy={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Iu;a.ID=e.ToNumber(n[i][0]),a.Detail=n[i][1],$u.TStrategy[a.ID]=a}e.CsvData.TStrategy=null}function Qi(t){$u.TStronger={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Tu;a.ID=e.ToNumber(n[i][0]),a.System=n[i][1],a.Describe=n[i][2],a.level=n[i][3],a.picture=n[i][4],a.jump=e.ToNumber(n[i][5]),$u.TStronger[a.ID]=a}e.CsvData.TStronger=null}function Ji(t){$u.TSuipianqiyuan={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Pu;a.id=e.ToNumber(n[i][0]),a.pieceId=e.ToNumber(n[i][1]),a.attribute=e.ToNumber(n[i][2]),a.rarity=e.ToNumber(n[i][3]),$u.TSuipianqiyuan[a.id]=a}e.CsvData.TSuipianqiyuan=null}function $i(t){$u.TSuperGashapon=[];for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Lu;a.ID=e.ToNumber(n[i][0]),a.Group=e.ToNumber(n[i][1]),a.Name=n[i][2],a.Quality=e.ToNumber(n[i][3]),a.Weight=e.ToNumber(n[i][4]),$u.TSuperGashapon.push(a)}e.CsvData.TSuperGashapon=null}function ea(t){$u.TTalk=[];for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Du;a.id=e.ToNumber(n[i][0]),a.text=n[i][1],$u.TTalk.push(a)}e.CsvData.TTalk=null}function ta(t){$u.TTeach={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new xu;a.id=e.ToNumber(n[i][0]),a.TZHUSHI=n[i][1],a.ZHUSHI=n[i][2],a.nextId=e.ToNumber(n[i][3]),a.cubeX=e.ToNumber(n[i][4]),a.cubeY=e.ToNumber(n[i][5]),a.cubeWidth=e.ToNumber(n[i][6]),a.fingerDir=e.ToNumber(n[i][7]),a.panel=e.ToNumber(n[i][8]),a.check=e.ToNumber(n[i][9]),a.FromLeft=e.ToNumber(n[i][10]),$u.TTeach[a.id]=a}e.CsvData.TTeach=null}function na(t){$u.TTestFree={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Cu;a.ID=e.ToNumber(n[i][0]),a.resource=n[i][1],$u.TTestFree[a.ID]=a}e.CsvData.TTestFree=null}function ia(t){$u.TTexiaoBg={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Bu;a.id=e.ToNumber(n[i][0]),a.name=n[i][1],a.resource=n[i][2],a.offsetX=e.ToNumber(n[i][3]),a.offsetY=e.ToNumber(n[i][4]),a.delay=e.ToNumber(n[i][5]),a.zhishi=n[i][6],$u.TTexiaoBg[a.id]=a}e.CsvData.TTexiaoBg=null}function aa(t){$u.TTexiaoBoom={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Su;a.id=e.ToNumber(n[i][0]),a.name=n[i][1],a.resource=n[i][2],a.offsetX=e.ToNumber(n[i][3]),a.offsetY=e.ToNumber(n[i][4]),a.delay=e.ToNumber(n[i][5]),$u.TTexiaoBoom[a.id]=a}e.CsvData.TTexiaoBoom=null}function oa(t){$u.TTexiaoBuff={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Eu;a.id=e.ToNumber(n[i][0]),a.name=n[i][1],a.resource=n[i][2],a.offsetX=e.ToNumber(n[i][3]),a.offsetY=e.ToNumber(n[i][4]),a.delay=e.ToNumber(n[i][5]),$u.TTexiaoBuff[a.id]=a}e.CsvData.TTexiaoBuff=null}function sa(t){$u.TTexiaoFire={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Au;a.id=e.ToNumber(n[i][0]),a.name=n[i][1],a.resource=n[i][2],a.offsetX=e.ToNumber(n[i][3]),a.offsetY=e.ToNumber(n[i][4]),a.delay=e.ToNumber(n[i][5]),$u.TTexiaoFire[a.id]=a}e.CsvData.TTexiaoFire=null}function ra(t){$u.TTexiaoFly={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Mu;a.id=e.ToNumber(n[i][0]),a.name=n[i][1],a.resource=n[i][2],a.offsetX=e.ToNumber(n[i][3]),a.offsetY=e.ToNumber(n[i][4]),a.delay=e.ToNumber(n[i][5]),$u.TTexiaoFly[a.id]=a}e.CsvData.TTexiaoFly=null}function ua(t){$u.TTexiaoGather={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Gu;a.id=e.ToNumber(n[i][0]),a.name=n[i][1],a.resource=n[i][2],a.offsetX=e.ToNumber(n[i][3]),a.offsetY=e.ToNumber(n[i][4]),a.delay=e.ToNumber(n[i][5]),a.zhishi=n[i][6],$u.TTexiaoGather[a.id]=a}e.CsvData.TTexiaoGather=null}function la(t){$u.TTips={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Nu;a.id=e.ToNumber(n[i][0]),a.tips=n[i][1],a.ZHUSHI=n[i][2],a.condition1=e.ToNumber(n[i][3]),a.condition2=e.ToNumber(n[i][4]),$u.TTips[a.id]=a}e.CsvData.TTips=null}function ca(t){$u.TTitle={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ru;a.id=e.ToNumber(n[i][0]),a.name=n[i][1],a.title=e.ToNumber(n[i][2]),a.quality=n[i][3],a.des=n[i][4],a.effectId=e.ToNumber(n[i][5]),a.dungeons=e.ToNumber(n[i][6]),a.comPvpRank=e.ToNumber(n[i][7]),a.power=e.ToNumber(n[i][8]),a.elfType=e.ToNumber(n[i][9]),a.OelfNum=e.ToNumber(n[i][10]),a.RelfNum=e.ToNumber(n[i][11]),a.tower=e.ToNumber(n[i][12]),a.vipLv=e.ToNumber(n[i][13]),a.friends=e.ToNumber(n[i][14]),a.meetBattle=e.ToNumber(n[i][15]),a.rift=e.ToNumber(n[i][16]),a.ranklv=e.ToNumber(n[i][17]),a.mining=e.ToNumber(n[i][18]),a.activity=e.ToNumber(n[i][19]),a.recharge=e.ToNumber(n[i][20]),$u.TTitle[a.id]=a}e.CsvData.TTitle=null}function ha(t){$u.TTowerShop={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new qu;a.id=e.ToNumber(n[i][0]),a.zhushi=n[i][1],a.goods=n[i][2],a.price=n[i][3],$u.TTowerShop[a.id]=a}e.CsvData.TTowerShop=null}function pa(t){$u.TTower={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new ju;a.id=e.ToNumber(n[i][0]),a.gradeCombat=e.ToNumber(n[i][1]),a.perID=e.ToNumber(n[i][2]),a.expElf=e.ToNumber(n[i][3]),a.lootPreview=n[i][4],a.loot=n[i][5],a.cost=e.ToNumber(n[i][6]),a.formation=e.ToNumber(n[i][7]),a.DungeonsID=e.ToNumber(n[i][8]),a.NormalCollectLoot=n[i][9],a.FestivalCollectLoot=n[i][10],$u.TTower[a.id]=a}e.CsvData.TTower=null}function ga(t){$u.TTravelTime={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Hu;a.ID=e.ToNumber(n[i][0]),a.Name=n[i][1],a.Production=n[i][2],a.Destination=e.ToNumber(n[i][3]),a.TravelTime=e.ToNumber(n[i][4]),$u.TTravelTime[a.ID]=a}e.CsvData.TTravelTime=null}function da(t){$u.TTutorialDialog={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ou;a.ID=e.ToNumber(n[i][0]),a.Zhushi=n[i][1],a.ZhuShiType=n[i][2],a.Dialog=n[i][3],a.WordBool=e.ToNumber(n[i][4]),a.X=e.ToNumber(n[i][5]),a.Y=e.ToNumber(n[i][6]),a.W=e.ToNumber(n[i][7]),a.H=e.ToNumber(n[i][8]),a.textOutline=n[i][9],a.textPx=e.ToNumber(n[i][10]),a.textSize=e.ToNumber(n[i][11]),a.audio=n[i][12],a.FromLeft=e.ToNumber(n[i][13]),$u.TTutorialDialog[a.ID]=a}e.CsvData.TTutorialDialog=null}function ma(t){$u.TTutorialPicture={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Fu;a.ID=e.ToNumber(n[i][0]),a.Zhushi=n[i][1],a.Resourses=n[i][2],a.OverTurn=e.ToNumber(n[i][3]),a.X=e.ToNumber(n[i][4]),a.Y=e.ToNumber(n[i][5]),a.W=e.ToNumber(n[i][6]),a.H=e.ToNumber(n[i][7]),a.audio=n[i][8],a.ZhushiType1=n[i][9],a.FromLeft=e.ToNumber(n[i][10]),$u.TTutorialPicture[a.ID]=a}e.CsvData.TTutorialPicture=null}function fa(t){$u.TTutorial=[];for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new zu;a.Progress=e.ToNumber(n[i][0]),a.ProgressId=e.ToNumber(n[i][1]),a.SceneName=n[i][2],a.TimeLevel=e.ToNumber(n[i][3]),a.FunctionopenId=e.ToNumber(n[i][4]),a.Wave=e.ToNumber(n[i][5]),a.ZhushiType=n[i][6],a.Zhushi=n[i][7],a.BackGround1=e.ToNumber(n[i][8]),a.DownPicture=e.ToNumber(n[i][9]),a.BackGround2=n[i][10],a.LightPicture=e.ToNumber(n[i][11]),a.ClickThis=e.ToNumber(n[i][12]),a.ClickAny=e.ToNumber(n[i][13]),a.Dialog=n[i][14],a.PictureBreak=e.ToNumber(n[i][15]),a.Save=e.ToNumber(n[i][16]),a.Nosave=e.ToNumber(n[i][17]),$u.TTutorial.push(a)}e.CsvData.TTutorial=null}function _a(t){$u.TVipLvaward={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Uu;a.id=e.ToNumber(n[i][0]),a.vipLevel=e.ToNumber(n[i][1]),a.rewardList=n[i][2],$u.TVipLvaward[a.id]=a}e.CsvData.TVipLvaward=null}function ya(t){$u.TVip={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Wu;a.level=e.ToNumber(n[i][0]),a.threshold=e.ToNumber(n[i][1]),a.Vipitems=n[i][2],a.price=e.ToNumber(n[i][3]),a.giveItme=n[i][4],a.quickBattle=e.ToNumber(n[i][5]),a.quickBattleBuy=e.ToNumber(n[i][6]),a.pvpBuyCount=e.ToNumber(n[i][7]),a.spDunBuyCount=e.ToNumber(n[i][8]),a.spChangeBuyCount=e.ToNumber(n[i][9]),a.spChangeAgainCount=e.ToNumber(n[i][10]),a.autoChangeTime=e.ToNumber(n[i][11]),a.spDunPass=e.ToNumber(n[i][12]),a.autoMiningTime=e.ToNumber(n[i][13]),a.MiningCostUp=e.ToNumber(n[i][14]),a.abilityAdd=e.ToNumber(n[i][15]),a.Discount=e.ToNumber(n[i][16]),a.DebrisSwap=e.ToNumber(n[i][17]),a.WaitElfCount=e.ToNumber(n[i][18]),a.Awaitspirit=e.ToNumber(n[i][19]),a.AwaitItme=e.ToNumber(n[i][20]),a.Diamondtime=e.ToNumber(n[i][21]),a.bsChangeAgainCount=e.ToNumber(n[i][22]),a.bsAutoBattle=e.ToNumber(n[i][23]),a.GYMResetCount=e.ToNumber(n[i][24]),a.GYMResetForPay=e.ToNumber(n[i][25]),a.AddIVTimes=e.ToNumber(n[i][26]),a.Universal=e.ToNumber(n[i][27]),a.spDunRecover=e.ToNumber(n[i][28]),a.TreasureUnlock=e.ToNumber(n[i][29]),a.Carry=e.ToNumber(n[i][30]),a.CarryRecover=e.ToNumber(n[i][31]),$u.TVip[a.level]=a}e.CsvData.TVip=null}function va(t){$u.TWanbaRecharge={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Vu;a.ID=e.ToNumber(n[i][0]),a.Diamonds=n[i][1],a.Price=n[i][2],a.AddVip=e.ToNumber(n[i][3]),$u.TWanbaRecharge[a.ID]=a}e.CsvData.TWanbaRecharge=null}function ba(t){$u.TWanBaReward={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Yu;a.ID=e.ToNumber(n[i][0]),a.ItemId=n[i][1],a.type=e.ToNumber(n[i][2]),a.Reward=n[i][3],a.MailHeadline=n[i][4],a.MailContent=n[i][5],a.limit=e.ToNumber(n[i][6]),$u.TWanBaReward[a.ID]=a}e.CsvData.TWanBaReward=null}function wa(t){$u.TWeather={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Xu;a.Id=e.ToNumber(n[i][0]),a.name=n[i][1],a.type=n[i][2],a.effectWeather=e.ToNumber(n[i][3]),a.resource=n[i][4],$u.TWeather[a.Id]=a}e.CsvData.TWeather=null}function ka(t){$u.TWing={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ku;a.id=e.ToNumber(n[i][0]),a.type=e.ToNumber(n[i][1]),a.limitLV=n[i][2],a.boolEquip=e.ToNumber(n[i][3]),a.upItems=e.ToNumber(n[i][4]),a.scoreItems=e.ToNumber(n[i][5]),a.nextId=e.ToNumber(n[i][6]),a.name=n[i][7],a.level=e.ToNumber(n[i][8]),a.effectId=e.ToNumber(n[i][9]),a.front=e.ToNumber(n[i][10]),$u.TWing[a.id]=a}e.CsvData.TWing=null}function Ia(t){$u.TXiaoGuo={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Zu;a.id=e.ToNumber(n[i][0]),a.ZHUSHI=n[i][1],a.target=e.ToNumber(n[i][2]),a.timing=e.ToNumber(n[i][3]),a.condition=e.ToNumber(n[i][4]),a.buffRound=e.ToNumber(n[i][5]),a.roundEffect=e.ToNumber(n[i][6]),a.afterEffect=e.ToNumber(n[i][7]),a.typeid=e.ToNumber(n[i][8]),a.sameEffect=e.ToNumber(n[i][9]),a.DeBuff=e.ToNumber(n[i][10]),a.desc=n[i][11],a.resBuff=e.ToNumber(n[i][12]),a.atk=e.ToNumber(n[i][13]),a.def=e.ToNumber(n[i][14]),a.atkSp=e.ToNumber(n[i][15]),a.defSp=e.ToNumber(n[i][16]),a.spe=e.ToNumber(n[i][17]),a.hit=e.ToNumber(n[i][18]),a.evade=e.ToNumber(n[i][19]),a.critChance=e.ToNumber(n[i][20]),a.critDamage=e.ToNumber(n[i][21]),a.damage=e.ToNumber(n[i][22]),a.recoverAtk=e.ToNumber(n[i][23]),a.recoverAtkSp=e.ToNumber(n[i][24]),a.recoverHpMax=e.ToNumber(n[i][25]),a.recoverHpCur=e.ToNumber(n[i][26]),a.healsAtk=e.ToNumber(n[i][27]),a.healsAtkSp=e.ToNumber(n[i][28]),a.healsHpMax=e.ToNumber(n[i][29]),a.healsHpCur=e.ToNumber(n[i][30]),a.recoverDamage=e.ToNumber(n[i][31]),a.skillRan=e.ToNumber(n[i][32]),a.targetRan=e.ToNumber(n[i][33]),a.actNo=e.ToNumber(n[i][34]),a.clean=e.ToNumber(n[i][35]),a.recoverSpower=e.ToNumber(n[i][36]),a.firePower=e.ToNumber(n[i][37]),a.waterPower=e.ToNumber(n[i][38]),a.grassPower=e.ToNumber(n[i][39]),a.elePower=e.ToNumber(n[i][40]),a.icePower=e.ToNumber(n[i][41]),a.wrestlePower=e.ToNumber(n[i][42]),a.iceSkill=e.ToNumber(n[i][43]),a.ghostSkill=e.ToNumber(n[i][44]),a.generalSkill=e.ToNumber(n[i][45]),a.electricSkill=e.ToNumber(n[i][46]),a.insectSkill=e.ToNumber(n[i][47]),a.flightSkill=e.ToNumber(n[i][48]),a.groundSkill=e.ToNumber(n[i][49]),a.rockSkill=e.ToNumber(n[i][50]),a.grappleSkill=e.ToNumber(n[i][51]),a.superSkill=e.ToNumber(n[i][52]),a.steelSkill=e.ToNumber(n[i][53]),a.poisonSkill=e.ToNumber(n[i][54]),a.atkPower=e.ToNumber(n[i][55]),a.atkSpPower=e.ToNumber(n[i][56]),$u.TXiaoGuo[a.id]=a}e.CsvData.TXiaoGuo=null}function Ta(t){$u.TYuandanReward={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Qu;a.id=e.ToNumber(n[i][0]),a.QuestTitle=n[i][1],a.QuestInformation=n[i][2],a.LimitedNum=e.ToNumber(n[i][3]),a.unit=n[i][4],a.Acquisitionactive=e.ToNumber(n[i][5]),a.totaldegree=e.ToNumber(n[i][6]),a.Unreset=e.ToNumber(n[i][7]),a.skip=e.ToNumber(n[i][8]),a.integral=e.ToNumber(n[i][9]),a.Reward1=n[i][10],$u.TYuandanReward[a.id]=a}e.CsvData.TYuandanReward=null}function Pa(t){$u.TYuanyuan={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new Ju;a.id=e.ToNumber(n[i][0]),a.picture=n[i][1],a.overeat=e.ToNumber(n[i][2]),a.Item=n[i][3],a.big=e.ToNumber(n[i][4]),a.feed=e.ToNumber(n[i][5]),a.award=n[i][6],a.top=n[i][7],$u.TYuanyuan[a.id]=a}e.CsvData.TYuanyuan=null}function La(){t(e.CsvData.PokemonCenter),n(e.CsvData.TAbility),i(e.CsvData.TActiveConfiguration),a(e.CsvData.TActiveReward),o(e.CsvData.TAdvanced),s(e.CsvData.TAkeyCapture),r(e.CsvData.TAnnouncement),u(e.CsvData.TAppointmentGift),l(e.CsvData.TAttribute),c(e.CsvData.TBattleMetro),h(e.CsvData.TBattlesubwayRandClip),p(e.CsvData.TBattlesubway),g(e.CsvData.Tbigcompete),d(e.CsvData.TbreedingHatch),m(e.CsvData.TbreedingQuality),f(e.CsvData.TbreedingRandom),_(e.CsvData.TChristmasEve),y(e.CsvData.TCombat),v(e.CsvData.TConstants),b(e.CsvData.TContestAwards),w(e.CsvData.TCustomsClearance),k(e.CsvData.TDailyCon),I(e.CsvData.TDailyGifts),T(e.CsvData.TDailyRecharge),P(e.CsvData.TDaimChGold),L(e.CsvData.TDaysDiamond),D(e.CsvData.TDDialog),x(e.CsvData.TDebrisSwap),C(e.CsvData.TDecennium),B(e.CsvData.TDialog),S(e.CsvData.TDiamondCon),E(e.CsvData.TDungeonAuto),A(e.CsvData.TDungeonMaps),M(e.CsvData.TEArtifactAbility),G(e.CsvData.TEArtifactEtrAbility),N(e.CsvData.TEArtifactEtrType),R(e.CsvData.TEArtifactStarLv),q(e.CsvData.TEArtifactUpLv),j(e.CsvData.TEArtifact),H(e.CsvData.TEffect),O(e.CsvData.TElfBan),F(e.CsvData.TElfBringGrid),z(e.CsvData.TElfBring),U(e.CsvData.TElfCombo),W(e.CsvData.TElfFollowGrid),V(e.CsvData.TElfHelpGrid),Y(e.CsvData.TElfIV),X(e.CsvData.TElfLevel),K(e.CsvData.TElfLove),Z(e.CsvData.TElfOneInThree),Q(e.CsvData.TElfQuality),J(e.CsvData.TElfSeerValue),$(e.CsvData.TElfSkill),et(e.CsvData.TElfStarChange),tt(e.CsvData.TElfStarUp),nt(e.CsvData.TElfTalentAbility),it(e.CsvData.TElfTalent),at(e.CsvData.TElfXingGe),ot(e.CsvData.TElf),st(e.CsvData.TEngage),rt(e.CsvData.TEntryYuandan),ut(e.CsvData.TequipAttribute),lt(e.CsvData.TequipExp),ct(e.CsvData.TequipInitial),ht(e.CsvData.TequipLv),pt(e.CsvData.Tequip),gt(e.CsvData.TEverydayRecharge),dt(e.CsvData.TFamLv),mt(e.CsvData.TFam),ft(e.CsvData.TFGashapon),_t(e.CsvData.TFHomeLandLv),yt(e.CsvData.TFirstGroupon),vt(e.CsvData.TFlashElf),bt(e.CsvData.TFSearch),wt(e.CsvData.TFunctionopen),kt(e.CsvData.TFurnitureExtraQual),It(e.CsvData.TFurnitureExtraType),Tt(e.CsvData.TFurnitureLv),Pt(e.CsvData.TFurnitureMake),Lt(e.CsvData.TFurnitureQuality),Dt(e.CsvData.TFurniture),xt(e.CsvData.TGashaponLoot),Ct(e.CsvData.TGashaponReward),Bt(e.CsvData.TGashapon),St(e.CsvData.TGMHelp),Et(e.CsvData.TGodbeast),At(e.CsvData.TGoldenEggs),Mt(e.CsvData.TGridType),Gt(e.CsvData.TGridUp),Nt(e.CsvData.TGuildBoss),Rt(e.CsvData.TGuildBuilding),qt(e.CsvData.TGuildLog),jt(e.CsvData.TGYMLv),Ht(e.CsvData.TGYMReward),Ot(e.CsvData.TGYMRule),Ft(e.CsvData.TGYMStageInfo),zt(e.CsvData.TGYM),Ut(e.CsvData.THallowmas),Wt(e.CsvData.THappyMidAutumn),Vt(e.CsvData.THuntLoot),Yt(e.CsvData.THunt),Xt(e.CsvData.THuoChengZhang),Kt(e.CsvData.THuoCollent),Zt(e.CsvData.THuoConsumption),Qt(e.CsvData.THuoInvite),Jt(e.CsvData.THuoOneRMB),$t(e.CsvData.THuoPolite),en(e.CsvData.THuoQianDao),tn(e.CsvData.THuoRechargeFrist),nn(e.CsvData.THuoRechargeSum),an(e.CsvData.THuoRedElfTaskDetail),on(e.CsvData.THuoRedElfTaskShop),sn(e.CsvData.THuoRedElfTask),rn(e.CsvData.THuoRedElf),un(e.CsvData.THuoSevenLg),ln(e.CsvData.THuoSuperElf),cn(e.CsvData.THuoVipfuli),hn(e.CsvData.THuoYue),pn(e.CsvData.THuoZhandou),gn(e.CsvData.THuoZhongSheng),dn(e.CsvData.THuoZhuanPan),mn(e.CsvData.TID),fn(e.CsvData.TItem),_n(e.CsvData.TJihuoma),yn(e.CsvData.TLootItem),vn(e.CsvData.TLoot),bn(e.CsvData.TLuckZhuanPan),wn(e.CsvData.TLvaCtivity2),kn(e.CsvData.TLvaCtivity),In(e.CsvData.TMagicShop),Tn(e.CsvData.TMail),Pn(e.CsvData.TMaintainAnnouncement),Ln(e.CsvData.TMammonRabbit),Dn(e.CsvData.TMapsCatchItem),xn(e.CsvData.TMapsCatch),Cn(e.CsvData.TMapsEvent),Bn(e.CsvData.TMapsLegendary),Sn(e.CsvData.TMapsRole),En(e.CsvData.TMiningCubeLoot),An(e.CsvData.TMiningCube),Mn(e.CsvData.TMiningExplain),Gn(e.CsvData.TMiningLoot),Nn(e.CsvData.TMiningMap),Rn(e.CsvData.TMiningRule),qn(e.CsvData.TMining),jn(e.CsvData.TMissionReward),Hn(e.CsvData.TMooncake),On(e.CsvData.TMoYaReward),Fn(e.CsvData.TMysteryShop),zn(e.CsvData.TNewMining),Un(e.CsvData.TNotePad),Wn(e.CsvData.TOmnipotentDebris),Vn(e.CsvData.TOnline),Yn(e.CsvData.TOpencompetition),Xn(e.CsvData.TOrna),Kn(e.CsvData.TPanel),Zn(e.CsvData.TPetBreeding),Qn(e.CsvData.TPethatchGrid),Jn(e.CsvData.TPethatch),$n(e.CsvData.TPetRebirth),ei(e.CsvData.TPiecesShop),ti(e.CsvData.TPlayerBadge),ni(e.CsvData.TPlayerEquipDevil),ii(e.CsvData.TPlayerEquipRefine),ai(e.CsvData.TPlayerEquipStren),oi(e.CsvData.TPlayerItemRecover),si(e.CsvData.TPlayerItemReExp),ri(e.CsvData.TPlayerLvReward),ui(e.CsvData.TPlayerLv),li(e.CsvData.TPlayerRole),ci(e.CsvData.TPmCenterTaskRange),hi(e.CsvData.TPmCenterTask),pi(e.CsvData.TPremiumPacks),gi(e.CsvData.TPrimeCharge),di(e.CsvData.TPVPComBuy),mi(e.CsvData.TPVPComMatch),fi(e.CsvData.TPVPComReward),_i(e.CsvData.TPVPComRuby),yi(e.CsvData.TPVPMissionReward),vi(e.CsvData.TPVPPokemonMaster),bi(e.CsvData.TPVPSoloReward),wi(e.CsvData.TQuest),ki(e.CsvData.TRandomNameNew),Ii(e.CsvData.TRandomName),Ti(e.CsvData.TRankGradCompetition),Pi(e.CsvData.TRankHonorLv),Li(e.CsvData.TRankRule),Di(e.CsvData.TRankSignReward),xi(e.CsvData.TRankSignUp),Ci(e.CsvData.TRecharge49),Bi(e.CsvData.TRechargeDouble),Si(e.CsvData.TRechargeElfin),Ei(e.CsvData.TRechargeIOS),Ai(e.CsvData.TRecharge),Mi(e.CsvData.TRecommend),Gi(e.CsvData.TRedElfShop),Ni(e.CsvData.TRedElfTimeLimitShop),Ri(e.CsvData.TRefresh),qi(e.CsvData.TREvolveUp),ji(e.CsvData.TRewardPreview),Hi(e.CsvData.TRisk),Oi(e.CsvData.Trobotup),Fi(e.CsvData.TSevenDaysCompetition),zi(e.CsvData.TSevendaysReward),Ui(e.CsvData.TShopType),Wi(e.CsvData.TShop),Vi(e.CsvData.TSocietypersonageScience),Yi(e.CsvData.TSocietyScience),Xi(e.CsvData.TSpecialDungeonsType),Ki(e.CsvData.TSpecialDungeons),Zi(e.CsvData.TStrategy),Qi(e.CsvData.TStronger),Ji(e.CsvData.TSuipianqiyuan),$i(e.CsvData.TSuperGashapon),ea(e.CsvData.TTalk),ta(e.CsvData.TTeach),na(e.CsvData.TTestFree),ia(e.CsvData.TTexiaoBg),aa(e.CsvData.TTexiaoBoom),oa(e.CsvData.TTexiaoBuff),sa(e.CsvData.TTexiaoFire),ra(e.CsvData.TTexiaoFly),ua(e.CsvData.TTexiaoGather),la(e.CsvData.TTips),ca(e.CsvData.TTitle),ha(e.CsvData.TTowerShop),pa(e.CsvData.TTower),ga(e.CsvData.TTravelTime),da(e.CsvData.TTutorialDialog),ma(e.CsvData.TTutorialPicture),fa(e.CsvData.TTutorial),_a(e.CsvData.TVipLvaward),ya(e.CsvData.TVip),va(e.CsvData.TWanbaRecharge),ba(e.CsvData.TWanBaReward),wa(e.CsvData.TWeather),ka(e.CsvData.TWing),Ia(e.CsvData.TXiaoGuo),Ta(e.CsvData.TYuandanReward),Pa(e.CsvData.TYuanyuan)}var Da=function(){function e(){}return e.numStatsHpAll="43",e.numStatsHpCluAdd="100",e.numStatsHpInitAdd="5",e.numStatsOtherAll="24",e.numStatsOtherCluAdd="0",e.numStatsOtherInitAdd="5",e.numStatsRace="6",e.numStatsiv="3",e.numStatseffort="3",e.numStatsLV="200",e.numDamageAll="1",e.numDamageAtkLV="0",e.numDamageAtkAdd="5",e.numDamageAtkDef="55",e.numDamageAtkDefAdd="0",e.initMission="1",e.initMap="1",e.initPokemonLevel="1",e.initPokemon="1001|1004|1007",e.initPokemonIV="66",e.initPokemonNature="1",e.initGold="2000000",e.initDiamond="18888",e.initRole="5001|5002",e.initPlayerLv="1",e.initExpPool="10000",e.initItems="12001;5|12221;2|13001;5|1;40000|13001;10",e.initRecharge="5000",e.baseHit="1",e.baseEvade="0.01",e.baseCri="0.01",e.baseCriDamage="1.5",e.spRoundRecover="25",e.eachLoveNeedGold="50",e.maxEffort="3060",e.eachEffort="510",e.dailyIVTimes="30",e.IVCostItem="12201;1",e.IVCostDiamond="2;50",e.maxIV="310",e.IVAgainAddWeight="2",e.dailySpCopyCount="5",e.dailySpCopyPrice="20",e.dailySpCopyAddPrice="20",e.winAdd="0.04",e.bringUp="3",e.pvpRefreshTime="600",e.pvpRefreshPrice="10",e.pvpWinScore="50",e.dailyPvPCount="10",e.pvpCountBasePrice="20",e.pvpCountAddPrice="20",e.chatInterval="10",e.charaItem="12211;1",e.maxFriend="30",e.maxFriendHelp="1",e.eachFriendPoint="10",e.dailyTowerCount="3",e.dailyTowerBackCount="1",e.towerCountBasePrice="20",e.towerCountAddPrice="20",e.guildApplicationMaxCount="100",e.guildCreatePrice="9999",e.guildGoldCount="5",e.guildGoldCost="100000",e.guildGoldDegree="30",e.guildGoldReward="10",e.guildItemCount="5",e.guildItemCost="5",e.guildItemDegree="30",e.guildItemReward="10",e.guildDiamondCost="1000",e.guildDiamondDegree="100",e.guildDiamondReward="40",e.guildAddDegree="5",e.guilddiamondMax="5",e.guildSciencegold="1000000",e.guildSciencecontribution="100",e.guildSciencegoldCoun="10",e.guildScienceCount="100",e.guildExperienceCount="100",e.guildBossCount="3",e.guildBossPrice="30",e.guildBossAddPrice="30",e.guildBossTopsCount="3",e.guildApplyCount="1",e.guildSendCount="5",e.guildMember="20",e.guildItemId="19002",e.rechargeFrist="1147;1|1;100000|3;100000|12151;50|12152;5",e.HuoZhuanPanPrice="2;99",e.dailyZhuanPanFreeCount="1",e.HuoChengZhangVip="11",e.HuoChengZhangPrice="2;1000",e.HuoBOSSCount="3",e.HuoBOSSPrice="2;20",e.HuoBOSSAddPrice="2;20",e.HuoRedElfItems="1150;1|2;9980",e.HuoSuperElf="1243;1|2;6480",e.inviteReward="2;50",e.inviteCountDay="3",e.inviteTime="30",e.inviteLvLimit="21",e.attentionReward="2;100",e.legendaryDelay="55",e.quickBattleTimes="210",e.quickBattleLead="210",e.quickBattleLoot="100000;100000;100001;100001;100001;100001;100002;100002",e.quickBattlePrice="1500",e.quickBattleAddPrice="500",e.fastBattleNumber="1",e.Famtruns="10",e.FamDemtruns="20",e.FamAdvtrunsPrice="2;400",e.FamHpRecovery="20",e.FamHpReduce="20",e.WeatherRef="5",e.mailCDKeyGift="1",e.Systemannouncement="10",e.MeetPVPRobGold="5000",e.MeetPVPRobCount="1",e.MeetPVPRobPerson="5",e.MeetPVPLootedCount="5",e.ElfLVUp="0",e.PlayerDownExpPre="1",e.PlayItemRecoCost="300",e.PlayItemRecoCostExp="300",e.PlayItemRecoCount="3",e.WaitElfCount="35",e.WaitItemsCount="100",e.ElfRecycleScale="0.6",e.ElfRecycleScaleLoveItem="12006",e.MiningCostMax="30",e.MiningCostReTime="10",e.MiningCostPrice="5",e.MiningCostBuyCount="10",e.MiningBombPrice="5",e.MiningBombCount="10",e.MiningCostBuyMax="2",e.MiningBombBuyMax="2",e.MiningCostTotleMax="200",e.MiningBombTotleMax="99",e.bombId="13041",e.miningBOSS="10001",e.miningOccupiedCountLimit="100",e.MysteryShopRef="7",e.MysteryShopPrice="2;50",e.MysteryShopPriceAdd="2;100",e.MysteryShopRefreshCD="8",e.MysteryShopItemCount="6",e.Recharge49="490",e.sweetItmeId="12601",e.ElfBagMaxCount="90",e.ElfBagMaxPage="6",e.ElfHelpChangePer="0.05",e.MeetPVPNumbe="2000",e.RankVictoryCount="20",e.RankVictoryCountMax="100",e.RankCountAdd="16",e.RankOpeningHours="10:00",e.RankClosingHours="22:50",e.RankClosingHoursReal="22:59",e.SweepAward10="10",e.EjectionDamageLoss="10",e.MaxPoolExp="2000000000",e.MaxFurnitureQuality="1.63",e.ArtifactEtrPrice="50",e.ArtifactEtrItem="12201;1",e.FurnitureRecoverItems="13051;200|13052;100",e.FurnitureRecoverPer="0.8",e.ArtifactUpItem="13061;13062",e.ArtifactStarItem="13066",e.ArtifactRecoverItems="13066;500",e.ArtifactRecoverPer="0.9",e.ArtifactItemId="13061",e.ElfFollowGridUpTime="1",e.DDialogPassTime="5",e.RoundDamageUpPre="2",e.DamageUpRound="10",e.battleSpeed2OpenLv="5",e.dailyQuestOpenLc="5",e.shopOpenLv="10",e.pvpOpenLV="13",e.Rankinglist="24",e.Chatbox="14",e.friendOpenLv="25",e.autoBattle="20",e.autoAtk="4",e.figureLV="28",e.fastBattleOpenLv="15",e.towerOpenLv="33",e.spDungeonOpenLv="23",e.FamLvLimit="35",e.mysteryShopOpenLv="40",e.playerRoleOpenLv="1",e.MiningOpenLV="34",e.FurnOpenLv="41",e.artifactMakeOpenLv="53",e.PlayItemRecoOpen="55",e.legendaryUnlockLevel="16",e.elfEffortOpenLv="4",e.elfIvOpenLv="32",e.elfLoveOpenLv="6",e.elfEvolveOpenLv="7",e.ArtifactOpenLv="53",e.ArtifactLookOpenLv="53",e.elfStarOpenLv="24",e.elfBringOpenLv="16",e.teamUnlockMission="0;0;0;16;25;31",e.elfGridOpenLv="33",e.elfXingGeOpenLv="32",e.elfRecoverOpenLv="8",e.Ornaments="35",e.Equipment="26",e.equipRefineOpenLv="34",e.equipDevilOpenLv="44",e.badgeOpenLv="31",e.eggOpenDgLv="20",e.battleSpeed1Num="0.86",e.battleSpeed2Num="0.61",e.battleSpeed3Num="0.4",e.battleSubawayOpenLv="18",e.battleSubawayTimes="15",e.battleSubawayRecoverTime="60",e.battleSubawayBuyEnergy="15",e.battleSubawayFightTime="5",e.battleSubawayPrice="50|80|120|150",e.DailyResetTime="0:00:00",e.stageToGrowUpPlan="40",e.sympathyGiftItemID="2;200|12152;5|12151;100|3;1000000|1;1000000",e.arenaWinCountToPay="3",e.vipexperience="1",e.GYMExpTotal="30000",e.GYMGoldTotal="3000",e.GYMOpenTime="10:00:00",e.GYMClosingHours="22:50:00",e.GYMClosingHoursReal="22:59:00",e.GYMcureReduce="0.1",e.GYMCoinId="10040",e.GYMWOFCost="500",e.GYMResetCost="160|210|270|350",e.testRewardId="5014",e.requrePoint="50",e.dIVDiamondRefreshCount="5",e.pvpRankFrom1="0.67",e.pvpRankTo1="0.89",e.pvpRankFrom2="0.9",e.pvpRankTo2="1.2",e.pvpFightFrom1="0.1",e.pvpFightTo1="0.6",e.pvpFightFrom2="0.6",e.pvpFightTo2="1.2",e.calcPlayerExpPer="180",e.diceNameCount="10",e.DailyDaimChGold="60",e.DailyDaimChBasics="30000",e.PtalentPerLv="3",e.PtalentCoeA="3",e.PtalentCoeB="100",e.PtalentCoeC="2",e.PtalentCoeD="6",e.PlayerNameChangeDia="9999",e.SpiritRebirth="40",e.RebirthLv="40",e.RebirthGoldPercent="0.7",e.RebirthGoldPerStar="1000000",e.RebirthDiamondPerStar="100",e.Rebirthtime="1",e.debrisStarLimit="6",e.purpleDebrisId="10086",e.orangeDebrisId="10087",e.redDebrisId="10088",e.rebornAtkStone="12221",e.rebornDefStone="12231",e.rebornHpStone="12246",e.rebornSpAtkStone="12226",e.rebornSpDefStone="12236",e.rebornSpeedStone="12241",e.lowEvolveCardId="12151",e.medEvolveCardId="12152",e.higEvolveCardId="12153",e.stone1="12101",e.stone2="12102",e.stone3="12103",e.stone4="12104",e.stone5="12105",e.stone6="12106",e.stone7="12107",e.stone8="12108",e.stone9="12109",e.megaStoneId="12111",e.stone10="12121",e.stone11="12122",e.stone12="12123",e.stone13="12124",e.stone14="12125",e.stone15="12126",e.stone16="12127",e.stone17="12128",e.stone18="12129",e.spcPokenListForGMHelp="1134|1135|1136|1196|1197|1470|1471|1991",e.spcStage="12",e.friendReduceLv="10",e.friendAddLv="10",e.friendActive="3",e.friendCommendCD="15",e.friendCommendCount="10",e.talentAskLevel="20",e.resetTalentCost="2;200",e.Universal1="1;50000",e.Universal10="1;500000",e.UniversalBellId="10089",e.GoldForPerEquipExp="1",e.SpDunRecoverTime="10",e.SpDunRecoTimeEnd="1",e.OpenPit="60",e.ClosePit="25",e.PitRefresh="10",e.PitRefreshPrice="30",e.PokemonQuality="10",e.ZhanKuangZhanLevelLimit="32",e.MapSpeedCost="200",e.lifeOdd1="3",e.lifeOdd2="10",e.Proportion="0.3",e.LevelAttribute="0.7",e.OneRewardBeginning="500",e.OneRewardSpace="500",e.OneRewardEnding="5000",e.elfTanletOpenLv="20",e.Assistant="11",e.AvailableID="13001|13002|13003|13005|13006|13007",e.treasureTeamMax="3",e.treasureUnlockTeamSpend="0&2;300&2;500",e.playerTreasureWait="3600",e.loadingTime="7000",e.RefreshShopTime="0|6|8|10|12|14|16|18|20|22",e.TreasureProtection="7200",e.Costtenmins="2;5",e.Awaitspirit="8",e.AwaitItme="8",e.Timelimit="1440",e.AssistantCD="60",e.autoSweepTowerLever="60",e.MysteryShopOPEN="30|60",e.MysteryShopTIME="2880",e.pieceWish="1;5|2;3|3;2",e.GMImage="5030",e.PvpHp="2.5",e.PmCenterTaskRefresh="12",e.RefreshShopCost="0;400|20;600|50;1000",e.DonateLimit="4;2;1",e.DonateReward="30;60;150",e.ReplenishSignCost="100",e.ReplenishSignLimit="5",e.VipLvAfterRecharge="17",e.MonthlyCardReward="2;15000",e.LifeTimeCardReward="2;50000",e
}();e._TConstants=Da,__reflect(Da.prototype,"game._TConstants");var xa=function(){function e(){}return e}();e.PokemonCenter=xa,__reflect(xa.prototype,"game.PokemonCenter");var Ca=function(){function e(){}return e}();e.TAbility=Ca,__reflect(Ca.prototype,"game.TAbility");var Ba=function(){function e(){}return e}();e.TActiveConfiguration=Ba,__reflect(Ba.prototype,"game.TActiveConfiguration");var Sa=function(){function e(){}return e}();e.TActiveReward=Sa,__reflect(Sa.prototype,"game.TActiveReward");var Ea=function(){function e(){}return e}();e.TAdvanced=Ea,__reflect(Ea.prototype,"game.TAdvanced");var Aa=function(){function e(){}return e}();e.TAkeyCapture=Aa,__reflect(Aa.prototype,"game.TAkeyCapture");var Ma=function(){function e(){}return e}();e.TAnnouncement=Ma,__reflect(Ma.prototype,"game.TAnnouncement");var Ga=function(){function e(){}return e}();e.TAppointmentGift=Ga,__reflect(Ga.prototype,"game.TAppointmentGift");var Na=function(){function e(){}return e}();e.TAttribute=Na,__reflect(Na.prototype,"game.TAttribute");var Ra=function(){function e(){}return e}();e.TBattleMetro=Ra,__reflect(Ra.prototype,"game.TBattleMetro");var qa=function(){function e(){}return e}();e.TBattlesubwayRandClip=qa,__reflect(qa.prototype,"game.TBattlesubwayRandClip");var ja=function(){function e(){}return e}();e.TBattlesubway=ja,__reflect(ja.prototype,"game.TBattlesubway");var Ha=function(){function e(){}return e}();e.Tbigcompete=Ha,__reflect(Ha.prototype,"game.Tbigcompete");var Oa=function(){function e(){}return e}();e.TbreedingHatch=Oa,__reflect(Oa.prototype,"game.TbreedingHatch");var Fa=function(){function e(){}return e}();e.TbreedingQuality=Fa,__reflect(Fa.prototype,"game.TbreedingQuality");var za=function(){function e(){}return e}();e.TbreedingRandom=za,__reflect(za.prototype,"game.TbreedingRandom");var Ua=function(){function e(){}return e}();e.TChristmasEve=Ua,__reflect(Ua.prototype,"game.TChristmasEve");var Wa=function(){function e(){}return e}();e.TCombat=Wa,__reflect(Wa.prototype,"game.TCombat");var Va=function(){function e(){}return e}();e.TConstants=Va,__reflect(Va.prototype,"game.TConstants");var Ya=function(){function e(){}return e}();e.TContestAwards=Ya,__reflect(Ya.prototype,"game.TContestAwards");var Xa=function(){function e(){}return e}();e.TCustomsClearance=Xa,__reflect(Xa.prototype,"game.TCustomsClearance");var Ka=function(){function e(){}return e}();e.TDailyCon=Ka,__reflect(Ka.prototype,"game.TDailyCon");var Za=function(){function e(){}return e}();e.TDailyGifts=Za,__reflect(Za.prototype,"game.TDailyGifts");var Qa=function(){function e(){}return e}();e.TDailyRecharge=Qa,__reflect(Qa.prototype,"game.TDailyRecharge");var Ja=function(){function e(){}return e}();e.TDaimChGold=Ja,__reflect(Ja.prototype,"game.TDaimChGold");var $a=function(){function e(){}return e}();e.TDaysDiamond=$a,__reflect($a.prototype,"game.TDaysDiamond");var eo=function(){function e(){}return e}();e.TDDialog=eo,__reflect(eo.prototype,"game.TDDialog");var to=function(){function e(){}return e}();e.TDebrisSwap=to,__reflect(to.prototype,"game.TDebrisSwap");var no=function(){function e(){}return e}();e.TDecennium=no,__reflect(no.prototype,"game.TDecennium");var io=function(){function e(){}return e}();e.TDialog=io,__reflect(io.prototype,"game.TDialog");var ao=function(){function e(){}return e}();e.TDiamondCon=ao,__reflect(ao.prototype,"game.TDiamondCon");var oo=function(){function e(){}return e}();e.TDungeonAuto=oo,__reflect(oo.prototype,"game.TDungeonAuto");var so=function(){function e(){}return e}();e.TDungeonMaps=so,__reflect(so.prototype,"game.TDungeonMaps");var ro=function(){function e(){}return e}();e.TEArtifactAbility=ro,__reflect(ro.prototype,"game.TEArtifactAbility");var uo=function(){function e(){}return e}();e.TEArtifactEtrAbility=uo,__reflect(uo.prototype,"game.TEArtifactEtrAbility");var lo=function(){function e(){}return e}();e.TEArtifactEtrType=lo,__reflect(lo.prototype,"game.TEArtifactEtrType");var co=function(){function e(){}return e}();e.TEArtifactStarLv=co,__reflect(co.prototype,"game.TEArtifactStarLv");var ho=function(){function e(){}return e}();e.TEArtifactUpLv=ho,__reflect(ho.prototype,"game.TEArtifactUpLv");var po=function(){function e(){}return e}();e.TEArtifact=po,__reflect(po.prototype,"game.TEArtifact");var go=function(){function e(){}return e}();e.TEffect=go,__reflect(go.prototype,"game.TEffect");var mo=function(){function e(){}return e}();e.TElfBan=mo,__reflect(mo.prototype,"game.TElfBan");var fo=function(){function e(){}return e}();e.TElfBringGrid=fo,__reflect(fo.prototype,"game.TElfBringGrid");var _o=function(){function e(){}return e}();e.TElfBring=_o,__reflect(_o.prototype,"game.TElfBring");var yo=function(){function e(){}return e}();e.TElfCombo=yo,__reflect(yo.prototype,"game.TElfCombo");var vo=function(){function e(){}return e}();e.TElfFollowGrid=vo,__reflect(vo.prototype,"game.TElfFollowGrid");var bo=function(){function e(){}return e}();e.TElfHelpGrid=bo,__reflect(bo.prototype,"game.TElfHelpGrid");var wo=function(){function e(){}return e}();e.TElfIV=wo,__reflect(wo.prototype,"game.TElfIV");var ko=function(){function e(){}return e}();e.TElfLevel=ko,__reflect(ko.prototype,"game.TElfLevel");var Io=function(){function e(){}return e}();e.TElfLove=Io,__reflect(Io.prototype,"game.TElfLove");var To=function(){function e(){}return e}();e.TElfOneInThree=To,__reflect(To.prototype,"game.TElfOneInThree");var Po=function(){function e(){}return e}();e.TElfQuality=Po,__reflect(Po.prototype,"game.TElfQuality");var Lo=function(){function e(){}return e}();e.TElfSeerValue=Lo,__reflect(Lo.prototype,"game.TElfSeerValue");var Do=function(){function e(){}return e}();e.TElfSkill=Do,__reflect(Do.prototype,"game.TElfSkill");var xo=function(){function e(){}return e}();e.TElfStarChange=xo,__reflect(xo.prototype,"game.TElfStarChange");var Co=function(){function e(){}return e}();e.TElfStarUp=Co,__reflect(Co.prototype,"game.TElfStarUp");var Bo=function(){function e(){}return e}();e.TElfTalentAbility=Bo,__reflect(Bo.prototype,"game.TElfTalentAbility");var So=function(){function e(){}return e}();e.TElfTalent=So,__reflect(So.prototype,"game.TElfTalent");var Eo=function(){function e(){}return e}();e.TElfXingGe=Eo,__reflect(Eo.prototype,"game.TElfXingGe");var Ao=function(){function e(){}return e}();e.TElf=Ao,__reflect(Ao.prototype,"game.TElf");var Mo=function(){function e(){}return e}();e.TEngage=Mo,__reflect(Mo.prototype,"game.TEngage");var Go=function(){function e(){}return e}();e.TEntryYuandan=Go,__reflect(Go.prototype,"game.TEntryYuandan");var No=function(){function e(){}return e}();e.TequipAttribute=No,__reflect(No.prototype,"game.TequipAttribute");var Ro=function(){function e(){}return e}();e.TequipExp=Ro,__reflect(Ro.prototype,"game.TequipExp");var qo=function(){function e(){}return e}();e.TequipInitial=qo,__reflect(qo.prototype,"game.TequipInitial");var jo=function(){function e(){}return e}();e.TequipLv=jo,__reflect(jo.prototype,"game.TequipLv");var Ho=function(){function e(){}return e}();e.Tequip=Ho,__reflect(Ho.prototype,"game.Tequip");var Oo=function(){function e(){}return e}();e.TEverydayRecharge=Oo,__reflect(Oo.prototype,"game.TEverydayRecharge");var Fo=function(){function e(){}return e}();e.TFamLv=Fo,__reflect(Fo.prototype,"game.TFamLv");var zo=function(){function e(){}return e}();e.TFam=zo,__reflect(zo.prototype,"game.TFam");var Uo=function(){function e(){}return e}();e.TFGashapon=Uo,__reflect(Uo.prototype,"game.TFGashapon");var Wo=function(){function e(){}return e}();e.TFHomeLandLv=Wo,__reflect(Wo.prototype,"game.TFHomeLandLv");var Vo=function(){function e(){}return e}();e.TFirstGroupon=Vo,__reflect(Vo.prototype,"game.TFirstGroupon");var Yo=function(){function e(){}return e}();e.TFlashElf=Yo,__reflect(Yo.prototype,"game.TFlashElf");var Xo=function(){function e(){}return e}();e.TFSearch=Xo,__reflect(Xo.prototype,"game.TFSearch");var Ko=function(){function e(){}return e}();e.TFunctionopen=Ko,__reflect(Ko.prototype,"game.TFunctionopen");var Zo=function(){function e(){}return e}();e.TFurnitureExtraQual=Zo,__reflect(Zo.prototype,"game.TFurnitureExtraQual");var Qo=function(){function e(){}return e}();e.TFurnitureExtraType=Qo,__reflect(Qo.prototype,"game.TFurnitureExtraType");var Jo=function(){function e(){}return e}();e.TFurnitureLv=Jo,__reflect(Jo.prototype,"game.TFurnitureLv");var $o=function(){function e(){}return e}();e.TFurnitureMake=$o,__reflect($o.prototype,"game.TFurnitureMake");var es=function(){function e(){}return e}();e.TFurnitureQuality=es,__reflect(es.prototype,"game.TFurnitureQuality");var ts=function(){function e(){}return e}();e.TFurniture=ts,__reflect(ts.prototype,"game.TFurniture");var ns=function(){function e(){}return e}();e.TGashaponLoot=ns,__reflect(ns.prototype,"game.TGashaponLoot");var is=function(){function e(){}return e}();e.TGashaponReward=is,__reflect(is.prototype,"game.TGashaponReward");var as=function(){function e(){}return e}();e.TGashapon=as,__reflect(as.prototype,"game.TGashapon");var os=function(){function e(){}return e}();e.TGMHelp=os,__reflect(os.prototype,"game.TGMHelp");var ss=function(){function e(){}return e}();e.TGodbeast=ss,__reflect(ss.prototype,"game.TGodbeast");var rs=function(){function e(){}return e}();e.TGoldenEggs=rs,__reflect(rs.prototype,"game.TGoldenEggs");var us=function(){function e(){}return e}();e.TGridType=us,__reflect(us.prototype,"game.TGridType");var ls=function(){function e(){}return e}();e.TGridUp=ls,__reflect(ls.prototype,"game.TGridUp");var cs=function(){function e(){}return e}();e.TGuildBoss=cs,__reflect(cs.prototype,"game.TGuildBoss");var hs=function(){function e(){}return e}();e.TGuildBuilding=hs,__reflect(hs.prototype,"game.TGuildBuilding");var ps=function(){function e(){}return e}();e.TGuildLog=ps,__reflect(ps.prototype,"game.TGuildLog");var gs=function(){function e(){}return e}();e.TGYMLv=gs,__reflect(gs.prototype,"game.TGYMLv");var ds=function(){function e(){}return e}();e.TGYMReward=ds,__reflect(ds.prototype,"game.TGYMReward");var ms=function(){function e(){}return e}();e.TGYMRule=ms,__reflect(ms.prototype,"game.TGYMRule");var fs=function(){function e(){}return e}();e.TGYMStageInfo=fs,__reflect(fs.prototype,"game.TGYMStageInfo");var _s=function(){function e(){}return e}();e.TGYM=_s,__reflect(_s.prototype,"game.TGYM");var ys=function(){function e(){}return e}();e.THallowmas=ys,__reflect(ys.prototype,"game.THallowmas");var vs=function(){function e(){}return e}();e.THappyMidAutumn=vs,__reflect(vs.prototype,"game.THappyMidAutumn");var bs=function(){function e(){}return e}();e.THuntLoot=bs,__reflect(bs.prototype,"game.THuntLoot");var ws=function(){function e(){}return e}();e.THunt=ws,__reflect(ws.prototype,"game.THunt");var ks=function(){function e(){}return e}();e.THuoChengZhang=ks,__reflect(ks.prototype,"game.THuoChengZhang");var Is=function(){function e(){}return e}();e.THuoCollent=Is,__reflect(Is.prototype,"game.THuoCollent");var Ts=function(){function e(){}return e}();e.THuoConsumption=Ts,__reflect(Ts.prototype,"game.THuoConsumption");var Ps=function(){function e(){}return e}();e.THuoInvite=Ps,__reflect(Ps.prototype,"game.THuoInvite");var Ls=function(){function e(){}return e}();e.THuoOneRMB=Ls,__reflect(Ls.prototype,"game.THuoOneRMB");var Ds=function(){function e(){}return e}();e.THuoPolite=Ds,__reflect(Ds.prototype,"game.THuoPolite");var xs=function(){function e(){}return e}();e.THuoQianDao=xs,__reflect(xs.prototype,"game.THuoQianDao");var Cs=function(){function e(){}return e}();e.THuoRechargeFrist=Cs,__reflect(Cs.prototype,"game.THuoRechargeFrist");var Bs=function(){function e(){}return e}();e.THuoRechargeSum=Bs,__reflect(Bs.prototype,"game.THuoRechargeSum");var Ss=function(){function e(){}return e}();e.THuoRedElfTaskDetail=Ss,__reflect(Ss.prototype,"game.THuoRedElfTaskDetail");var Es=function(){function e(){}return e}();e.THuoRedElfTaskShop=Es,__reflect(Es.prototype,"game.THuoRedElfTaskShop");var As=function(){function e(){}return e}();e.THuoRedElfTask=As,__reflect(As.prototype,"game.THuoRedElfTask");var Ms=function(){function e(){}return e}();e.THuoRedElf=Ms,__reflect(Ms.prototype,"game.THuoRedElf");var Gs=function(){function e(){}return e}();e.THuoSevenLg=Gs,__reflect(Gs.prototype,"game.THuoSevenLg");var Ns=function(){function e(){}return e}();e.THuoSuperElf=Ns,__reflect(Ns.prototype,"game.THuoSuperElf");var Rs=function(){function e(){}return e}();e.THuoVipfuli=Rs,__reflect(Rs.prototype,"game.THuoVipfuli");var qs=function(){function e(){}return e}();e.THuoYue=qs,__reflect(qs.prototype,"game.THuoYue");var js=function(){function e(){}return e}();e.THuoZhandou=js,__reflect(js.prototype,"game.THuoZhandou");var Hs=function(){function e(){}return e}();e.THuoZhongSheng=Hs,__reflect(Hs.prototype,"game.THuoZhongSheng");var Os=function(){function e(){}return e}();e.THuoZhuanPan=Os,__reflect(Os.prototype,"game.THuoZhuanPan");var Fs=function(){function e(){}return e}();e.TID=Fs,__reflect(Fs.prototype,"game.TID");var zs=function(){function e(){}return e}();e.TItem=zs,__reflect(zs.prototype,"game.TItem");var Us=function(){function e(){}return e}();e.TJihuoma=Us,__reflect(Us.prototype,"game.TJihuoma");var Ws=function(){function e(){}return e}();e.TLootItem=Ws,__reflect(Ws.prototype,"game.TLootItem");var Vs=function(){function e(){}return e}();e.TLoot=Vs,__reflect(Vs.prototype,"game.TLoot");var Ys=function(){function e(){}return e}();e.TLuckZhuanPan=Ys,__reflect(Ys.prototype,"game.TLuckZhuanPan");var Xs=function(){function e(){}return e}();e.TLvaCtivity2=Xs,__reflect(Xs.prototype,"game.TLvaCtivity2");var Ks=function(){function e(){}return e}();e.TLvaCtivity=Ks,__reflect(Ks.prototype,"game.TLvaCtivity");var Zs=function(){function e(){}return e}();e.TMagicShop=Zs,__reflect(Zs.prototype,"game.TMagicShop");var Qs=function(){function e(){}return e}();e.TMail=Qs,__reflect(Qs.prototype,"game.TMail");var Js=function(){function e(){}return e}();e.TMaintainAnnouncement=Js,__reflect(Js.prototype,"game.TMaintainAnnouncement");var $s=function(){function e(){}return e}();e.TMammonRabbit=$s,__reflect($s.prototype,"game.TMammonRabbit");var er=function(){function e(){}return e}();e.TMapsCatchItem=er,__reflect(er.prototype,"game.TMapsCatchItem");var tr=function(){function e(){}return e}();e.TMapsCatch=tr,__reflect(tr.prototype,"game.TMapsCatch");var nr=function(){function e(){}return e}();e.TMapsEvent=nr,__reflect(nr.prototype,"game.TMapsEvent");var ir=function(){function e(){}return e}();e.TMapsLegendary=ir,__reflect(ir.prototype,"game.TMapsLegendary");var ar=function(){function e(){}return e}();e.TMapsRole=ar,__reflect(ar.prototype,"game.TMapsRole");var or=function(){function e(){}return e}();e.TMiningCubeLoot=or,__reflect(or.prototype,"game.TMiningCubeLoot");var sr=function(){function e(){}return e}();e.TMiningCube=sr,__reflect(sr.prototype,"game.TMiningCube");var rr=function(){function e(){}return e}();e.TMiningExplain=rr,__reflect(rr.prototype,"game.TMiningExplain");var ur=function(){function e(){}return e}();e.TMiningLoot=ur,__reflect(ur.prototype,"game.TMiningLoot");var lr=function(){function e(){}return e}();e.TMiningMap=lr,__reflect(lr.prototype,"game.TMiningMap");var cr=function(){function e(){}return e}();e.TMiningRule=cr,__reflect(cr.prototype,"game.TMiningRule");var hr=function(){function e(){}return e}();e.TMining=hr,__reflect(hr.prototype,"game.TMining");var pr=function(){function e(){}return e}();e.TMissionReward=pr,__reflect(pr.prototype,"game.TMissionReward");var gr=function(){function e(){}return e}();e.TMooncake=gr,__reflect(gr.prototype,"game.TMooncake");var dr=function(){function e(){}return e}();e.TMoYaReward=dr,__reflect(dr.prototype,"game.TMoYaReward");var mr=function(){function e(){}return e}();e.TMysteryShop=mr,__reflect(mr.prototype,"game.TMysteryShop");var fr=function(){function e(){}return e}();e.TNewMining=fr,__reflect(fr.prototype,"game.TNewMining");var _r=function(){function e(){}return e}();e.TNotePad=_r,__reflect(_r.prototype,"game.TNotePad");var yr=function(){function e(){}return e}();e.TOmnipotentDebris=yr,__reflect(yr.prototype,"game.TOmnipotentDebris");var vr=function(){function e(){}return e}();e.TOnline=vr,__reflect(vr.prototype,"game.TOnline");var br=function(){function e(){}return e}();e.TOpencompetition=br,__reflect(br.prototype,"game.TOpencompetition");var wr=function(){function e(){}return e}();e.TOrna=wr,__reflect(wr.prototype,"game.TOrna");var kr=function(){function e(){}return e}();e.TPanel=kr,__reflect(kr.prototype,"game.TPanel");var Ir=function(){function e(){}return e}();e.TPetBreeding=Ir,__reflect(Ir.prototype,"game.TPetBreeding");var Tr=function(){function e(){}return e}();e.TPethatchGrid=Tr,__reflect(Tr.prototype,"game.TPethatchGrid");var Pr=function(){function e(){}return e}();e.TPethatch=Pr,__reflect(Pr.prototype,"game.TPethatch");var Lr=function(){function e(){}return e}();e.TPetRebirth=Lr,__reflect(Lr.prototype,"game.TPetRebirth");var Dr=function(){function e(){}return e}();e.TPiecesShop=Dr,__reflect(Dr.prototype,"game.TPiecesShop");var xr=function(){function e(){}return e}();e.TPlayerBadge=xr,__reflect(xr.prototype,"game.TPlayerBadge");var Cr=function(){function e(){}return e}();e.TPlayerEquipDevil=Cr,__reflect(Cr.prototype,"game.TPlayerEquipDevil");var Br=function(){function e(){}return e}();e.TPlayerEquipRefine=Br,__reflect(Br.prototype,"game.TPlayerEquipRefine");var Sr=function(){function e(){}return e}();e.TPlayerEquipStren=Sr,__reflect(Sr.prototype,"game.TPlayerEquipStren");var Er=function(){function e(){}return e}();e.TPlayerItemRecover=Er,__reflect(Er.prototype,"game.TPlayerItemRecover");var Ar=function(){function e(){}return e}();e.TPlayerItemReExp=Ar,__reflect(Ar.prototype,"game.TPlayerItemReExp");var Mr=function(){function e(){}return e}();e.TPlayerLvReward=Mr,__reflect(Mr.prototype,"game.TPlayerLvReward");var Gr=function(){function e(){}return e}();e.TPlayerLv=Gr,__reflect(Gr.prototype,"game.TPlayerLv");var Nr=function(){function e(){}return e}();e.TPlayerRole=Nr,__reflect(Nr.prototype,"game.TPlayerRole");var Rr=function(){function e(){}return e}();e.TPmCenterTaskRange=Rr,__reflect(Rr.prototype,"game.TPmCenterTaskRange");var qr=function(){function e(){}return e}();e.TPmCenterTask=qr,__reflect(qr.prototype,"game.TPmCenterTask");var jr=function(){function e(){}return e}();e.TPremiumPacks=jr,__reflect(jr.prototype,"game.TPremiumPacks");var Hr=function(){function e(){}return e}();e.TPrimeCharge=Hr,__reflect(Hr.prototype,"game.TPrimeCharge");var Or=function(){function e(){}return e}();e.TPVPComBuy=Or,__reflect(Or.prototype,"game.TPVPComBuy");var Fr=function(){function e(){}return e}();e.TPVPComMatch=Fr,__reflect(Fr.prototype,"game.TPVPComMatch");var zr=function(){function e(){}return e}();e.TPVPComReward=zr,__reflect(zr.prototype,"game.TPVPComReward");var Ur=function(){function e(){}return e}();e.TPVPComRuby=Ur,__reflect(Ur.prototype,"game.TPVPComRuby");var Wr=function(){function e(){}return e}();e.TPVPMissionReward=Wr,__reflect(Wr.prototype,"game.TPVPMissionReward");var Vr=function(){function e(){}return e}();e.TPVPPokemonMaster=Vr,__reflect(Vr.prototype,"game.TPVPPokemonMaster");var Yr=function(){function e(){}return e}();e.TPVPSoloReward=Yr,__reflect(Yr.prototype,"game.TPVPSoloReward");var Xr=function(){function e(){}return e}();e.TQuest=Xr,__reflect(Xr.prototype,"game.TQuest");var Kr=function(){function e(){}return e}();e.TRandomNameNew=Kr,__reflect(Kr.prototype,"game.TRandomNameNew");var Zr=function(){function e(){}return e}();e.TRandomName=Zr,__reflect(Zr.prototype,"game.TRandomName");var Qr=function(){function e(){}return e}();e.TRankGradCompetition=Qr,__reflect(Qr.prototype,"game.TRankGradCompetition");var Jr=function(){function e(){}return e}();e.TRankHonorLv=Jr,__reflect(Jr.prototype,"game.TRankHonorLv");var $r=function(){function e(){}return e}();e.TRankRule=$r,__reflect($r.prototype,"game.TRankRule");var eu=function(){function e(){}return e}();e.TRankSignReward=eu,__reflect(eu.prototype,"game.TRankSignReward");var tu=function(){function e(){}return e}();e.TRankSignUp=tu,__reflect(tu.prototype,"game.TRankSignUp");var nu=function(){function e(){}return e}();e.TRecharge49=nu,__reflect(nu.prototype,"game.TRecharge49");var iu=function(){function e(){}return e}();e.TRechargeDouble=iu,__reflect(iu.prototype,"game.TRechargeDouble");var au=function(){function e(){}return e}();e.TRechargeElfin=au,__reflect(au.prototype,"game.TRechargeElfin");var ou=function(){function e(){}return e}();e.TRechargeIOS=ou,__reflect(ou.prototype,"game.TRechargeIOS");var su=function(){function e(){}return e}();e.TRecharge=su,__reflect(su.prototype,"game.TRecharge");var ru=function(){function e(){}return e}();e.TRecommend=ru,__reflect(ru.prototype,"game.TRecommend");var uu=function(){function e(){}return e}();e.TRedElfShop=uu,__reflect(uu.prototype,"game.TRedElfShop");var lu=function(){function e(){}return e}();e.TRedElfTimeLimitShop=lu,__reflect(lu.prototype,"game.TRedElfTimeLimitShop");var cu=function(){function e(){}return e}();e.TRefresh=cu,__reflect(cu.prototype,"game.TRefresh");var hu=function(){function e(){}return e}();e.TREvolveUp=hu,__reflect(hu.prototype,"game.TREvolveUp");var pu=function(){function e(){}return e}();e.TRewardPreview=pu,__reflect(pu.prototype,"game.TRewardPreview");var gu=function(){function e(){}return e}();e.TRisk=gu,__reflect(gu.prototype,"game.TRisk");var du=function(){function e(){}return e}();e.Trobotup=du,__reflect(du.prototype,"game.Trobotup");var mu=function(){function e(){}return e}();e.TSevenDaysCompetition=mu,__reflect(mu.prototype,"game.TSevenDaysCompetition");var fu=function(){function e(){}return e}();e.TSevendaysReward=fu,__reflect(fu.prototype,"game.TSevendaysReward");var _u=function(){function e(){}return e}();e.TShopType=_u,__reflect(_u.prototype,"game.TShopType");var yu=function(){function e(){}return e}();e.TShop=yu,__reflect(yu.prototype,"game.TShop");var vu=function(){function e(){}return e}();e.TSocietypersonageScience=vu,__reflect(vu.prototype,"game.TSocietypersonageScience");var bu=function(){function e(){}return e}();e.TSocietyScience=bu,__reflect(bu.prototype,"game.TSocietyScience");var wu=function(){function e(){}return e}();e.TSpecialDungeonsType=wu,__reflect(wu.prototype,"game.TSpecialDungeonsType");var ku=function(){function e(){}return e}();e.TSpecialDungeons=ku,__reflect(ku.prototype,"game.TSpecialDungeons");var Iu=function(){function e(){}return e}();e.TStrategy=Iu,__reflect(Iu.prototype,"game.TStrategy");var Tu=function(){function e(){}return e}();e.TStronger=Tu,__reflect(Tu.prototype,"game.TStronger");var Pu=function(){function e(){}return e}();e.TSuipianqiyuan=Pu,__reflect(Pu.prototype,"game.TSuipianqiyuan");var Lu=function(){function e(){}return e}();e.TSuperGashapon=Lu,__reflect(Lu.prototype,"game.TSuperGashapon");var Du=function(){function e(){}return e}();e.TTalk=Du,__reflect(Du.prototype,"game.TTalk");var xu=function(){function e(){}return e}();e.TTeach=xu,__reflect(xu.prototype,"game.TTeach");var Cu=function(){function e(){}return e}();e.TTestFree=Cu,__reflect(Cu.prototype,"game.TTestFree");var Bu=function(){function e(){}return e}();e.TTexiaoBg=Bu,__reflect(Bu.prototype,"game.TTexiaoBg");var Su=function(){function e(){}return e}();e.TTexiaoBoom=Su,__reflect(Su.prototype,"game.TTexiaoBoom");var Eu=function(){function e(){}return e}();e.TTexiaoBuff=Eu,__reflect(Eu.prototype,"game.TTexiaoBuff");var Au=function(){function e(){}return e}();e.TTexiaoFire=Au,__reflect(Au.prototype,"game.TTexiaoFire");var Mu=function(){function e(){}return e}();e.TTexiaoFly=Mu,__reflect(Mu.prototype,"game.TTexiaoFly");var Gu=function(){function e(){}return e}();e.TTexiaoGather=Gu,__reflect(Gu.prototype,"game.TTexiaoGather");var Nu=function(){function e(){}return e}();e.TTips=Nu,__reflect(Nu.prototype,"game.TTips");var Ru=function(){function e(){}return e}();e.TTitle=Ru,__reflect(Ru.prototype,"game.TTitle");var qu=function(){function e(){}return e}();e.TTowerShop=qu,__reflect(qu.prototype,"game.TTowerShop");var ju=function(){function e(){}return e}();e.TTower=ju,__reflect(ju.prototype,"game.TTower");var Hu=function(){function e(){}return e}();e.TTravelTime=Hu,__reflect(Hu.prototype,"game.TTravelTime");var Ou=function(){function e(){}return e}();e.TTutorialDialog=Ou,__reflect(Ou.prototype,"game.TTutorialDialog");var Fu=function(){function e(){}return e}();e.TTutorialPicture=Fu,__reflect(Fu.prototype,"game.TTutorialPicture");var zu=function(){function e(){}return e}();e.TTutorial=zu,__reflect(zu.prototype,"game.TTutorial");var Uu=function(){function e(){}return e}();e.TVipLvaward=Uu,__reflect(Uu.prototype,"game.TVipLvaward");var Wu=function(){function e(){}return e}();e.TVip=Wu,__reflect(Wu.prototype,"game.TVip");var Vu=function(){function e(){}return e}();e.TWanbaRecharge=Vu,__reflect(Vu.prototype,"game.TWanbaRecharge");var Yu=function(){function e(){}return e}();e.TWanBaReward=Yu,__reflect(Yu.prototype,"game.TWanBaReward");var Xu=function(){function e(){}return e}();e.TWeather=Xu,__reflect(Xu.prototype,"game.TWeather");var Ku=function(){function e(){}return e}();e.TWing=Ku,__reflect(Ku.prototype,"game.TWing");var Zu=function(){function e(){}return e}();e.TXiaoGuo=Zu,__reflect(Zu.prototype,"game.TXiaoGuo");var Qu=function(){function e(){}return e}();e.TYuandanReward=Qu,__reflect(Qu.prototype,"game.TYuandanReward");var Ju=function(){function e(){}return e}();e.TYuanyuan=Ju,__reflect(Ju.prototype,"game.TYuanyuan");var $u=function(){function e(){}return e}();e.Data=$u,__reflect($u.prototype,"game.Data"),e.loadPokemonCenter=t,e.loadTAbility=n,e.loadTActiveConfiguration=i,e.loadTActiveReward=a,e.loadTAdvanced=o,e.loadTAkeyCapture=s,e.loadTAnnouncement=r,e.loadTAppointmentGift=u,e.loadTAttribute=l,e.loadTBattleMetro=c,e.loadTBattlesubwayRandClip=h,e.loadTBattlesubway=p,e.loadTbigcompete=g,e.loadTbreedingHatch=d,e.loadTbreedingQuality=m,e.loadTbreedingRandom=f,e.loadTChristmasEve=_,e.loadTCombat=y,e.loadTConstants=v,e.loadTContestAwards=b,e.loadTCustomsClearance=w,e.loadTDailyCon=k,e.loadTDailyGifts=I,e.loadTDailyRecharge=T,e.loadTDaimChGold=P,e.loadTDaysDiamond=L,e.loadTDDialog=D,e.loadTDebrisSwap=x,e.loadTDecennium=C,e.loadTDialog=B,e.loadTDiamondCon=S,e.loadTDungeonAuto=E,e.loadTDungeonMaps=A,e.loadTEArtifactAbility=M,e.loadTEArtifactEtrAbility=G,e.loadTEArtifactEtrType=N,e.loadTEArtifactStarLv=R,e.loadTEArtifactUpLv=q,e.loadTEArtifact=j,e.loadTEffect=H,e.loadTElfBan=O,e.loadTElfBringGrid=F,e.loadTElfBring=z,e.loadTElfCombo=U,e.loadTElfFollowGrid=W,e.loadTElfHelpGrid=V,e.loadTElfIV=Y,e.loadTElfLevel=X,e.loadTElfLove=K,e.loadTElfOneInThree=Z,e.loadTElfQuality=Q,e.loadTElfSeerValue=J,e.loadTElfSkill=$,e.loadTElfStarChange=et,e.loadTElfStarUp=tt,e.loadTElfTalentAbility=nt,e.loadTElfTalent=it,e.loadTElfXingGe=at,e.loadTElf=ot,e.loadTEngage=st,e.loadTEntryYuandan=rt,e.loadTequipAttribute=ut,e.loadTequipExp=lt,e.loadTequipInitial=ct,e.loadTequipLv=ht,e.loadTequip=pt,e.loadTEverydayRecharge=gt,e.loadTFamLv=dt,e.loadTFam=mt,e.loadTFGashapon=ft,e.loadTFHomeLandLv=_t,e.loadTFirstGroupon=yt,e.loadTFlashElf=vt,e.loadTFSearch=bt,e.loadTFunctionopen=wt,e.loadTFurnitureExtraQual=kt,e.loadTFurnitureExtraType=It,e.loadTFurnitureLv=Tt,e.loadTFurnitureMake=Pt,e.loadTFurnitureQuality=Lt,e.loadTFurniture=Dt,e.loadTGashaponLoot=xt,e.loadTGashaponReward=Ct,e.loadTGashapon=Bt,e.loadTGMHelp=St,e.loadTGodbeast=Et,e.loadTGoldenEggs=At,e.loadTGridType=Mt,e.loadTGridUp=Gt,e.loadTGuildBoss=Nt,e.loadTGuildBuilding=Rt,e.loadTGuildLog=qt,e.loadTGYMLv=jt,e.loadTGYMReward=Ht,e.loadTGYMRule=Ot,e.loadTGYMStageInfo=Ft,e.loadTGYM=zt,e.loadTHallowmas=Ut,e.loadTHappyMidAutumn=Wt,e.loadTHuntLoot=Vt,e.loadTHunt=Yt,e.loadTHuoChengZhang=Xt,e.loadTHuoCollent=Kt,e.loadTHuoConsumption=Zt,e.loadTHuoInvite=Qt,e.loadTHuoOneRMB=Jt,e.loadTHuoPolite=$t,e.loadTHuoQianDao=en,e.loadTHuoRechargeFrist=tn,e.loadTHuoRechargeSum=nn,e.loadTHuoRedElfTaskDetail=an,e.loadTHuoRedElfTaskShop=on,e.loadTHuoRedElfTask=sn,e.loadTHuoRedElf=rn,e.loadTHuoSevenLg=un,e.loadTHuoSuperElf=ln,e.loadTHuoVipfuli=cn,e.loadTHuoYue=hn,e.loadTHuoZhandou=pn,e.loadTHuoZhongSheng=gn,e.loadTHuoZhuanPan=dn,e.loadTID=mn,e.loadTItem=fn,e.loadTJihuoma=_n,e.loadTLootItem=yn,e.loadTLoot=vn,e.loadTLuckZhuanPan=bn,e.loadTLvaCtivity2=wn,e.loadTLvaCtivity=kn,e.loadTMagicShop=In,e.loadTMail=Tn,e.loadTMaintainAnnouncement=Pn,e.loadTMammonRabbit=Ln,e.loadTMapsCatchItem=Dn,e.loadTMapsCatch=xn,e.loadTMapsEvent=Cn,e.loadTMapsLegendary=Bn,e.loadTMapsRole=Sn,e.loadTMiningCubeLoot=En,e.loadTMiningCube=An,e.loadTMiningExplain=Mn,e.loadTMiningLoot=Gn,e.loadTMiningMap=Nn,e.loadTMiningRule=Rn,e.loadTMining=qn,e.loadTMissionReward=jn,e.loadTMooncake=Hn,e.loadTMoYaReward=On,e.loadTMysteryShop=Fn,e.loadTNewMining=zn,e.loadTNotePad=Un,e.loadTOmnipotentDebris=Wn,e.loadTOnline=Vn,e.loadTOpencompetition=Yn,e.loadTOrna=Xn,e.loadTPanel=Kn,e.loadTPetBreeding=Zn,e.loadTPethatchGrid=Qn,e.loadTPethatch=Jn,e.loadTPetRebirth=$n,e.loadTPiecesShop=ei,e.loadTPlayerBadge=ti,e.loadTPlayerEquipDevil=ni,e.loadTPlayerEquipRefine=ii,e.loadTPlayerEquipStren=ai,e.loadTPlayerItemRecover=oi,e.loadTPlayerItemReExp=si,e.loadTPlayerLvReward=ri,e.loadTPlayerLv=ui,e.loadTPlayerRole=li,e.loadTPmCenterTaskRange=ci,e.loadTPmCenterTask=hi,e.loadTPremiumPacks=pi,e.loadTPrimeCharge=gi,e.loadTPVPComBuy=di,e.loadTPVPComMatch=mi,e.loadTPVPComReward=fi,e.loadTPVPComRuby=_i,e.loadTPVPMissionReward=yi,e.loadTPVPPokemonMaster=vi,e.loadTPVPSoloReward=bi,e.loadTQuest=wi,e.loadTRandomNameNew=ki,e.loadTRandomName=Ii,e.loadTRankGradCompetition=Ti,e.loadTRankHonorLv=Pi,e.loadTRankRule=Li,e.loadTRankSignReward=Di,e.loadTRankSignUp=xi,e.loadTRecharge49=Ci,e.loadTRechargeDouble=Bi,e.loadTRechargeElfin=Si,e.loadTRechargeIOS=Ei,e.loadTRecharge=Ai,e.loadTRecommend=Mi,e.loadTRedElfShop=Gi,e.loadTRedElfTimeLimitShop=Ni,e.loadTRefresh=Ri,e.loadTREvolveUp=qi,e.loadTRewardPreview=ji,e.loadTRisk=Hi,e.loadTrobotup=Oi,e.loadTSevenDaysCompetition=Fi,e.loadTSevendaysReward=zi,e.loadTShopType=Ui,e.loadTShop=Wi,e.loadTSocietypersonageScience=Vi,e.loadTSocietyScience=Yi,e.loadTSpecialDungeonsType=Xi,e.loadTSpecialDungeons=Ki,e.loadTStrategy=Zi,e.loadTStronger=Qi,e.loadTSuipianqiyuan=Ji,e.loadTSuperGashapon=$i,e.loadTTalk=ea,e.loadTTeach=ta,e.loadTTestFree=na,e.loadTTexiaoBg=ia,e.loadTTexiaoBoom=aa,e.loadTTexiaoBuff=oa,e.loadTTexiaoFire=sa,e.loadTTexiaoFly=ra,e.loadTTexiaoGather=ua,e.loadTTips=la,e.loadTTitle=ca,e.loadTTowerShop=ha,e.loadTTower=pa,e.loadTTravelTime=ga,e.loadTTutorialDialog=da,e.loadTTutorialPicture=ma,e.loadTTutorial=fa,e.loadTVipLvaward=_a,e.loadTVip=ya,e.loadTWanbaRecharge=va,e.loadTWanBaReward=ba,e.loadTWeather=wa,e.loadTWing=ka,e.loadTXiaoGuo=Ia,e.loadTYuandanReward=Ta,e.loadTYuanyuan=Pa,e.init=La}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.isHelp=!1,e.skinName=TeamBagPokemonIconSkin,e}return __extends(n,t),n.prototype.setPokemonInfo=function(t){if(this.starGroup.removeChildren(),this.pokemonInfo=t,this.isHelp=!1,this.pokemonInfo){this.pokemon=t.type,this.typeImage.visible=!0,this.typeImage.source="icon/skillType/"+this.pokemonData.attribute,this.typeImage2.visible=!1,this.pokemonData.attribute2&&(this.typeImage2.visible=!0,this.typeImage2.source="icon/skillType/"+this.pokemonData.attribute2),this._pokemonImage.setScale(.8),this.textLabel.textColor=n.textColor[this.pokemonData.quality],7==this.pokemonData.quality?this.textLabel.strokeColor=gameConfig.TextColors.green:this.textLabel.strokeColor=gameConfig.TextColors.black,this.textLabel.text=""+this.pokemonData.name,this.textLabel.visible=!0,this.levelLabel.text="LV."+t.lv,this.levelLabel.visible=!0,this.shadowDisplay.visible=!0,this.touchEnabled=!0;for(var i=t.star||0,a=Math.floor(i/5),o=i%5,s=0,r=0;a>r;r++){var u=this._starImages[s];u||(u=new eui.Image,this._starImages[s]=u),u.source="ui/scene/team/star1",this.starGroup.addChild(u),s++}for(var r=0;o>r;r++){var u=this._starImages[s];u||(u=new eui.Image,this._starImages[s]=u),u.source="ui/scene/team/star",u.scaleX=u.scaleY=1,this.starGroup.addChild(u),s++}this.isHelp=-1!=e.DataManager.playerModel.teamConfig.helps.indexOf(t.id),this.helpImage.visible=this.isHelp}else this.typeImage.visible=!1,this.pokemonGroup.visible=!1,this.textLabel.visible=!1,this.shadowDisplay.visible=!1,this.touchEnabled=!1,this.helpImage.visible=!1,this.levelLabel.visible=!1,this.typeImage2.visible=!1;
this.resetPokemon()},n.textColor=[,10220062,2013938,15867627,15897886,15876126,gameConfig.TextColors.yellow,gameConfig.TextColors.black],n}(e.TeamPokemonIcon);e.TeamBagPokemonIcon=t,__reflect(t.prototype,"game.TeamBagPokemonIcon")}(game||(game={}));var Pokemon;!function(e){var t={},n=function(e){function n(n){var i=e.call(this,1)||this;return i.dispMethods=function(e,i){switch(e){case 1:n.OnMessage(i.read(2),i.read(t[78]));break;case 2:n.OnNewMail();break;case 3:n.OnTitles(i.readArray(2));break;case 4:n.OnRecharge(i.read(2),i.read(2),i.read(2),i.read(2));break;case 5:n.OnNewApplyFriendNotice();break;case 6:n.OnNewFriend();break;case 7:n.OnLoseFriend(i.read(t[199]));break;case 8:n.OnAssistFriend(i.read(2),i.read(2),i.read(t[49]));break;case 9:n.OnActivityInfo(i.read(t[50]));break;case 10:n.OnQuest(i.read(2),i.readArray(t[100]));break;case 11:n.OnLegendaryOnhook(i.read(2),i.read(2),i.read(13));break;case 12:n.OnSystemNotice(i.read(2),i.read(3),i.read(2),i.read(2),i.read(13));break;case 13:n.OnGetHighQualityPet(i.read(2),i.read(3),i.read(2),i.read(2),i.read(2),i.read(13));break;case 14:n.OnPlayerLevel(i.read(2),i.read(11));break;case 15:n.OnPlunder(i.read(t[139]));break;case 16:n.OnHelpPokemonStats(i.read(t[0]));break;case 17:n.OnSubwayInfo(i.readArray(t[140]));break;case 18:n.OnSFirstGroupon(i.read(t[147]));break;case 19:n.OnVipExp(i.read(2));break;case 20:n.OnYuandanRewardProgress(i.read(t[14]));break;case 21:n.OnSevendaysProgress(i.read(2),i.read(2),i.read(t[22]));break;case 499:n.OnPlayerBan(i.read(3),i.read(13));break;case 500:n.OnKickout(i.read(3));break;case 501:n.OnApproveJoinGuild(i.read(t[105]));break;case 502:n.OnKickOut();break;case 503:n.OnSetNotice(i.read(3));break;case 504:n.OnSetDeclaration(i.read(3));break;case 505:n.OnPositionChange(i.read(2));break;case 506:n.OnGuildScience(i.read(t[112]));break;case 550:n.OnTreasureReport(i.read(t[189]));break;case 551:n.OnTreasureData(i.read(t[184]));break;case 552:n.OnDayOrNight(i.read(13));break;case 553:n.OnTreasureTeamChange(i.read(t[186]));break;case 554:n.OnTeasureRevenge(i.read(t[188]));break;case 555:n.OnRemoveMythicalPm(i.readArray(t[36]));break;case 556:n.OnShowSdkString(i.read(3));break;case 557:n.OnMagicShopInfo(i.read(t[121]));break;case 558:n.OnCrossElfContestNotify(i.read(t[197]));break;case 559:n.OnDonateInfo(i.read(t[107]));break;case 560:n.OnElfTaskInfo(i.readArray(2))}},i}return __extends(n,e),n}(EasyGame.StubBase);e.IGameNotifyStub=n,__reflect(n.prototype,"Pokemon.IGameNotifyStub");var i=function(e){function n(t){return e.call(this,t)||this}return __extends(n,e),n.prototype.LoginAsync=function(){var e=this;LogProtocol&&console.log("Login");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(1),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[68])},i,a))})},n.prototype.Login=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(1),this.send(i,this.getResult(function(e){return e.read(t[68])},e,n||this.onError))},n.prototype.CreateRoleAsync=function(e,n,i){var a=this;LogProtocol&&console.log("CreateRole",e,n,i);var o=new EasyGame.StreamWriter;return o.writeInt(1),o.writeInt(2),o.write(3,e),o.write(2,n),o.write(2,i),new Promise(function(e,n){a.send(o,a.getResult(function(e){return e.read(t[68])},e,n))})},n.prototype.CreateRole=function(e,n,i,a,o){var s=new EasyGame.StreamWriter;s.writeInt(1),s.writeInt(2),s.write(3,e),s.write(2,n),s.write(2,i),this.send(s,this.getResult(function(e){return e.read(t[68])},a,o||this.onError))},n.prototype.OnhookCatchPmAsync=function(e){var n=this;LogProtocol&&console.log("OnhookCatchPm",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(3),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[36])},e,a))})},n.prototype.OnhookCatchPm=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(3),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[36])},n,i||this.onError))},n.prototype.OnhookGetItemAsync=function(e){var n=this;LogProtocol&&console.log("OnhookGetItem",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(4),i.write(t[71],e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.OnhookGetItem=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(4),a.write(t[71],e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.GetOnhookAsync=function(e){var n=this;LogProtocol&&console.log("GetOnhook",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(5),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[34])},e,a))})},n.prototype.GetOnhook=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(5),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[34])},n,i||this.onError))},n.prototype.SetFollowAsync=function(e,t){var n=this;LogProtocol&&console.log("SetFollow",e,t);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(6),i.write(2,e),i.write(2,t),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.SetFollow=function(e,t,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(6),a.write(2,e),a.write(2,t),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.SetOnhookMapAsync=function(e){var t=this;LogProtocol&&console.log("SetOnhookMap",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(7),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(1)},e,i))})},n.prototype.SetOnhookMap=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(7),i.write(2,e),this.send(i,this.getResult(function(e){return e.read(1)},t,n||this.onError))},n.prototype.SetIconAsync=function(e){var t=this;LogProtocol&&console.log("SetIcon",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(8),n.write(3,e),new Promise(function(e,i){t.send(n,t.getResult(null,e,i))})},n.prototype.SetIcon=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(8),i.write(3,e),this.send(i,this.getResult(null,t,n||this.onError))},n.prototype.UpgradeFormationAsync=function(e){var t=this;LogProtocol&&console.log("UpgradeFormation",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(9),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(1)},e,i))})},n.prototype.UpgradeFormation=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(9),i.write(2,e),this.send(i,this.getResult(function(e){return e.read(1)},t,n||this.onError))},n.prototype.SetFormationConfigAsync=function(e,n){var i=this;LogProtocol&&console.log("SetFormationConfig",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(10),a.write(2,e),a.writeArray(t[44],n),new Promise(function(e,t){i.send(a,i.getResult(function(e){return e.read(1)},e,t))})},n.prototype.SetFormationConfig=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(10),o.write(2,e),o.writeArray(t[44],n),this.send(o,this.getResult(function(e){return e.read(1)},i,a||this.onError))},n.prototype.MasterSkillAsync=function(e,t,n){var i=this;LogProtocol&&console.log("MasterSkill",e,t,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(11),a.write(2,e),a.write(2,t),a.write(2,n),new Promise(function(e,t){i.send(a,i.getResult(function(e){return e.read(1)},e,t))})},n.prototype.MasterSkill=function(e,t,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(11),o.write(2,e),o.write(2,t),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(1)},i,a||this.onError))},n.prototype.UseSkillBookAsync=function(e,t,n){var i=this;LogProtocol&&console.log("UseSkillBook",e,t,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(12),a.write(2,e),a.write(2,t),a.write(2,n),new Promise(function(e,t){i.send(a,i.getResult(function(e){return e.read(1)},e,t))})},n.prototype.UseSkillBook=function(e,t,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(12),o.write(2,e),o.write(2,t),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(1)},i,a||this.onError))},n.prototype.OffBattleTeamAsync=function(e,t){var n=this;LogProtocol&&console.log("OffBattleTeam",e,t);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(13),i.write(2,e),i.write(2,t),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.OffBattleTeam=function(e,t,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(13),a.write(2,e),a.write(2,t),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.AddBattleTeamAsync=function(e){var n=this;LogProtocol&&console.log("AddBattleTeam",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(14),i.write(t[44],e),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.AddBattleTeam=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(14),a.write(t[44],e),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.ReplaceBattleTeamAsync=function(e,t){var n=this;LogProtocol&&console.log("ReplaceBattleTeam",e,t);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(15),i.write(2,e),i.write(2,t),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.ReplaceBattleTeam=function(e,t,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(15),a.write(2,e),a.write(2,t),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.SwapPmSlotAsync=function(e,t){var n=this;LogProtocol&&console.log("SwapPmSlot",e,t);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(16),i.write(2,e),i.write(2,t),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.SwapPmSlot=function(e,t,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(16),a.write(2,e),a.write(2,t),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.GetMailsAsync=function(){var e=this;LogProtocol&&console.log("GetMails");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(17),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[73])},i,a))})},n.prototype.GetMails=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(17),this.send(i,this.getResult(function(e){return e.readArray(t[73])},e,n||this.onError))},n.prototype.GetMailItemAsync=function(e){var n=this;LogProtocol&&console.log("GetMailItem",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(18),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetMailItem=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(18),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.GetMailItemsAsync=function(){var e=this;LogProtocol&&console.log("GetMailItems");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(19),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[74])},i,a))})},n.prototype.GetMailItems=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(19),this.send(i,this.getResult(function(e){return e.read(t[74])},e,n||this.onError))},n.prototype.SendMessageAsync=function(e,t){var n=this;LogProtocol&&console.log("SendMessage",e,t);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(20),i.write(2,e),i.write(3,t),new Promise(function(e,t){n.send(i,n.getResult(null,e,t))})},n.prototype.SendMessage=function(e,t,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(20),a.write(2,e),a.write(3,t),this.send(a,this.getResult(null,n,i||this.onError))},n.prototype.UpgradePmAsync=function(e,n){var i=this;LogProtocol&&console.log("UpgradePm",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(21),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[79])},e,n))})},n.prototype.UpgradePm=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(21),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[79])},i,a||this.onError))},n.prototype.UpgradePmLoveLvAsync=function(e,n){var i=this;LogProtocol&&console.log("UpgradePmLoveLv",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(22),a.write(2,e),a.writeArray(t[71],n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[80])},e,n))})},n.prototype.UpgradePmLoveLv=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(22),o.write(2,e),o.writeArray(t[71],n),this.send(o,this.getResult(function(e){return e.read(t[80])},i,a||this.onError))},n.prototype.PromoteEffortAsync=function(e,n,i){var a=this;LogProtocol&&console.log("PromoteEffort",e,n,i);var o=new EasyGame.StreamWriter;return o.writeInt(1),o.writeInt(23),o.write(2,e),o.write(2,n),o.write(2,i),new Promise(function(e,n){a.send(o,a.getResult(function(e){return e.read(t[0])},e,n))})},n.prototype.PromoteEffort=function(e,n,i,a,o){var s=new EasyGame.StreamWriter;s.writeInt(1),s.writeInt(23),s.write(2,e),s.write(2,n),s.write(2,i),this.send(s,this.getResult(function(e){return e.read(t[0])},a,o||this.onError))},n.prototype.FreshIvAsync=function(e,n,i){var a=this;LogProtocol&&console.log("FreshIv",e,n,i);var o=new EasyGame.StreamWriter;return o.writeInt(1),o.writeInt(24),o.write(2,e),o.write(2,n),o.writeArray(2,i),new Promise(function(e,n){a.send(o,a.getResult(function(e){return e.read(t[0])},e,n))})},n.prototype.FreshIv=function(e,n,i,a,o){var s=new EasyGame.StreamWriter;s.writeInt(1),s.writeInt(24),s.write(2,e),s.write(2,n),s.writeArray(2,i),this.send(s,this.getResult(function(e){return e.read(t[0])},a,o||this.onError))},n.prototype.SaveFreshIvAsync=function(){var e=this;LogProtocol&&console.log("SaveFreshIv");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(25),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[0])},i,a))})},n.prototype.SaveFreshIv=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(25),this.send(i,this.getResult(function(e){return e.read(t[0])},e,n||this.onError))},n.prototype.EvolveAsync=function(e){var n=this;LogProtocol&&console.log("Evolve",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(26),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[37])},e,a))})},n.prototype.Evolve=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(26),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[37])},n,i||this.onError))},n.prototype.SortPokemonsByAsync=function(e){var n=this;LogProtocol&&console.log("SortPokemonsBy",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(27),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.readArray(t[37])},e,a))})},n.prototype.SortPokemonsBy=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(27),a.write(2,e),this.send(a,this.getResult(function(e){return e.readArray(t[37])},n,i||this.onError))},n.prototype.UseItemAsync=function(e,n){var i=this;LogProtocol&&console.log("UseItem",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(28),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[74])},e,n))})},n.prototype.UseItem=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(28),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[74])},i,a||this.onError))},n.prototype.EquipBringAsync=function(e,t,n){var i=this;LogProtocol&&console.log("EquipBring",e,t,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(29),a.write(2,e),a.write(2,t),a.write(2,n),new Promise(function(e,t){i.send(a,i.getResult(function(e){return e.read(1)},e,t))})},n.prototype.EquipBring=function(e,t,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(29),o.write(2,e),o.write(2,t),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(1)},i,a||this.onError))},n.prototype.UnequipBringAsync=function(e,t){var n=this;LogProtocol&&console.log("UnequipBring",e,t);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(30),i.write(2,e),i.write(2,t),new Promise(function(e,t){n.send(i,n.getResult(null,e,t))})},n.prototype.UnequipBring=function(e,t,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(30),a.write(2,e),a.write(2,t),this.send(a,this.getResult(null,n,i||this.onError))},n.prototype.UpgradeBringAsync=function(e,n){var i=this;LogProtocol&&console.log("UpgradeBring",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(31),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[81])},e,n))})},n.prototype.UpgradeBring=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(31),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[81])},i,a||this.onError))},n.prototype.UpgradeBadgeAsync=function(e){var t=this;LogProtocol&&console.log("UpgradeBadge",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(32),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(1)},e,i))})},n.prototype.UpgradeBadge=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(32),i.write(2,e),this.send(i,this.getResult(function(e){return e.read(1)},t,n||this.onError))},n.prototype.BuyRoleAsync=function(e){var t=this;LogProtocol&&console.log("BuyRole",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(33),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(1)},e,i))})},n.prototype.BuyRole=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(33),i.write(2,e),this.send(i,this.getResult(function(e){return e.read(1)},t,n||this.onError))},n.prototype.SetRoleAsync=function(e){var t=this;LogProtocol&&console.log("SetRole",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(34),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(1)},e,i))})},n.prototype.SetRole=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(34),i.write(2,e),this.send(i,this.getResult(function(e){return e.read(1)},t,n||this.onError))},n.prototype.BuyVipItemAsync=function(e){var n=this;LogProtocol&&console.log("BuyVipItem",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(35),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.BuyVipItem=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(35),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.SetTitleAsync=function(e){var t=this;LogProtocol&&console.log("SetTitle",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(36),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(1)},e,i))})},n.prototype.SetTitle=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(36),i.write(2,e),this.send(i,this.getResult(function(e){return e.read(1)},t,n||this.onError))},n.prototype.RefreshCharacterAsync=function(e){var t=this;LogProtocol&&console.log("RefreshCharacter",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(37),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(2)},e,i))})},n.prototype.RefreshCharacter=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(37),i.write(2,e),this.send(i,this.getResult(function(e){return e.read(2)},t,n||this.onError))},n.prototype.UpgradePmStarAsync=function(e,t){var n=this;LogProtocol&&console.log("UpgradePmStar",e,t);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(38),i.write(2,e),i.writeArray(2,t),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.UpgradePmStar=function(e,t,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(38),a.write(2,e),a.writeArray(2,t),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.SuperEvolveAsync=function(e,t){var n=this;LogProtocol&&console.log("SuperEvolve",e,t);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(39),i.write(2,e),i.write(2,t),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.SuperEvolve=function(e,t,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(39),a.write(2,e),a.write(2,t),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.UpgradeBringsAsync=function(){var e=this;LogProtocol&&console.log("UpgradeBrings");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(40),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[71])},i,a))})},n.prototype.UpgradeBrings=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(40),this.send(i,this.getResult(function(e){return e.readArray(t[71])},e,n||this.onError))},n.prototype.UpgradePlayerEquipAsync=function(e,n){var i=this;LogProtocol&&console.log("UpgradePlayerEquip",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(41),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[45])},e,n))})},n.prototype.UpgradePlayerEquip=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(41),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[45])},i,a||this.onError))},n.prototype.EnchantingPlayerEquipAsync=function(e,n){var i=this;LogProtocol&&console.log("EnchantingPlayerEquip",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(42),a.write(2,e),a.writeArray(t[71],n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[45])},e,n))})},n.prototype.EnchantingPlayerEquip=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(42),o.write(2,e),o.writeArray(t[71],n),this.send(o,this.getResult(function(e){return e.read(t[45])},i,a||this.onError))},n.prototype.EquipWingAsync=function(e){var t=this;LogProtocol&&console.log("EquipWing",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(43),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(1)},e,i))})},n.prototype.EquipWing=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(43),i.write(2,e),this.send(i,this.getResult(function(e){return e.read(1)},t,n||this.onError))},n.prototype.UpgradeWingAsync=function(e,n){var i=this;LogProtocol&&console.log("UpgradeWing",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(44),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[47])},e,n))})},n.prototype.UpgradeWing=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(44),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[47])},i,a||this.onError))},n.prototype.EquipOrnaAsync=function(e){var t=this;LogProtocol&&console.log("EquipOrna",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(45),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(1)},e,i))})},n.prototype.EquipOrna=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(45),i.write(2,e),this.send(i,this.getResult(function(e){return e.read(1)},t,n||this.onError))},n.prototype.UpgradeOrnaAsync=function(e,n){var i=this;LogProtocol&&console.log("UpgradeOrna",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(46),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[47])},e,n))})},n.prototype.UpgradeOrna=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(46),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[47])},i,a||this.onError))},n.prototype.OpenFollowSlotAsync=function(){var e=this;LogProtocol&&console.log("OpenFollowSlot");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(47),new Promise(function(n,i){e.send(t,e.getResult(function(e){return e.read(1)},n,i))})},n.prototype.OpenFollowSlot=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(47),this.send(n,this.getResult(function(e){return e.read(1)},e,t||this.onError))},n.prototype.RefinePlayerEquipAsync=function(e,n){var i=this;LogProtocol&&console.log("RefinePlayerEquip",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(48),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[45])},e,n))})},n.prototype.RefinePlayerEquip=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(48),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[45])},i,a||this.onError))},n.prototype.REvolveAsync=function(e){var n=this;LogProtocol&&console.log("REvolve",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(49),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[124])},e,a))})},n.prototype.REvolve=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(49),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[124])},n,i||this.onError))},n.prototype.GashaponAsync=function(e){var n=this;LogProtocol&&console.log("Gashapon",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(50),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[83])},e,a))})},n.prototype.Gashapon=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(50),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[83])},n,i||this.onError))},n.prototype.EndBattleAsync=function(e,n,i,a,o){var s=this;LogProtocol&&console.log("EndBattle",e,n,i,a,o);var r=new EasyGame.StreamWriter;return r.writeInt(1),r.writeInt(51),r.write(2,e),r.write(2,n),r.write(1,i),r.writeArray(2,a),r.writeArray(t[67],o),new Promise(function(e,n){s.send(r,s.getResult(function(e){return e.read(t[76])},e,n))})},n.prototype.EndBattle=function(e,n,i,a,o,s,r){var u=new EasyGame.StreamWriter;u.writeInt(1),u.writeInt(51),u.write(2,e),u.write(2,n),u.write(1,i),u.writeArray(2,a),u.writeArray(t[67],o),this.send(u,this.getResult(function(e){return e.read(t[76])},s,r||this.onError))},n.prototype.EndTowerBattleAsync=function(e){var n=this;LogProtocol&&console.log("EndTowerBattle",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(52),i.write(1,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[76])},e,a))})},n.prototype.EndTowerBattle=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(52),a.write(1,e),this.send(a,this.getResult(function(e){return e.read(t[76])},n,i||this.onError))},n.prototype.BackTowerAsync=function(){var e=this;LogProtocol&&console.log("BackTower");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(53),new Promise(function(n,i){e.send(t,e.getResult(function(e){return e.read(1)},n,i))})},n.prototype.BackTower=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(53),this.send(n,this.getResult(function(e){return e.read(1)},e,t||this.onError))},n.prototype.StartOnhookLegendaryAsync=function(){var e=this;LogProtocol&&console.log("StartOnhookLegendary");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(54),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[71])},i,a))})},n.prototype.StartOnhookLegendary=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(54),this.send(i,this.getResult(function(e){return e.read(t[71])},e,n||this.onError))},n.prototype.EndOnhookLegendaryAsync=function(e){var n=this;LogProtocol&&console.log("EndOnhookLegendary",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(55),i.write(1,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[76])},e,a))})},n.prototype.EndOnhookLegendary=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(55),a.write(1,e),this.send(a,this.getResult(function(e){return e.read(t[76])},n,i||this.onError))},n.prototype.UpdatePreBattleAsync=function(){var e=this;LogProtocol&&console.log("UpdatePreBattle");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(56),new Promise(function(n,i){e.send(t,e.getResult(null,n,i))})},n.prototype.UpdatePreBattle=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(56),this.send(n,this.getResult(null,e,t||this.onError))},n.prototype.EndQuickBattleAsync=function(){var e=this;LogProtocol&&console.log("EndQuickBattle");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(57),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[76])},i,a))})},n.prototype.EndQuickBattle=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(57),this.send(i,this.getResult(function(e){return e.read(t[76])},e,n||this.onError))},n.prototype.StartEngageWithAsync=function(e){var n=this;LogProtocol&&console.log("StartEngageWith",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(58),i.write(t[199],e),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.StartEngageWith=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(58),a.write(t[199],e),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.EndEngageWithAsync=function(e,n){var i=this;LogProtocol&&console.log("EndEngageWith",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(59),a.write(1,e),a.write(t[199],n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[76])},e,n))})},n.prototype.EndEngageWith=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(59),o.write(1,e),o.write(t[199],n),this.send(o,this.getResult(function(e){return e.read(t[76])},i,a||this.onError))},n.prototype.StartBattleAsync=function(){var e=this;LogProtocol&&console.log("StartBattle");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(60),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[66])},i,a))})},n.prototype.StartBattle=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(60),this.send(i,this.getResult(function(e){return e.read(t[66])},e,n||this.onError))},n.prototype.EndSpecialBattleAsync=function(e,n,i,a,o){var s=this;LogProtocol&&console.log("EndSpecialBattle",e,n,i,a,o);var r=new EasyGame.StreamWriter;return r.writeInt(1),r.writeInt(61),r.write(2,e),r.write(2,n),r.write(1,i),r.writeArray(2,a),r.writeArray(t[67],o),new Promise(function(e,n){s.send(r,s.getResult(function(e){return e.read(t[77])},e,n))})},n.prototype.EndSpecialBattle=function(e,n,i,a,o,s,r){var u=new EasyGame.StreamWriter;u.writeInt(1),u.writeInt(61),u.write(2,e),u.write(2,n),u.write(1,i),u.writeArray(2,a),u.writeArray(t[67],o),this.send(u,this.getResult(function(e){return e.read(t[77])},s,r||this.onError))},n.prototype.BuySpecialCopyCountAsync=function(){var e=this;LogProtocol&&console.log("BuySpecialCopyCount");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(62),new Promise(function(n,i){e.send(t,e.getResult(function(e){return e.read(1)},n,i))})},n.prototype.BuySpecialCopyCount=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(62),this.send(n,this.getResult(function(e){return e.read(1)},e,t||this.onError))},n.prototype.BuyTowerBattleCountAsync=function(){var e=this;
LogProtocol&&console.log("BuyTowerBattleCount");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(68),new Promise(function(n,i){e.send(t,e.getResult(function(e){return e.read(1)},n,i))})},n.prototype.BuyTowerBattleCount=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(68),this.send(n,this.getResult(function(e){return e.read(1)},e,t||this.onError))},n.prototype.SweepTowerAsync=function(){var e=this;LogProtocol&&console.log("SweepTower");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(69),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[76])},i,a))})},n.prototype.SweepTower=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(69),this.send(i,this.getResult(function(e){return e.read(t[76])},e,n||this.onError))},n.prototype.RefreshPvPMatchListAsync=function(e,n){var i=this;LogProtocol&&console.log("RefreshPvPMatchList",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(70),a.write(1,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.readArray(t[85])},e,n))})},n.prototype.RefreshPvPMatchList=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(70),o.write(1,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.readArray(t[85])},i,a||this.onError))},n.prototype.EndPvPBattleAsync=function(e,n,i){var a=this;LogProtocol&&console.log("EndPvPBattle",e,n,i);var o=new EasyGame.StreamWriter;return o.writeInt(1),o.writeInt(71),o.write(1,e),o.write(t[199],n),o.write(2,i),new Promise(function(e,n){a.send(o,a.getResult(function(e){return e.read(t[84])},e,n))})},n.prototype.EndPvPBattle=function(e,n,i,a,o){var s=new EasyGame.StreamWriter;s.writeInt(1),s.writeInt(71),s.write(1,e),s.write(t[199],n),s.write(2,i),this.send(s,this.getResult(function(e){return e.read(t[84])},a,o||this.onError))},n.prototype.GetPvPInfoAsync=function(){var e=this;LogProtocol&&console.log("GetPvPInfo");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(72),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[86])},i,a))})},n.prototype.GetPvPInfo=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(72),this.send(i,this.getResult(function(e){return e.read(t[86])},e,n||this.onError))},n.prototype.BuyPvPBattleCountAsync=function(e){var t=this;LogProtocol&&console.log("BuyPvPBattleCount",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(73),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(1)},e,i))})},n.prototype.BuyPvPBattleCount=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(73),i.write(2,e),this.send(i,this.getResult(function(e){return e.read(1)},t,n||this.onError))},n.prototype.RefreshShopAsync=function(e){var n=this;LogProtocol&&console.log("RefreshShop",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(80),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[88])},e,a))})},n.prototype.RefreshShop=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(80),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[88])},n,i||this.onError))},n.prototype.BuyShopItemAsync=function(e,n,i){var a=this;LogProtocol&&console.log("BuyShopItem",e,n,i);var o=new EasyGame.StreamWriter;return o.writeInt(1),o.writeInt(81),o.write(2,e),o.write(2,n),o.write(2,i),new Promise(function(e,n){a.send(o,a.getResult(function(e){return e.read(t[125])},e,n))})},n.prototype.BuyShopItem=function(e,n,i,a,o){var s=new EasyGame.StreamWriter;s.writeInt(1),s.writeInt(81),s.write(2,e),s.write(2,n),s.write(2,i),this.send(s,this.getResult(function(e){return e.read(t[125])},a,o||this.onError))},n.prototype.CallbackPokemonsAsync=function(e){var n=this;LogProtocol&&console.log("CallbackPokemons",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(82),i.writeArray(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.readArray(t[71])},e,a))})},n.prototype.CallbackPokemons=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(82),a.writeArray(2,e),this.send(a,this.getResult(function(e){return e.readArray(t[71])},n,i||this.onError))},n.prototype.ExchangePokemonAsync=function(e){var n=this;LogProtocol&&console.log("ExchangePokemon",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(83),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[37])},e,a))})},n.prototype.ExchangePokemon=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(83),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[37])},n,i||this.onError))},n.prototype.StartHuntAsync=function(e,t){var n=this;LogProtocol&&console.log("StartHunt",e,t);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(84),i.write(2,e),i.write(1,t),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.StartHunt=function(e,t,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(84),a.write(2,e),a.write(1,t),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.HuntAsync=function(e,n){var i=this;LogProtocol&&console.log("Hunt",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(85),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[37])},e,n))})},n.prototype.Hunt=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(85),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[37])},i,a||this.onError))},n.prototype.BuyItemAsync=function(e,t){var n=this;LogProtocol&&console.log("BuyItem",e,t);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(86),i.write(2,e),i.write(2,t),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.BuyItem=function(e,t,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(86),a.write(2,e),a.write(2,t),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.BuyTowerShopItemAsync=function(e,n){var i=this;LogProtocol&&console.log("BuyTowerShopItem",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(87),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[124])},e,n))})},n.prototype.BuyTowerShopItem=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(87),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[124])},i,a||this.onError))},n.prototype.EnterFamAsync=function(e){var n=this;LogProtocol&&console.log("EnterFam",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(88),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[91])},e,a))})},n.prototype.EnterFam=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(88),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[91])},n,i||this.onError))},n.prototype.FamDiceAsync=function(e){var t=this;LogProtocol&&console.log("FamDice",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(89),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(2)},e,i))})},n.prototype.FamDice=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(89),i.write(2,e),this.send(i,this.getResult(function(e){return e.read(2)},t,n||this.onError))},n.prototype.FamEventLootAsync=function(e,n){var i=this;LogProtocol&&console.log("FamEventLoot",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(90),a.write(1,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[76])},e,n))})},n.prototype.FamEventLoot=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(90),o.write(1,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[76])},i,a||this.onError))},n.prototype.BuyActivityBattleCountAsync=function(){var e=this;LogProtocol&&console.log("BuyActivityBattleCount");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(91),new Promise(function(n,i){e.send(t,e.getResult(function(e){return e.read(1)},n,i))})},n.prototype.BuyActivityBattleCount=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(91),this.send(n,this.getResult(function(e){return e.read(1)},e,t||this.onError))},n.prototype.EndActivityBattleAsync=function(e,n){var i=this;LogProtocol&&console.log("EndActivityBattle",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(92),a.write(1,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[76])},e,n))})},n.prototype.EndActivityBattle=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(92),o.write(1,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[76])},i,a||this.onError))},n.prototype.SweepFamAsync=function(){var e=this;LogProtocol&&console.log("SweepFam");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(93),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[76])},i,a))})},n.prototype.SweepFam=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(93),this.send(i,this.getResult(function(e){return e.read(t[76])},e,n||this.onError))},n.prototype.GMHelpedAsync=function(){var e=this;LogProtocol&&console.log("GMHelped");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(97),new Promise(function(n,i){e.send(t,e.getResult(null,n,i))})},n.prototype.GMHelped=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(97),this.send(n,this.getResult(null,e,t||this.onError))},n.prototype.GetCommendFriendsAsync=function(){var e=this;LogProtocol&&console.log("GetCommendFriends");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(98),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[49])},i,a))})},n.prototype.GetCommendFriends=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(98),this.send(i,this.getResult(function(e){return e.readArray(t[49])},e,n||this.onError))},n.prototype.RefreshCommendFriendsAsync=function(){var e=this;LogProtocol&&console.log("RefreshCommendFriends");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(99),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[94])},i,a))})},n.prototype.RefreshCommendFriends=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(99),this.send(i,this.getResult(function(e){return e.read(t[94])},e,n||this.onError))},n.prototype.LoadFriendNoticesAsync=function(){var e=this;LogProtocol&&console.log("LoadFriendNotices");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(100),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[49])},i,a))})},n.prototype.LoadFriendNotices=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(100),this.send(i,this.getResult(function(e){return e.readArray(t[49])},e,n||this.onError))},n.prototype.ApplyAddFriendAsync=function(e){var n=this;LogProtocol&&console.log("ApplyAddFriend",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(101),i.write(t[199],e),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.ApplyAddFriend=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(101),a.write(t[199],e),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.IgnoreFriendNoticeAsync=function(e){var n=this;LogProtocol&&console.log("IgnoreFriendNotice",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(102),i.write(t[199],e),new Promise(function(e,t){n.send(i,n.getResult(null,e,t))})},n.prototype.IgnoreFriendNotice=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(102),a.write(t[199],e),this.send(a,this.getResult(null,n,i||this.onError))},n.prototype.ApointAddFriendAsync=function(e){var n=this;LogProtocol&&console.log("ApointAddFriend",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(103),i.write(t[199],e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[93])},e,a))})},n.prototype.ApointAddFriend=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(103),a.write(t[199],e),this.send(a,this.getResult(function(e){return e.read(t[93])},n,i||this.onError))},n.prototype.LoadFriendsAsync=function(){var e=this;LogProtocol&&console.log("LoadFriends");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(104),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[93])},i,a))})},n.prototype.LoadFriends=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(104),this.send(i,this.getResult(function(e){return e.readArray(t[93])},e,n||this.onError))},n.prototype.RemoveFriendAsync=function(e){var n=this;LogProtocol&&console.log("RemoveFriend",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(105),i.write(t[199],e),new Promise(function(e,t){n.send(i,n.getResult(null,e,t))})},n.prototype.RemoveFriend=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(105),a.write(t[199],e),this.send(a,this.getResult(null,n,i||this.onError))},n.prototype.SetAssistAsync=function(e){var t=this;LogProtocol&&console.log("SetAssist",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(106),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(1)},e,i))})},n.prototype.SetAssist=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(106),i.write(2,e),this.send(i,this.getResult(function(e){return e.read(1)},t,n||this.onError))},n.prototype.SetAssistFriendAsync=function(e){var n=this;LogProtocol&&console.log("SetAssistFriend",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(107),i.write(t[199],e),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.SetAssistFriend=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(107),a.write(t[199],e),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.LoadIAssistAsync=function(){var e=this;LogProtocol&&console.log("LoadIAssist");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(108),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[49])},i,a))})},n.prototype.LoadIAssist=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(108),this.send(i,this.getResult(function(e){return e.readArray(t[49])},e,n||this.onError))},n.prototype.FriendAssistAsync=function(){var e=this;LogProtocol&&console.log("FriendAssist");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(109),new Promise(function(n,i){e.send(t,e.getResult(null,n,i))})},n.prototype.FriendAssist=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(109),this.send(n,this.getResult(null,e,t||this.onError))},n.prototype.QueryPlayerDetailAsync=function(e){var n=this;LogProtocol&&console.log("QueryPlayerDetail",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(110),i.write(t[199],e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[70])},e,a))})},n.prototype.QueryPlayerDetail=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(110),a.write(t[199],e),this.send(a,this.getResult(function(e){return e.read(t[70])},n,i||this.onError))},n.prototype.GetRankListAsync=function(e){var n=this;LogProtocol&&console.log("GetRankList",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(111),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[98])},e,a))})},n.prototype.GetRankList=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(111),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[98])},n,i||this.onError))},n.prototype.GetMapPlayersAsync=function(){var e=this;LogProtocol&&console.log("GetMapPlayers");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(112),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[99])},i,a))})},n.prototype.GetMapPlayers=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(112),this.send(i,this.getResult(function(e){return e.readArray(t[99])},e,n||this.onError))},n.prototype.LoadActivitiesAsync=function(){var e=this;LogProtocol&&console.log("LoadActivities");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(113),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[29])},i,a))})},n.prototype.LoadActivities=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(113),this.send(i,this.getResult(function(e){return e.readArray(t[29])},e,n||this.onError))},n.prototype.GetActivityInfoAsync=function(){var e=this;LogProtocol&&console.log("GetActivityInfo");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(114),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[50])},i,a))})},n.prototype.GetActivityInfo=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(114),this.send(i,this.getResult(function(e){return e.read(t[50])},e,n||this.onError))},n.prototype.GetActivityRewardAsync=function(e,n){var i=this;LogProtocol&&console.log("GetActivityReward",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(115),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[74])},e,n))})},n.prototype.GetActivityReward=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(115),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[74])},i,a||this.onError))},n.prototype.GetHuoZhuanPanAsync=function(){var e=this;LogProtocol&&console.log("GetHuoZhuanPan");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(116),new Promise(function(n,i){e.send(t,e.getResult(function(e){return e.read(2)},n,i))})},n.prototype.GetHuoZhuanPan=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(116),this.send(n,this.getResult(function(e){return e.read(2)},e,t||this.onError))},n.prototype.GetQuestsAsync=function(e){var n=this;LogProtocol&&console.log("GetQuests",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(120),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.readArray(t[100])},e,a))})},n.prototype.GetQuests=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(120),a.write(2,e),this.send(a,this.getResult(function(e){return e.readArray(t[100])},n,i||this.onError))},n.prototype.GetQuestRewardAsync=function(e){var n=this;LogProtocol&&console.log("GetQuestReward",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(121),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetQuestReward=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(121),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.GetActiveRewardAsync=function(e){var n=this;LogProtocol&&console.log("GetActiveReward",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(122),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetActiveReward=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(122),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.GetSignRewardAsync=function(){var e=this;LogProtocol&&console.log("GetSignReward");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(123),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[74])},i,a))})},n.prototype.GetSignReward=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(123),this.send(i,this.getResult(function(e){return e.read(t[74])},e,n||this.onError))},n.prototype.BuyGrowthPlanAsync=function(){var e=this;LogProtocol&&console.log("BuyGrowthPlan");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(124),new Promise(function(n,i){e.send(t,e.getResult(function(e){return e.read(1)},n,i))})},n.prototype.BuyGrowthPlan=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(124),this.send(n,this.getResult(function(e){return e.read(1)},e,t||this.onError))},n.prototype.GetFunctionOpenRewardAsync=function(){var e=this;LogProtocol&&console.log("GetFunctionOpenReward");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(125),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[74])},i,a))})},n.prototype.GetFunctionOpenReward=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(125),this.send(i,this.getResult(function(e){return e.read(t[74])},e,n||this.onError))},n.prototype.GetSignInfoAsync=function(){var e=this;LogProtocol&&console.log("GetSignInfo");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(126),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[62])},i,a))})},n.prototype.GetSignInfo=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(126),this.send(i,this.getResult(function(e){return e.read(t[62])},e,n||this.onError))},n.prototype.CreateGuildAsync=function(e,n,i){var a=this;LogProtocol&&console.log("CreateGuild",e,n,i);var o=new EasyGame.StreamWriter;return o.writeInt(1),o.writeInt(130),o.write(2,e),o.write(2,n),o.write(3,i),new Promise(function(e,n){a.send(o,a.getResult(function(e){return e.read(t[105])},e,n))})},n.prototype.CreateGuild=function(e,n,i,a,o){var s=new EasyGame.StreamWriter;s.writeInt(1),s.writeInt(130),s.write(2,e),s.write(2,n),s.write(3,i),this.send(s,this.getResult(function(e){return e.read(t[105])},a,o||this.onError))},n.prototype.DissolveAsync=function(){var e=this;LogProtocol&&console.log("Dissolve");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(131),new Promise(function(n,i){e.send(t,e.getResult(null,n,i))})},n.prototype.Dissolve=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(131),this.send(n,this.getResult(null,e,t||this.onError))},n.prototype.ApplyJoinGuildAsync=function(e){var t=this;LogProtocol&&console.log("ApplyJoinGuild",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(132),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(1)},e,i))})},n.prototype.ApplyJoinGuild=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(132),i.write(2,e),this.send(i,this.getResult(function(e){return e.read(1)},t,n||this.onError))},n.prototype.ApproveJoinGuildAsync=function(e,n){var i=this;LogProtocol&&console.log("ApproveJoinGuild",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(133),a.write(t[199],e),a.write(1,n),new Promise(function(e,t){i.send(a,i.getResult(function(e){return e.read(1)},e,t))})},n.prototype.ApproveJoinGuild=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(133),o.write(t[199],e),o.write(1,n),this.send(o,this.getResult(function(e){return e.read(1)},i,a||this.onError))},n.prototype.QuitGuildAsync=function(){var e=this;LogProtocol&&console.log("QuitGuild");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(134),new Promise(function(n,i){e.send(t,e.getResult(null,n,i))})},n.prototype.QuitGuild=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(134),this.send(n,this.getResult(null,e,t||this.onError))},n.prototype.GetGuildBaseInfoAsync=function(){var e=this;LogProtocol&&console.log("GetGuildBaseInfo");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(135),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[105])},i,a))})},n.prototype.GetGuildBaseInfo=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(135),this.send(i,this.getResult(function(e){return e.read(t[105])},e,n||this.onError))},n.prototype.GetGuildApplicationListAsync=function(){var e=this;LogProtocol&&console.log("GetGuildApplicationList");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(136),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[49])},i,a))})},n.prototype.GetGuildApplicationList=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(136),this.send(i,this.getResult(function(e){return e.readArray(t[49])},e,n||this.onError))},n.prototype.GetGuildMessageListAsync=function(){var e=this;LogProtocol&&console.log("GetGuildMessageList");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(137),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[78])},i,a))})},n.prototype.GetGuildMessageList=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(137),this.send(i,this.getResult(function(e){return e.readArray(t[78])},e,n||this.onError))},n.prototype.GetGuildJournalAsync=function(){var e=this;LogProtocol&&console.log("GetGuildJournal");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(138),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[110])},i,a))})},n.prototype.GetGuildJournal=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(138),this.send(i,this.getResult(function(e){return e.readArray(t[110])},e,n||this.onError))},n.prototype.DonateAsync=function(e,t){var n=this;LogProtocol&&console.log("Donate",e,t);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(139),i.write(2,e),i.write(2,t),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.Donate=function(e,t,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(139),a.write(2,e),a.write(2,t),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.GetGuildMemberListAsync=function(){var e=this;LogProtocol&&console.log("GetGuildMemberList");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(140),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[102])},i,a))})},n.prototype.GetGuildMemberList=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(140),this.send(i,this.getResult(function(e){return e.readArray(t[102])},e,n||this.onError))},n.prototype.LeaveMessageAsync=function(e){var t=this;LogProtocol&&console.log("LeaveMessage",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(141),n.write(3,e),new Promise(function(e,i){t.send(n,t.getResult(null,e,i))})},n.prototype.LeaveMessage=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(141),i.write(3,e),this.send(i,this.getResult(null,t,n||this.onError))},n.prototype.SetNoticeAsync=function(e){var t=this;LogProtocol&&console.log("SetNotice",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(142),n.write(3,e),new Promise(function(e,i){t.send(n,t.getResult(null,e,i))})},n.prototype.SetNotice=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(142),i.write(3,e),this.send(i,this.getResult(null,t,n||this.onError))},n.prototype.SetDeclarationAsync=function(e){var t=this;LogProtocol&&console.log("SetDeclaration",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(143),n.write(3,e),new Promise(function(e,i){t.send(n,t.getResult(null,e,i))})},n.prototype.SetDeclaration=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(143),i.write(3,e),this.send(i,this.getResult(null,t,n||this.onError))},n.prototype.GetGuildListAsync=function(){var e=this;LogProtocol&&console.log("GetGuildList");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(144),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[105])},i,a))})},n.prototype.GetGuildList=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(144),this.send(i,this.getResult(function(e){return e.readArray(t[105])},e,n||this.onError))},n.prototype.QueryGuildInfoAsync=function(e){var n=this;LogProtocol&&console.log("QueryGuildInfo",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(145),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[105])},e,a))})},n.prototype.QueryGuildInfo=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(145),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[105])},n,i||this.onError))},n.prototype.AppointAsync=function(e,n){var i=this;LogProtocol&&console.log("Appoint",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(146),a.write(t[199],e),a.write(2,n),new Promise(function(e,t){i.send(a,i.getResult(function(e){return e.read(1)},e,t))})},n.prototype.Appoint=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(146),o.write(t[199],e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(1)},i,a||this.onError))},n.prototype.OpenGuildBossAsync=function(e){var n=this;LogProtocol&&console.log("OpenGuildBoss",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(147),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[109])},e,a))})},n.prototype.OpenGuildBoss=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(147),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[109])},n,i||this.onError))},n.prototype.EnterGuildBossAsync=function(e,n){var i=this;LogProtocol&&console.log("EnterGuildBoss",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(148),a.write(t[199],e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[109])},e,n))})},n.prototype.EnterGuildBoss=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(148),o.write(t[199],e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[109])},i,a||this.onError))},n.prototype.EndGuildBossAsync=function(e,n,i){var a=this;LogProtocol&&console.log("EndGuildBoss",e,n,i);var o=new EasyGame.StreamWriter;return o.writeInt(1),o.writeInt(149),o.write(t[199],e),o.write(2,n),o.writeArray(8,i),new Promise(function(e,n){a.send(o,a.getResult(function(e){return e.read(t[109])},e,n))})},n.prototype.EndGuildBoss=function(e,n,i,a,o){var s=new EasyGame.StreamWriter;s.writeInt(1),s.writeInt(149),s.write(t[199],e),s.write(2,n),s.writeArray(8,i),this.send(s,this.getResult(function(e){return e.read(t[109])},a,o||this.onError))},n.prototype.GetGuildBossRankAsync=function(e,n){var i=this;LogProtocol&&console.log("GetGuildBossRank",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(150),a.write(t[199],e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[98])},e,n))})},n.prototype.GetGuildBossRank=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(150),o.write(t[199],e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[98])},i,a||this.onError))},n.prototype.GetGuildBossListAsync=function(){var e=this;LogProtocol&&console.log("GetGuildBossList");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(151),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[109])},i,a))})},n.prototype.GetGuildBossList=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(151),this.send(i,this.getResult(function(e){return e.readArray(t[109])},e,n||this.onError))},n.prototype.SendGuildBossRewardAsync=function(e){var t=this;LogProtocol&&console.log("SendGuildBossReward",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(152),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(1)
},e,i))})},n.prototype.SendGuildBossReward=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(152),i.write(2,e),this.send(i,this.getResult(function(e){return e.read(1)},t,n||this.onError))},n.prototype.LeavePokemonAsync=function(e){var n=this;LogProtocol&&console.log("LeavePokemon",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(153),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[103])},e,a))})},n.prototype.LeavePokemon=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(153),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[103])},n,i||this.onError))},n.prototype.TakeBackPokemonAsync=function(e){var n=this;LogProtocol&&console.log("TakeBackPokemon",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(154),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[37])},e,a))})},n.prototype.TakeBackPokemon=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(154),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[37])},n,i||this.onError))},n.prototype.BuyGuildBossCountAsync=function(){var e=this;LogProtocol&&console.log("BuyGuildBossCount");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(155),new Promise(function(n,i){e.send(t,e.getResult(function(e){return e.read(1)},n,i))})},n.prototype.BuyGuildBossCount=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(155),this.send(n,this.getResult(function(e){return e.read(1)},e,t||this.onError))},n.prototype.DonatePersonalScienceAsync=function(e,n){var i=this;LogProtocol&&console.log("DonatePersonalScience",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(156),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[113])},e,n))})},n.prototype.DonatePersonalScience=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(156),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[113])},i,a||this.onError))},n.prototype.DonateGuildScienceAsync=function(e,n){var i=this;LogProtocol&&console.log("DonateGuildScience",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(157),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[113])},e,n))})},n.prototype.DonateGuildScience=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(157),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[113])},i,a||this.onError))},n.prototype.CheckGuildNameAsync=function(e){var t=this;LogProtocol&&console.log("CheckGuildName",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(158),n.write(3,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(3)},e,i))})},n.prototype.CheckGuildName=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(158),i.write(3,e),this.send(i,this.getResult(function(e){return e.read(3)},t,n||this.onError))},n.prototype.ChangeGuildIconAsync=function(e){var t=this;LogProtocol&&console.log("ChangeGuildIcon",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(159),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(null,e,i))})},n.prototype.ChangeGuildIcon=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(159),i.write(2,e),this.send(i,this.getResult(null,t,n||this.onError))},n.prototype.GetCDKeyAsync=function(e){var n=this;LogProtocol&&console.log("GetCDKey",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(200),i.write(3,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetCDKey=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(200),a.write(3,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.GetFocusGiftAsync=function(e){var n=this;LogProtocol&&console.log("GetFocusGift",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(201),i.write(1,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetFocusGift=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(201),a.write(1,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.ShareAsync=function(){var e=this;LogProtocol&&console.log("Share");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(202),new Promise(function(n,i){e.send(t,e.getResult(function(e){return e.read(1)},n,i))})},n.prototype.Share=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(202),this.send(n,this.getResult(function(e){return e.read(1)},e,t||this.onError))},n.prototype.GetShareGiftAsync=function(e){var n=this;LogProtocol&&console.log("GetShareGift",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(203),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetShareGift=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(203),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.GetSumRechargeGiftAsync=function(e){var n=this;LogProtocol&&console.log("GetSumRechargeGift",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(204),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetSumRechargeGift=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(204),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.GetDiamondSpendGifAsync=function(e){var n=this;LogProtocol&&console.log("GetDiamondSpendGif",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(205),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetDiamondSpendGif=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(205),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.GetFlashElfGifAsync=function(e){var n=this;LogProtocol&&console.log("GetFlashElfGif",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(206),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetFlashElfGif=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(206),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.BuyPremiumPacksAsync=function(e){var n=this;LogProtocol&&console.log("BuyPremiumPacks",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(207),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.BuyPremiumPacks=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(207),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.GetRechargeElfinAsync=function(e){var n=this;LogProtocol&&console.log("GetRechargeElfin",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(208),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[57])},e,a))})},n.prototype.GetRechargeElfin=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(208),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[57])},n,i||this.onError))},n.prototype.GetChristmasEveAsync=function(e){var n=this;LogProtocol&&console.log("GetChristmasEve",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(209),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[57])},e,a))})},n.prototype.GetChristmasEve=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(209),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[57])},n,i||this.onError))},n.prototype.SignEnemyAsync=function(e){var n=this;LogProtocol&&console.log("SignEnemy",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(210),i.write(t[199],e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[138])},e,a))})},n.prototype.SignEnemy=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(210),a.write(t[199],e),this.send(a,this.getResult(function(e){return e.read(t[138])},n,i||this.onError))},n.prototype.DeleteEnemyAsync=function(e){var n=this;LogProtocol&&console.log("DeleteEnemy",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(211),i.write(t[199],e),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.DeleteEnemy=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(211),a.write(t[199],e),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.PlunderAsync=function(e){var n=this;LogProtocol&&console.log("Plunder",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(212),i.write(t[199],e),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(2)},e,t))})},n.prototype.Plunder=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(212),a.write(t[199],e),this.send(a,this.getResult(function(e){return e.read(2)},n,i||this.onError))},n.prototype.GetRivalListAsync=function(){var e=this;LogProtocol&&console.log("GetRivalList");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(213),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[138])},i,a))})},n.prototype.GetRivalList=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(213),this.send(i,this.getResult(function(e){return e.readArray(t[138])},e,n||this.onError))},n.prototype.SetNewGuideNumberAsync=function(e){var t=this;LogProtocol&&console.log("SetNewGuideNumber",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(214),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(null,e,i))})},n.prototype.SetNewGuideNumber=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(214),i.write(2,e),this.send(i,this.getResult(null,t,n||this.onError))},n.prototype.GetDailyDiamondSpendGiftAsync=function(e){var n=this;LogProtocol&&console.log("GetDailyDiamondSpendGift",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(215),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetDailyDiamondSpendGift=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(215),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.GetDailyRechargedGiftAsync=function(e){var n=this;LogProtocol&&console.log("GetDailyRechargedGift",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(216),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetDailyRechargedGift=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(216),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.GetAttackedListAsync=function(){var e=this;LogProtocol&&console.log("GetAttackedList");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(217),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[95])},i,a))})},n.prototype.GetAttackedList=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(217),this.send(i,this.getResult(function(e){return e.readArray(t[95])},e,n||this.onError))},n.prototype.GetOneYuanRechargeAsync=function(e){var n=this;LogProtocol&&console.log("GetOneYuanRecharge",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(218),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetOneYuanRecharge=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(218),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.GetMiningInfoAsync=function(){var e=this;LogProtocol&&console.log("GetMiningInfo");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(250),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[118])},i,a))})},n.prototype.GetMiningInfo=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(250),this.send(i,this.getResult(function(e){return e.read(t[118])},e,n||this.onError))},n.prototype.ChangeMiningFloorAsync=function(e){var n=this;LogProtocol&&console.log("ChangeMiningFloor",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(251),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[118])},e,a))})},n.prototype.ChangeMiningFloor=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(251),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[118])},n,i||this.onError))},n.prototype.DigMiningAsync=function(e,n,i){var a=this;LogProtocol&&console.log("DigMining",e,n,i);var o=new EasyGame.StreamWriter;return o.writeInt(1),o.writeInt(252),o.write(2,e),o.write(2,n),o.write(1,i),new Promise(function(e,n){a.send(o,a.getResult(function(e){return e.read(t[120])},e,n))})},n.prototype.DigMining=function(e,n,i,a,o){var s=new EasyGame.StreamWriter;s.writeInt(1),s.writeInt(252),s.write(2,e),s.write(2,n),s.write(1,i),this.send(s,this.getResult(function(e){return e.read(t[120])},a,o||this.onError))},n.prototype.PickMiningAsync=function(e,n){var i=this;LogProtocol&&console.log("PickMining",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(253),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[71])},e,n))})},n.prototype.PickMining=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(253),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[71])},i,a||this.onError))},n.prototype.PickAllMiningAsync=function(e){var n=this;LogProtocol&&console.log("PickAllMining",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(254),i.writeArray(t[71],e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.readArray(t[71])},e,a))})},n.prototype.PickAllMining=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(254),a.writeArray(t[71],e),this.send(a,this.getResult(function(e){return e.readArray(t[71])},n,i||this.onError))},n.prototype.OccupyMiningAsync=function(e,n){var i=this;LogProtocol&&console.log("OccupyMining",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(255),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[117])},e,n))})},n.prototype.OccupyMining=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(255),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[117])},i,a||this.onError))},n.prototype.PickOccupyMiningAsync=function(e){var n=this;LogProtocol&&console.log("PickOccupyMining",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(256),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[71])},e,a))})},n.prototype.PickOccupyMining=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(256),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[71])},n,i||this.onError))},n.prototype.KillMiningBossAsync=function(e,t){var n=this;LogProtocol&&console.log("KillMiningBoss",e,t);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(257),i.write(2,e),i.write(2,t),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.KillMiningBoss=function(e,t,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(257),a.write(2,e),a.write(2,t),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.StartAutoDigAsync=function(e){var n=this;LogProtocol&&console.log("StartAutoDig",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(258),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[119])},e,a))})},n.prototype.StartAutoDig=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(258),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[119])},n,i||this.onError))},n.prototype.BuyTansuoliAsync=function(){var e=this;LogProtocol&&console.log("BuyTansuoli");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(259),new Promise(function(n,i){e.send(t,e.getResult(function(e){return e.read(1)},n,i))})},n.prototype.BuyTansuoli=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(259),this.send(n,this.getResult(function(e){return e.read(1)},e,t||this.onError))},n.prototype.BuyBombAsync=function(){var e=this;LogProtocol&&console.log("BuyBomb");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(260),new Promise(function(n,i){e.send(t,e.getResult(function(e){return e.read(1)},n,i))})},n.prototype.BuyBomb=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(260),this.send(n,this.getResult(function(e){return e.read(1)},e,t||this.onError))},n.prototype.RefreshMysteryShopAsync=function(e){var n=this;LogProtocol&&console.log("RefreshMysteryShop",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(270),i.write(1,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[122])},e,a))})},n.prototype.RefreshMysteryShop=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(270),a.write(1,e),this.send(a,this.getResult(function(e){return e.read(t[122])},n,i||this.onError))},n.prototype.BuyMysteryShopItemAsync=function(e){var n=this;LogProtocol&&console.log("BuyMysteryShopItem",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(271),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[124])},e,a))})},n.prototype.BuyMysteryShopItem=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(271),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[124])},n,i||this.onError))},n.prototype.GetDailyRechargeGiftRewardAsync=function(e){var n=this;LogProtocol&&console.log("GetDailyRechargeGiftReward",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(272),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetDailyRechargeGiftReward=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(272),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.GetPlayerLvReachGiftAsync=function(e){var n=this;LogProtocol&&console.log("GetPlayerLvReachGift",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(273),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetPlayerLvReachGift=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(273),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.GetMammonRabbitGiftAsync=function(e){var n=this;LogProtocol&&console.log("GetMammonRabbitGift",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(274),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[124])},e,a))})},n.prototype.GetMammonRabbitGift=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(274),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[124])},n,i||this.onError))},n.prototype.SwapDebrisAsync=function(e,n){var i=this;LogProtocol&&console.log("SwapDebris",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(275),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[124])},e,n))})},n.prototype.SwapDebris=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(275),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[124])},i,a||this.onError))},n.prototype.RecoverPlayerItemAsync=function(e){var n=this;LogProtocol&&console.log("RecoverPlayerItem",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(276),i.writeArray(t[71],e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[124])},e,a))})},n.prototype.RecoverPlayerItem=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(276),a.writeArray(t[71],e),this.send(a,this.getResult(function(e){return e.read(t[124])},n,i||this.onError))},n.prototype.UpgradePetTypeAttributeLvAsync=function(e,n){var i=this;LogProtocol&&console.log("UpgradePetTypeAttributeLv",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(277),a.write(2,e),a.write(1,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[126])},e,n))})},n.prototype.UpgradePetTypeAttributeLv=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(277),o.write(2,e),o.write(1,n),this.send(o,this.getResult(function(e){return e.read(t[126])},i,a||this.onError))},n.prototype.SetHelpAsync=function(e,n){var i=this;LogProtocol&&console.log("SetHelp",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(278),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[0])},e,n))})},n.prototype.SetHelp=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(278),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[0])},i,a||this.onError))},n.prototype.GetCollentRewardAsync=function(e){var n=this;LogProtocol&&console.log("GetCollentReward",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(279),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[124])},e,a))})},n.prototype.GetCollentReward=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(279),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[124])},n,i||this.onError))},n.prototype.GetOnlineRewardAsync=function(){var e=this;LogProtocol&&console.log("GetOnlineReward");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(280),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[76])},i,a))})},n.prototype.GetOnlineReward=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(280),this.send(i,this.getResult(function(e){return e.read(t[76])},e,n||this.onError))},n.prototype.SetSkillSettingAsync=function(e,t,n){var i=this;LogProtocol&&console.log("SetSkillSetting",e,t,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(281),a.write(2,e),a.write(2,t),a.write(2,n),new Promise(function(e,t){i.send(a,i.getResult(function(e){return e.read(1)},e,t))})},n.prototype.SetSkillSetting=function(e,t,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(281),o.write(2,e),o.write(2,t),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(1)},i,a||this.onError))},n.prototype.GetFesLoginRewardAsync=function(e){var n=this;LogProtocol&&console.log("GetFesLoginReward",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(282),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetFesLoginReward=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(282),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.CheckBattlePmsAsync=function(e,n){var i=this;LogProtocol&&console.log("CheckBattlePms",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(300),a.writeArray(t[37],e),a.write(t[0],n),new Promise(function(e,t){i.send(a,i.getResult(function(e){return e.read(1)},e,t))})},n.prototype.CheckBattlePms=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(300),o.writeArray(t[37],e),o.write(t[0],n),this.send(o,this.getResult(function(e){return e.read(1)},i,a||this.onError))},n.prototype.GetTDungeonsMonstersAsync=function(e){var n=this;LogProtocol&&console.log("GetTDungeonsMonsters",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(301),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.readArray(t[162])},e,a))})},n.prototype.GetTDungeonsMonsters=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(301),a.write(2,e),this.send(a,this.getResult(function(e){return e.readArray(t[162])},n,i||this.onError))},n.prototype.GetTDungeonAsync=function(e){var n=this;LogProtocol&&console.log("GetTDungeon",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(302),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[163])},e,a))})},n.prototype.GetTDungeon=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(302),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[163])},n,i||this.onError))},n.prototype.GetRankPvPInfoAsync=function(){var e=this;LogProtocol&&console.log("GetRankPvPInfo");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(401),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[128])},i,a))})},n.prototype.GetRankPvPInfo=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(401),this.send(i,this.getResult(function(e){return e.read(t[128])},e,n||this.onError))},n.prototype.SignUpRankPvPAsync=function(){var e=this;LogProtocol&&console.log("SignUpRankPvP");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(402),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[127])},i,a))})},n.prototype.SignUpRankPvP=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(402),this.send(i,this.getResult(function(e){return e.read(t[127])},e,n||this.onError))},n.prototype.ClassificationAsync=function(e){var n=this;LogProtocol&&console.log("Classification",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(403),i.write(1,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[127])},e,a))})},n.prototype.Classification=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(403),a.write(1,e),this.send(a,this.getResult(function(e){return e.read(t[127])},n,i||this.onError))},n.prototype.StartRankPvPAsync=function(){var e=this;LogProtocol&&console.log("StartRankPvP");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(404),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[70])},i,a))})},n.prototype.StartRankPvP=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(404),this.send(i,this.getResult(function(e){return e.read(t[70])},e,n||this.onError))},n.prototype.EndRankPvPWithAsync=function(e,n){var i=this;LogProtocol&&console.log("EndRankPvPWith",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(405),a.write(t[199],e),a.write(1,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[127])},e,n))})},n.prototype.EndRankPvPWith=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(405),o.write(t[199],e),o.write(1,n),this.send(o,this.getResult(function(e){return e.read(t[127])},i,a||this.onError))},n.prototype.GetJinJiMembersAsync=function(){var e=this;LogProtocol&&console.log("GetJinJiMembers");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(406),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[127])},i,a))})},n.prototype.GetJinJiMembers=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(406),this.send(i,this.getResult(function(e){return e.readArray(t[127])},e,n||this.onError))},n.prototype.GetSignUpMembersAsync=function(){var e=this;LogProtocol&&console.log("GetSignUpMembers");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(407),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[127])},i,a))})},n.prototype.GetSignUpMembers=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(407),this.send(i,this.getResult(function(e){return e.readArray(t[127])},e,n||this.onError))},n.prototype.GetMyHomeInfoAsync=function(){var e=this;LogProtocol&&console.log("GetMyHomeInfo");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(500),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[133])},i,a))})},n.prototype.GetMyHomeInfo=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(500),this.send(i,this.getResult(function(e){return e.read(t[133])},e,n||this.onError))},n.prototype.UpgradeHomeAsync=function(){var e=this;LogProtocol&&console.log("UpgradeHome");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(501),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[135])},i,a))})},n.prototype.UpgradeHome=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(501),this.send(i,this.getResult(function(e){return e.read(t[135])},e,n||this.onError))},n.prototype.MakeFurnitureAsync=function(e){var n=this;LogProtocol&&console.log("MakeFurniture",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(502),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[131])},e,a))})},n.prototype.MakeFurniture=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(502),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[131])},n,i||this.onError))},n.prototype.UpgradeFurnitureAsync=function(e){var n=this;LogProtocol&&console.log("UpgradeFurniture",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(503),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[131])},e,a))})},n.prototype.UpgradeFurniture=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(503),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[131])},n,i||this.onError))},n.prototype.FGashaponAsync=function(e){var n=this;LogProtocol&&console.log("FGashapon",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(504),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[83])},e,a))})},n.prototype.FGashapon=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(504),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[83])},n,i||this.onError))},n.prototype.FSearchAsync=function(){var e=this;LogProtocol&&console.log("FSearch");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(505),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[74])},i,a))})},n.prototype.FSearch=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(505),this.send(i,this.getResult(function(e){return e.read(t[74])},e,n||this.onError))},n.prototype.SavePlacedAsync=function(e){var n=this;LogProtocol&&console.log("SavePlaced",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(506),i.writeArray(t[129],e),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.SavePlaced=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(506),a.writeArray(t[129],e),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.MakeArtifactAsync=function(e){var n=this;LogProtocol&&console.log("MakeArtifact",e);var i=new EasyGame.StreamWriter;
return i.writeInt(1),i.writeInt(507),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[132])},e,a))})},n.prototype.MakeArtifact=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(507),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[132])},n,i||this.onError))},n.prototype.UpgradeArtifactLvAsync=function(e,n){var i=this;LogProtocol&&console.log("UpgradeArtifactLv",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(508),a.write(2,e),a.writeArray(t[71],n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[132])},e,n))})},n.prototype.UpgradeArtifactLv=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(508),o.write(2,e),o.writeArray(t[71],n),this.send(o,this.getResult(function(e){return e.read(t[132])},i,a||this.onError))},n.prototype.UpgradeArtifactStarAsync=function(e){var n=this;LogProtocol&&console.log("UpgradeArtifactStar",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(509),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[132])},e,a))})},n.prototype.UpgradeArtifactStar=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(509),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[132])},n,i||this.onError))},n.prototype.RecycleFurnitureAsync=function(e){var n=this;LogProtocol&&console.log("RecycleFurniture",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(510),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[131])},e,a))})},n.prototype.RecycleFurniture=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(510),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[131])},n,i||this.onError))},n.prototype.EquipArtifactAsync=function(e,t){var n=this;LogProtocol&&console.log("EquipArtifact",e,t);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(511),i.write(2,e),i.write(2,t),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.EquipArtifact=function(e,t,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(511),a.write(2,e),a.write(2,t),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.ResetArtifactAsync=function(e,n){var i=this;LogProtocol&&console.log("ResetArtifact",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(512),a.write(2,e),a.write(1,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[130])},e,n))})},n.prototype.ResetArtifact=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(512),o.write(2,e),o.write(1,n),this.send(o,this.getResult(function(e){return e.read(t[130])},i,a||this.onError))},n.prototype.RecycleArtifactAsync=function(e){var n=this;LogProtocol&&console.log("RecycleArtifact",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(513),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[132])},e,a))})},n.prototype.RecycleArtifact=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(513),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[132])},n,i||this.onError))},n.prototype.UpdateFollowLoveAsync=function(){var e=this;LogProtocol&&console.log("UpdateFollowLove");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(520),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[41])},i,a))})},n.prototype.UpdateFollowLove=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(520),this.send(i,this.getResult(function(e){return e.readArray(t[41])},e,n||this.onError))},n.prototype.UnlockgridAsync=function(){var e=this;LogProtocol&&console.log("Unlockgrid");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(521),new Promise(function(n,i){e.send(t,e.getResult(function(e){return e.read(1)},n,i))})},n.prototype.Unlockgrid=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(521),this.send(n,this.getResult(function(e){return e.read(1)},e,t||this.onError))},n.prototype.StartIncubationAsync=function(e,t){var n=this;LogProtocol&&console.log("StartIncubation",e,t);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(522),i.write(2,e),i.write(2,t),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.StartIncubation=function(e,t,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(522),a.write(2,e),a.write(2,t),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.GetpmAsync=function(e){var n=this;LogProtocol&&console.log("Getpm",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(523),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[37])},e,a))})},n.prototype.Getpm=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(523),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[37])},n,i||this.onError))},n.prototype.GetTDecenniumGiftAsync=function(e){var n=this;LogProtocol&&console.log("GetTDecenniumGift",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(524),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[152])},e,a))})},n.prototype.GetTDecenniumGift=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(524),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[152])},n,i||this.onError))},n.prototype.UpgradeSubwayAsync=function(){var e=this;LogProtocol&&console.log("UpgradeSubway");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(525),new Promise(function(n,i){e.send(t,e.getResult(function(e){return e.read(2)},n,i))})},n.prototype.UpgradeSubway=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(525),this.send(n,this.getResult(function(e){return e.read(2)},e,t||this.onError))},n.prototype.BuyBattleSubwayAsync=function(){var e=this;LogProtocol&&console.log("BuyBattleSubway");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(526),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[143])},i,a))})},n.prototype.BuyBattleSubway=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(526),this.send(i,this.getResult(function(e){return e.read(t[143])},e,n||this.onError))},n.prototype.EndBattleSubwayAsync=function(e){var n=this;LogProtocol&&console.log("EndBattleSubway",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(527),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[145])},e,a))})},n.prototype.EndBattleSubway=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(527),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[145])},n,i||this.onError))},n.prototype.SweepBattleSubwayAsync=function(){var e=this;LogProtocol&&console.log("SweepBattleSubway");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(528),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[144])},i,a))})},n.prototype.SweepBattleSubway=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(528),this.send(i,this.getResult(function(e){return e.read(t[144])},e,n||this.onError))},n.prototype.HitGoldenEggsAsync=function(e){var n=this;LogProtocol&&console.log("HitGoldenEggs",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(529),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[71])},e,a))})},n.prototype.HitGoldenEggs=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(529),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[71])},n,i||this.onError))},n.prototype.GetGoldenEggsAsync=function(e){var n=this;LogProtocol&&console.log("GetGoldenEggs",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(530),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[15])},e,a))})},n.prototype.GetGoldenEggs=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(530),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[15])},n,i||this.onError))},n.prototype.DrawDiamondAsync=function(){var e=this;LogProtocol&&console.log("DrawDiamond");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(531),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[71])},i,a))})},n.prototype.DrawDiamond=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(531),this.send(i,this.getResult(function(e){return e.read(t[71])},e,n||this.onError))},n.prototype.GetFirstGrouponAsync=function(e){var n=this;LogProtocol&&console.log("GetFirstGroupon",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(532),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[151])},e,a))})},n.prototype.GetFirstGroupon=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(532),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[151])},n,i||this.onError))},n.prototype.UpgradeEffortLvAsync=function(e){var t=this;LogProtocol&&console.log("UpgradeEffortLv",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(533),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(1)},e,i))})},n.prototype.UpgradeEffortLv=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(533),i.write(2,e),this.send(i,this.getResult(function(e){return e.read(1)},t,n||this.onError))},n.prototype.GetOpenCompetitionRankPvPRankListAsync=function(){var e=this;LogProtocol&&console.log("GetOpenCompetitionRankPvPRankList");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(534),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[127])},i,a))})},n.prototype.GetOpenCompetitionRankPvPRankList=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(534),this.send(i,this.getResult(function(e){return e.readArray(t[127])},e,n||this.onError))},n.prototype.GetOpenCompetitionAsync=function(e){var n=this;LogProtocol&&console.log("GetOpenCompetition",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(535),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetOpenCompetition=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(535),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.OmnipotentSwapDebrisAsync=function(e,n){var i=this;LogProtocol&&console.log("OmnipotentSwapDebris",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(536),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[124])},e,n))})},n.prototype.OmnipotentSwapDebris=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(536),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[124])},i,a||this.onError))},n.prototype.SwapDebrisToPetAsync=function(e){var n=this;LogProtocol&&console.log("SwapDebrisToPet",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(537),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[124])},e,a))})},n.prototype.SwapDebrisToPet=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(537),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[124])},n,i||this.onError))},n.prototype.SetJJC3Async=function(){var e=this;LogProtocol&&console.log("SetJJC3");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(538),new Promise(function(n,i){e.send(t,e.getResult(null,n,i))})},n.prototype.SetJJC3=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(538),this.send(n,this.getResult(null,e,t||this.onError))},n.prototype.GetFirstFailedRewardAsync=function(){var e=this;LogProtocol&&console.log("GetFirstFailedReward");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(539),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[74])},i,a))})},n.prototype.GetFirstFailedReward=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(539),this.send(i,this.getResult(function(e){return e.read(t[74])},e,n||this.onError))},n.prototype.GetCollentMidRewardAsync=function(e){var n=this;LogProtocol&&console.log("GetCollentMidReward",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(540),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[124])},e,a))})},n.prototype.GetCollentMidReward=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(540),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[124])},n,i||this.onError))},n.prototype.GetCakeRewardAsync=function(e){var n=this;LogProtocol&&console.log("GetCakeReward",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(541),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[10])},e,a))})},n.prototype.GetCakeReward=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(541),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[10])},n,i||this.onError))},n.prototype.GetRetRankListAsync=function(e){var n=this;LogProtocol&&console.log("GetRetRankList",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(542),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[98])},e,a))})},n.prototype.GetRetRankList=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(542),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[98])},n,i||this.onError))},n.prototype.FeetPmYuanAsync=function(e){var n=this;LogProtocol&&console.log("FeetPmYuan",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(543),i.write(t[71],e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[11])},e,a))})},n.prototype.FeetPmYuan=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(543),a.write(t[71],e),this.send(a,this.getResult(function(e){return e.read(t[11])},n,i||this.onError))},n.prototype.GetTYuanRewardAsync=function(e){var n=this;LogProtocol&&console.log("GetTYuanReward",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(544),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetTYuanReward=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(544),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.GetRankGrowAsync=function(e){var n=this;LogProtocol&&console.log("GetRankGrow",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(545),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetRankGrow=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(545),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.AddmatingPetAsync=function(e){var n=this;LogProtocol&&console.log("AddmatingPet",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(546),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[32])},e,a))})},n.prototype.AddmatingPet=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(546),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[32])},n,i||this.onError))},n.prototype.GetPmMatAsync=function(){var e=this;LogProtocol&&console.log("GetPmMat");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(547),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[33])},i,a))})},n.prototype.GetPmMat=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(547),this.send(i,this.getResult(function(e){return e.read(t[33])},e,n||this.onError))},n.prototype.GetRawEggAsync=function(e,n){var i=this;LogProtocol&&console.log("GetRawEgg",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(548),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[32])},e,n))})},n.prototype.GetRawEgg=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(548),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[32])},i,a||this.onError))},n.prototype.OffmatingPetAsync=function(e){var n=this;LogProtocol&&console.log("OffmatingPet",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(549),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[32])},e,a))})},n.prototype.OffmatingPet=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(549),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[32])},n,i||this.onError))},n.prototype.GetNewSumRechargeAsync=function(e){var n=this;LogProtocol&&console.log("GetNewSumRecharge",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(550),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetNewSumRecharge=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(550),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.GetEveryDayRechargeAsync=function(e){var n=this;LogProtocol&&console.log("GetEveryDayRecharge",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(551),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetEveryDayRecharge=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(551),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.ConversionsAsync=function(e){var t=this;LogProtocol&&console.log("Conversions",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(552),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(2)},e,i))})},n.prototype.Conversions=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(552),i.write(2,e),this.send(i,this.getResult(function(e){return e.read(2)},t,n||this.onError))},n.prototype.GetVipGiftAsync=function(e){var n=this;LogProtocol&&console.log("GetVipGift",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(553),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetVipGift=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(553),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.GetAppointmentGiftAsync=function(e){var n=this;LogProtocol&&console.log("GetAppointmentGift",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(554),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[57])},e,a))})},n.prototype.GetAppointmentGift=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(554),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[57])},n,i||this.onError))},n.prototype.GetTimingGiftAsync=function(e){var n=this;LogProtocol&&console.log("GetTimingGift",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(555),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetTimingGift=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(555),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.GetPlayerLvRewardAsync=function(){var e=this;LogProtocol&&console.log("GetPlayerLvReward");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(556),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[57])},i,a))})},n.prototype.GetPlayerLvReward=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(556),this.send(i,this.getResult(function(e){return e.read(t[57])},e,n||this.onError))},n.prototype.GetLvAc2Async=function(e){var n=this;LogProtocol&&console.log("GetLvAc2",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(557),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetLvAc2=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(557),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.DrawLuckZhuanPanAsync=function(){var e=this;LogProtocol&&console.log("DrawLuckZhuanPan");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(558),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[28])},i,a))})},n.prototype.DrawLuckZhuanPan=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(558),this.send(i,this.getResult(function(e){return e.read(t[28])},e,n||this.onError))},n.prototype.UpgradeLuckZhuanPanAsync=function(){var e=this;LogProtocol&&console.log("UpgradeLuckZhuanPan");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(559),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[28])},i,a))})},n.prototype.UpgradeLuckZhuanPan=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(559),this.send(i,this.getResult(function(e){return e.read(t[28])},e,n||this.onError))},n.prototype.BuyLuckZhuanPanAsync=function(e){var n=this;LogProtocol&&console.log("BuyLuckZhuanPan",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(560),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[28])},e,a))})},n.prototype.BuyLuckZhuanPan=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(560),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[28])},n,i||this.onError))},n.prototype.GetYuandanRewardIntegralAsync=function(e){var n=this;LogProtocol&&console.log("GetYuandanRewardIntegral",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(561),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[20])},e,a))})},n.prototype.GetYuandanRewardIntegral=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(561),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[20])},n,i||this.onError))},n.prototype.GetYuandanRewardAsync=function(e){var n=this;LogProtocol&&console.log("GetYuandanReward",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(562),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[21])},e,a))})},n.prototype.GetYuandanReward=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(562),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[21])},n,i||this.onError))},n.prototype.GetSevendaysRewardAsync=function(e){var n=this;LogProtocol&&console.log("GetSevendaysReward",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(563),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[26])},e,a))})},n.prototype.GetSevendaysReward=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(563),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[26])},n,i||this.onError))},n.prototype.GetSevendaysTypeRewardAsync=function(e,n){var i=this;LogProtocol&&console.log("GetSevendaysTypeReward",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(564),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[26])},e,n))})},n.prototype.GetSevendaysTypeReward=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(564),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[26])},i,a||this.onError))},n.prototype.GetGymInfosAsync=function(){var e=this;LogProtocol&&console.log("GetGymInfos");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(600),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[153])},i,a))})},n.prototype.GetGymInfos=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(600),this.send(i,this.getResult(function(e){return e.readArray(t[153])},e,n||this.onError))},n.prototype.EnterGYMRoomAsync=function(e){var n=this;LogProtocol&&console.log("EnterGYMRoom",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(601),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[153])},e,a))})},n.prototype.EnterGYMRoom=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(601),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[153])},n,i||this.onError))},n.prototype.LeaveGYMRoomAsync=function(){var e=this;LogProtocol&&console.log("LeaveGYMRoom");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(602),new Promise(function(n,i){e.send(t,e.getResult(function(e){return e.read(1)},n,i))})},n.prototype.LeaveGYMRoom=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(602),this.send(n,this.getResult(function(e){return e.read(1)},e,t||this.onError))},n.prototype.ResetGYMAsync=function(e){var n=this;LogProtocol&&console.log("ResetGYM",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(603),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[153])},e,a))})},n.prototype.ResetGYM=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(603),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[153])},n,i||this.onError))},n.prototype.StartGYMBattleAsync=function(){var e=this;LogProtocol&&console.log("StartGYMBattle");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(604),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[153])},i,a))})},n.prototype.StartGYMBattle=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(604),this.send(i,this.getResult(function(e){return e.read(t[153])},e,n||this.onError))},n.prototype.EndGYMBattleAsync=function(e,n,i){var a=this;LogProtocol&&console.log("EndGYMBattle",e,n,i);var o=new EasyGame.StreamWriter;return o.writeInt(1),o.writeInt(605),o.write(1,e),o.write(2,n),o.writeArray(2,i),new Promise(function(e,n){a.send(o,a.getResult(function(e){return e.read(t[76])},e,n))})},n.prototype.EndGYMBattle=function(e,n,i,a,o){var s=new EasyGame.StreamWriter;s.writeInt(1),s.writeInt(605),s.write(1,e),s.write(2,n),s.writeArray(2,i),this.send(s,this.getResult(function(e){return e.read(t[76])},a,o||this.onError))},n.prototype.SetGymTeamAsync=function(e,t){var n=this;LogProtocol&&console.log("SetGymTeam",e,t);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(606),i.write(2,e),i.write(2,t),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.SetGymTeam=function(e,t,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(606),a.write(2,e),a.write(2,t),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.SwapGYMTeamMemberAsync=function(e,t,n){var i=this;LogProtocol&&console.log("SwapGYMTeamMember",e,t,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(607),a.write(2,e),a.write(2,t),a.write(2,n),new Promise(function(e,t){i.send(a,i.getResult(function(e){return e.read(1)},e,t))})},n.prototype.SwapGYMTeamMember=function(e,t,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(607),o.write(2,e),o.write(2,t),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(1)},i,a||this.onError))},n.prototype.SelectGYMTeamAsync=function(e){var t=this;LogProtocol&&console.log("SelectGYMTeam",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(608),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(1)},e,i))})},n.prototype.SelectGYMTeam=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(608),i.write(2,e),this.send(i,this.getResult(function(e){return e.read(1)},t,n||this.onError))},n.prototype.GetGYMRankListAsync=function(e){var n=this;LogProtocol&&console.log("GetGYMRankList",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(609),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[98])},e,a))})},n.prototype.GetGYMRankList=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(609),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[98])},n,i||this.onError))},n.prototype.GetGYMTurntableItemsAsync=function(){var e=this;LogProtocol&&console.log("GetGYMTurntableItems");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(610),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[159])},i,a))})},n.prototype.GetGYMTurntableItems=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(610),this.send(i,this.getResult(function(e){return e.readArray(t[159])},e,n||this.onError))},n.prototype.DrawGYMTurntableAsync=function(){var e=this;LogProtocol&&console.log("DrawGYMTurntable");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(611),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[160])},i,a))})},n.prototype.DrawGYMTurntable=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(611),this.send(i,this.getResult(function(e){return e.read(t[160])},e,n||this.onError))},n.prototype.BuyGYMBattleAsync=function(){var e=this;LogProtocol&&console.log("BuyGYMBattle");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(612),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[161])},i,a))})},n.prototype.BuyGYMBattle=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(612),this.send(i,this.getResult(function(e){return e.read(t[161])},e,n||this.onError))},n.prototype.DiceNameAsync=function(e){var t=this;LogProtocol&&console.log("DiceName",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(700),n.write(1,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(3)},e,i))})},n.prototype.DiceName=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(700),i.write(1,e),this.send(i,this.getResult(function(e){return e.read(3)},t,n||this.onError))},n.prototype.CheckSameNameAsync=function(e,t){var n=this;LogProtocol&&console.log("CheckSameName",e,t);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(701),i.write(3,e),i.write(1,t),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(3)},e,t))})},n.prototype.CheckSameName=function(e,t,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(701),a.write(3,e),a.write(1,t),this.send(a,this.getResult(function(e){return e.read(3)},n,i||this.onError))},n.prototype.RenameAsync=function(e){var t=this;LogProtocol&&console.log("Rename",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(702),n.write(3,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(1)},e,i))})},n.prototype.Rename=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(702),i.write(3,e),this.send(i,this.getResult(function(e){return e.read(1)},t,n||this.onError))},n.prototype.RebornPokemonsAsync=function(e,n){var i=this;LogProtocol&&console.log("RebornPokemons",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(703),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[74])
},e,n))})},n.prototype.RebornPokemons=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(703),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[74])},i,a||this.onError))},n.prototype.LearnTalentAsync=function(e,n){var i=this;LogProtocol&&console.log("LearnTalent",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(704),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[40])},e,n))})},n.prototype.LearnTalent=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(704),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[40])},i,a||this.onError))},n.prototype.ResetTalentAsync=function(e){var n=this;LogProtocol&&console.log("ResetTalent",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(705),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[124])},e,a))})},n.prototype.ResetTalent=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(705),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[124])},n,i||this.onError))},n.prototype.ChangeUniversalBellAsync=function(e,n){var i=this;LogProtocol&&console.log("ChangeUniversalBell",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(710),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[124])},e,n))})},n.prototype.ChangeUniversalBell=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(710),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[124])},i,a||this.onError))},n.prototype.LockNewEquipAsync=function(e){var t=this;LogProtocol&&console.log("LockNewEquip",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(720),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(1)},e,i))})},n.prototype.LockNewEquip=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(720),i.write(2,e),this.send(i,this.getResult(function(e){return e.read(1)},t,n||this.onError))},n.prototype.EquipNewEquipAsync=function(e,t){var n=this;LogProtocol&&console.log("EquipNewEquip",e,t);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(721),i.write(2,e),i.write(2,t),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(2)},e,t))})},n.prototype.EquipNewEquip=function(e,t,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(721),a.write(2,e),a.write(2,t),this.send(a,this.getResult(function(e){return e.read(2)},n,i||this.onError))},n.prototype.UnequipNewEquipAsync=function(e,t){var n=this;LogProtocol&&console.log("UnequipNewEquip",e,t);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(722),i.write(2,e),i.write(2,t),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(2)},e,t))})},n.prototype.UnequipNewEquip=function(e,t,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(722),a.write(2,e),a.write(2,t),this.send(a,this.getResult(function(e){return e.read(2)},n,i||this.onError))},n.prototype.UpgradeNewEquipAsync=function(e,n,i){var a=this;LogProtocol&&console.log("UpgradeNewEquip",e,n,i);var o=new EasyGame.StreamWriter;return o.writeInt(1),o.writeInt(723),o.write(2,e),o.write(2,n),o.writeArray(2,i),new Promise(function(e,n){a.send(o,a.getResult(function(e){return e.read(t[39])},e,n))})},n.prototype.UpgradeNewEquip=function(e,n,i,a,o){var s=new EasyGame.StreamWriter;s.writeInt(1),s.writeInt(723),s.write(2,e),s.write(2,n),s.writeArray(2,i),this.send(s,this.getResult(function(e){return e.read(t[39])},a,o||this.onError))},n.prototype.GetTreasureInfoAsync=function(){var e=this;LogProtocol&&console.log("GetTreasureInfo");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(730),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[183])},i,a))})},n.prototype.GetTreasureInfo=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(730),this.send(i,this.getResult(function(e){return e.readArray(t[183])},e,n||this.onError))},n.prototype.GetTreasureRevengeAsync=function(e){var n=this;LogProtocol&&console.log("GetTreasureRevenge",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(731),i.write(t[199],e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.readArray(t[183])},e,a))})},n.prototype.GetTreasureRevenge=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(731),a.write(t[199],e),this.send(a,this.getResult(function(e){return e.readArray(t[183])},n,i||this.onError))},n.prototype.SetTreasureTeamAsync=function(e,t,n){var i=this;LogProtocol&&console.log("SetTreasureTeam",e,t,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(732),a.write(2,e),a.write(2,t),a.write(2,n),new Promise(function(e,t){i.send(a,i.getResult(function(e){return e.read(1)},e,t))})},n.prototype.SetTreasureTeam=function(e,t,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(732),o.write(2,e),o.write(2,t),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(1)},i,a||this.onError))},n.prototype.AttackTreasureEndAsync=function(e,n){var i=this;LogProtocol&&console.log("AttackTreasureEnd",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(735),a.write(1,e),a.write(1,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[191])},e,n))})},n.prototype.AttackTreasureEnd=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(735),o.write(1,e),o.write(1,n),this.send(o,this.getResult(function(e){return e.read(t[191])},i,a||this.onError))},n.prototype.GetTreasureRewardAsync=function(e){var n=this;LogProtocol&&console.log("GetTreasureReward",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(737),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[71])},e,a))})},n.prototype.GetTreasureReward=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(737),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[71])},n,i||this.onError))},n.prototype.OpenHuntAsync=function(){var e=this;LogProtocol&&console.log("OpenHunt");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(738),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[52])},i,a))})},n.prototype.OpenHunt=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(738),this.send(i,this.getResult(function(e){return e.readArray(t[52])},e,n||this.onError))},n.prototype.GetDailyVipGiftAsync=function(e){var n=this;LogProtocol&&console.log("GetDailyVipGift",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(739),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetDailyVipGift=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(739),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.SetPetPvpPmAsync=function(e){var n=this;LogProtocol&&console.log("SetPetPvpPm",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(740),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[84])},e,a))})},n.prototype.SetPetPvpPm=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(740),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[84])},n,i||this.onError))},n.prototype.GetThroneInfoAsync=function(){var e=this;LogProtocol&&console.log("GetThroneInfo");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(741),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[165])},i,a))})},n.prototype.GetThroneInfo=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(741),this.send(i,this.getResult(function(e){return e.read(t[165])},e,n||this.onError))},n.prototype.EndThroneBattleAsync=function(e,n,i){var a=this;LogProtocol&&console.log("EndThroneBattle",e,n,i);var o=new EasyGame.StreamWriter;return o.writeInt(1),o.writeInt(742),o.write(1,e),o.write(2,n),o.write(2,i),new Promise(function(e,n){a.send(o,a.getResult(function(e){return e.read(t[164])},e,n))})},n.prototype.EndThroneBattle=function(e,n,i,a,o){var s=new EasyGame.StreamWriter;s.writeInt(1),s.writeInt(742),s.write(1,e),s.write(2,n),s.write(2,i),this.send(s,this.getResult(function(e){return e.read(t[164])},a,o||this.onError))},n.prototype.BuyThrnoeCountAsync=function(){var e=this;LogProtocol&&console.log("BuyThrnoeCount");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(743),new Promise(function(n,i){e.send(t,e.getResult(function(e){return e.read(1)},n,i))})},n.prototype.BuyThrnoeCount=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(743),this.send(n,this.getResult(function(e){return e.read(1)},e,t||this.onError))},n.prototype.SetThroneTeamAsync=function(e,t,n){var i=this;LogProtocol&&console.log("SetThroneTeam",e,t,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(744),a.write(2,e),a.write(2,t),a.write(2,n),new Promise(function(e,t){i.send(a,i.getResult(function(e){return e.readArray(2)},e,t))})},n.prototype.SetThroneTeam=function(e,t,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(744),o.write(2,e),o.write(2,t),o.write(2,n),this.send(o,this.getResult(function(e){return e.readArray(2)},i,a||this.onError))},n.prototype.GetMapInfoAsync=function(){var e=this;LogProtocol&&console.log("GetMapInfo");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(746),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[179])},i,a))})},n.prototype.GetMapInfo=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(746),this.send(i,this.getResult(function(e){return e.read(t[179])},e,n||this.onError))},n.prototype.RecordMapDataAsync=function(e,n){var i=this;LogProtocol&&console.log("RecordMapData",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(747),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[179])},e,n))})},n.prototype.RecordMapData=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(747),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[179])},i,a||this.onError))},n.prototype.MapSpeedAsync=function(){var e=this;LogProtocol&&console.log("MapSpeed");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(748),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[179])},i,a))})},n.prototype.MapSpeed=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(748),this.send(i,this.getResult(function(e){return e.read(t[179])},e,n||this.onError))},n.prototype.OnCatchDiscardPmAsync=function(e){var n=this;LogProtocol&&console.log("OnCatchDiscardPm",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(749),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.readArray(t[36])},e,a))})},n.prototype.OnCatchDiscardPm=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(749),a.write(2,e),this.send(a,this.getResult(function(e){return e.readArray(t[36])},n,i||this.onError))},n.prototype.OnCatchSuccessAsync=function(e,n,i){var a=this;LogProtocol&&console.log("OnCatchSuccess",e,n,i);var o=new EasyGame.StreamWriter;return o.writeInt(1),o.writeInt(750),o.write(2,e),o.write(4,n),o.write(2,i),new Promise(function(e,n){a.send(o,a.getResult(function(e){return e.read(t[180])},e,n))})},n.prototype.OnCatchSuccess=function(e,n,i,a,o){var s=new EasyGame.StreamWriter;s.writeInt(1),s.writeInt(750),s.write(2,e),s.write(4,n),s.write(2,i),this.send(s,this.getResult(function(e){return e.read(t[180])},a,o||this.onError))},n.prototype.GetGashaponAsync=function(e){var n=this;LogProtocol&&console.log("GetGashapon",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(751),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetGashapon=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(751),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.OpenElfCenterAsync=function(){var e=this;LogProtocol&&console.log("OpenElfCenter");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(752),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[182])},i,a))})},n.prototype.OpenElfCenter=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(752),this.send(i,this.getResult(function(e){return e.readArray(t[182])},e,n||this.onError))},n.prototype.GetElfCenterRewardAsync=function(e){var n=this;LogProtocol&&console.log("GetElfCenterReward",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(753),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[182])},e,a))})},n.prototype.GetElfCenterReward=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(753),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[182])},n,i||this.onError))},n.prototype.GetTreasureBattleStartAsync=function(e,n,i){var a=this;LogProtocol&&console.log("GetTreasureBattleStart",e,n,i);var o=new EasyGame.StreamWriter;return o.writeInt(1),o.writeInt(754),o.write(2,e),o.write(2,n),o.write(t[199],i),new Promise(function(e,n){a.send(o,a.getResult(function(e){return e.read(t[190])},e,n))})},n.prototype.GetTreasureBattleStart=function(e,n,i,a,o){var s=new EasyGame.StreamWriter;s.writeInt(1),s.writeInt(754),s.write(2,e),s.write(2,n),s.write(t[199],i),this.send(s,this.getResult(function(e){return e.read(t[190])},a,o||this.onError))},n.prototype.GetTreasurePlayerInfoAsync=function(){var e=this;LogProtocol&&console.log("GetTreasurePlayerInfo");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(755),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[187])},i,a))})},n.prototype.GetTreasurePlayerInfo=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(755),this.send(i,this.getResult(function(e){return e.read(t[187])},e,n||this.onError))},n.prototype.ExitTreasureAsync=function(){var e=this;LogProtocol&&console.log("ExitTreasure");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(756),new Promise(function(n,i){e.send(t,e.getResult(null,n,i))})},n.prototype.ExitTreasure=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(756),this.send(n,this.getResult(null,e,t||this.onError))},n.prototype.GetCreateShortcutAsync=function(e){var t=this;LogProtocol&&console.log("GetCreateShortcut",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(757),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(1)},e,i))})},n.prototype.GetCreateShortcut=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(757),i.write(2,e),this.send(i,this.getResult(function(e){return e.read(1)},t,n||this.onError))},n.prototype.GetCatchPoKemonAsync=function(e){var n=this;LogProtocol&&console.log("GetCatchPoKemon",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(758),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[37])},e,a))})},n.prototype.GetCatchPoKemon=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(758),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[37])},n,i||this.onError))},n.prototype.UnlockTalentAsync=function(e){var n=this;LogProtocol&&console.log("UnlockTalent",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(759),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[40])},e,a))})},n.prototype.UnlockTalent=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(759),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[40])},n,i||this.onError))},n.prototype.UnlockLastTalentAsync=function(e,n){var i=this;LogProtocol&&console.log("UnlockLastTalent",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(760),a.write(2,e),a.writeArray(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[40])},e,n))})},n.prototype.UnlockLastTalent=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(760),o.write(2,e),o.writeArray(2,n),this.send(o,this.getResult(function(e){return e.read(t[40])},i,a||this.onError))},n.prototype.GetThroneRankAsync=function(){var e=this;LogProtocol&&console.log("GetThroneRank");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(761),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[168])},i,a))})},n.prototype.GetThroneRank=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(761),this.send(i,this.getResult(function(e){return e.readArray(t[168])},e,n||this.onError))},n.prototype.GetAllCatchPmAsync=function(){var e=this;LogProtocol&&console.log("GetAllCatchPm");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(762),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[180])},i,a))})},n.prototype.GetAllCatchPm=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(762),this.send(i,this.getResult(function(e){return e.read(t[180])},e,n||this.onError))},n.prototype.EndChallengeAsync=function(e,n){var i=this;LogProtocol&&console.log("EndChallenge",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(763),a.write(1,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[76])},e,n))})},n.prototype.EndChallenge=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(763),o.write(1,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[76])},i,a||this.onError))},n.prototype.StartChallengeAsync=function(e){var n=this;LogProtocol&&console.log("StartChallenge",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(764),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[89])},e,a))})},n.prototype.StartChallenge=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(764),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[89])},n,i||this.onError))},n.prototype.UnLockTreasureTeamAsync=function(e){var t=this;LogProtocol&&console.log("UnLockTreasureTeam",e);var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(765),n.write(2,e),new Promise(function(e,i){t.send(n,t.getResult(function(e){return e.read(1)},e,i))})},n.prototype.UnLockTreasureTeam=function(e,t,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(765),i.write(2,e),this.send(i,this.getResult(function(e){return e.read(1)},t,n||this.onError))},n.prototype.GetLevelInfoAsync=function(){var e=this;LogProtocol&&console.log("GetLevelInfo");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(766),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[177])},i,a))})},n.prototype.GetLevelInfo=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(766),this.send(i,this.getResult(function(e){return e.read(t[177])},e,n||this.onError))},n.prototype.RefreshFragmentsShopAsync=function(){var e=this;LogProtocol&&console.log("RefreshFragmentsShop");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(767),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[90])},i,a))})},n.prototype.RefreshFragmentsShop=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(767),this.send(i,this.getResult(function(e){return e.read(t[90])},e,n||this.onError))},n.prototype.BuyPmFragmentAsync=function(e,n){var i=this;LogProtocol&&console.log("BuyPmFragment",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(768),a.write(2,e),a.write(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[124])},e,n))})},n.prototype.BuyPmFragment=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(768),o.write(2,e),o.write(2,n),this.send(o,this.getResult(function(e){return e.read(t[124])},i,a||this.onError))},n.prototype.GetMosdkGiftAsync=function(e,t){var n=this;LogProtocol&&console.log("GetMosdkGift",e,t);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(769),i.write(3,e),i.write(2,t),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.GetMosdkGift=function(e,t,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(769),a.write(3,e),a.write(2,t),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.GetFragmentsShopInfoAsync=function(){var e=this;LogProtocol&&console.log("GetFragmentsShopInfo");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(770),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[90])},i,a))})},n.prototype.GetFragmentsShopInfo=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(770),this.send(i,this.getResult(function(e){return e.read(t[90])},e,n||this.onError))},n.prototype.GetWbVipItemAsync=function(e){var n=this;LogProtocol&&console.log("GetWbVipItem",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(771),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.readArray(t[31])},e,a))})},n.prototype.GetWbVipItem=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(771),a.write(2,e),this.send(a,this.getResult(function(e){return e.readArray(t[31])},n,i||this.onError))},n.prototype.ClearTreasureTimeAsync=function(e){var n=this;LogProtocol&&console.log("ClearTreasureTime",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(772),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[71])},e,a))})},n.prototype.ClearTreasureTime=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(772),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[71])},n,i||this.onError))},n.prototype.GetBeastTaskInfoAsync=function(){var e=this;LogProtocol&&console.log("GetBeastTaskInfo");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(773),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[174])},i,a))})},n.prototype.GetBeastTaskInfo=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(773),this.send(i,this.getResult(function(e){return e.read(t[174])},e,n||this.onError))},n.prototype.BuyBeastShopAsync=function(e){var n=this;LogProtocol&&console.log("BuyBeastShop",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(774),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.BuyBeastShop=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(774),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.GetBeastQuestRewardAsync=function(e){var n=this;LogProtocol&&console.log("GetBeastQuestReward",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(775),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetBeastQuestReward=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(775),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.AutoPassLevelAsync=function(e){var n=this;LogProtocol&&console.log("AutoPassLevel",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(776),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[76])},e,a))})},n.prototype.AutoPassLevel=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(776),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[76])},n,i||this.onError))},n.prototype.GetMissionQuestRewardAsync=function(e){var n=this;LogProtocol&&console.log("GetMissionQuestReward",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(777),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[74])},e,a))})},n.prototype.GetMissionQuestReward=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(777),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[74])},n,i||this.onError))},n.prototype.SuperGashaponAsync=function(e){var n=this;LogProtocol&&console.log("SuperGashapon",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(778),i.write(2,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[83])},e,a))})},n.prototype.SuperGashapon=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(778),a.write(2,e),this.send(a,this.getResult(function(e){return e.read(t[83])},n,i||this.onError))},n.prototype.GetElfTaskAsync=function(){var e=this;LogProtocol&&console.log("GetElfTask");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(779),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[175])},i,a))})},n.prototype.GetElfTask=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(779),this.send(i,this.getResult(function(e){return e.readArray(t[175])},e,n||this.onError))},n.prototype.GetElfTaskRewardAsync=function(e,n){var i=this;LogProtocol&&console.log("GetElfTaskReward",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(780),a.write(2,e),a.writeArray(2,n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[74])},e,n))})},n.prototype.GetElfTaskReward=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(780),o.write(2,e),o.writeArray(2,n),this.send(o,this.getResult(function(e){return e.read(t[74])},i,a||this.onError))},n.prototype.ApplyCrossServerElfContestAsync=function(){var e=this;LogProtocol&&console.log("ApplyCrossServerElfContest");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(790),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[196])},i,a))})},n.prototype.ApplyCrossServerElfContest=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(790),this.send(i,this.getResult(function(e){return e.read(t[196])},e,n||this.onError))},n.prototype.StartCrossServerElfContestBattleAsync=function(e){var n=this;LogProtocol&&console.log("StartCrossServerElfContestBattle",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(791),i.write(t[199],e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[190])},e,a))})},n.prototype.StartCrossServerElfContestBattle=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(791),a.write(t[199],e),this.send(a,this.getResult(function(e){return e.read(t[190])},n,i||this.onError))},n.prototype.MatchElfContestPlayersAsync=function(){var e=this;LogProtocol&&console.log("MatchElfContestPlayers");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(792),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.readArray(t[70])},i,a))})},n.prototype.MatchElfContestPlayers=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(792),this.send(i,this.getResult(function(e){return e.readArray(t[70])},e,n||this.onError))},n.prototype.EndBttleElfContestAsync=function(e){var n=this;LogProtocol&&console.log("EndBttleElfContest",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(793),i.write(1,e),new Promise(function(e,a){n.send(i,n.getResult(function(e){return e.read(t[196])},e,a))})},n.prototype.EndBttleElfContest=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(793),a.write(1,e),this.send(a,this.getResult(function(e){return e.read(t[196])},n,i||this.onError))},n.prototype.BuyBttleElfContestCountAsync=function(){var e=this;LogProtocol&&console.log("BuyBttleElfContestCount");var t=new EasyGame.StreamWriter;return t.writeInt(1),t.writeInt(794),new Promise(function(n,i){e.send(t,e.getResult(function(e){return e.read(2)},n,i))})},n.prototype.BuyBttleElfContestCount=function(e,t){var n=new EasyGame.StreamWriter;n.writeInt(1),n.writeInt(794),this.send(n,this.getResult(function(e){return e.read(2)},e,t||this.onError))},n.prototype.InitDonateAsync=function(e){var n=this;LogProtocol&&console.log("InitDonate",e);var i=new EasyGame.StreamWriter;return i.writeInt(1),i.writeInt(795),i.write(t[71],e),new Promise(function(e,t){n.send(i,n.getResult(function(e){return e.read(1)},e,t))})},n.prototype.InitDonate=function(e,n,i){var a=new EasyGame.StreamWriter;a.writeInt(1),a.writeInt(795),a.write(t[71],e),this.send(a,this.getResult(function(e){return e.read(1)},n,i||this.onError))},n.prototype.DonateOtherAsync=function(e,n){var i=this;LogProtocol&&console.log("DonateOther",e,n);var a=new EasyGame.StreamWriter;return a.writeInt(1),a.writeInt(796),a.write(t[199],e),a.write(t[71],n),new Promise(function(e,n){i.send(a,i.getResult(function(e){return e.read(t[74])},e,n))})},n.prototype.DonateOther=function(e,n,i,a){var o=new EasyGame.StreamWriter;o.writeInt(1),o.writeInt(796),o.write(t[199],e),o.write(t[71],n),this.send(o,this.getResult(function(e){return e.read(t[74])},i,a||this.onError))},n.prototype.ReplenishSignAsync=function(){var e=this;LogProtocol&&console.log("ReplenishSign");var n=new EasyGame.StreamWriter;return n.writeInt(1),n.writeInt(797),new Promise(function(i,a){e.send(n,e.getResult(function(e){return e.read(t[74])},i,a))})},n.prototype.ReplenishSign=function(e,n){var i=new EasyGame.StreamWriter;i.writeInt(1),i.writeInt(797),this.send(i,this.getResult(function(e){return e.read(t[74])},e,n||this.onError))},n}(EasyGame.ProxyBase);e.IGameServiceProxy=i,__reflect(i.prototype,"Pokemon.IGameServiceProxy"),t[0]={read:function(e){return e.readInt()<0?null:{hp:e.read(2),speed:e.read(2),atk:e.read(2),spAtk:e.read(2),def:e.read(2),spDef:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.hp),e.write(2,t.speed),e.write(2,t.atk),e.write(2,t.spAtk),e.write(2,t.def),void e.write(2,t.spDef))}},t[1]={read:function(e){return e.readInt()<0?null:{damageDownPer:e.read(8),damageUpPer:e.read(8),fireSkill:e.read(8),waterSkill:e.read(8),grassSkill:e.read(8),demonSkill:e.read(8),evilSkill:e.read(8),dragonSkill:e.read(8),iceSkill:e.read(8),ghostSkill:e.read(8),generalSkill:e.read(8),electricSkill:e.read(8),insectSkill:e.read(8),flightSkill:e.read(8),groundSkill:e.read(8),rockSkill:e.read(8),grappleSkill:e.read(8),superSkill:e.read(8),steelSkill:e.read(8),poisonSkill:e.read(8),critDamage:e.read(8),critChance:e.read(8),hit:e.read(8),evade:e.read(8),hpPer:e.read(8),atkPer:e.read(8),atkSpPer:e.read(8),defPer:e.read(8),defSpPer:e.read(8),spePer:e.read(8),hp:e.read(8),atk:e.read(8),atkSp:e.read(8),def:e.read(8),defSp:e.read(8),spe:e.read(8)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(8,t.damageDownPer),e.write(8,t.damageUpPer),e.write(8,t.fireSkill),e.write(8,t.waterSkill),e.write(8,t.grassSkill),e.write(8,t.demonSkill),e.write(8,t.evilSkill),e.write(8,t.dragonSkill),e.write(8,t.iceSkill),e.write(8,t.ghostSkill),e.write(8,t.generalSkill),e.write(8,t.electricSkill),e.write(8,t.insectSkill),e.write(8,t.flightSkill),e.write(8,t.groundSkill),e.write(8,t.rockSkill),e.write(8,t.grappleSkill),e.write(8,t.superSkill),e.write(8,t.steelSkill),e.write(8,t.poisonSkill),e.write(8,t.critDamage),e.write(8,t.critChance),e.write(8,t.hit),e.write(8,t.evade),e.write(8,t.hpPer),e.write(8,t.atkPer),e.write(8,t.atkSpPer),e.write(8,t.defPer),e.write(8,t.defSpPer),e.write(8,t.spePer),e.write(8,t.hp),e.write(8,t.atk),e.write(8,t.atkSp),e.write(8,t.def),e.write(8,t.defSp),void e.write(8,t.spe))}},t[2]={read:function(e){return e.readInt()<0?null:{version:e.read(2)}
},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),void e.write(2,t.version))}},t[3]={read:function(e){return e.readInt()<0?null:{lvReward:e.read(2),lvAc2:e.read(t[4]),sevenLg:e.read(t[59]),zp:e.read(t[53]),acBattle:e.read(t[55]),sumRecharge:e.read(t[56]),diamondSpend:e.read(t[58]),flashElf:e.read(t[58]),premiumPacks:e.read(t[58]),superElf:e.read(t[54]),growthPlan:e.read(t[4]),shenShou:e.read(t[54]),dailyDiamondSpend:e.read(t[59]),dailyRecharged:e.read(t[59]),playerLvReach:e.read(t[4]),dailyRechargeGift:e.read(t[59]),mammonRabbit:e.read(t[53]),collent:e.read(t[8]),tdecennium:e.read(t[60]),drawDiamond:e.read(t[18]),fesLogin:e.read(t[17]),goldenEggs:e.read(t[16]),firstGroupon:e.read(t[7]),openCompetition:e.read(t[150]),thuoMidfestival:e.read(t[8]),tmoonCake:e.read(t[9]),tyuanyuan:e.read(t[11]),guoqing:e.read(t[12]),consumption:e.read(t[13]),primeCharge:e.read(t[6]),everyday:e.read(t[5]),rechargeElf:e.read(t[56]),appointment:e.read(t[56]),timing:e.read(t[4]),christmasEve:e.read(t[56]),luckZhuanPan:e.read(t[19]),yuandanReward:e.read(t[20]),sevendays:e.read(t[25]),sevendayCompetition:e.read(t[24])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.lvReward),e.write(t[4],n.lvAc2),e.write(t[59],n.sevenLg),e.write(t[53],n.zp),e.write(t[55],n.acBattle),e.write(t[56],n.sumRecharge),e.write(t[58],n.diamondSpend),e.write(t[58],n.flashElf),e.write(t[58],n.premiumPacks),e.write(t[54],n.superElf),e.write(t[4],n.growthPlan),e.write(t[54],n.shenShou),e.write(t[59],n.dailyDiamondSpend),e.write(t[59],n.dailyRecharged),e.write(t[4],n.playerLvReach),e.write(t[59],n.dailyRechargeGift),e.write(t[53],n.mammonRabbit),e.write(t[8],n.collent),e.write(t[60],n.tdecennium),e.write(t[18],n.drawDiamond),e.write(t[17],n.fesLogin),e.write(t[16],n.goldenEggs),e.write(t[7],n.firstGroupon),e.write(t[150],n.openCompetition),e.write(t[8],n.thuoMidfestival),e.write(t[9],n.tmoonCake),e.write(t[11],n.tyuanyuan),e.write(t[12],n.guoqing),e.write(t[13],n.consumption),e.write(t[6],n.primeCharge),e.write(t[5],n.everyday),e.write(t[56],n.rechargeElf),e.write(t[56],n.appointment),e.write(t[4],n.timing),e.write(t[56],n.christmasEve),e.write(t[19],n.luckZhuanPan),e.write(t[20],n.yuandanReward),e.write(t[25],n.sevendays),void e.write(t[24],n.sevendayCompetition))}},t[4]={read:function(e){return e.readInt()<0?null:{list:e.readArray(2),version:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.writeArray(2,t.list),void e.write(2,t.version))}},t[5]={read:function(e){return e.readInt()<0?null:{everyRecharge:e.read(2),sumRecharge:e.read(2),number:e.read(2),receive:e.readArray(2),record:e.read(2),version:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.everyRecharge),e.write(2,t.sumRecharge),e.write(2,t.number),e.writeArray(2,t.receive),e.write(2,t.record),void e.write(2,t.version))}},t[6]={read:function(e){return e.readInt()<0?null:{recharged:e.read(2),sumRecharge:e.read(2),states:e.readArray(2),version:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.recharged),e.write(2,t.sumRecharge),e.writeArray(2,t.states),void e.write(2,t.version))}},t[7]={read:function(e){return e.readInt()<0?null:{recharge:e.read(2),states:e.readArray(2),version:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.recharge),e.writeArray(2,t.states),void e.write(2,t.version))}},t[8]={read:function(e){return e.readInt()<0?null:{collents:e.readArray(t[71]),version:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.writeArray(t[71],n.collents),void e.write(2,n.version))}},t[9]={read:function(e){return e.readInt()<0?null:{money:e.read(2),pickUp:e.readArray(2),version:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.money),e.writeArray(2,t.pickUp),void e.write(2,t.version))}},t[10]={read:function(e){return e.readInt()<0?null:{ret:e.read(t[74]),moonCake:e.read(t[9])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[74],n.ret),void e.write(t[9],n.moonCake))}},t[11]={read:function(e){return e.readInt()<0?null:{Feedexp:e.read(2),PickUp:e.readArray(2),version:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.Feedexp),e.writeArray(2,t.PickUp),void e.write(2,t.version))}},t[12]={read:function(e){return e.readInt()<0?null:{GuoQingrecharge:e.readArray(t[71]),version:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.writeArray(t[71],n.GuoQingrecharge),void e.write(2,n.version))}},t[13]={read:function(e){return e.readInt()<0?null:{amount:e.read(2),version:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.amount),void e.write(2,t.version))}},t[14]={read:function(e){return e.readInt()<0?null:{state:e.read(2),item:e.read(t[71])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.state),void e.write(t[71],n.item))}},t[15]={read:function(e){return e.readInt()<0?null:{reward:e.read(t[74]),goldenEggs:e.read(t[16])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[74],n.reward),void e.write(t[16],n.goldenEggs))}},t[16]={read:function(e){return e.readInt()<0?null:{items:e.readArray(t[14]),version:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.writeArray(t[14],n.items),void e.write(2,n.version))}},t[17]={read:function(e){return e.readInt()<0?null:{days:e.read(2),states:e.readArray(2),version:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.days),e.writeArray(2,t.states),void e.write(2,t.version))}},t[18]={read:function(e){return e.readInt()<0?null:{charge:e.read(2),chargeCount:e.read(2),drew:e.read(2),version:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.charge),e.write(2,t.chargeCount),e.write(2,t.drew),void e.write(2,t.version))}},t[19]={read:function(e){return e.readInt()<0?null:{lv:e.read(2),exp:e.read(2),score:e.read(2),states:e.readArray(t[71]),version:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.lv),e.write(2,n.exp),e.write(2,n.score),e.writeArray(t[71],n.states),void e.write(2,n.version))}},t[20]={read:function(e){return e.readInt()<0?null:{integral:e.read(2),state:e.read(2),states:e.readArray(t[14]),version:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.integral),e.write(2,n.state),e.writeArray(t[14],n.states),void e.write(2,n.version))}},t[21]={read:function(e){return e.readInt()<0?null:{get:e.read(t[74]),data:e.read(t[20])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[74],n.get),void e.write(t[20],n.data))}},t[22]={read:function(e){return e.readInt()<0?null:{state:e.read(2),type:e.read(2),count:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.state),e.write(2,t.type),void e.write(2,t.count))}},t[23]={read:function(e){return e.readInt()<0?null:{day:e.read(2),tasks:e.readArray(t[22])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.day),void e.writeArray(t[22],n.tasks))}},t[24]={read:function(e){return e.readInt()<0?null:{day:e.read(2),gem:e.read(2),recharge:e.read(2),ivCount:e.read(2),artifactCount:e.read(2),lastTime:e.read(13),version:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.day),e.write(2,t.gem),e.write(2,t.recharge),e.write(2,t.ivCount),e.write(2,t.artifactCount),e.write(13,t.lastTime),void e.write(2,t.version))}},t[25]={read:function(e){return e.readInt()<0?null:{day:e.read(2),finish:e.read(2),state:e.read(2),items:e.readArray(t[23]),version:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.day),e.write(2,n.finish),e.write(2,n.state),e.writeArray(t[23],n.items),void e.write(2,n.version))}},t[26]={read:function(e){return e.readInt()<0?null:{get:e.read(t[74]),data:e.read(t[25])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[74],n.get),void e.write(t[25],n.data))}},t[27]={read:function(e){return e.readInt()<0?null:{id:e.read(2),NowMissionCount:e.read(2),getRewards:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.id),e.write(2,t.NowMissionCount),void e.write(2,t.getRewards))}},t[28]={read:function(e){return e.readInt()<0?null:{data:e.read(t[19]),id:e.read(2),costs:e.readArray(t[71]),gets:e.read(t[74])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[19],n.data),e.write(2,n.id),e.writeArray(t[71],n.costs),void e.write(t[74],n.gets))}},t[29]={read:function(e){return e.readInt()<0?null:{version:e.read(2),type:e.read(2),name:e.read(3),sort:e.read(2),p0:e.read(2),start:e.read(13),end:e.read(13),content:e.read(3)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.version),e.write(2,t.type),e.write(3,t.name),e.write(2,t.sort),e.write(2,t.p0),e.write(13,t.start),e.write(13,t.end),void e.write(3,t.content))}},t[30]={read:function(e){return e.readInt()<0?null:{roleCTime:e.read(2),expPool:e.read(2),mapId:e.read(2),levelId:e.read(2),levelTime:e.read(13),fights:e.read(2),getTime:e.read(13),onHookPms:e.readArray(t[36]),items:e.readArray(t[71]),dpms:e.read(2),ditems:e.read(2),gashapon:e.readArray(t[82]),currentLegendaryId:e.read(2),legendaryId:e.read(2),legendaryMap:e.read(2),legendaryTime:e.read(13),elfNums:e.readArray(2),quickBattleCount:e.read(2),quickBattleBuyCount:e.read(2),lastExp:e.read(13),debrisSwap:e.read(2),itemReCount:e.read(2),dEngagedCount:e.read(2),lastGetOnline:e.read(13),getOnline:e.read(2),lastfollowTime:e.read(13),incubations:e.readArray(t[140]),incubationgrids:e.readArray(t[141]),fOpenId:e.read(2),sign:e.read(t[63]),jjc3:e.read(2),gotFailed:e.read(2),pvpReward:e.readArray(2),mart:e.read(t[32]),dIVCount:e.read(2),buyTansuoliCount:e.read(2),buyBombCount:e.read(2),buyGodCount:e.read(2),vipGift:e.readArray(2),lastCommend:e.read(13),universalBell:e.read(2),dVipGift:e.readArray(2),MapInfoData:e.read(t[178]),firstPokemon:e.read(2),GashaponBag:e.readArray(2),ALLGiftBag:e.readArray(t[31]),ChallengeRewardCount:e.readArray(2),maxFightValue:e.read(2),mythicalAnimal:e.readArray(t[89]),isRefresh:e.readArray(2),isInitPmStar:e.read(1),beastCountLimit:e.readArray(2),beastRefreshTime:e.read(13),isStartCatch:e.readArray(1),MagicShopData:e.read(t[121]),BeastShopData:e.read(t[121]),ElfTaskState:e.readArray(2),ElfTaskRefreshState:e.read(1),isChangeBeast:e.read(1)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.roleCTime),e.write(2,n.expPool),e.write(2,n.mapId),e.write(2,n.levelId),e.write(13,n.levelTime),e.write(2,n.fights),e.write(13,n.getTime),e.writeArray(t[36],n.onHookPms),e.writeArray(t[71],n.items),e.write(2,n.dpms),e.write(2,n.ditems),e.writeArray(t[82],n.gashapon),e.write(2,n.currentLegendaryId),e.write(2,n.legendaryId),e.write(2,n.legendaryMap),e.write(13,n.legendaryTime),e.writeArray(2,n.elfNums),e.write(2,n.quickBattleCount),e.write(2,n.quickBattleBuyCount),e.write(13,n.lastExp),e.write(2,n.debrisSwap),e.write(2,n.itemReCount),e.write(2,n.dEngagedCount),e.write(13,n.lastGetOnline),e.write(2,n.getOnline),e.write(13,n.lastfollowTime),e.writeArray(t[140],n.incubations),e.writeArray(t[141],n.incubationgrids),e.write(2,n.fOpenId),e.write(t[63],n.sign),e.write(2,n.jjc3),e.write(2,n.gotFailed),e.writeArray(2,n.pvpReward),e.write(t[32],n.mart),e.write(2,n.dIVCount),e.write(2,n.buyTansuoliCount),e.write(2,n.buyBombCount),e.write(2,n.buyGodCount),e.writeArray(2,n.vipGift),e.write(13,n.lastCommend),e.write(2,n.universalBell),e.writeArray(2,n.dVipGift),e.write(t[178],n.MapInfoData),e.write(2,n.firstPokemon),e.writeArray(2,n.GashaponBag),e.writeArray(t[31],n.ALLGiftBag),e.writeArray(2,n.ChallengeRewardCount),e.write(2,n.maxFightValue),e.writeArray(t[89],n.mythicalAnimal),e.writeArray(2,n.isRefresh),e.write(1,n.isInitPmStar),e.writeArray(2,n.beastCountLimit),e.write(13,n.beastRefreshTime),e.writeArray(1,n.isStartCatch),e.write(t[121],n.MagicShopData),e.write(t[121],n.BeastShopData),e.writeArray(2,n.ElfTaskState),e.write(1,n.ElfTaskRefreshState),void e.write(1,n.isChangeBeast))}},t[31]={read:function(e){return e.readInt()<0?null:{type:e.read(2),SumCount:e.read(2),lastGetTime:e.read(13),arg1:e.read(3),arg2:e.read(3),arg3:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.type),e.write(2,t.SumCount),e.write(13,t.lastGetTime),e.write(3,t.arg1),e.write(3,t.arg2),void e.write(2,t.arg3))}},t[32]={read:function(e){return e.readInt()<0?null:{time:e.read(13),loves:e.read(2),pick:e.read(2),id:e.read(2),matingPm:e.readArray(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(13,t.time),e.write(2,t.loves),e.write(2,t.pick),e.write(2,t.id),void e.writeArray(2,t.matingPm))}},t[33]={read:function(e){return e.readInt()<0?null:{incubation:e.readArray(t[140]),mart:e.read(t[32])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.writeArray(t[140],n.incubation),void e.write(t[32],n.mart))}},t[34]={read:function(e){return e.readInt()<0?null:{gold:e.read(2),exp:e.read(2),pms:e.readArray(t[36]),items:e.readArray(t[71])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.gold),e.write(2,n.exp),e.writeArray(t[36],n.pms),void e.writeArray(t[71],n.items))}},t[35]={read:function(e){return e.readInt()<0?null:{type:e.read(2),level:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.type),void e.write(2,t.level))}},t[36]={read:function(e){return e.readInt()<0?null:{type:e.read(2),iv:e.read(t[0]),gender:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.type),e.write(t[0],n.iv),void e.write(2,n.gender))}},t[37]={read:function(e){return e.readInt()<0?null:{slot:e.read(2),id:e.read(2),type:e.read(2),lv:e.read(2),rebornCount:e.read(2),exp:e.read(2),intimacy:e.read(2),intimacyLv:e.read(2),nature:e.read(2),iv:e.read(t[0]),effort:e.read(t[0]),effortLv:e.read(2),equip:e.readArray(2),newEquip:e.readArray(t[38]),skills:e.readArray(2),gender:e.read(2),star:e.read(2),ivFreshCount:e.read(2),stage:e.read(2),advance:e.read(2),skillSettings:e.readArray(t[42]),artifact:e.read(2),gift:e.readArray(2),giftSkill:e.readArray(2),giftAbility:e.readArray(t[71]),giftEquip:e.readArray(2),isUnlock:e.readArray(1),ballId:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.slot),e.write(2,n.id),e.write(2,n.type),e.write(2,n.lv),e.write(2,n.rebornCount),e.write(2,n.exp),e.write(2,n.intimacy),e.write(2,n.intimacyLv),e.write(2,n.nature),e.write(t[0],n.iv),e.write(t[0],n.effort),e.write(2,n.effortLv),e.writeArray(2,n.equip),e.writeArray(t[38],n.newEquip),e.writeArray(2,n.skills),e.write(2,n.gender),e.write(2,n.star),e.write(2,n.ivFreshCount),e.write(2,n.stage),e.write(2,n.advance),e.writeArray(t[42],n.skillSettings),e.write(2,n.artifact),e.writeArray(2,n.gift),e.writeArray(2,n.giftSkill),e.writeArray(t[71],n.giftAbility),e.writeArray(2,n.giftEquip),e.writeArray(1,n.isUnlock),void e.write(2,n.ballId))}},t[38]={read:function(e){return e.readInt()<0?null:{id:e.read(2),type:e.read(2),level:e.read(2),exp:e.read(2),extEffect:e.readArray(2),levelEffect:e.readArray(2),locked:e.read(1),pet:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.id),e.write(2,t.type),e.write(2,t.level),e.write(2,t.exp),e.writeArray(2,t.extEffect),e.writeArray(2,t.levelEffect),e.write(1,t.locked),void e.write(2,t.pet))}},t[39]={read:function(e){return e.readInt()<0?null:{costGold:e.read(2),data:e.read(t[38])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.costGold),void e.write(t[38],n.data))}},t[40]={read:function(e){return e.readInt()<0?null:{id:e.read(2),gift:e.readArray(2),giftSkill:e.readArray(2),giftAbility:e.readArray(t[71]),giftEquip:e.readArray(2),isUnlock:e.readArray(1)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.id),e.writeArray(2,n.gift),e.writeArray(2,n.giftSkill),e.writeArray(t[71],n.giftAbility),e.writeArray(2,n.giftEquip),void e.writeArray(1,n.isUnlock))}},t[41]={read:function(e){return e.readInt()<0?null:{id:e.read(2),intimacy:e.read(2),intimacyLv:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.id),e.write(2,t.intimacy),void e.write(2,t.intimacyLv))}},t[42]={read:function(e){return e.readInt()<0?null:{slot:e.read(2),sort:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.slot),void e.write(2,t.sort))}},t[43]={read:function(e){return e.readInt()<0?null:{follows:e.readArray(2),assist:e.read(2),assistFriend:e.read(t[199]),formation:e.read(2),levels:e.readArray(2),gridConfig:e.readArray(t[44]),badges:e.readArray(2),titles:e.readArray(2),currentRole:e.read(2),roles:e.readArray(2),equips:e.readArray(t[45]),wing:e.read(t[46]),orna:e.read(t[46]),petTypeAttributeLvs:e.readArray(t[48]),helps:e.readArray(2),helpAttribute:e.read(t[0]),artifacts:e.readArray(t[130])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.writeArray(2,n.follows),e.write(2,n.assist),e.write(t[199],n.assistFriend),e.write(2,n.formation),e.writeArray(2,n.levels),e.writeArray(t[44],n.gridConfig),e.writeArray(2,n.badges),e.writeArray(2,n.titles),e.write(2,n.currentRole),e.writeArray(2,n.roles),e.writeArray(t[45],n.equips),e.write(t[46],n.wing),e.write(t[46],n.orna),e.writeArray(t[48],n.petTypeAttributeLvs),e.writeArray(2,n.helps),e.write(t[0],n.helpAttribute),void e.writeArray(t[130],n.artifacts))}},t[44]={read:function(e){return e.readInt()<0?null:{id:e.read(2),grid:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.id),void e.write(2,t.grid))}},t[45]={read:function(e){return e.readInt()<0?null:{equipId:e.read(2),enchantingId:e.read(2),enchantingProgress:e.read(2),refineId:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.equipId),e.write(2,t.enchantingId),e.write(2,t.enchantingProgress),void e.write(2,t.refineId))}},t[46]={read:function(e){return e.readInt()<0?null:{owns:e.readArray(t[47])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),void e.writeArray(t[47],n.owns))}},t[47]={read:function(e){return e.readInt()<0?null:{id:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),void e.write(2,t.id))}},t[48]={read:function(e){return e.readInt()<0?null:{id:e.read(2),exp:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.id),void e.write(2,t.exp))}},t[49]={read:function(e){return e.readInt()<0?null:{money:e.read(11),exp:e.read(11),gem:e.read(2),recharge:e.read(2),title:e.read(2),wing:e.read(2),orna:e.read(2),newGuidNumber:e.read(2),vipExp:e.read(2),id:e.read(t[199]),name:e.read(3),icon:e.read(3),gender:e.read(2),level:e.read(2),camp:e.read(2),vip:e.read(2),fight:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(11,n.money),e.write(11,n.exp),e.write(2,n.gem),e.write(2,n.recharge),e.write(2,n.title),e.write(2,n.wing),e.write(2,n.orna),e.write(2,n.newGuidNumber),e.write(2,n.vipExp),e.write(t[199],n.id),e.write(3,n.name),e.write(3,n.icon),e.write(2,n.gender),e.write(2,n.level),e.write(2,n.camp),e.write(2,n.vip),void e.write(2,n.fight))}},t[50]={read:function(e){return e.readInt()<0?null:{dailyRecharge:e.read(2),vipItems:e.readArray(2),collections:e.readArray(2),shops:e.readArray(t[88]),fragShop:e.read(t[90]),assists:e.read(2),friendPoint:e.read(2),assisted:e.readArray(t[95]),recharged:e.read(2),oneYuanRecharge:e.read(2),recharges:e.readArray(t[71]),monthEnd:e.read(13),monthCount:e.read(2),superCard:e.read(2),dailyBattleLv:e.read(2),dailyActive:e.readArray(2),ext:e.read(t[61]),eventInfo:e.read(t[3])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.dailyRecharge),e.writeArray(2,n.vipItems),e.writeArray(2,n.collections),e.writeArray(t[88],n.shops),e.write(t[90],n.fragShop),e.write(2,n.assists),e.write(2,n.friendPoint),e.writeArray(t[95],n.assisted),e.write(2,n.recharged),e.write(2,n.oneYuanRecharge),e.writeArray(t[71],n.recharges),e.write(13,n.monthEnd),e.write(2,n.monthCount),e.write(2,n.superCard),e.write(2,n.dailyBattleLv),e.writeArray(2,n.dailyActive),e.write(t[61],n.ext),void e.write(t[3],n.eventInfo))}},t[51]={read:function(e){return e.readInt()<0?null:{pokemonId:e.read(2),getDifficulty:e.read(2),weight:e.read(8)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.pokemonId),e.write(2,t.getDifficulty),void e.write(8,t.weight))}},t[52]={read:function(e){return e.readInt()<0?null:{id:e.read(2),hunts:e.readArray(t[51])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.id),void e.writeArray(t[51],n.hunts))}},t[53]={read:function(e){return e.readInt()<0?null:{mammonRabbit:e.read(2),version:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.mammonRabbit),void e.write(2,t.version))}},t[54]={read:function(e){return e.readInt()<0?null:{state:e.read(1),version:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(1,t.state),void e.write(2,t.version))}},t[55]={read:function(e){return e.readInt()<0?null:{aBUC:e.read(2),aBBC:e.read(2),version:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.aBUC),e.write(2,t.aBBC),void e.write(2,t.version))}},t[56]={read:function(e){return e.readInt()<0?null:{Recharge:e.read(2),State:e.read(2),version:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.Recharge),e.write(2,t.State),void e.write(2,t.version))}},t[57]={read:function(e){return e.readInt()<0?null:{get:e.read(t[74]),data:e.read(t[56])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[74],n.get),void e.write(t[56],n.data))}},t[58]={read:function(e){return e.readInt()<0?null:{spent:e.read(2),states:e.readArray(t[71]),version:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.spent),e.writeArray(t[71],n.states),void e.write(2,n.version))}},t[59]={read:function(e){return e.readInt()<0?null:{spend:e.read(2),states:e.readArray(2),version:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.spend),e.writeArray(2,t.states),void e.write(2,t.version))}},t[60]={read:function(e){return e.readInt()<0?null:{number:e.read(2),states:e.readArray(2),version:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.number),e.writeArray(2,t.states),void e.write(2,t.version))}},t[61]={read:function(e){return e.readInt()<0?null:{signState:e.read(2),signCount:e.read(2),guildBossBuyCount:e.read(2),focus:e.read(2),dShare:e.read(2),share:e.read(2),shares:e.readArray(2),shareCD:e.read(13),cdKeyGift:e.readArray(2),famInfo:e.read(t[92]),OneYuanDiamond:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.signState),e.write(2,n.signCount),e.write(2,n.guildBossBuyCount),e.write(2,n.focus),e.write(2,n.dShare),e.write(2,n.share),e.writeArray(2,n.shares),e.write(13,n.shareCD),e.writeArray(2,n.cdKeyGift),e.write(t[92],n.famInfo),void e.write(2,n.OneYuanDiamond))}},t[62]={read:function(e){return e.readInt()<0?null:{signed:e.read(2),signData:e.read(t[63]),rewards:e.readArray(t[71])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.signed),e.write(t[63],n.signData),void e.writeArray(t[71],n.rewards))}},t[63]={read:function(e){return e.readInt()<0?null:{month:e.read(2),day:e.read(2),limitCount:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.month),e.write(2,t.day),void e.write(2,t.limitCount))}},t[64]={read:function(e){if(e.readInt()<0)return null;var t=e.readBits(1),n={};return n.activeSkill=e.read(2),t[0]&&(n.cdTime=e.read(13)),n.cost=e.read(2),n.def=e.read(2),n.hp=e.read(2),n.level=e.read(2),n.att=e.readArray(2),n.members=e.readArray(2),n.recover=e.read(2),n.type=e.read(2),n},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.writeBits([null!=t.cdTime]),e.write(2,t.activeSkill),null!=t.cdTime&&e.write(13,t.cdTime),e.write(2,t.cost),e.write(2,t.def),e.write(2,t.hp),e.write(2,t.level),e.writeArray(2,t.att),e.writeArray(2,t.members),e.write(2,t.recover),void e.write(2,t.type))}},t[65]={read:function(e){return e.readInt()<0?null:{team:e.read(2),num:e.read(2),id:e.read(2),type:e.read(2),lv:e.read(2),hp:e.read(8),atk:e.read(8),def:e.read(8),spAtk:e.read(8),spDef:e.read(8),speed:e.read(8),sp:e.read(2),attribute:e.readArray(2),skill:e.readArray(2),cri:e.read(8),criDam:e.read(8),antiCriDam:e.read(8),hit:e.read(8),evade:e.read(8),formation:e.read(2),grid:e.read(2),ability:e.read(2),star:e.read(2),stage:e.read(2),counter:e.read(8),type2:e.read(2),equip:e.read(t[1]),superEquipInfo:e.read(t[130])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.team),e.write(2,n.num),e.write(2,n.id),e.write(2,n.type),e.write(2,n.lv),e.write(8,n.hp),e.write(8,n.atk),e.write(8,n.def),e.write(8,n.spAtk),e.write(8,n.spDef),e.write(8,n.speed),e.write(2,n.sp),e.writeArray(2,n.attribute),e.writeArray(2,n.skill),e.write(8,n.cri),e.write(8,n.criDam),e.write(8,n.antiCriDam),e.write(8,n.hit),e.write(8,n.evade),e.write(2,n.formation),e.write(2,n.grid),e.write(2,n.ability),e.write(2,n.star),e.write(2,n.stage),e.write(8,n.counter),e.write(2,n.type2),e.write(t[1],n.equip),void e.write(t[130],n.superEquipInfo))}},t[66]={read:function(e){return e.readInt()<0?null:{seed:e.read(2),playerUnits:e.readArray(t[65]),enemieUnits:e.readArray(t[65])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.seed),e.writeArray(t[65],n.playerUnits),void e.writeArray(t[65],n.enemieUnits))}},t[67]={read:function(e){return e.readInt()<0?null:{op:e.read(2),arg1:e.read(2),arg2:e.read(2),arg3:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.op),e.write(2,t.arg1),e.write(2,t.arg2),void e.write(2,t.arg3))}},t[68]={read:function(e){return e.readInt()<0?null:{banType:e.read(2),banReason:e.read(3),releaseTime:e.read(13),now:e.read(13),playerInfo:e.read(t[49]),team:e.read(t[43]),pmList:e.readArray(t[37]),items:e.readArray(t[71]),equips:e.readArray(t[71]),newEquips:e.readArray(t[38]),ext:e.read(t[30]),mails:e.readArray(t[73]),cachedMsgs:e.readArray(t[78]),activityInfo:e.read(t[50]),pvpData:e.read(t[87]),friendNotices:e.readArray(t[49]),friends:e.readArray(t[93]),iAssist:e.readArray(t[49]),dailyQuests:e.readArray(t[100]),wizardQuests:e.readArray(t[100]),achieveQuests:e.readArray(t[100]),missionQuests:e.readArray(t[100]),myGuildInfo:e.read(t[104]),systemNotices:e.readArray(t[101]),autoDigCount:e.read(2),autoDigStart:e.read(13),home:e.read(t[133]),battleProgress:e.read(t[146]),sEventData:e.read(t[69]),dungeon:e.read(t[163]),monsters:e.readArray(t[162]),MagicShopDataRet:e.read(t[121]),BeastShopData:e.read(t[121]),CrossServerElfContest:e.read(t[196])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.banType),e.write(3,n.banReason),e.write(13,n.releaseTime),e.write(13,n.now),e.write(t[49],n.playerInfo),e.write(t[43],n.team),e.writeArray(t[37],n.pmList),e.writeArray(t[71],n.items),e.writeArray(t[71],n.equips),e.writeArray(t[38],n.newEquips),e.write(t[30],n.ext),e.writeArray(t[73],n.mails),e.writeArray(t[78],n.cachedMsgs),e.write(t[50],n.activityInfo),e.write(t[87],n.pvpData),e.writeArray(t[49],n.friendNotices),e.writeArray(t[93],n.friends),e.writeArray(t[49],n.iAssist),e.writeArray(t[100],n.dailyQuests),e.writeArray(t[100],n.wizardQuests),e.writeArray(t[100],n.achieveQuests),e.writeArray(t[100],n.missionQuests),e.write(t[104],n.myGuildInfo),e.writeArray(t[101],n.systemNotices),e.write(2,n.autoDigCount),e.write(13,n.autoDigStart),e.write(t[133],n.home),e.write(t[146],n.battleProgress),e.write(t[69],n.sEventData),e.write(t[163],n.dungeon),e.writeArray(t[162],n.monsters),e.write(t[121],n.MagicShopDataRet),e.write(t[121],n.BeastShopData),void e.write(t[196],n.CrossServerElfContest))}},t[69]={read:function(e){return e.readInt()<0?null:{firstGroupon:e.read(t[147])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),void e.write(t[147],n.firstGroupon))}},t[70]={read:function(e){return e.readInt()<0?null:{playerInfo:e.read(t[49]),team:e.read(t[43]),battlePms:e.readArray(t[37]),home:e.read(t[134]),science:e.read(t[114]),honorLv:e.read(2),enemy:e.readArray(t[199]),helpPms:e.readArray(t[37])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[49],n.playerInfo),e.write(t[43],n.team),e.writeArray(t[37],n.battlePms),e.write(t[134],n.home),e.write(t[114],n.science),e.write(2,n.honorLv),e.writeArray(t[199],n.enemy),void e.writeArray(t[37],n.helpPms))}},t[71]={read:function(e){return e.readInt()<0?null:{type:e.read(2),count:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.type),void e.write(2,t.count))}},t[72]={read:function(e){return e.readInt()<0?null:{used:e.read(2),bought:e.read(2),reusable:e.read(2),recovered:e.read(2),time:e.read(13)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.used),e.write(2,t.bought),e.write(2,t.reusable),e.write(2,t.recovered),void e.write(13,t.time))}},t[73]={read:function(e){return e.readInt()<0?null:{id:e.read(2),sender:e.read(3),title:e.read(3),detail:e.read(3),items:e.readArray(t[71]),time:e.read(13)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.id),e.write(3,n.sender),e.write(3,n.title),e.write(3,n.detail),e.writeArray(t[71],n.items),void e.write(13,n.time))}},t[74]={read:function(e){return e.readInt()<0?null:{items:e.readArray(t[71]),pokemons:e.readArray(t[37]),newEgg:e.readArray(t[140]),newEquips:e.readArray(t[38])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.writeArray(t[71],n.items),e.writeArray(t[37],n.pokemons),e.writeArray(t[140],n.newEgg),void e.writeArray(t[38],n.newEquips))}},t[75]={read:function(e){return e.readInt()<0?null:{counts:e.readArray(t[72]),pass:e.readArray(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.writeArray(t[72],n.counts),void e.writeArray(2,n.pass))}},t[76]={read:function(e){return e.readInt()<0?null:{win:e.read(1),gold:e.read(2),exp:e.read(2),levelId:e.read(2),levelTime:e.read(13),items:e.readArray(t[71]),pokemons:e.readArray(t[37]),newEgg:e.readArray(t[140]),newEquips:e.readArray(t[38])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(1,n.win),e.write(2,n.gold),e.write(2,n.exp),e.write(2,n.levelId),e.write(13,n.levelTime),e.writeArray(t[71],n.items),e.writeArray(t[37],n.pokemons),e.writeArray(t[140],n.newEgg),void e.writeArray(t[38],n.newEquips))}},t[77]={read:function(e){return e.readInt()<0?null:{data:e.read(t[75]),win:e.read(1),gold:e.read(2),exp:e.read(2),levelId:e.read(2),levelTime:e.read(13),items:e.readArray(t[71]),pokemons:e.readArray(t[37]),newEgg:e.readArray(t[140]),newEquips:e.readArray(t[38])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[75],n.data),e.write(1,n.win),e.write(2,n.gold),e.write(2,n.exp),e.write(2,n.levelId),e.write(13,n.levelTime),e.writeArray(t[71],n.items),e.writeArray(t[37],n.pokemons),e.writeArray(t[140],n.newEgg),void e.writeArray(t[38],n.newEquips))}},t[78]={read:function(e){return e.readInt()<0?null:{id:e.read(2),sender:e.read(t[49]),content:e.read(3),time:e.read(13),type:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.id),e.write(t[49],n.sender),e.write(3,n.content),e.write(13,n.time),void e.write(2,n.type))
}},t[79]={read:function(e){return e.readInt()<0?null:{level:e.read(2),exp:e.read(2),poolExp:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.level),e.write(2,t.exp),void e.write(2,t.poolExp))}},t[80]={read:function(e){return e.readInt()<0?null:{level:e.read(2),love:e.read(2),gold:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.level),e.write(2,t.love),void e.write(2,t.gold))}},t[81]={read:function(e){return e.readInt()<0?null:{source:e.read(t[71]),target:e.read(t[71])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[71],n.source),void e.write(t[71],n.target))}},t[82]={read:function(e){return e.readInt()<0?null:{id:e.read(2),count:e.read(2),remainCount:e.read(2),time:e.read(13),pmids:e.readArray(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.id),e.write(2,t.count),e.write(2,t.remainCount),e.write(13,t.time),void e.writeArray(2,t.pmids))}},t[83]={read:function(e){return e.readInt()<0?null:{price:e.read(t[71]),gashaponInfo:e.read(t[82]),tenGetGift:e.read(t[60]),items:e.readArray(t[71]),pokemons:e.readArray(t[37]),newEgg:e.readArray(t[140]),newEquips:e.readArray(t[38])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[71],n.price),e.write(t[82],n.gashaponInfo),e.write(t[60],n.tenGetGift),e.writeArray(t[71],n.items),e.writeArray(t[37],n.pokemons),e.writeArray(t[140],n.newEgg),void e.writeArray(t[38],n.newEquips))}},t[84]={read:function(e){return e.readInt()<0?null:{rank:e.read(2),win:e.read(2),consecutiveWin:e.read(2),petId:e.read(2),score:e.read(2),lastChangeTime:e.read(13),remainCount:e.read(2),dailyBuyCount:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.rank),e.write(2,t.win),e.write(2,t.consecutiveWin),e.write(2,t.petId),e.write(2,t.score),e.write(13,t.lastChangeTime),e.write(2,t.remainCount),void e.write(2,t.dailyBuyCount))}},t[85]={read:function(e){return e.readInt()<0?null:{player:e.read(t[70]),pvpInfo:e.read(t[84])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[70],n.player),void e.write(t[84],n.pvpInfo))}},t[86]={read:function(e){return e.readInt()<0?null:{pvpInfos:e.read(t[87]),rivals:e.readArray(t[85]),petRivals:e.readArray(t[85])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[87],n.pvpInfos),e.writeArray(t[85],n.rivals),void e.writeArray(t[85],n.petRivals))}},t[87]={read:function(e){return e.readInt()<0?null:{scores:e.read(2),pvpInfo:e.read(t[84]),petPvpInfo:e.read(t[84])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.scores),e.write(t[84],n.pvpInfo),void e.write(t[84],n.petPvpInfo))}},t[88]={read:function(e){return e.readInt()<0?null:{type:e.read(2),count:e.read(2),time:e.read(13),items:e.readArray(t[71])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.type),e.write(2,n.count),e.write(13,n.time),void e.writeArray(t[71],n.items))}},t[89]={read:function(e){return e.readInt()<0?null:{pmid:e.read(2),appearTime:e.read(13),isChallenge:e.read(1),startCatchTime:e.read(13),isCatch:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.pmid),e.write(13,t.appearTime),e.write(1,t.isChallenge),e.write(13,t.startCatchTime),void e.write(2,t.isCatch))}},t[90]={read:function(e){return e.readInt()<0?null:{time:e.read(13),items:e.readArray(t[71]),count:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(13,n.time),e.writeArray(t[71],n.items),void e.write(2,n.count))}},t[91]={read:function(e){return e.readInt()<0?null:{lv:e.read(2),hp:e.read(2),index:e.read(2),events:e.readArray(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.lv),e.write(2,t.hp),e.write(2,t.index),void e.writeArray(2,t.events))}},t[92]={read:function(e){return e.readInt()<0?null:{lv:e.read(2),maxLv:e.read(2),count:e.read(2),buyCount:e.read(2),levels:e.readArray(t[91])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.lv),e.write(2,n.maxLv),e.write(2,n.count),e.write(2,n.buyCount),void e.writeArray(t[91],n.levels))}},t[93]={read:function(e){return e.readInt()<0?null:{assist:e.read(t[37]),money:e.read(11),exp:e.read(11),gem:e.read(2),recharge:e.read(2),title:e.read(2),wing:e.read(2),orna:e.read(2),newGuidNumber:e.read(2),vipExp:e.read(2),id:e.read(t[199]),name:e.read(3),icon:e.read(3),gender:e.read(2),level:e.read(2),camp:e.read(2),vip:e.read(2),fight:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[37],n.assist),e.write(11,n.money),e.write(11,n.exp),e.write(2,n.gem),e.write(2,n.recharge),e.write(2,n.title),e.write(2,n.wing),e.write(2,n.orna),e.write(2,n.newGuidNumber),e.write(2,n.vipExp),e.write(t[199],n.id),e.write(3,n.name),e.write(3,n.icon),e.write(2,n.gender),e.write(2,n.level),e.write(2,n.camp),e.write(2,n.vip),void e.write(2,n.fight))}},t[94]={read:function(e){return e.readInt()<0?null:{lastCommend:e.read(13),commends:e.readArray(t[49])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(13,n.lastCommend),void e.writeArray(t[49],n.commends))}},t[95]={read:function(e){return e.readInt()<0?null:{fkey:e.read(t[199]),assists:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[199],n.fkey),void e.write(2,n.assists))}},t[96]={read:function(e){return e.readInt()<0?null:{info:e.read(t[49]),ranks:e.readArray(t[97])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[49],n.info),void e.writeArray(t[97],n.ranks))}},t[97]={read:function(e){return e.readInt()<0?null:{info:e.read(t[49]),rank:e.read(2),value:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[49],n.info),e.write(2,n.rank),void e.write(2,n.value))}},t[98]={read:function(e){return e.readInt()<0?null:{first:e.read(t[70]),ranks:e.readArray(t[97])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[70],n.first),void e.writeArray(t[97],n.ranks))}},t[99]={read:function(e){return e.readInt()<0?null:{info:e.read(t[49]),follow:e.readArray(t[37])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[49],n.info),void e.writeArray(t[37],n.follow))}},t[100]={read:function(e){return e.readInt()<0?null:{start:e.read(2),id:e.read(2),progress:e.read(2),state:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.start),e.write(2,t.id),e.write(2,t.progress),void e.write(2,t.state))}},t[101]={read:function(e){return e.readInt()<0?null:{id:e.read(2),type:e.read(2),beginTime:e.read(13),endTime:e.read(13),content:e.read(3),duration:e.read(2),loop:e.read(2),state:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.id),e.write(2,t.type),e.write(13,t.beginTime),e.write(13,t.endTime),e.write(3,t.content),e.write(2,t.duration),e.write(2,t.loop),void e.write(2,t.state))}},t[102]={read:function(e){return e.readInt()<0?null:{playerInfo:e.read(t[49]),position:e.read(2),contributionValue:e.read(2),dailyContributionValue:e.read(2),time:e.read(13)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[49],n.playerInfo),e.write(2,n.position),e.write(2,n.contributionValue),e.write(2,n.dailyContributionValue),void e.write(13,n.time))}},t[103]={read:function(e){return e.readInt()<0?null:{pokemonId:e.read(2),leaveTime:e.read(13)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.pokemonId),void e.write(13,t.leaveTime))}},t[104]={read:function(e){return e.readInt()<0?null:{guildId:e.read(2),position:e.read(2),contributionValue:e.read(2),maxContributionValue:e.read(2),dailyContributionValue:e.read(2),shopBuyCount:e.read(2),bootyBuilding:e.readArray(t[71]),goldBuilding:e.readArray(t[71]),gemBuilding:e.readArray(t[71]),bossCount:e.read(2),leavePokemon:e.readArray(t[103]),scienceInfo:e.read(t[111]),isRefreshDonate:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.guildId),e.write(2,n.position),e.write(2,n.contributionValue),e.write(2,n.maxContributionValue),e.write(2,n.dailyContributionValue),e.write(2,n.shopBuyCount),e.writeArray(t[71],n.bootyBuilding),e.writeArray(t[71],n.goldBuilding),e.writeArray(t[71],n.gemBuilding),e.write(2,n.bossCount),e.writeArray(t[103],n.leavePokemon),e.write(t[111],n.scienceInfo),void e.write(2,n.isRefreshDonate))}},t[105]={read:function(e){return e.readInt()<0?null:{id:e.read(2),name:e.read(3),chairmanName:e.read(3),icon:e.read(2),buildingList:e.readArray(t[106]),memberList:e.readArray(t[199]),declaration:e.read(3),notice:e.read(3),donate:e.readArray(t[107])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.id),e.write(3,n.name),e.write(3,n.chairmanName),e.write(2,n.icon),e.writeArray(t[106],n.buildingList),e.writeArray(t[199],n.memberList),e.write(3,n.declaration),e.write(3,n.notice),void e.writeArray(t[107],n.donate))}},t[106]={read:function(e){return e.readInt()<0?null:{type:e.read(2),degree:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.type),void e.write(2,t.degree))}},t[107]={read:function(e){return e.readInt()<0?null:{player:e.read(t[199]),demandItem:e.read(t[71]),startTime:e.read(13),quantity:e.read(2),donatePlayer:e.readArray(t[199])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[199],n.player),e.write(t[71],n.demandItem),e.write(13,n.startTime),e.write(2,n.quantity),void e.writeArray(t[199],n.donatePlayer))}},t[108]={read:function(e){return e.readInt()<0?null:{messageList:e.readArray(t[78]),journalList:e.readArray(t[110]),applicationList:e.readArray(t[49]),ownItemCount:e.read(2),boss:e.readArray(t[109]),id:e.read(2),name:e.read(3),chairmanName:e.read(3),icon:e.read(2),buildingList:e.readArray(t[106]),memberList:e.readArray(t[199]),declaration:e.read(3),notice:e.read(3),donate:e.readArray(t[107])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.writeArray(t[78],n.messageList),e.writeArray(t[110],n.journalList),e.writeArray(t[49],n.applicationList),e.write(2,n.ownItemCount),e.writeArray(t[109],n.boss),e.write(2,n.id),e.write(3,n.name),e.write(3,n.chairmanName),e.write(2,n.icon),e.writeArray(t[106],n.buildingList),e.writeArray(t[199],n.memberList),e.write(3,n.declaration),e.write(3,n.notice),void e.writeArray(t[107],n.donate))}},t[109]={read:function(e){return e.readInt()<0?null:{playerInfo:e.read(t[49]),bossId:e.read(2),bossHpPercent:e.readArray(8),attackRank:e.readArray(t[97])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[49],n.playerInfo),e.write(2,n.bossId),e.writeArray(8,n.bossHpPercent),void e.writeArray(t[97],n.attackRank))}},t[110]={read:function(e){return e.readInt()<0?null:{type:e.read(2),time:e.read(13),pas:e.readArray(3)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.type),e.write(13,t.time),void e.writeArray(3,t.pas))}},t[111]={read:function(e){return e.readInt()<0?null:{mCount:e.readArray(t[71]),gCount:e.readArray(t[71]),mSciences:e.readArray(t[112]),gSciences:e.readArray(t[112])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.writeArray(t[71],n.mCount),e.writeArray(t[71],n.gCount),e.writeArray(t[112],n.mSciences),void e.writeArray(t[112],n.gSciences))}},t[112]={read:function(e){return e.readInt()<0?null:{id:e.read(2),lv:e.read(2),exp:e.read(8)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.id),e.write(2,t.lv),void e.write(8,t.exp))}},t[113]={read:function(e){return e.readInt()<0?null:{price:e.read(t[71]),science:e.read(t[112])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[71],n.price),void e.write(t[112],n.science))}},t[114]={read:function(e){return e.readInt()<0?null:{mSciences:e.readArray(t[112]),gSciences:e.readArray(t[112])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.writeArray(t[112],n.mSciences),void e.writeArray(t[112],n.gSciences))}},t[115]={read:function(e){return e.readInt()<0?null:{id:e.read(2),state:e.read(2),item:e.read(t[71])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.id),e.write(2,n.state),void e.write(t[71],n.item))}},t[116]={read:function(e){return e.readInt()<0?null:{hang:e.read(2),lie:e.read(2),time:e.read(13)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.hang),e.write(2,t.lie),void e.write(13,t.time))}},t[117]={read:function(e){return e.readInt()<0?null:{id:e.read(2),lv:e.read(2),cubeId:e.read(2),hang:e.read(2),lie:e.read(2),item:e.read(t[71]),time:e.read(13)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.id),e.write(2,n.lv),e.write(2,n.cubeId),e.write(2,n.hang),e.write(2,n.lie),e.write(t[71],n.item),void e.write(13,n.time))}},t[118]={read:function(e){return e.readInt()<0?null:{lv:e.read(2),maxLv:e.read(2),tansuoli:e.read(2),last:e.read(13),cubes:e.readArray(t[115]),dig:e.readArray(t[116]),occupy:e.readArray(t[117])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.lv),e.write(2,n.maxLv),e.write(2,n.tansuoli),e.write(13,n.last),e.writeArray(t[115],n.cubes),e.writeArray(t[116],n.dig),void e.writeArray(t[117],n.occupy))}},t[119]={read:function(e){return e.readInt()<0?null:{result:e.read(1),count:e.read(2),startTime:e.read(13),items:e.readArray(t[71])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(1,n.result),e.write(2,n.count),e.write(13,n.startTime),void e.writeArray(t[71],n.items))}},t[120]={read:function(e){return e.readInt()<0?null:{result:e.read(1),items:e.readArray(t[71])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(1,n.result),void e.writeArray(t[71],n.items))}},t[121]={read:function(e){return e.readInt()<0?null:{freshCount:e.read(2),last:e.read(13),items:e.readArray(t[123])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.freshCount),e.write(13,n.last),void e.writeArray(t[123],n.items))}},t[122]={read:function(e){return e.readInt()<0?null:{price:e.read(t[71]),info:e.read(t[121])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[71],n.price),void e.write(t[121],n.info))}},t[123]={read:function(e){return e.readInt()<0?null:{index:e.read(2),item:e.read(t[71])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.index),void e.write(t[71],n.item))}},t[124]={read:function(e){return e.readInt()<0?null:{costs:e.readArray(t[71]),gets:e.read(t[74])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.writeArray(t[71],n.costs),void e.write(t[74],n.gets))}},t[125]={read:function(e){return e.readInt()<0?null:{data:e.readArray(t[88]),costs:e.readArray(t[71]),gets:e.read(t[74])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.writeArray(t[88],n.data),e.writeArray(t[71],n.costs),void e.write(t[74],n.gets))}},t[126]={read:function(e){return e.readInt()<0?null:{costs:e.readArray(t[71]),petTypeAttributeLv:e.read(t[48])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.writeArray(t[71],n.costs),void e.write(t[48],n.petTypeAttributeLv))}},t[127]={read:function(e){return e.readInt()<0?null:{sid:e.read(2),pid:e.read(2),name:e.read(3),area:e.read(2),dan:e.read(2),victory:e.read(2),victoryCount:e.read(2),battle:e.read(2),honor:e.read(2),battles:e.readArray(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.sid),e.write(2,t.pid),e.write(3,t.name),e.write(2,t.area),e.write(2,t.dan),e.write(2,t.victory),e.write(2,t.victoryCount),e.write(2,t.battle),e.write(2,t.honor),void e.writeArray(2,t.battles))}},t[128]={read:function(e){return e.readInt()<0?null:{start:e.read(13),end:e.read(13),myInfo:e.read(t[127])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(13,n.start),e.write(13,n.end),void e.write(t[127],n.myInfo))}},t[129]={read:function(e){return e.readInt()<0?null:{id:e.read(2),type:e.read(2),level:e.read(2),seed:e.read(2),quality:e.read(2),extId:e.read(2),extNum:e.read(2),posX:e.read(2),posY:e.read(2),placed:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.id),e.write(2,t.type),e.write(2,t.level),e.write(2,t.seed),e.write(2,t.quality),e.write(2,t.extId),e.write(2,t.extNum),e.write(2,t.posX),e.write(2,t.posY),void e.write(2,t.placed))}},t[130]={read:function(e){return e.readInt()<0?null:{id:e.read(2),type:e.read(2),seed:e.read(2),level:e.read(2),exp:e.read(2),star:e.read(2),ability:e.read(2),exts:e.readArray(2),equip:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.id),e.write(2,t.type),e.write(2,t.seed),e.write(2,t.level),e.write(2,t.exp),e.write(2,t.star),e.write(2,t.ability),e.writeArray(2,t.exts),void e.write(2,t.equip))}},t[131]={read:function(e){return e.readInt()<0?null:{cost:e.readArray(t[71]),furniture:e.read(t[129])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.writeArray(t[71],n.cost),void e.write(t[129],n.furniture))}},t[132]={read:function(e){return e.readInt()<0?null:{cost:e.readArray(t[71]),artifact:e.read(t[130])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.writeArray(t[71],n.cost),void e.write(t[130],n.artifact))}},t[133]={read:function(e){return e.readInt()<0?null:{level:e.read(2),search:e.read(2),furnitures:e.readArray(t[129]),fgashapon:e.readArray(t[82])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.level),e.write(2,n.search),e.writeArray(t[129],n.furnitures),void e.writeArray(t[82],n.fgashapon))}},t[134]={read:function(e){return e.readInt()<0?null:{level:e.read(2),placed:e.readArray(t[129])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.level),void e.writeArray(t[129],n.placed))}},t[135]={read:function(e){return e.readInt()<0?null:{level:e.read(2),cost:e.readArray(t[71])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.level),void e.writeArray(t[71],n.cost))}},t[136]={read:function(e){return e.readInt()<0?null:{a:e.read(2),b:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.a),void e.write(2,t.b))}},t[137]={read:function(e){return e.readInt()<0?null:{a:e.read(2),b:e.read(2),c:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.a),e.write(2,t.b),void e.write(2,t.c))}},t[138]={read:function(e){return e.readInt()<0?null:{Info:e.read(t[49]),AttackCount:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[49],n.Info),void e.write(2,n.AttackCount))}},t[139]={read:function(e){return e.readInt()<0?null:{Enemy:e.read(t[49]),Money:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[49],n.Enemy),void e.write(2,n.Money))}},t[140]={read:function(e){return e.readInt()<0?null:{id:e.read(2),type:e.read(2),pet:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.id),e.write(2,t.type),void e.write(2,t.pet))}},t[141]={read:function(e){return e.readInt()<0?null:{current:e.read(t[140]),start:e.read(13)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[140],n.current),void e.write(13,n.start))}},t[142]={read:function(e){return e.readInt()<0?null:{lv:e.read(2),remain:e.read(2),buy:e.read(2),use:e.read(2),recover:e.read(13)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.lv),e.write(2,t.remain),e.write(2,t.buy),e.write(2,t.use),void e.write(13,t.recover))}},t[143]={read:function(e){return e.readInt()<0?null:{price:e.read(2),subwayInfo:e.read(t[142])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.price),void e.write(t[142],n.subwayInfo))}},t[144]={read:function(e){return e.readInt()<0?null:{id:e.read(2),gets:e.read(t[74]),info:e.read(t[142]),level:e.read(2),levelSum:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.id),e.write(t[74],n.gets),e.write(t[142],n.info),e.write(2,n.level),void e.write(2,n.levelSum))}},t[145]={read:function(e){return e.readInt()<0?null:{gets:e.read(t[74]),info:e.readArray(t[140])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[74],n.gets),void e.writeArray(t[140],n.info))}},t[146]={read:function(e){return e.readInt()<0?null:{towerLv:e.read(2),maxTowerLv:e.read(2),towerCount:e.read(2),dailyTowerBuyCount:e.read(2),towerBackCount:e.read(2),BattleSubway:e.readArray(t[140]),gymInfo:e.read(t[156]),gmHelped:e.read(2),special:e.read(t[75])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.towerLv),e.write(2,n.maxTowerLv),e.write(2,n.towerCount),e.write(2,n.dailyTowerBuyCount),e.write(2,n.towerBackCount),e.writeArray(t[140],n.BattleSubway),e.write(t[156],n.gymInfo),e.write(2,n.gmHelped),void e.write(t[75],n.special))}},t[147]={read:function(e){return e.readInt()<0?null:{recharge:e.read(2),pids:e.readArray(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.recharge),void e.writeArray(2,t.pids))}},t[148]={read:function(e){return e.readInt()<0?null:{current:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),void e.write(2,t.current))}},t[149]={read:function(e){return e.readInt()<0?null:{id:e.read(2),state:e.read(2),progress:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.id),e.write(2,t.state),void e.write(2,t.progress))}},t[150]={read:function(e){return e.readInt()<0?null:{items:e.readArray(t[149]),version:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.writeArray(t[149],n.items),void e.write(2,n.version))}},t[151]={read:function(e){return e.readInt()<0?null:{reward:e.read(t[74]),sFirstGroupon:e.read(t[147])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[74],n.reward),void e.write(t[147],n.sFirstGroupon))}},t[152]={read:function(e){return e.readInt()<0?null:{reward:e.read(t[74]),tenGetGift:e.read(t[60])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[74],n.reward),void e.write(t[60],n.tenGetGift))}},t[153]={read:function(e){return e.readInt()<0?null:{id:e.read(2),mission:e.read(2),bossInfo:e.read(t[70])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.id),e.write(2,n.mission),void e.write(t[70],n.bossInfo))}},t[154]={read:function(e){return e.readInt()<0?null:{teamList:e.readArray(t[155]),resetCount:e.read(2),buyCount:e.read(2),selectTeam:e.read(2),honorExp:e.read(2),honorLevel:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.writeArray(t[155],n.teamList),e.write(2,n.resetCount),e.write(2,n.buyCount),e.write(2,n.selectTeam),e.write(2,n.honorExp),void e.write(2,n.honorLevel))}},t[155]={read:function(e){return e.readInt()<0?null:{id:e.read(2),pokemonList:e.readArray(2),hpState:e.readArray(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.id),e.writeArray(2,t.pokemonList),void e.writeArray(2,t.hpState))}},t[156]={read:function(e){return e.readInt()<0?null:{info:e.read(t[154]),progress:e.read(t[157])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[154],n.info),void e.write(t[157],n.progress))}},t[157]={read:function(e){return e.readInt()<0?null:{current:e.read(2),progress:e.readArray(t[158])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.current),void e.writeArray(t[158],n.progress))}},t[158]={read:function(e){return e.readInt()<0?null:{id:e.read(2),mission:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.id),void e.write(2,t.mission))}},t[159]={read:function(e){return e.readInt()<0?null:{id:e.read(2),weight:e.read(2),item:e.read(t[71])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.id),e.write(2,n.weight),void e.write(t[71],n.item))}},t[160]={read:function(e){return e.readInt()<0?null:{id:e.read(2),costs:e.readArray(t[71]),gets:e.read(t[74])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.id),e.writeArray(t[71],n.costs),void e.write(t[74],n.gets))}},t[161]={read:function(e){return e.readInt()<0?null:{price:e.read(2),info:e.read(t[154])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.price),void e.write(t[154],n.info))}},t[162]={read:function(e){return e.readInt()<0?null:{DungeonsID:e.read(2),ElfID:e.read(2),Level:e.read(2),Grid:e.read(2),Skill:e.read(3),bossScale:e.read(4),HPFixation:e.read(2),HpIndiv:e.read(2),AtkIndiv:e.read(2),DefIndiv:e.read(2),AtkSpIndiv:e.read(2),DefSpIndiv:e.read(2),SpeIndiv:e.read(2),HpBase:e.read(2),AtkBase:e.read(2),DefBase:e.read(2),AtkSpBase:e.read(2),DefSpBase:e.read(2),SpeBase:e.read(2),LoveLevel:e.read(2),star:e.read(2),Buff1:e.read(2),Buff1Parm:e.read(2),Buff2:e.read(2),Buff2Parm:e.read(2),AddHpBase:e.read(2),AddAtkBase:e.read(2),AddDefBase:e.read(2),AddAtkSpBase:e.read(2),AddDefSpBase:e.read(2),AddSpeBase:e.read(2),LoveExp:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.DungeonsID),e.write(2,t.ElfID),e.write(2,t.Level),e.write(2,t.Grid),e.write(3,t.Skill),e.write(4,t.bossScale),e.write(2,t.HPFixation),e.write(2,t.HpIndiv),e.write(2,t.AtkIndiv),e.write(2,t.DefIndiv),e.write(2,t.AtkSpIndiv),e.write(2,t.DefSpIndiv),e.write(2,t.SpeIndiv),e.write(2,t.HpBase),e.write(2,t.AtkBase),e.write(2,t.DefBase),e.write(2,t.AtkSpBase),e.write(2,t.DefSpBase),e.write(2,t.SpeBase),e.write(2,t.LoveLevel),e.write(2,t.star),e.write(2,t.Buff1),e.write(2,t.Buff1Parm),e.write(2,t.Buff2),e.write(2,t.Buff2Parm),e.write(2,t.AddHpBase),e.write(2,t.AddAtkBase),e.write(2,t.AddDefBase),e.write(2,t.AddAtkSpBase),e.write(2,t.AddDefSpBase),e.write(2,t.AddSpeBase),void e.write(2,t.LoveExp))}},t[163]={read:function(e){return e.readInt()<0?null:{id:e.read(2),name:e.read(3),bg:e.read(2),fights:e.read(2),goldGet:e.read(2),expElf:e.read(2),expLead:e.read(2),Reward:e.read(3),Gold:e.read(2),Exp:e.read(2),playExp:e.read(2),MaxGold:e.read(2),MaxExp:e.read(2),Formation:e.read(2),boss:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.id),e.write(3,t.name),e.write(2,t.bg),e.write(2,t.fights),e.write(2,t.goldGet),e.write(2,t.expElf),e.write(2,t.expLead),e.write(3,t.Reward),e.write(2,t.Gold),e.write(2,t.Exp),e.write(2,t.playExp),e.write(2,t.MaxGold),e.write(2,t.MaxExp),e.write(2,t.Formation),void e.write(2,t.boss))}},t[164]={read:function(e){return e.readInt()<0?null:{id:e.read(2),PlayerData:e.readArray(t[70])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.id),void e.writeArray(t[70],n.PlayerData))}},t[165]={read:function(e){return e.readInt()<0?null:{player:e.read(t[167]),throneInfo:e.readArray(t[164])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[167],n.player),void e.writeArray(t[164],n.throneInfo))}},t[166]={read:function(e){return e.readInt()<0?null:{players:e.readArray(t[199]),pmsId:e.readArray(Array)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.writeArray(t[199],n.players),void e.writeArray(Array,n.pmsId))}},t[167]={read:function(e){return e.readInt()<0?null:{throneCount:e.read(2),buyThroneCount:e.read(2),pms:e.readArray(t[168])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.throneCount),e.write(2,n.buyThroneCount),void e.writeArray(t[168],n.pms))}},t[168]={read:function(e){return e.readInt()<0?null:{throneId:e.read(2),pmsId:e.readArray(2),rank:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.throneId),e.writeArray(2,t.pmsId),void e.write(2,t.rank))}},t[169]={read:function(e){return e.readInt()<0?null:{id:e.read(2),playerData:e.readArray(t[170])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.id),void e.writeArray(t[170],n.playerData))}},t[170]={read:function(e){return e.readInt()<0?null:{key:e.read(t[199]),rank:e.read(2),battlePms:e.readArray(t[37])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[199],n.key),e.write(2,n.rank),void e.writeArray(t[37],n.battlePms))}},t[171]={read:function(e){return e.readInt()<0?null:{bestLevel:e.read(2),key:e.read(t[199]),pms:e.readArray(t[37]),fightValue:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.bestLevel),e.write(t[199],n.key),e.writeArray(t[37],n.pms),void e.write(2,n.fightValue))}},t[172]={read:function(e){return e.readInt()<0?null:{sid:e.read(2),id:e.read(2),pmids:e.readArray(2),lastTime:e.read(13)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.sid),e.write(2,t.id),e.writeArray(2,t.pmids),void e.write(13,t.lastTime))}},t[173]={read:function(e){return e.readInt()<0?null:{sid:e.read(2),week:e.read(2),taskWeek:e.read(2),items:e.readArray(t[71]),freshTime:e.read(13)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.sid),e.write(2,n.week),e.write(2,n.taskWeek),e.writeArray(t[71],n.items),void e.write(13,n.freshTime))}},t[174]={read:function(e){return e.readInt()<0?null:{week:e.read(2),taskWeek:e.read(2),items:e.readArray(t[71]),quest:e.readArray(t[100]),time:e.read(13)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.week),e.write(2,n.taskWeek),e.writeArray(t[71],n.items),e.writeArray(t[100],n.quest),void e.write(13,n.time))}},t[175]={read:function(e){return e.readInt()<0?null:{taskId:e.read(2),pmids:e.readArray(2),lastTime:e.read(13)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.taskId),e.writeArray(2,t.pmids),void e.write(13,t.lastTime))}},t[176]={read:function(e){return e.readInt()<0?null:{bGashaponCount:e.read(2),bElfRankCount:e.read(2),bBlueCount:e.read(2),bPurpleCount:e.read(2),bOrangeCount:e.read(2),bRedCount:e.read(2),bEvoPurpleScore:e.read(2),bEvoOrangeScore:e.read(2),bEvoRedScore:e.read(2),bEvoSumScore:e.read(2),bIvFreshCount:e.read(2),bEquip1Score:e.read(2),bEquip2Score:e.read(2),bEquip3Score:e.read(2),bEquip4Score:e.read(2),bEquip5Score:e.read(2),bEquipSumScore:e.read(2),bArtifactScore:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.bGashaponCount),e.write(2,t.bElfRankCount),e.write(2,t.bBlueCount),e.write(2,t.bPurpleCount),e.write(2,t.bOrangeCount),e.write(2,t.bRedCount),e.write(2,t.bEvoPurpleScore),e.write(2,t.bEvoOrangeScore),e.write(2,t.bEvoRedScore),e.write(2,t.bEvoSumScore),e.write(2,t.bIvFreshCount),e.write(2,t.bEquip1Score),e.write(2,t.bEquip2Score),e.write(2,t.bEquip3Score),e.write(2,t.bEquip4Score),e.write(2,t.bEquip5Score),e.write(2,t.bEquipSumScore),void e.write(2,t.bArtifactScore))}},t[177]={read:function(e){return e.readInt()<0?null:{player:e.read(t[70]),level:e.read(2),fightValue:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[70],n.player),e.write(2,n.level),void e.write(2,n.fightValue))}},t[178]={read:function(e){return e.readInt()<0?null:{location:e.read(2),devious:e.read(2),startTime:e.read(13)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.location),e.write(2,t.devious),void e.write(13,t.startTime))}},t[179]={read:function(e){return e.readInt()<0?null:{location:e.read(2),devious:e.read(2),remainTime:e.read(2),totalTime:e.read(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.location),e.write(2,t.devious),e.write(2,t.remainTime),void e.write(2,t.totalTime))}},t[180]={read:function(e){return e.readInt()<0?null:{getPm:e.readArray(t[37]),festival:e.readArray(t[36])}
},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.writeArray(t[37],n.getPm),void e.writeArray(t[36],n.festival))}},t[181]={read:function(e){return e.readInt()<0?null:{id:e.read(2),progress:e.read(2),restoreTime:e.read(13)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.id),e.write(2,t.progress),void e.write(13,t.restoreTime))}},t[182]={read:function(e){return e.readInt()<0?null:{id:e.read(2),progress:e.read(2),type:e.read(2),startTime:e.read(13),endTime:e.read(13),limit:e.read(2),reward:e.readArray(t[71]),restoreTime:e.read(13)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.id),e.write(2,n.progress),e.write(2,n.type),e.write(13,n.startTime),e.write(13,n.endTime),e.write(2,n.limit),e.writeArray(t[71],n.reward),void e.write(13,n.restoreTime))}},t[183]={read:function(e){return e.readInt()<0?null:{mapId:e.read(2),treasures:e.readArray(t[184])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.mapId),void e.writeArray(t[184],n.treasures))}},t[184]={read:function(e){return e.readInt()<0?null:{ID:e.read(2),tID:e.read(2),treasureItems:e.readArray(t[185])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.ID),e.write(2,n.tID),void e.writeArray(t[185],n.treasureItems))}},t[185]={read:function(e){return e.readInt()<0?null:{player:e.read(t[49]),team:e.readArray(t[71]),fight:e.read(2),StartTime:e.read(13),teamid:e.read(2),RemainSeconds:e.read(2),ProtectSeconds:e.read(2),args:e.read(2),lostItem:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[49],n.player),e.writeArray(t[71],n.team),e.write(2,n.fight),e.write(13,n.StartTime),e.write(2,n.teamid),e.write(2,n.RemainSeconds),e.write(2,n.ProtectSeconds),e.write(2,n.args),void e.write(2,n.lostItem))}},t[186]={read:function(e){return e.readInt()<0?null:{teamId:e.read(2),lastHarry:e.read(13),treasureId:e.read(2),isUnlock:e.read(1),pmsId:e.readArray(2)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(2,t.teamId),e.write(13,t.lastHarry),e.write(2,t.treasureId),e.write(1,t.isUnlock),void e.writeArray(2,t.pmsId))}},t[187]={read:function(e){return e.readInt()<0?null:{team:e.readArray(t[186]),revenges:e.readArray(t[188]),reports:e.readArray(t[189])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.writeArray(t[186],n.team),e.writeArray(t[188],n.revenges),void e.writeArray(t[189],n.reports))}},t[188]={read:function(e){return e.readInt()<0?null:{Rival:e.read(t[49])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),void e.write(t[49],n.Rival))}},t[189]={read:function(e){return e.readInt()<0?null:{id:e.read(2),attack:e.read(t[49]),defend:e.read(t[49]),repotType:e.read(2),reward:e.read(t[71]),get:e.read(1),time:e.read(13)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.id),e.write(t[49],n.attack),e.write(t[49],n.defend),e.write(2,n.repotType),e.write(t[71],n.reward),e.write(1,n.get),void e.write(13,n.time))}},t[190]={read:function(e){return e.readInt()<0?null:{mine:e.read(t[70]),their:e.read(t[70]),status:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[70],n.mine),e.write(t[70],n.their),void e.write(2,n.status))}},t[191]={read:function(e){return e.readInt()<0?null:{data:e.read(t[184]),get:e.read(t[74])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[184],n.data),void e.write(t[74],n.get))}},t[192]={read:function(e){return e.readInt()<0?null:{token:e.read(3),sid:e.read(2),pid:e.read(2),lastLogin:e.read(13),openid:e.read(3),openkey:e.read(3),pf:e.read(3),userip:e.read(3)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(3,t.token),e.write(2,t.sid),e.write(2,t.pid),e.write(13,t.lastLogin),e.write(3,t.openid),e.write(3,t.openkey),e.write(3,t.pf),void e.write(3,t.userip))}},t[193]={read:function(e){return e.readInt()<0?null:{ret:e.read(3),msg:e.read(3)}},write:function(e,t){return null==t?void e.write(2,-1):(e.write(2,0),e.write(3,t.ret),void e.write(3,t.msg))}},t[194]={read:function(e){return e.readInt()<0?null:{status:e.read(2),mineTeamId:e.read(2),treasure:e.read(t[184]),player:e.read(11),treasurePlayer:e.read(t[187])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.status),e.write(2,n.mineTeamId),e.write(t[184],n.treasure),e.write(11,n.player),void e.write(t[187],n.treasurePlayer))}},t[195]={read:function(e){return e.readInt()<0?null:{id:e.read(2),attack:e.read(t[49]),defend:e.read(t[49]),repotType:e.read(2),time:e.read(13),change:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.id),e.write(t[49],n.attack),e.write(t[49],n.defend),e.write(2,n.repotType),e.write(13,n.time),void e.write(2,n.change))}},t[196]={read:function(e){return e.readInt()<0?null:{count:e.read(2),integral:e.read(2),winCount:e.read(2),report:e.readArray(t[195]),matchPlayer:e.readArray(t[70]),satus:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.count),e.write(2,n.integral),e.write(2,n.winCount),e.writeArray(t[195],n.report),e.writeArray(t[70],n.matchPlayer),void e.write(2,n.satus))}},t[197]={read:function(e){return e.readInt()<0?null:{integral:e.read(2),report:e.read(t[195])}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(2,n.integral),void e.write(t[195],n.report))}},t[198]={read:function(e){return e.readInt()<0?null:{id:e.read(t[199]),name:e.read(3),icon:e.read(3),gender:e.read(2),level:e.read(2),camp:e.read(2),vip:e.read(2),fight:e.read(2)}},write:function(e,n){return null==n?void e.write(2,-1):(e.write(2,0),e.write(t[199],n.id),e.write(3,n.name),e.write(3,n.icon),e.write(2,n.gender),e.write(2,n.level),e.write(2,n.camp),e.write(2,n.vip),void e.write(2,n.fight))}},t[199]={read:function(e){return{sid:e.read(2),pid:e.read(2)}},write:function(e,t){e.write(2,t.sid),e.write(2,t.pid)}}}(Pokemon||(Pokemon={}));var game;!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.getMoveDirection=function(e,t){var n;return this.position.x==e?n=this.position.y>t?4:1:this.position.y==t&&(n=this.position.x>e?2:3),n},n.prototype.playCircle=function(t){var n=this;void 0===t&&(t=-1);var i=e.defer();this.stop();var a=1,o=1,s=0,r=function(){switch(o){case 1:a=1;break;case 2:a=3;break;case 3:a=4;break;case 4:a=2}},u=function(){return o>n._maxFrame&&(o=1,s++,t>0&&s>=t)?(n.stop(),void i.resolve(null)):(r(),n.updateTexture(a,o),void(n._timeout=setTimeout(function(){n._timeout=null,o++,u()},n.getDelay())))};return u(),i.promise()},n.prototype.playWinAct=function(){var t=this,n=e.defer();this.playCircle(2);var i=this._bitmap.y;return egret.Tween.get(this._bitmap).to({y:i-80},600).to({y:i},600).call(function(){t.play(t.direction),n.resolve(null)}),n.promise()},n}(e.SequenceImage);e.VectorAnim=t,__reflect(t.prototype,"game.VectorAnim")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=BattleAbilitySkin,e.touchChildren=e.touchEnabled=!1,e}return __extends(n,t),n.prototype.setData=function(t,n){t&&(this.nameLabel.textFlow=e.parseColorText(t.name),this.nameLabel.textColor=-1==n?gameConfig.TextColors.blue:gameConfig.TextColors.red)},n.prototype.onDestroy=function(){this.removeFromParent()},n}(e.GameComponent);e.BattleAbility=t,__reflect(t.prototype,"game.BattleAbility",["game.PoolItem"])}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.Interval=null,e.catchTime=0,e.skinName=IdleCatchPokemonRewardSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.confirmButton.image="langs/Tx_buhuo",this.cancelButton.image="langs/Tx_fangqi",this.confirmButton.noScale=!0,this.cancelButton.noScale=!0,this.cancelButton.bgDisplay.source="ui/common/button/orange",this.pmID=0,this._touchEvent=[{target:this.confirmButton,callBackFunc:function(){var n=e.IdleCatchPokemonPanel.getInstance();n.SetCatchPokemon(t.pmData),n.show()}},{target:this.cancelButton,callBackFunc:function(){if(6==e.Data.TElf[t.pmID].quality){var n=e.CheckPanel.getInstance();return n.setData(e.Lang.quedingyaofangqishenshouma,function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){return n&&e.DataManager.playerModel.OnCatchDiscardPm(this.pmData.type),[2]})})}),void n.show()}e.DataManager.playerModel.OnCatchDiscardPm(t.pmData.type)}}],this.addEventAndNotify()},n.prototype.setData=function(t){this.powerStar||(this.powerStar=new e.PokemonPowerStar,this.powerStarGroup.addChild(this.powerStar)),this.powerStar.setData(t.iv,Number(e.Constants.maxIV)),this.artPokemon||(this.artPokemon=new e.TeamArtPokemon,this.pokemonArtGroup.addChild(this.artPokemon.display));var n=e.Data.TElf[t.type];this.pmID=n.id,this.pmData=t,this.nameLabel.text=n.name,this.nameLabel.textColor=e.TeamBagPokemonIcon.textColor[n.quality],this.artPokemon.setPokemon(t.type,!1),this.genderIcon.source=1==t.gender?"ui/scene/team/male":"ui/scene/team/female",this.checkMythicalPM(t.type)},n.prototype.checkMythicalPM=function(t){var n=e.DataManager.playerModel.extension.mythicalAnimal;for(var i in n)if(n[i].pmid==t&&2==n[i].isCatch){this.mythicinfo=n[i],this.countDown.visible=!0,this.escape.visible=!0;for(var a in e.Data.TGodbeast)if(e.Data.TGodbeast[a].ElfID==t){this.catchTime=e.Data.TGodbeast[a].GetTimes;break}return this.updateCountDown(),void(this.Interval=egret.setInterval(this.updateCountDown,this,1e3))}this.clearCountDown()},n.prototype.clearCountDown=function(){this.countDown.visible=!1,this.escape.visible=!1,null!=this.Interval&&(egret.clearInterval(this.Interval),this.Interval=null)},n.prototype.updateCountDown=function(){var t=e.getNowTime().getTime(),n=this.mythicinfo.startCatchTime.getTime(),i=this.catchTime-(t-n)/1e3;i=i>0?i:0,this.countDown.text=e.s2hms(i),0==i&&(this.clearCountDown(),this.removeEscapePm(),e.IdleCatchPokemonRewardPanel.getInstance().showEscapeTips(),e.IdleCatchPokemonRewardPanel.getInstance().setData())},n.prototype.removeEscapePm=function(){var t=e.DataManager.playerModel.extension.onHookPms,n=new Array;for(var i in t)t[i].type!=this.mythicinfo.pmid&&n.push(t[i]);e.DataManager.playerModel.extension.onHookPms=n,e.DataManager.playerModel.updateMythicalInfo(this.mythicinfo.pmid,0)},n.prototype.stop=function(){this.artPokemon.stop()},n.UPDATE_PMDATA="IdleCatchPokemonReward_UPDATE_PMDATA",n}(e.PanelComponent);e.IdleCatchPokemonReward=t,__reflect(t.prototype,"game.IdleCatchPokemonReward")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.timeInterval=null,e._pokemonType=0,e.skinName=ChaoJiJingLingSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.detailButton.icon="ui/scene/book/xiangqing",this.artPokemon=new e.TeamArtPokemon,this.artPokemonGroup.addChild(this.artPokemon.display),this.rechargeButton.image="ui/scene/activity/Tx_chongzhi",this.rechargeButton.bg="ui/scene/activity/btn_11",this._touchEvent=[{target:this.rechargeButton,callBackFunc:this.rechargeHandle},{target:this.detailButton,callBackFunc:this.detailHandle}],this.addEventAndNotify()},n.prototype.detailHandle=function(){if(this._pokemonType){var t=e.PokemonDetail.getInstance();t.setCurrentPokemon(this._pokemonType),t.show()}},n.prototype.rechargeHandle=function(){var t=e.DataManager.playerModel.getActivityInfo().eventInfo.superElf.state;t?e.showTips(e.Lang.ninyigoumai,!0):SDK.recharge(14)},n.prototype.setInfo=function(){for(var t=e.splitStringToNumberArray(e.Data.THuoSuperElf[1].Item),n=0;n<t.length;n++){var i=t[n];if(e.Data.TElf[i[0]]){this._pokemonType=i[0],this.artPokemon.setPokemon(i[0],!1);break}}this.artPokemon&&this.artPokemon.play(1),this.setTime()},n.prototype.onRemove=function(){this.artPokemon.stop(),null!=this.timeInterval&&egret.clearInterval(this.timeInterval)},n.prototype.setTime=function(){var t=this,n=function(){var n=e.getNowTime(),i=t.info.end,a=.001*(i.getTime()-n.getTime());t.timeLabel.text=e.Lang.shengyushijian+":  "+e.s2hms(a)};n(),this.timeInterval=egret.setInterval(function(){n()},this,1e3)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.ActivityComponent);e.ChaoJiJingLing=t,__reflect(t.prototype,"game.ChaoJiJingLing")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.itemList=[],e.position=[[233,570],[466,411],[485,128],[0,218],[26.475]],e.skinName=ChaoZhiLiBaoSkin,e}return __extends(i,t),i.prototype.setTime=function(){this.timeLabel.text=e.formatTime(this.activityInfo.start,"MM月dd日")+"-"+e.formatTime(this.activityInfo.end,"MM月dd日")},i.prototype.setInfo=function(){this.activityInfo=this.info,this.setTime(),this.itemGroup.removeChildren();var t=0;for(var i in e.Data.TPremiumPacks){var a=e.Data.TPremiumPacks[i],o=this.itemList[t];o||(o=new n,this.itemList[t]=o),o.x=this.position[t][0],o.y=this.position[t][1],this.itemGroup.addChild(o),o.setData(a);var s=e.DataManager.playerModel.getPremiumPacksInfo(a.ID);o.setInfo(s),o.update(),o.setState(1),t++}},i.prototype.onRemove=function(){},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.ActivityComponent);e.ChaoZhiLiBao=t,__reflect(t.prototype,"game.ChaoZhiLiBao");var n=function(t){function n(){var e=t.call(this)||this;return e._itemIcon=[],e._pokemonIcon=[],e.skinName=ChaoZhiLiBaoItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.buyButton.icon="ui/scene/activity/7_goumai",this.buyButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.buyHandle,this),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target&&e.target.showDetail&&e.target.showDetail()},this),this.ballGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.changeState,this)},n.prototype.changeState=function(){1==this._state?this.setState(2):this.setState(1)},n.prototype.buyHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.info.count<this.data.CountLimit?(t=e.DataManager.playerModel.getItemCount(this.data.CostMoneyType),t>=this.data.Price?[4,e.DataManager.playerModel.buyPremiumPacks(this.data.ID,{type:this.data.CostMoneyType,count:this.data.Price},this.info)]:[3,2]):[3,4];case 1:return n.sent(),this.update(),[3,3];case 2:e.showTips(e.Lang.nindedaojubuzu,!0),n.label=3;case 3:return[3,5];case 4:e.showTips(e.Lang.chaoguokegoumaicishu,!0),n.label=5;case 5:return[2]}})})},n.prototype.setData=function(t){this.data=t,this.rewardGroup.removeChildren();for(var n=0,i=0,a=e.splitStringToNumberArray(t.RewardList),o=0;o<a.length;o++){var s=a[o];if(e.Data.TItem[s[0]]){var r=this._itemIcon[n];r||(r=new e.ItemIcon,this._itemIcon[n]=r),r.item={type:s[0],count:s[1]},this.rewardGroup.addChild(r),n++}else if(e.Data.TElf[s[0]]){var r=this._pokemonIcon[i];r||(r=new e.PokemonIcon,this._pokemonIcon[i]=r),r.pokemon=s[0],this.rewardGroup.addChild(r),i++}}this.costIcon.source="icon/item/"+t.CostMoneyType,this.costLabel.text=t.Price.toString()},n.prototype.setInfo=function(e){this.info=e,this.update()},n.prototype.update=function(){this.buyCountLabel.text="可购买:"+(this.data.CountLimit-this.info.count)+"次",this.info.count>=this.data.CountLimit&&this.removeFromParent()},n.prototype.setState=function(e){this._state=e,1==e?(this.bg.source="ui/scene/activity/115_close",this.rewardGroup.visible=this.buyButton.visible=this.costGroup.visible=this.buyCountLabel.visible=!1):(this.bg.source="ui/scene/activity/115_open",this.rewardGroup.visible=this.buyButton.visible=this.costGroup.visible=this.buyCountLabel.visible=!0)},n}(e.GameComponent);e.ChaoZhiLiBaoItem=n,__reflect(n.prototype,"game.ChaoZhiLiBaoItem")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var n=t.call(this)||this;return n._price=e.splitStringToNumberArray(e.Constants.HuoChengZhangPrice,";"),n._totalReward=0,n._vipLimit=Number(e.Constants.HuoChengZhangVip),n._rewardList=[],n.skinName=ChengZhangJiHuaSkin,n.init(),n}return __extends(i,t),i.prototype.init=function(){this.buyButton.image="ui/scene/activity/Tx_goumai",this.buyButton.bg="ui/common/button/btn_02",this.rechargeButton.image="ui/scene/activity/Tx_chongzhi",this.rechargeButton.bg="ui/scene/activity/btn_11",this.costLabel.text=this._price[1].toString(),this._touchEvent=[{target:this.rechargeButton,callBackFunc:this.touchRecharge},{target:this.buyButton,callBackFunc:this.buyHandle}],this.addEventAndNotify()},i.prototype.buyHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return e.DataManager.playerModel.playerVip>=this._vipLimit?e.DataManager.playerModel.diamond>=this._price[1]?[4,e.DataManager.playerModel.buyGrowthPlan(this._price[1])]:[3,2]:[3,4];case 1:return t.sent(),this.setInfo(),[3,3];case 2:e.showTips(e.Lang.nindehuobibuzu,!0),t.label=3;case 3:return[3,5];case 4:e.showTips(e.Lang.nindevipdengjibuzu,!0),t.label=5;case 5:return[2]}})})},i.prototype.touchRecharge=function(){e.navPanel(15)},i.prototype.setInfo=function(){var t=e.DataManager.playerModel.getActivityInfo().eventInfo.growthPlan.list;this.buyButton.visible=this.rechargeButton.visible=0==t.length;var i=0;this.rewardGroup.removeChildren(),this._totalReward=0;for(var a in e.Data.THuoChengZhang)if(!(t.indexOf(e.Data.THuoChengZhang[a].id)>-1)){var o=this._rewardList[i];o||(o=new n,this._rewardList[i]=o),o.setData(e.Data.THuoChengZhang[a]),2==o.rewardIcon.itemInfo.type&&(this._totalReward+=o.rewardIcon.itemInfo.count),this.rewardGroup.addChild(o),i++}this.rewardLabel.text=this._totalReward.toString()},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.ActivityComponent);e.ChengZhangJiHua=t,__reflect(t.prototype,"game.ChengZhangJiHua");var n=function(t){function n(){var n=t.call(this)||this;return n.skinName=ChengZhangJiHuaItemSkin,n.confirmButton.bg="ui/scene/activity/btn_12",n.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){return __awaiter(n,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.getActivityReward(105,this.data.id)];case 1:return t.sent(),this.update(),[2]}})})},n),n}return __extends(n,t),n.prototype.setData=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){return this.data=t,n=e.splitStringToNumberArray(t.rewardList,";"),this.rewardIcon.item={type:n[0],count:n[1]},this.limitLabel.text=t.level+"",this.update(),[2]})})},n.prototype.update=function(){this.confirmButton.touchEnabled=!1;var t=e.DataManager.playerModel.getActivityInfo().eventInfo.growthPlan.list;t.length>0?e.DataManager.playerModel.currentMission>=this.data.level?(this.confirmButton.image="ui/scene/activity/Tx_lingqu",this.confirmButton.touchEnabled=!0,this.confirmButton.filters=[]):(this.confirmButton.image="ui/scene/activity/Tx_weidacheng",this.confirmButton.filters=[gameConfig.ColorMatrix.gray]):(this.confirmButton.image="ui/scene/activity/Tx_weigoum",this.confirmButton.filters=[gameConfig.ColorMatrix.gray])},n}(e.GameComponent);e.ChengZhangJiHuaItem=n,__reflect(n.prototype,"game.ChengZhangJiHuaItem")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.itemList=[],e.skinName=DanRiChongZhiSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this.rechargeButton.bg="ui/scene/activity/btn_11",this.rechargeButton.image="ui/scene/activity/Tx_chongzhi",this._touchEvent=[{target:this.rechargeButton,callBackFunc:this.rechargeHandle}]},i.prototype.rechargeHandle=function(){e.navPanel(15)},i.prototype.setInfo=function(){this.itemGroup.removeChildren();var t=0;for(var i in e.Data.TDailyRecharge){var a=this.itemList[t];a||(a=new n,this.itemList[t]=a),a.setData(e.Data.TDailyRecharge[i]),this.itemGroup.addChild(a),a.update(),t++}},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.ActivityComponent);e.DanRiChongZhi=t,__reflect(t.prototype,"game.DanRiChongZhi");var n=function(t){function n(){var e=t.call(this)||this;return e._itemIcon=[],e._pokemonIcon=[],e.skinName=DanRiChongZhiItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.dachengImg.visible=!1,this.confirmButton.label=e.Lang.chongzhi,this.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.confirmHandle,this),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target&&e.target.showDetail&&e.target.showDetail()},this)},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.getDailyRechargedGift(this.data)];case 1:return t.sent(),this.update(),e.ActivityPanel.updateCurrentIconPoint(),this.dachengImg.visible=!0,[2]}})})},n.prototype.setData=function(t){this.data=t,this.limitLabel.text=t.Price.toString();var n=e.splitStringToNumberArray(t.RewardList);this.rewardGroup.removeChildren();for(var i=0,a=0,o=0;o<n.length;o++){var s=n[o];if(e.Data.TElf[s[0]]){var r=this._pokemonIcon[a];r||(r=new e.PokemonIcon,this._pokemonIcon[a]=r),r.pokemon=s[0],this.rewardGroup.addChild(r),a++}else{var r=this._itemIcon[i];r||(r=new e.ItemIcon,this._itemIcon[i]=r),r.item={type:s[0],count:s[1]},this.rewardGroup.addChild(r),i++}}},n.prototype.update=function(){var t=e.DataManager.playerModel.getActivityInfo().eventInfo.dailyRecharged;t.states.indexOf(this.data.ID)>-1?this.removeFromParent():t.spend>=this.data.Price?(this.confirmButton.label=e.Lang.lingqu,this.confirmButton.touchEnabled=!0,this.confirmButton.visible=!0,this.limitLabel.text=t.spend+"/"+this.data.Price):(this.confirmButton.visible=!1,this.limitLabel.text=t.spend+"/"+this.data.Price)},n}(e.GameComponent);e.DanRiChongZhiItem=n,__reflect(n.prototype,"game.DanRiChongZhiItem")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.itemList=[],e.skinName=DanRiXiaoFeiSkin,e}return __extends(i,t),i.prototype.setInfo=function(){this.activityInfo=this.info,this.timeLabel.text="活动时间:"+e.formatTime(this.info.start,"yyyy.MM.dd")+"- "+e.formatTime(this.info.end,"yyyy.MM.dd");var t=0;this.itemGroup.removeChildren();for(var i in e.Data.TDailyCon){var a=this.itemList[t];a||(a=new n,this.itemList[t]=a),this.itemGroup.addChild(a),a.setData(e.Data.TDailyCon[i]),a.update(),t++}},i.prototype.updatePoint=function(){var t=!1,n=e.DataManager.playerModel.getActivityInfo(),i=n.eventInfo.dailyDiamondSpend;for(var a in e.Data.TDailyCon){var o=e.Data.TDailyCon[a],s=!1;if(i.states.indexOf(o.ID)>-1&&(s=!0),!s&&i.spend>=o.Price){t=!0;break}}return t},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.ActivityComponent);e.DanRiXiaoFei=t,__reflect(t.prototype,"game.DanRiXiaoFei");var n=function(t){function n(){var e=t.call(this)||this;return e.skinName=DanRiXiaoFeiItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.image="ui/scene/activity/Tx_chongzhi",this.confirmButton.bg="ui/scene/activity/btn_12",this.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.confirmHandle,this),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target&&e.target.showDetail&&e.target.showDetail()},this)},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.getDailyDiamondSpendGift(this.data)];case 1:return t.sent(),this.update(),e.ActivityPanel.updateCurrentIconPoint(),[2]}})})},n.prototype.setData=function(t){this.data=t,this.limitImage.source="icon/item/"+t.CostMoneyType,this.limitLabel.text=t.Price.toString(),this.rewardGroup.removeChildren();for(var n=e.splitStringToNumberArray(t.RewardList),i=0;i<n.length;i++){var a=n[i];if(e.Data.TElf[a[0]]){var o=new e.PokemonIcon;o.pokemon=a[0],this.rewardGroup.addChild(o)}else{var o=new e.ItemIcon;o.item={type:a[0],count:a[1]},this.rewardGroup.addChild(o)}}},n.prototype.update=function(){var t=e.DataManager.playerModel.getActivityInfo().eventInfo.dailyDiamondSpend;t.states.indexOf(this.data.ID)>-1?this.removeFromParent():(t.spend>=this.data.Price?(this.confirmButton.image="ui/scene/activity/Tx_lingqu",this.confirmButton.touchEnabled=!0,this.confirmButton.visible=!0,this.limitGroup.visible=!1):(this.confirmButton.visible=!1,this.limitGroup.visible=!0,this.limitLabel.text=t.spend+"/"+this.data.Price,this.limitImage.source="icon/item/"+this.data.CostMoneyType),this.point.visible=this.confirmButton.visible)},n}(e.GameComponent);e.DanRiXiaoFeiItem=n,__reflect(n.prototype,"game.DanRiXiaoFeiItem")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e._itemList=[],e.timeInterval=null,e.skinName=DengJiChongChongSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){},i.prototype.setInfo=function(){var t=0;this.itemGroup.removeChildren();for(var i in e.Data.TLvaCtivity){var a=this._itemList[t];a||(a=new n,this._itemList[t]=a),a.setData(e.Data.TLvaCtivity[i]),this.itemGroup.addChild(a),a.update(),t++}this.setTime()},i.prototype.setTime=function(){var t=this,n=function(){var n=e.getNowTime(),i=t.info.end,a=.001*(i.getTime()-n.getTime());t.timeLabel.text=""+e.sDh(a)};n(),this.timeInterval=egret.setInterval(function(){n()},this,1e3)},i.prototype.initAnim=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},i.prototype.onRemove=function(){this._bone&&this._bone.stop(),null!=this.timeInterval&&egret.clearInterval(this.timeInterval)},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.ActivityComponent);e.DengJiChongChong=t,__reflect(t.prototype,"game.DengJiChongChong");var n=function(t){function n(){var e=t.call(this)||this;return e.skinName=DengJiChongChongItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.image="ui/scene/activity/Tx_lingqu",this._touchEvent=[{target:this.confirmButton,callBackFunc:this.confirmHandle}],this.addEventAndNotify(),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t.showDetail&&t.showDetail()},this)},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return e.DataManager.playerModel.playerLevel>=this.data.Lv?[4,e.DataManager.playerModel.getPlayerLvReachGift(this.data)]:[3,2];case 1:return t.sent(),this.update(),e.ActivityPanel.updateCurrentIconPoint(),[3,3];case 2:e.showTips(e.Lang.nindedengjibuzu,!0),t.label=3;case 3:return[2]}})})},n.prototype.setData=function(t){this.data=t,this.rewardGroup.removeChildren();for(var n=e.splitStringToNumberArray(t.Item),i=0;i<n.length;i++){var a=n[i];if(e.Data.TElf[a[0]]){var o=new e.PokemonIcon;o.pokemon=a[0],this.rewardGroup.addChild(o)}else{var s=new e.ItemIcon;s.item={type:a[0],count:a[1]},this.rewardGroup.addChild(s)}}},n.prototype.update=function(){var t=e.DataManager.playerModel.getActivityInfo().eventInfo.playerLvReach.list;-1!=t.indexOf(this.data.ID)?this.removeFromParent():(this.levelLimitLabel.text="达到"+this.data.Lv+"级可领取",this.progressLabel.text=e.DataManager.playerModel.playerLevel+"/"+this.data.Lv,e.DataManager.playerModel.playerLevel>=this.data.Lv?(this.confirmButton.bg="ui/scene/activity/btn_12",this.confirmButton.lock=!1):this.confirmButton.lock=!0)},n}(e.GameComponent);e.DengJiChongChongItem=n,__reflect(n.prototype,"game.DengJiChongChongItem")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e._itemList=[],e.skinName=DengLuYouLiSkin,e.init(),e}return __extends(i,t),i.prototype.setInfo=function(){this.setTime();var t=0;this.itemGroup.removeChildren();for(var i in e.Data.THuoPolite){var a=this._itemList[t];a||(a=new n,this._itemList[t]=a),a.setData(e.Data.THuoPolite[i]),this.itemGroup.addChild(a),a.update(),t++}},i.prototype.init=function(){},i.prototype.setTime=function(){var t=e.formatTime(this.info.start,"yyyy.MM.dd"),n=e.formatTime(this.info.end,"yyyy.MM.dd");this.timeLabel.text=t+"-"+n},i.prototype.onRemove=function(){this.timeInterval&&egret.clearInterval(this.timeInterval)},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.ActivityComponent);e.DengLuYouLiPanel=t,__reflect(t.prototype,"game.DengLuYouLiPanel");var n=function(t){function n(){var e=t.call(this)||this;return e.skinName=DengLuYouLiItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.okButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.okHandle,this),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target&&e.target.showDetail&&e.target.showDetail()},this),this.okButton.lock=!0,this.okButton.image="ui/scene/activity/Tx_weidacheng",this.okButton.bg="ui/scene/activity/btn_12"},n.prototype.okHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.GetTHuoPoliteGift(this.data)];case 1:return t.sent(),this.update(),e.ActivityPanel.updateCurrentIconPoint(),[2]}})})},n.prototype.setData=function(t){this.data=t;var n=e.DataManager.playerModel.getActivityInfo().eventInfo.fesLogin;this.titleLabel.text=e.formatString(e.Lang.leijidengruyouxi,this.data.id),this.limitLabel.text="("+n.days+"/"+this.data.id+")";var i=e.splitStringToNumberArray(this.data.getItem);this.rewardGroup.removeChildren();for(var a=0;a<i.length;a++){var o=i[a];if(e.Data.TElf[o[0]]){var s=new e.PokemonIcon;s.pokemon=o[0],this.rewardGroup.addChild(s)}else{var s=new e.ItemIcon;s.item={type:o[0],count:o[1]},this.rewardGroup.addChild(s)}}},n.prototype.update=function(){var t=e.DataManager.playerModel.getActivityInfo().eventInfo.fesLogin;this.titleLabel.text=this.data.id.toString(),t.states.indexOf(this.data.id)>-1?this.removeFromParent():(t.days>=this.data.id?(this.okButton.touchEnabled=!0,this.okButton.lock=!1,this.okButton.image="ui/scene/activity/Tx_lingqu",this.okButton.bg="ui/scene/activity/btn_12",this.limitLabel.textColor=5884236):(this.okButton.touchEnabled=!1,this.okButton.lock=!0,this.limitLabel.textColor=16776389),this.limitLabel.text="("+t.days+"/"+this.data.id+")")},n}(e.GameComponent);e.DengLuYouLiItem=n,__reflect(n.prototype,"game.DengLuYouLiItem")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.anims=[],e.animPosition=[103,313,523],e.stopNum=0,e.skinName=DrawDiamondSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this.okButton.image="ui/scene/activity/Tx_lingqu",this.okButton.bg="ui/scene/activity/btn_12",this.rechargeButton.image="ui/scene/activity/Tx_chongzhi",this.rechargeButton.bg="ui/scene/activity/btn_11",this.okButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.okHandle,this),this.rechargeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.navPanel(15)},this),this.animGroup.removeChildren();for(var t=0;3>t;t++){this.anims[t]||(this.anims[t]=new n);var i=this.anims[t];i.x=this.animPosition[t],i.y=178,this.animGroup.addChild(i)}},i.prototype.runAnim=function(e){this.rewardItem=e,this.okButton.touchEnabled=!1;var t=Math.min(Math.floor(e.count/100),9),n=Math.min(Math.floor(e.count%100/10),9),i=Math.min(Math.floor(e.count%100%10),9);this.anims[0].setCount(t),this.anims[1].setCount(n),this.anims[2].setCount(i),this.update()},i.prototype.animStop=function(){this.stopNum++,this.stopNum>=3&&(this.okButton.touchEnabled=!0,this.rewardHandle(),this.stopNum=0)},i.prototype.rewardHandle=function(){this.rewardItem&&(e.DataManager.playerModel.rewardDrawDiamond(this.rewardItem),this.rewardItem=null)},i.prototype.okHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return e.checkCanBuy(this.costItem)?[4,e.DataManager.playerModel.drawDiamond()]:[3,2];
case 1:return t.sent(),e.ActivityPanel.updateCurrentIconPoint(),[3,3];case 2:e.showTips(e.Lang.nindedaojubuzu,!0),t.label=3;case 3:return[2]}})})},i.prototype.setInfo=function(){this.rewardHandle(),this.setTime(),this.update()},i.prototype.update=function(){var t=e.DataManager.playerModel.getActivityInfo().eventInfo.drawDiamond,n=e.Data.TDaysDiamond[t.drew+1];if(n||(n=e.Data.TDaysDiamond[t.drew]),n){this.costLabel.text=e.Lang.huafei+":"+n.Price,this.costItem={type:2,count:n.Price},this.maxLabel.text=e.Lang.bencizuigaohuode+n.acquiremax,this.tipLabel.text=e.formatString(e.Lang.meicichongzhiduoshaoyuanzengjiachoujiangjihui,n.recharge,n.doses),this.diamondLabel.text=e.Lang.shengyu+":"+e.DataManager.playerModel.getItemCount(2);var i=Math.min(t.chargeCount-t.drew,n.doses-t.drew);this.countLabel.text=e.Lang.cishu+":"+i,i>0?(this.okButton.touchEnabled=!0,this.okButton.image="ui/scene/activity/Tx_lingqu",this.okButton.lock=!1):(this.okButton.touchEnabled=!1,this.okButton.lock=!0,this.okButton.image="ui/scene/activity/Tx_weidacheng")}},i.prototype.setTime=function(){var t=this,n=function(){var n=e.getNowTime(),i=t.info.end,a=.001*(i.getTime()-n.getTime());t.timeLabel.text=e.sDh(a)+"后结束"};n(),this.timeInterval=egret.setInterval(function(){n()},this,1e3)},i.prototype.onRemove=function(){this.timeInterval&&egret.clearInterval(this.timeInterval);for(var e=0;e<this.anims.length;e++)this.anims[e].stopAnim()},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.ActivityComponent);e.DrawDiamondPanel=t,__reflect(t.prototype,"game.DrawDiamondPanel");var n=function(e){function n(){var t=e.call(this)||this;return t.count=0,t.countImages=[],t.speed=4,t.speedAdd=.1,t.speedReduce=.1,t.maxSpeed=20,t.minSpeed=4,t.max=!1,t.startY=92,t.runAnim=!1,t.skinName=DrawDiamondAnimSkin,t.init(),t}return __extends(n,e),n.prototype.init=function(){this.count=0,this.setNumbs()},n.prototype.setNumbs=function(){this.itemGroup.removeChildren(),this.countImages=[];for(var e=0;10>e;e++){var t=new eui.Image,n=this.count+e;n>=10&&(n-=10),t.source="ui/scene/activity/116_num_"+n,t.name=n.toString(),t.horizontalCenter="0",5>e?t.y=this.startY+56*e:t.y=this.startY-56*(10-e),this.itemGroup.addChild(t),this.countImages.push(t)}},n.prototype.startAnim=function(){for(var e=null,n=0,i=0;i<this.countImages.length;i++){var a=this.countImages[i];a.y+=this.speed,a.y>=320&&(e=i),n=Math.min(n,a.y)}if(null!=e&&(this.countImages[e].y=n-56),this.max)for(var i=0;i<this.countImages.length;i++){var a=this.countImages[i];if(Number(a.name)==this.count){this.speed-=this.speedReduce,Math.abs(a.y-this.startY|0)<=2&&this.speed<=this.minSpeed&&(egret.stopTick(this.startAnim,this),this.max=!1,this.runAnim=!1,t.getInstance().animStop());break}}else this.speed+=this.speedAdd,this.speed>=this.maxSpeed&&(this.max=!0);return this.speed=Math.min(this.speed,this.maxSpeed),this.speed=Math.max(this.speed,this.minSpeed),!0},n.prototype.stopAnim=function(){this.runAnim&&(egret.stopTick(this.startAnim,this),this.max=!1,this.runAnim=!1),this.setNumbs()},n.prototype.setCount=function(e){this.count=e,egret.startTick(this.startAnim,this),this.runAnim=!0},n}(eui.Component);e.DrawDiamondAnimation=n,__reflect(n.prototype,"game.DrawDiamondAnimation")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e._selectButtons=[],e._populations=[],e.skinName=FirstGrouponSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this.okButton.image="ui/scene/activity/Tx_chongzhi",this.okButton.bg="ui/scene/activity/btn_11",this.okButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.okHandle,this),this.radioGroup=new e.RadioGroup(this.buttonGroup,this._selectButtons,this.buttonHandle,this)},i.prototype.initButtons=function(){this.buttonGroup.removeChildren(),this._populations=[];for(var t in e.Data.TFirstGroupon)if(e.Data.TFirstGroupon.hasOwnProperty(t)){var n=Number(e.Data.TFirstGroupon[t].population);this._populations.indexOf(n)<0&&this._populations.push(n)}for(var t=0;t<this._populations.length;t++){this._selectButtons[t]||(this._selectButtons[t]=new e.FirstGrouponSelectButton);var i=this._selectButtons[t];i.icon="langs/"+this._populations[t]+"rengou",i.x=0,i.y=(i.height+2)*t,this.buttonGroup.addChild(i)}},i.prototype.buttonHandle=function(t){this._selectButton&&(this._selectButton.x=0,this._selectButton.bg="ui/common/button/tuangouButtonUnselect"),t.bg="ui/common/button/tuangouButtonSelect",this._selectButton=t;var i=this._populations[this._selectButtons.indexOf(t)];this.itemGroup.removeChildren();var a=0;for(var o in e.Data.TFirstGroupon)if(e.Data.TFirstGroupon.hasOwnProperty(o)){var s=e.Data.TFirstGroupon[o];if(Number(s.population)==i){var r=new n;r.setData(s,a),this.itemGroup.addChild(r),r.update(),a++}}},i.prototype.okHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return e.navPanel(15),[2]})})},i.prototype.setInfo=function(){this.initButtons(),this.buttonHandle(this._selectButtons[0]),this.setTime()},i.prototype.setTime=function(){var t=this,n=function(){var n=e.getNowTime(),i=t.info.end,a=.001*(i.getTime()-n.getTime());t.timeLabel.text=e.sDh(a)+"后结束"};n(),this.timeInterval=egret.setInterval(function(){n()},this,1e3)},i.prototype.onRemove=function(){this.timeInterval&&egret.clearInterval(this.timeInterval)},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.ActivityComponent);e.FirstGrouponPanel=t,__reflect(t.prototype,"game.FirstGrouponPanel");var n=function(t){function n(){var e=t.call(this)||this;return e.skinName=FirstGrouponItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.okButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.okHandle,this),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target&&e.target.showDetail&&e.target.showDetail()},this),this.okButton.lock=!0,this.okButton.image="ui/scene/activity/Tx_weidacheng",this.okButton.bg="ui/scene/activity/btn_12"},n.prototype.okHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.rewardFirstGroupon(this.data.ID-1)];case 1:return t.sent(),this.update(),e.ActivityPanel.updateCurrentIconPoint(),[2]}})})},n.prototype.setData=function(t,n){this.data=t,this.index=n;var i=this.data.Item.split("|");this.rewardGroup.removeChildren();for(var a=0;a<i.length;a++){var o=e.splitStringToNumberArray(i[a],";");if(e.Data.TElf[o[0]]){var s=new e.PokemonIcon;s.pokemon=o[0],this.rewardGroup.addChild(s)}else{var s=new e.ItemIcon;s.item={type:o[0],count:o[1]},this.rewardGroup.addChild(s)}}},n.prototype.update=function(){var t=e.DataManager.playerModel.getActivityInfo().eventInfo.firstGroupon,n=e.DataManager.playerModel.sEventData.firstGroupon.recharge,i=t.recharge,a=Number(this.data.population),o=Number(this.data.doses);this.progressLabel.text=e.formatString(e.Lang.jindu,n,a),0==this.index?this.titleLabel.text=e.formatString(e.Lang.jindantishi1,a):1==this.index?this.titleLabel.text=e.formatString(e.Lang.jindantishi2,a):this.titleLabel.text=e.formatString(e.Lang.jindantishi3,a,o),0!=t.states[this.data.ID-1]?(this.okButton.touchEnabled=!1,this.okButton.lock=!1,this.okButton.image="ui/scene/activity/Tx_yilingqu"):n>=a&&i>=o?(this.okButton.touchEnabled=!0,this.okButton.lock=!1,this.okButton.image="ui/scene/activity/Tx_lingqu",this.okButton.bg="ui/scene/activity/btn_12"):(this.okButton.touchEnabled=!1,this.okButton.lock=!0,this.okButton.image="ui/scene/activity/Tx_weidacheng")},n}(e.GameComponent);e.FirstGrouponItem=n,__reflect(n.prototype,"game.FirstGrouponItem")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=FirstGrouponSelectButtonSkin,t}return __extends(t,e),Object.defineProperty(t.prototype,"bg",{set:function(e){this._bg=e,this.bgDisplay&&(this.bgDisplay.source=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{set:function(e){this._icon=e,this.iconDisplay&&(this.iconDisplay.source=e)},enumerable:!0,configurable:!0}),t}(e.GameComponent);e.FirstGrouponSelectButton=t,__reflect(t.prototype,"game.FirstGrouponSelectButton")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.itemList=[],e._canShow=!0,e._point=!1,e.skinName=GanEnSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this.rechargeButton.image="ui/scene/activity/Tx_chongzhi",this.rechargeButton.bg="ui/scene/activity/btn_11",this._touchEvent=[{target:this.rechargeButton,callBackFunc:this.touchRecharge},{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify(),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showDetail,this),this.initList()},i.prototype.showDetail=function(e){e.target&&e.target.showDetail&&e.target.showDetail()},i.prototype.touchRecharge=function(){e.navPanel(15)},i.prototype.initList=function(){this.itemGroup.removeChildren();for(var t in e.Data.TVipLvaward)if(e.Data.TVipLvaward.hasOwnProperty(t)){var i=e.Data.TVipLvaward[t],a=new n;7==i.vipLevel?(a.bgImage.visible=!1,a.vipImage.visible=!1,a.vipLabel.visible=!1,this.V12Group.addChild(a)):this.itemGroup.addChild(a),a.setData(i),this.itemList.push(a)}},i.prototype.closeHandle=function(){e.removePopUp(this)},Object.defineProperty(i.prototype,"canShow",{get:function(){if(this._point=!1,!this._canShow)return!1;for(var t in e.Data.TVipLvaward)if(e.Data.TVipLvaward.hasOwnProperty(t)){var n=e.Data.TVipLvaward[t];if(e.DataManager.playerModel.extension.vipGift.indexOf(n.id)<0)return e.DataManager.playerModel.playerVip>=n.vipLevel&&(this._point=!0),!0}return this._canShow=!1,!1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"point",{get:function(){return this._point},enumerable:!0,configurable:!0}),i.prototype.onShow=function(){this.vipLabel.text=e.DataManager.playerModel.playerVip.toString();for(var t=0;t<this.itemList.length;t++)this.itemList[t].update()},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.PanelComponent);e.GanEnPanel=t,__reflect(t.prototype,"game.GanEnPanel");var n=function(t){function n(){var e=t.call(this)||this;return e.canReward=!1,e.skinName=GanEnItemSkin,e._touchEvent=[{target:e.okButton,callBackFunc:e.okHandle}],e.addEventAndNotify(),e}return __extends(n,t),n.prototype.okHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.canReward?[4,e.DataManager.playerModel.getVipGift(this.data.id)]:[3,2];case 1:return t.sent(),this.update(),e.ActivityPanel.updateCurrentIconPoint(),[3,3];case 2:e.showTips(e.Lang.vipdengjibuzu,!0),t.label=3;case 3:return[2]}})})},n.prototype.setData=function(t){this.data=t,this.okButton.bg="ui/scene/activity/btn_12",this.vipLabel.text=t.vipLevel.toString();var n=e.splitStringToNumberArray(t.rewardList,";");this.rewardIcon.item={type:n[0],count:n[1]}},n.prototype.update=function(){var t=e.DataManager.playerModel.extension.vipGift;this.canReward=!1,t.indexOf(this.data.id)>-1?this.okButton.image="ui/scene/activity/Tx_yilingqu":e.DataManager.playerModel.playerVip>=this.data.vipLevel?(this.canReward=!0,this.okButton.image="ui/scene/activity/Tx_lingqu"):this.okButton.image="ui/scene/activity/Tx_weidacheng",this.okButton.lock=!this.canReward,this.okButton.touchEnabled=this.canReward},n}(e.GameComponent);e.GanEnItem=n,__reflect(n.prototype,"game.GanEnItem")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e._items=[],e.skinName=JieRiChongZhiShuangBeiSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this.itemGroup.removeChildren(),this._items=[];for(var t in e.Data.TRecharge)if(e.Data.TRecharge.hasOwnProperty(t)){var i=e.Data.TRecharge[t];if(Number(i.Diamonds)){var a=new n;a.setData(i),this._items.push(a),this.itemGroup.addChild(a)}}e.NotificationCenter.getInstance().addObserver(this,this.update,e.PlayerModel.PLAYER_RECHARGE)},i.prototype.setInfo=function(){this.setTime(),this.setLabel(),this.update()},i.prototype.update=function(){for(var e=0;e<this._items.length;e++)this._items[e].update()},i.prototype.setLabel=function(){var t=e.DataManager.playerModel.getActivityInfo().eventInfo.guoqing;t.GuoQingrecharge[0]?this.countLabel.text="1/1":this.countLabel.text="0/1"},i.prototype.onRemove=function(){this.timeInterval&&egret.clearInterval(this.timeInterval)},i.prototype.setTime=function(){var t=this,n=function(){var n=e.getNowTime(),i=t.info.end,a=.001*(i.getTime()-n.getTime());t.timeLabel.text=""+e.s2hms(a)};n(),this.timeInterval=egret.setInterval(function(){n()},this,1e3)},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.ActivityComponent);e.JieRiChongZhiShuangBei=t,__reflect(t.prototype,"game.JieRiChongZhiShuangBei");var n=function(t){function n(){var e=t.call(this)||this;return e.skinName=JieRiChongZhiShuangBeiItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.rechargeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.rechargeHandle,this)},n.prototype.setData=function(e){this.rechargeData=e,this.rechargeLabel.text=e.Price+"元",this.update()},n.prototype.update=function(){var t=e.DataManager.playerModel.getActivityInfo().eventInfo.guoqing;t.GuoQingrecharge[0]?this.touchEnabled=!1:this.touchEnabled=!0},n.prototype.rechargeHandle=function(){SDK.recharge(this.rechargeData.ID)},n}(e.GameComponent);e.JieRiChongZhiShuangBeiItem=n,__reflect(n.prototype,"game.JieRiChongZhiShuangBeiItem");var i=function(e){function t(){var t=e.call(this)||this;return t.skinName=JieRiChongZhiShuangBeiButtonSkin,t}return __extends(t,e),t}(e.EffectButton);e.JieRiChongZhiShuangBeiButton=i,__reflect(i.prototype,"game.JieRiChongZhiShuangBeiButton")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e._itemList=[],e.skinName=JiZiHuoDongSkin,e}return __extends(i,t),i.prototype.setInfo=function(){this.activityInfo=this.info,this.updateItem(),this.setTime()},i.prototype.updateItem=function(){this.itemGroup.removeChildren();var t=0;for(var i in e.Data.THuoCollent){var a=this._itemList[t];a||(a=new n,this._itemList[t]=a),a.setData(e.Data.THuoCollent[i],this),this.itemGroup.addChild(a),t++}},i.prototype.setTime=function(){var t=e.formatTime(this.activityInfo.start,"yyyy.MM.dd"),n=e.formatTime(this.activityInfo.end,"yyyy.MM.dd");this.timeLabel.text=t+"-"+n},i.prototype.buyItem=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,e.DataManager.playerModel.getCollentReward(t.id)];case 1:return n.sent(),this.updateItem(),e.ActivityPanel.updateCurrentIconPoint(),[2]}})})},i.prototype.updatePoint=function(){var t=!1,n=e.DataManager.playerModel.getActivityInfo(),i=n.eventInfo.collent.collents;for(var a in e.Data.THuoCollent){for(var o=e.Data.THuoCollent[a],s=0,r=0;r<i.length;r++){var u=i[r];if(u.type==o.id){s=u.count;break}}if(s<o.countLimit){for(var l=e.splitStringToNumberArray(o.price),c=!0,h=0;h<l.length;h++){var u=l[h],p=e.DataManager.playerModel.getItemCount(u[0]);if(p<u[1]){c=!1;break}}if(c){t=!0;break}}}return t},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.ActivityComponent);e.JiZiHuoDong=t,__reflect(t.prototype,"game.JiZiHuoDong");var n=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e.skinName=JiZiHuoDongItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.okButton,callBackFunc:this.getHandle},{target:this.rewardIcon,callBackFunc:this.showReward}],this.addEventAndNotify(),this.needItemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target&&e.target.showDetail&&e.target.showDetail()},this)},n.prototype.showReward=function(){this.rewardIcon.showDetail()},n.prototype.getHandle=function(){return this._canCount<=0?void e.showTips(e.Lang.jinribunengzaiduihuanleo,!0):this._itemEnough?void this._panel.buyItem(this.collentData):void e.showTips(e.Lang.nindedaojubuzu,!0)},n.prototype.setData=function(t,n){this._panel=n,this.collentData=t;var i=e.splitStringToNumberArray(t.goods,";");this.rewardIcon.item={type:i[0],count:i[1]};for(var a=0,o=e.DataManager.playerModel.getActivityInfo().eventInfo.collent.collents,s=0;s<o.length;s++){var r=o[s];if(r.type==t.id){a=r.count;break}}this._canCount=t.countLimit-a,this.countLabel.text="可兑换:"+this._canCount+"次",this.countLabel.textColor=this._canCount>0?gameConfig.TextColors.green:gameConfig.TextColors.red,this.okButton.icon=this._canCount>0?"ui/scene/activity/112_duihuan":"ui/scene/activity/112_duihuanhui",this._itemEnough=!0,this.needItemGroup.removeChildren();for(var u=e.splitStringToNumberArray(t.price),s=0;s<u.length;s++){var r=u[s],l=this._itemList[s];l||(l=new e.ItemIcon,this._itemList[s]=l),l.item={type:r[0],count:r[1]};var c=e.DataManager.playerModel.getItemCount(r[0]);l.countLabel.text=e.setNumber(c)+"/"+e.setNumber(r[1]),c>=r[1]?l.countLabel.textColor=gameConfig.TextColors.green:(l.countLabel.textColor=gameConfig.TextColors.red,this._itemEnough=!1);e.Data.TItem[r[0]];this.needItemGroup.addChild(l)}this.arrow.scaleX=-1,this.point.visible=this._canCount>0&&this._itemEnough},n}(e.GameComponent);e.JiZiHuoDongItem=n,__reflect(n.prototype,"game.JiZiHuoDongItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._canBuy=!1,e.skinName=JLDSShopItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.okButton.bg="ui/scene/activity/btn_11",this.okButton.image="ui/scene/idle/Tx_goumai",this.okButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._canBuy?[4,SDK.recharge(this.data.rechargeId)]:[2];case 1:return t.sent(),e.DataManager.playerModel.superGashponInfo.counts[this.data.id]--,this.update(),[2]}})})},this),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target&&e.target.showDetail&&e.target.showDetail()},this)},n.prototype.setData=function(t){this.data=t,this.itemGroup.removeChildren();for(var n=e.splitStringToNumberArray(t.item),i=0;i<n.length;i++){var a={type:n[i][0],count:n[i][1]};if(e.Data.TElf[a.type]){var o=new e.PokemonIcon;o.pokemon=a.type,o.scaleX=o.scaleY=.8,this.itemGroup.addChild(o)}else if(e.Data.TItem[a.type]){var o=new e.ItemIcon;o.item=a,o.scaleX=o.scaleY=.8,this.itemGroup.addChild(o)}else egret.error("data error: type "+n[i][0]+" undefined")}this.priceLabel.text=t.price.toString()},n.prototype.update=function(){var t=Math.max(0,e.DataManager.playerModel.superGashponInfo.counts[this.data.id])||0;this.limitLabel.text=e.Lang.xiangou+":"+t+"/"+this.data.limit,t>0?(this._canBuy=!0,this.okButton.lock=!1,this.okButton.touchEnabled=!0):(this._canBuy=!1,this.okButton.lock=!0,this.okButton.touchEnabled=!1)},n}(e.GameComponent);e.JLDSShopItem=t,__reflect(t.prototype,"game.JLDSShopItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.itemList=[],e.skinName=JLDSShopPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){},n.prototype.update=function(){if(!this.itemList||0==this.itemList.length){this.itemGroup.removeChildren();for(var t in e.Data.TRedElfTimeLimitShop)if(e.Data.TRedElfTimeLimitShop.hasOwnProperty(t)){var n=e.Data.TRedElfTimeLimitShop[t];if(n.group==e.DataManager.playerModel.JLDSTaskInfo.taskWeek){var i=new e.JLDSShopItem;i.setData(n),this.itemGroup.addChild(i),this.itemList.push(i)}}}for(var t=0;t<this.itemList.length;t++)this.itemList[t].update();var a=new Date,o=a.getDay();o=1-o,0>=o&&(o+=7);var s=new Date(a.getFullYear(),a.getMonth(),a.getDate()+o);this.timeLabel.text=e.sDhm((s.getTime()-a.getTime())/1e3)},n.getInstance=function(){return this._instance||(this._instance=new n),this._instance},n}(e.GameComponent);e.JLDSShopPanel=t,__reflect(t.prototype,"game.JLDSShopPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.itemList=[],e.skinName=JLDSTaskSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showDetail,this)},n.prototype.showDetail=function(e){e.target&&e.target.showDetail&&e.target.showDetail()},n.prototype.setData=function(t){var i=e.Data.THuoRedElfTaskDetail[t],a=0;this.itemGroup.removeChildren();var o=e.DataManager.playerModel.JLDSTaskInfo;for(var s in e.Data.THuoRedElfTask)if(e.Data.THuoRedElfTask.hasOwnProperty(s)){var r=e.Data.THuoRedElfTask[s];if(r.taskGroup==o.taskWeek&&r.taskStyle==i.taskStyle){this.itemList[a]||(this.itemList[a]=new e.JLDSTaskItem);var u=this.itemList[a];u.setData(r),this.itemGroup.addChild(u),a++}}this.DescLabel.text=i.taskDetail,this.typeImage.source="ui/scene/activity/"+n.typeImageSrc[t];var l=new Date,c=l.getDay();c=1-c,0>=c&&(c+=7);var h=new Date(l.getFullYear(),l.getMonth(),l.getDate()+c);this.timeLabel.text=e.sDhm((h.getTime()-l.getTime())/1e3)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.typeImageSrc=["","Tx_gaojind","Tx_xiedaipinsj","Tx_jinglinghq","Tx_jinglingjh","Tx_getizhixl","Tx_jinglingds"],n}(e.GameComponent);e.JLDSTask=t,__reflect(t.prototype,"game.JLDSTask")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._type=0,e.skinName=JLDSTaskButtonSkin,e.touchChildren=!1,e}return __extends(n,t),Object.defineProperty(n.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),n.prototype.setData=function(e){this._type=e,this.iconDisplay.source="ui/scene/activity/14"+e+"_icon"},n.prototype.updatePoint=function(){this.pointImage.visible=this.point},Object.defineProperty(n.prototype,"point",{get:function(){if(0==this.type);else if(7==this.type);else for(var t in e.Data.THuoRedElfTask){var n=e.Data.THuoRedElfTask[t],i=e.DataManager.playerModel.getJLDSTaskById(n.taskId);if(i&&!i.state&&n.taskStyle==this.type&&i.progress>=n.taskRequire)return!0}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"select",{set:function(e){this.selectImage.visible=e},enumerable:!0,configurable:!0}),n}(e.GameComponent);e.JLDSTaskButton=t,__reflect(t.prototype,"game.JLDSTaskButton")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.canReward=!1,e.skinName=JLDSTaskItemSkin,e._touchEvent=[{target:e.okButton,callBackFunc:e.okHandle}],e.addEventAndNotify(),e}return __extends(n,t),n.prototype.okHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.canReward?[4,e.DataManager.playerModel.getJLDSTaskReward(this.data.taskId)]:[3,2];case 1:t.sent(),this.update(),t.label=2;case 2:return[2]}})})},n.prototype.setData=function(t){this.data=t,this.okButton.bg="ui/scene/activity/btn_12",this.descLabel.text=t.taskDetail;var n=e.splitStringToNumberArray(t.reward,";");this.itemIcon.item={type:n[0],count:n[1]},this.update()},n.prototype.update=function(){var t=e.DataManager.playerModel.getJLDSTaskById(this.data.taskId);t&&(this.canReward=!1,t.state?this.okButton.image="ui/scene/activity/Tx_yilingqu":t.progress>=this.data.taskRequire?(this.canReward=!0,this.okButton.image="ui/scene/activity/Tx_lingqu"):this.okButton.image="ui/scene/activity/Tx_weidacheng",this.okButton.lock=!this.canReward,this.okButton.touchEnabled=this.canReward,this.progresslabel.text=t.progress+"/"+this.data.taskRequire)},n}(e.GameComponent);e.JLDSTaskItem=t,__reflect(t.prototype,"game.JLDSTaskItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._iconList=[],e.skinName=JLDSTaskPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},n.prototype.initIconList=function(){var t=this;this.iconGroup.removeChildren();var n=e.DataManager.playerModel.JLDSTaskInfo,i=[],a=0,o=function(n){t._iconList[a]||(t._iconList[a]=new e.JLDSTaskButton),t._iconList[a].setData(n),t.iconGroup.addChild(t._iconList[a]),a++};o(0);for(var s in e.Data.THuoRedElfTask){var r=e.Data.THuoRedElfTask[s];n.taskWeek==r.taskGroup&&-1==i.indexOf(r.taskStyle)&&(o(r.taskStyle),i.push(r.taskStyle))}e.DataManager.playerModel.superGashponInfo&&e.DataManager.playerModel.superGashponInfo.group==e.DataManager.playerModel.JLDSTaskInfo.taskWeek&&o(7),this._radioGroup||(this._radioGroup=new e.RadioGroup(this.iconGroup,this._iconList,this.touchIcon,this,this.selectIcon)),this._radioGroup.touchButton(this._iconList[0])},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.selectIcon=function(e,t){e.select=t},n.prototype.touchIcon=function(t){if(this._currentIcon=t,this._currentPanel&&this._currentPanel.removeFromParent(),0==this._currentIcon.type)this._currentPanel=e.ShenShouTaskPanel.getInstance();else if(7==this._currentIcon.type)this._currentPanel=e.JLDSShopPanel.getInstance();else{var n=e.JLDSTask.getInstance();n.setData(t.type),this._currentPanel=n}this._currentPanel.update&&this._currentPanel.update(),this.detailGroup.addChild(this._currentPanel)},n.prototype.onShow=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,e.DataManager.playerModel.getJLDSTaskInfo()];case 1:for(n.sent(),this._iconList.length<=1&&this.initIconList(),this._currentPanel&&this._currentPanel.update&&this._currentPanel.update(),t=0;t<this._iconList.length;t++)this._iconList[t].updatePoint();return[2]}})})},Object.defineProperty(n.prototype,"point",{get:function(){for(var e=0;e<this._iconList.length;e++)if(this._iconList[e].point)return!0;return!1},enumerable:!0,configurable:!0}),n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.JLDSTaskPanel=t,__reflect(t.prototype,"game.JLDSTaskPanel")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e._itemList=[],e.skinName=KaiFuDaBiPinSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this.levelButton.image="langs/Tx_dengjibp",this.pokemonButton.image="langs/Tx_jinglinbp",this.battleButton.image="langs/Tx_zhanlibp",this.levelButton.bg="ui/common/button/btn_02",this.pokemonButton.bg="ui/common/button/btn_02",this.battleButton.bg="ui/common/button/btn_02",this.levelButton.name="1",this.pokemonButton.name="2",this.battleButton.name="3",this._touchEvent=[{target:this.levelButton,callBackFunc:this.touchTypeButton},{target:this.pokemonButton,callBackFunc:this.touchTypeButton},{target:this.battleButton,callBackFunc:this.touchTypeButton}],this.addEventAndNotify()},i.prototype.touchTypeButton=function(e){e.name&&this.changeType(Number(e.name))},i.prototype.changeType=function(t){return __awaiter(this,void 0,void 0,function(){var i,a,o,s,r,o,u,r;return __generator(this,function(l){switch(l.label){case 0:switch(this.levelButton.lock=1!=t,this.pokemonButton.lock=2!=t,this.battleButton.lock=3!=t,this.bannerImage.source="ui/scene/activity/kaifudabipin/kfdbp_"+t,this.currentType=t,this.rankGroup.removeChildren(),this.rankLabel.text="未上榜",a=t){case 1:return[3,1];case 2:return[3,3];case 3:return[3,5]}return[3,7];case 1:return this.detailLabel.text="人物等级越高排行越靠前!(活动结束后通过奖励邮件发送)",[4,e.HttpRequest.GetRankListAsync(10)];case 2:return i=l.sent(),[3,7];case 3:return this.detailLabel.text="单只精灵战力越高排行越靠前!(活动结束后通过奖励邮件发送)",[4,e.HttpRequest.GetRankListAsync(6)];case 4:return i=l.sent(),[3,7];case 5:return this.detailLabel.text="队伍战力越高排行越靠前!(活动结束后通过奖励邮件发送)",[4,e.HttpRequest.GetRankListAsync(9)];case 6:return i=l.sent(),[3,7];case 7:if(i&&i.ranks.length>0)for(o=0;o<i.ranks.length;o++)s=i.ranks[o],3>o&&(r=this._itemList[o],r||(r=new n,this._itemList[o]=r),r.setInfo(s,t,e.Data.Tbigcompete[o+1]),this.rankGroup.addChild(r)),s.info.id.sid==e.DataManager.playerModel.sid&&s.info.id.pid==e.DataManager.playerModel.pid&&(this.rankLabel.text=e.setNumber(s.rank));for(o=this.rankGroup.numChildren+1;8>o;o++)u=e.Data.Tbigcompete[o],r=this._itemList[o-1],r||(r=new n,this._itemList[o-1]=r),r.setInfo(null,t,u),this.rankGroup.addChild(r);return[2]}})})},i.prototype.setInfo=function(){this.timeLabel.textFlow=[{text:"剩余时间:"},{text:e.sDhm(this.info.end.getTime()/1e3-e.getNowTime().getTime()/1e3),style:{textColor:gameConfig.TextColors.yellow}}],this.changeType(1)},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.ActivityComponent);e.KaiFuDaBiPin=t,__reflect(t.prototype,"game.KaiFuDaBiPin");var n=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e.skinName=KaiFuDaBiPinItemSkin,e.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchHandle,e),e}return __extends(n,t),n.prototype.touchHandle=function(e){var t=e.target;t.showDetail&&t.showDetail()},n.prototype.setInfo=function(t,n,i){if(this.nameLabel.visible=this.scoreLabel.visible=!1,t)switch(this.nameLabel.visible=this.scoreLabel.visible=!0,this.nameLabel.textFlow=[{text:"获奖者: ",style:{textColor:gameConfig.TextColors.white,strokeColor:gameConfig.TextColors.black}},{text:t.info.name}],n){case 1:this.scoreLabel.textFlow=[{text:"等级: ",style:{textColor:gameConfig.TextColors.white,strokeColor:gameConfig.TextColors.black}},{text:e.setNumber(t.info.level)}];break;case 2:this.scoreLabel.textFlow=[{text:"战力: ",style:{textColor:gameConfig.TextColors.white,strokeColor:gameConfig.TextColors.black}},{text:e.setNumber(t.value)}];break;case 3:this.scoreLabel.textFlow=[{text:"战力: ",style:{textColor:gameConfig.TextColors.white,strokeColor:gameConfig.TextColors.black}},{text:e.setNumber(t.value)}]}else i.id<=3&&(this.nameLabel.visible=!0,this.nameLabel.textFlow=[{text:e.Lang.xuweiyidai,style:{textColor:gameConfig.TextColors.white,strokeColor:gameConfig.TextColors.black}}]);this.rankImage.source="ui/scene/activity/kaifudabipin/rank_"+i.id,this.rewardGroup.removeChildren();var a;switch(n){case 1:a=e.splitStringToNumberArray(i.lv);break;case 2:a=e.splitStringToNumberArray(i.genius);break;case 3:a=e.splitStringToNumberArray(i.fighting)}for(var o=0;o<a.length;o++){var s=this._itemList[o];s||(s=new e.ItemIcon,this._itemList[o]=s),s.item={type:a[o][0],count:a[o][1]},this.rewardGroup.addChild(s)}},n}(e.GameComponent);e.KaiFuDaBiPinItem=n,__reflect(n.prototype,"game.KaiFuDaBiPinItem")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e._selectButtons=[],e._dataIds=[],e._open=0,e.skinName=KaiFuJingSaiSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this.okButton.bg="ui/scene/activity/btn_12",this.okButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.okHandle,this),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target&&e.target.showDetail&&e.target.showDetail()},this),this.radioGroup=new e.RadioGroup(this.buttonGroup,this._selectButtons,this.buttonHandle,this)},i.prototype.initButtons=function(){this.buttonGroup.removeChildren(),this._dataIds=[];for(var t in e.Data.TOpencompetition)if(e.Data.TFirstGroupon.hasOwnProperty(t)){var n=e.Data.TOpencompetition[t];this._dataIds.indexOf(n.id)<0&&this._dataIds.push(n.id)}this._dataIds=this._dataIds.sort(function(e,t){return e-t});for(var t=0;t<this._dataIds.length;t++){this._selectButtons[t]||(this._selectButtons[t]=new e.FirstGrouponSelectButton);var i=this._selectButtons[t];i.icon="langs/kaifu"+this._dataIds[t],i.bg="ui/scene/activity/108_unselect",i.width=147,i.height=79,i.x=0,i.y=(i.height+20)*t,this.buttonGroup.addChild(i)}},i.prototype.buttonHandle=function(t){var n=this._dataIds[this._selectButtons.indexOf(t)],i=e.Data.TOpencompetition[n];this.setTime(this._selectButtons.indexOf(t),i.duration),this.tipLabel.text=e.formatString(i.introduce,i.condition);
var a="ui/scene/activity/118_"+Number(i.top);this.topImage.source=a,this.noneLabel.visible=!1,this.initDetail(i),this._selectButton&&(this._selectButton.bg="ui/scene/activity/108_unselect"),t.bg="ui/scene/activity/108_select",this._selectButton=t},i.prototype.initDetail=function(t){this.detailGroup.visible=!0,this.itemScroller.visible=!1;var n=e.DataManager.playerModel.getOpenCompetitionItem(t.id);this.descLabel.text=e.formatString(t.introduce,t.condition),t.title?(this.titleImage.visible=!0,this.titleImage.source="langs/title/"+e.getTitleId(t.title)):this.titleImage.visible=!1,this.progressLabel.text=n.progress+"/"+Number(t.condition),this.progressImage.scaleX=Math.max(Math.min(n.progress/Number(t.condition),1),0),n.progress>=Number(t.condition)&&1==this._open&&!n.state?(this.okButton.image="ui/scene/activity/Tx_lingqu",this.okButton.touchEnabled=!0,this.okButton.lock=!1):(0==this._open?this.okButton.image="langs/Tx_weikaif":2==this._open?this.okButton.image="langs/Tx_yijies":n.state?this.okButton.image="ui/scene/activity/Tx_yilingqu":this.okButton.image="ui/scene/activity/Tx_weidacheng",this.okButton.touchEnabled=!1,this.okButton.lock=!0),this.rewardGroup.removeChildren();for(var i=e.splitStringToNumberArray(t.contest,"|"),a=0;a<i.length;a++){var o=i[a];if(e.Data.TElf[o[0]]){var s=new e.PokemonIcon;s.pokemon=o[0],this.rewardGroup.addChild(s)}else{var s=new e.ItemIcon;s.item={type:o[0],count:o[1]},this.rewardGroup.addChild(s)}}},i.prototype.initShow=function(t){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return this.detailGroup.visible=!1,this.itemScroller.visible=!0,[4,e.DataManager.playerModel.getKaiFujingSaiRank(t)];case 1:for(i=s.sent(),this.itemGroup.removeChildren(),a=0;a<i.length;a++)o=new n,this.itemGroup.addChild(o),o.setData(i[a]);return i.length<=0&&(this.noneLabel.visible=!0),[2]}})})},i.prototype.okHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=this._dataIds[this._selectButtons.indexOf(this._selectButton)],[4,e.DataManager.playerModel.rewardKaiFuJingSai(t)];case 1:return n.sent(),this.buttonHandle(this._selectButton),e.ActivityPanel.updateCurrentIconPoint(),[2]}})})},i.prototype.setInfo=function(){this.initButtons(),this.buttonHandle(this._selectButtons[0])},i.prototype.setTime=function(t,n){var i=this;t&&(t=24*(1+t)*3600*1e3),n=3600*n*1e3;var a=new Date(e.formatTime(new Date(this.info.start.getTime()+t),"yyyy.MM.dd")).getTime(),o=a+n,s=function(){var t=e.getNowTime().getTime(),n=.001*(o-t);a>t?(i.timeLabel.text=e.Lang.bencijingsaiweikaishi,i._open=0):n>0?(i.timeLabel.text=e.sDh(n)+"后结束",i._open=1):(i.timeLabel.text=e.Lang.bencijingsaiyijieshu,i._open=2)};s(),this.timeInterval&&(egret.clearInterval(this.timeInterval),this.timeInterval=null),this.timeInterval=egret.setInterval(function(){s()},this,1e3)},i.prototype.onRemove=function(){this.timeInterval&&egret.clearInterval(this.timeInterval)},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.ActivityComponent);e.KaiFuJingSaiPanel=t,__reflect(t.prototype,"game.KaiFuJingSaiPanel");var n=function(t){function n(){var e=t.call(this)||this;return e.skinName=KaiFuJingSaiItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target&&e.target.showDetail&&e.target.showDetail()},this)},n.prototype.setData=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s,s;return __generator(this,function(r){if(n=t.data,this.nameLabel.text=t.name,this.levelLabel.text=t.detail,this.titleImage.source="langs/title/"+e.getTitleId(n.title),this.rankLabel.text=t.rank.toString(),this.rewardGroup.removeChildren(),!n.contest.split(":")[t.rank-1])return this.removeFromParent(),[2];for(i=n.contest.split(":")[t.rank-1].split("|"),a=0;a<i.length;a++)o=e.splitStringToNumberArray(i[a],";"),e.Data.TElf[o[0]]?(s=new e.PokemonIcon,s.pokemon=o[0],this.rewardGroup.addChild(s)):(s=new e.ItemIcon,s.item={type:o[0],count:o[1]},this.rewardGroup.addChild(s));return[2]})})},n}(e.GameComponent);e.KaiFuJingSaiItem=n,__reflect(n.prototype,"game.KaiFuJingSaiItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._rewardData=e.Data.TRechargeElfin[1],n.timeInterval=null,n._itemIcon=[],n.skinName=LeiChongJingLingSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.detailButton.icon="ui/scene/book/xiangqing",this.rechargeButton.image="ui/scene/activity/Tx_chongzhi",this.rechargeButton.bg="ui/scene/activity/btn_11",this.artPokemon=new e.TeamArtPokemon,this.artPokemonGroup.addChild(this.artPokemon.display),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchItem,this),this._touchEvent=[{target:this.detailButton,callBackFunc:this.detailHandle},{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.rechargeButton,callBackFunc:this.rechargeHandle}],this.addEventAndNotify()},n.prototype.touchItem=function(e){var t=e.target;t.showDetail&&t.showDetail()},n.prototype.detailHandle=function(){if(this._pokemonType){var t=e.PokemonDetail.getInstance();t.setCurrentPokemon(this._pokemonType),t.show()}},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.GetRechargeElfin()];case 1:return t.sent(),this.updateInfo(),[2]}})})},n.prototype.rechargeHandle=function(){e.navPanel(15)},n.prototype.setInfo=function(){if(this._rewardData=e.Data.TRechargeElfin[1],this._rewardData){var t=e.splitStringToNumberArray(this._rewardData.preview,";")[0];this._pokemonType=t,this.artPokemon.setPokemon(t,!1),this.rewardGroup.removeChildren();for(var n=e.splitStringToNumberArray(this._rewardData.Item),i=0;i<n.length;i++){var a=n[i],o=this._itemIcon[i];o||(o=new e.ItemIcon,this._itemIcon[i]=o),o.item={type:a[0],count:a[1]},this.rewardGroup.addChild(o)}this.artPokemon&&this.artPokemon.play(1),this.setTime(),this.updateInfo()}},n.prototype.updateInfo=function(){var t=e.DataManager.playerModel.getActivityInfo().eventInfo.rechargeElf;this.moneyLabel.text=t.Recharge+"元",0==(1&t.State)?t.Recharge>=this._rewardData.doses?(this.confirmButton.lock=!1,this.confirmButton.image="ui/scene/activity/Tx_lingqu",this.confirmButton.touchEnabled=!0,this.confirmButton.bg="ui/scene/activity/btn_12"):(this.confirmButton.lock=!0,this.confirmButton.image="ui/scene/activity/Tx_weidacheng",this.confirmButton.touchEnabled=!1):(this.confirmButton.lock=!1,this.confirmButton.image="ui/scene/activity/Tx_yilingqu",this.confirmButton.touchEnabled=!1)},n.prototype.setTime=function(){var t=this,n=function(){var n=e.getNowTime(),i=t.info.end,a=.001*(i.getTime()-n.getTime());t.timeLabel.text=e.Lang.shengyushijian+":  "+e.s2hms(a)};n(),this.timeInterval=egret.setInterval(function(){n()},this,1e3)},n.prototype.onRemove=function(){this.artPokemon.stop(),null!=this.timeInterval&&egret.clearInterval(this.timeInterval)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.ActivityComponent);e.LeiChongJingLing=t,__reflect(t.prototype,"game.LeiChongJingLing")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.itemList=[],e.timeInterval=null,e.skinName=LeiJiChongZhiSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this.rechargeButton.image="ui/scene/activity/Tx_chongzhi",this.rechargeButton.bg="ui/scene/activity/btn_11",this.timeLabel.visible=!1,this._touchEvent=[{target:this.rechargeButton,callBackFunc:this.rechargeHandle}],this.addEventAndNotify()},i.prototype.rechargeHandle=function(){e.navPanel(15)},i.prototype.setInfo=function(){var t=0;this.rewardGroup.removeChildren();for(var i in e.Data.THuoRechargeSum){var a=e.Data.THuoRechargeSum[i],o=this.itemList[t];o||(o=new n,this.itemList[t]=o),this.rewardGroup.addChild(o),o.setData(a,t),o.update(),t++}this.moneyLabel.text=e.DataManager.playerModel.getActivityInfo().eventInfo.sumRecharge.Recharge+"元"},i.prototype.onRemove=function(){null!=this.timeInterval&&egret.clearInterval(this.timeInterval)},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.ActivityComponent);e.LeiJiChongZhi=t,__reflect(t.prototype,"game.LeiJiChongZhi");var n=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e.skinName=LeiJiChongZhiItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.confirmButton.image="ui/scene/activity/Tx_lingqu",this.confirmButton.bg="ui/scene/activity/btn_12",this.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.getLeiJiChongZhiReward(this._index)];case 1:return t.sent(),e.ActivityPanel.updateCurrentIconPoint(),this.update(),[2]}})})},this),this.rewardGroup.touchEnabled=!1,this.rewardGroup.touchChildren=!0,this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target&&e.target.showDetail&&e.target.showDetail()},this)},n.prototype.setData=function(t,n){this.data=t,this._index=n;for(var i=e.splitStringToNumberArray(t.reward),a=0;a<i.length;a++){var o=i[a],s=this._itemList[a];s||(s=new e.ItemIcon,this._itemList[a]=s),s.item={type:o[0],count:o[1]},this.rewardGroup.addChild(s)}},n.prototype.update=function(){var t=e.DataManager.playerModel.getActivityInfo();0==(t.eventInfo.sumRecharge.State&1<<this._index)?t.eventInfo.sumRecharge.Recharge>=this.data.price?(this.limitGroup.visible=!1,this.confirmButton.visible=!0):(this.limitGroup.visible=!0,this.limitLabel.text=this.data.price+"元",this.confirmButton.visible=!1):this.removeFromParent()},n}(e.GameComponent);e.LeiJiChongZhiItem=n,__reflect(n.prototype,"game.LeiJiChongZhiItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.itemIcon=[],e.skinName=MeiRiSongLiSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.bg="ui/scene/activity/btn_12",this.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.confirmHandle,this),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.rewardHandle,this)},n.prototype.rewardHandle=function(e){var t=e.target;t.showDetail&&t.showDetail()},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.GetTimingGift(this._currentData.ID)];case 1:return t.sent(),e.ActivityPanel.updateCurrentIconPoint(),this.setInfo(),[2]}})})},n.prototype.setInfo=function(){this.initAnim(),this.rewardGroup.removeChildren();var t,n=e.DataManager.playerModel.getActivityInfo().eventInfo.timing.list,i=e.getNowTime(),a=i.getHours(),o=i.getMinutes();for(var s in e.Data.TDailyGifts){var r=e.Data.TDailyGifts[s],u=e.splitStringToNumberArray(r.time,":");(a>u[0]||a==u[0]&&o>=u[1])&&(t=r)}if(t){var l=e.splitStringToNumberArray(t.endtime,":");if(n.indexOf(t.ID)>-1||a>l[0]||a==l[0]&&o>=l[1]){if(t=e.Data.TDailyGifts[t.ID+1])this.timeLabel.text=t.time+" 至 "+t.endtime;else{t=e.Data.TDailyGifts[1];var u=e.splitStringToNumberArray(t.time,":");a<u[0]?this.timeLabel.text=t.time+" 至 "+t.endtime:this.timeLabel.text="明日 "+t.time+" 至 "+t.endtime}this.setConfirmButton(!1)}else this.setConfirmButton(!0),this.timeLabel.text="当前可领取"}else{t=e.Data.TDailyGifts[1];var u=e.splitStringToNumberArray(t.time,":");a<u[0]?this.timeLabel.text=t.time+" 至 "+t.endtime:this.timeLabel.text="明日"+t.time+" 至 "+t.endtime,this.setConfirmButton(!1)}this.rewardGroup.removeChildren();for(var c=e.splitStringToNumberArray(t.RewardList),s=0;s<c.length;s++){var h=c[s],p=this.itemIcon[s];p||(p=new e.ItemIcon,this.itemIcon[s]=p),p.item={type:h[0],count:h[1]},this.rewardGroup.addChild(p)}this._currentData=t},n.prototype.setConfirmButton=function(e){e?(this.confirmButton.image="ui/scene/activity/Tx_lingqu",this.confirmButton.lock=!1,this.confirmButton.touchEnabled=!0):(this.confirmButton.image="langs/Tx_weidaolqsj",this.confirmButton.lock=!0,this.confirmButton.touchEnabled=!1)},n.prototype.initAnim=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._bone?[3,2]:(t=this,[4,e.getBone("aerzhousi")]);case 1:t._bone=n.sent(),this.boneGroup.addChild(this._bone),n.label=2;case 2:return this._bone.play(null,0),[2]}})})},n.prototype.onRemove=function(){this._bone&&this._bone.stop()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.ActivityComponent);e.MeiRiSongLi=t,__reflect(t.prototype,"game.MeiRiSongLi")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e._rewardList=[],e.skinName=QiRiDengLuSkin,e}return __extends(i,t),i.prototype.setInfo=function(){this.rewardScroller.viewport.scrollV=0;var t=0;this.rewardGroup.removeChildren();for(var i in e.Data.THuoSevenLg){var a=this._rewardList[t];a||(a=new n,this._rewardList[t]=a);var o=e.Data.THuoSevenLg[i];a.setData(o),a.play(),t++,this.rewardGroup.addChild(a),a.update()}},i.prototype.onRemove=function(){for(var e=0;e<this._rewardList.length;e++)this._rewardList[e].stop()},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.ActivityComponent);e.QiRiDengLu=t,__reflect(t.prototype,"game.QiRiDengLu");var n=function(t){function n(){var e=t.call(this)||this;return e.pokemonIcon=[],e.skinName=QiRiDengLuItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.bg="ui/scene/activity/btn_12",this.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.confirmHandle,this),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t.showDetail()},this)},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.getActivityReward(1,this.data.id)];case 1:return t.sent(),this.update(),[2]}})})},n.prototype.setData=function(t){this.data=t,this.dayLabel.text="第"+t.id+"天",this.rewardGroup.removeChildren();for(var n=e.splitStringToNumberArray(t.getItem),i=0;i<n.length;i++)if(e.Data.TItem[n[i][0]]){var a=new e.ItemIcon;a.item={type:n[i][0],count:n[i][1]},this.rewardGroup.addChild(a)}else{var a=new e.PokemonIcon;a.pokemon=n[i][0],this.pokemonIcon.push(a),this.rewardGroup.addChild(a)}},n.prototype.update=function(){e.ActivityPanel.updateCurrentIconPoint();var t=e.DataManager.playerModel.getActivityInfo();t.eventInfo.sevenLg.states.indexOf(this.data.id)>-1?this.removeFromParent():t.eventInfo.sevenLg.spend>=this.data.id?(this.confirmButton.lock=!1,this.confirmButton.image="ui/scene/activity/Tx_lingqu",this.confirmButton.touchEnabled=!0):(this.confirmButton.lock=!0,this.confirmButton.image="ui/scene/activity/Tx_weidacheng",this.confirmButton.touchEnabled=!1)},n.prototype.play=function(){for(var e=0;e<this.pokemonIcon.length;e++)this.pokemonIcon[e].play()},n.prototype.stop=function(){for(var e=0;e<this.pokemonIcon.length;e++)this.pokemonIcon[e].stop()},n}(e.GameComponent);e.QiRiDengLuItem=n,__reflect(n.prototype,"game.QiRiDengLuItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._UpdateTime=86400,e._LowLimitTime=64800,e._ButtonImageArr=[],e._ActivityImageArr=[],e._AvatarGroupArr=[],e._AvatarNameArr=[],e._FirstBtnPos={x:12,y:300},e._ButtonInterval=76,e._Interval=null,e._RankList=[],e._RankTypeArr=[13,2,14,1,15,16,0],e.skinName=QiRiJinSaiSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._ButtonImageArr.length=7,this._ButtonImageArr[0]="ui/scene/activity/qirijinsai/Tx_btn_zuanshixf",this._ButtonImageArr[1]="ui/scene/activity/qirijinsai/Tx_btn_jinjiwz",this._ButtonImageArr[2]="ui/scene/activity/qirijinsai/Tx_btn_zanzhupm",this._ButtonImageArr[3]="ui/scene/activity/qirijinsai/Tx_btn_chongguandr",this._ButtonImageArr[4]="ui/scene/activity/qirijinsai/Tx_btn_getixl",this._ButtonImageArr[5]="ui/scene/activity/qirijinsai/Tx_btn_shenqidz",this._ButtonImageArr[6]="ui/scene/activity/qirijinsai/Tx_btn_zhanlibp",this._ActivityImageArr.length=7,this._ActivityImageArr[0]="ui/scene/activity/qirijinsai/Tx_zuanshixf",this._ActivityImageArr[1]="ui/scene/activity/qirijinsai/Tx_jinjiwz",this._ActivityImageArr[2]="ui/scene/activity/qirijinsai/Tx_zanzhupm",this._ActivityImageArr[3]="ui/scene/activity/qirijinsai/Tx_chongguandr",this._ActivityImageArr[4]="ui/scene/activity/qirijinsai/Tx_getixl",this._ActivityImageArr[5]="ui/scene/activity/qirijinsai/Tx_shenqidz",this._ActivityImageArr[6]="ui/scene/activity/qirijinsai/Tx_zhanlibp",this._AvatarGroupArr.length=3,this._AvatarGroupArr[0]=this.Avatar1,this._AvatarGroupArr[1]=this.Avatar2,this._AvatarGroupArr[2]=this.Avatar3,this._AvatarNameArr.length=3,this._AvatarNameArr[0]=this.Name1,this._AvatarNameArr[1]=this.Name2,this._AvatarNameArr[2]=this.Name3;for(var t=0;t<this.ButtonGroup.$children.length;++t){var n=this.ButtonGroup.$children[t];n.bg="ui/common/button/btn_02",n.image=this._ButtonImageArr[t]}for(var t=0;t<this.ItemGroup.$children.length;++t){var i=this.ItemGroup.$children[t];i.setRank(t+1)}this._RankList.length=3,this._ButtonRadioGroup=new e.RadioGroup(this.ButtonGroup,this.ButtonGroup.$children,this.touchButton,this),this._AvatarRadioGroup=new e.RadioGroup(this.AvatarGroup,this.AvatarGroup.$children,this.touchAvatar,this),this._Today=e.DataManager.playerModel.getActivityInfo().eventInfo.sevendayCompetition.day,this.infoButton.icon="ui/scene/activity/123_info",this.infoButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.infoShow,this)},n.prototype.infoShow=function(){return this._UnOpen?e.showTips(e.Lang.weikaiqi):(e.XiaoFeiDaXuePinInfo.getInstance().show(),void e.XiaoFeiDaXuePinInfo.getInstance().setList(this._CurRankType))},n.prototype.touchButton=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s,s,r;return __generator(this,function(u){switch(u.label){case 0:return n=this.ButtonGroup.$children.indexOf(t),-1==n?[3,2]:(i=t,[4,e.DataManager.playerModel.getRankList(this._RankTypeArr[n])]);case 1:a=u.sent(),o=!1,this._CurRankType=this._RankTypeArr[n],this._RankList=[null,null,null];for(s in a.ranks)a.ranks[s].rank<4&&(this._RankList[a.ranks[s].rank-1]=a.ranks[s]),a.ranks[s].info.id.sid==e.DataManager.playerModel.sid&&a.ranks[s].info.id.pid==e.DataManager.playerModel.pid&&(this._MyRank=a.ranks[s].rank,o=!0);for(s=0;s<this.ItemGroup.$children.length;++s)r=this.ItemGroup.$children[s],r.setReward(n+1);this.MyRank.text=String(o?this._MyRank:e.Lang.zanweishangbang),this.ButtonSelect.x=this._FirstBtnPos.x,this.ButtonSelect.y=this._FirstBtnPos.y+n*this._ButtonInterval,this.ActivityName.source=this._ActivityImageArr[n],this.ActivityDesc.text=e.Data.TSevenDaysCompetition[n+1].competitionDetail,this.updateAvatar(),this.updateRankState(n),u.label=2;case 2:return[2]}})})},n.prototype.touchAvatar=function(t){var n=this._AvatarGroupArr.indexOf(t);n>-1&&this._RankList[n]&&e.DataManager.playerModel.showPlayerDetail(this._RankList[n].info.id)},n.prototype.updateAvatar=function(){for(var t=0;t<this._RankList.length;++t)if(this._AvatarGroupArr[t].removeChildren(),this._RankList[t]){var n=this._RankList[t].info,i=new e.BattleAvatar;i.setAvatar(n.gender),i.setWing(n.wing,1),i.setDecoration(n.orna,1),this._AvatarGroupArr[t].addChild(i.displayGroup),this._AvatarNameArr[t].text=n.name}else this._AvatarNameArr[t].text=""},n.prototype.updateRankState=function(t){this.AvatarGroup.visible=!0,this._UnOpen=!1,this._Interval&&(egret.clearInterval(this._Interval),this._Interval=null),t+1==this._Today?(this._Interval=egret.setInterval(this.showLeftTime,this,1e3),this.showLeftTime()):t+1<this._Today?this.RankState.text=e.Lang.yijieshu:(this.RankState.text=e.Lang.weikaiqi,this.AvatarGroup.visible=!1,this._UnOpen=!0,this.MyRank.text=e.Lang.zanweishangbang)},n.prototype.showLeftTime=function(){var t=e.getNowTime(),n=3600*t.getHours()+60*t.getMinutes()+t.getSeconds();if(1==this._Today&&this._UpdateTime-this._StartTime<this._LowLimitTime){var i=e.getNowTime().getDay()==this.info.start.getDay()?this._UpdateTime:0;this.RankState.text=e.Lang.shengyushijian+":"+e.s2hms(this._UpdateTime-n+i)}else this.RankState.text=e.Lang.shengyushijian+":"+e.s2hms(this._UpdateTime-n)},n.prototype.setInfo=function(){this._ButtonRadioGroup.touchButton(this.ButtonGroup.$children[0]),this._StartTime=this.info.start.getTime()/1e3},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.ActivityComponent);e.QiRiJinSai=t,__reflect(t.prototype,"game.QiRiJinSai")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._RankIconArr=[],e._Rank=0,e.skinName=QiRiJinSaiItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._RankIconArr.length=4,this._RankIconArr[0]="ui/scene/pvp/Icon_jiangbei_1",this._RankIconArr[1]="ui/scene/pvp/Icon_jiangbei_2",this._RankIconArr[2]="ui/scene/pvp/Icon_jiangbei_3",this._RankIconArr[3]="ui/scene/activity/qirijinsai/UI_paimin"},n.prototype.setRank=function(e){this._Rank=e,this.RankImage.source=this._RankIconArr[e-1]},n.prototype.setReward=function(t){var n=e.Data.TSevenDaysCompetition[t],i=[];switch(this._Rank){case 1:i=e.splitStringToNumberArray(n.reward1st);break;case 2:i=e.splitStringToNumberArray(n.reward2nd);break;case 3:i=e.splitStringToNumberArray(n.reward3rd);break;case 4:i=e.splitStringToNumberArray(n.reward4to10)}this.RewardItem1.item={type:i[0][0],count:i[0][1]},this.RewardItem2.item={type:i[1][0],count:i[1][1]},this.RewardItem3.item={type:i[2][0],count:i[2][1]}},n}(e.GameComponent);e.QiRiJinSaiItem=t,__reflect(t.prototype,"game.QiRiJinSaiItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var i=t.call(this)||this;return i.skinName=SelectItemSkin,i.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target&&e.target.showDetail&&e.target.showDetail()},i),i.touchGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.NotificationCenter.getInstance().postNotification(n.SELECT_ITEM,i)},i),i}return __extends(n,t),n.prototype.setItem=function(t,n){this.rewardGroup.removeChildren(),e.Data.TItem[t]?(this.itemIcon||(this.itemIcon=new e.ItemIcon),this.itemIcon.item={type:t,count:n},this.rewardGroup.addChild(this.itemIcon)):e.Data.TElf[t]&&(this.pokemonIcon||(this.pokemonIcon=new e.PokemonIcon),this.pokemonIcon.pokemon=t,this.rewardGroup.addChild(this.pokemonIcon))},n.SELECT_ITEM="SelectItem_SELECT_ITEM",n}(e.GameComponent);e.SelectItem=t,__reflect(t.prototype,"game.SelectItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.timeInterval=null,e.skinName=ShanGuangJingLingSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.detailButton.label=e.Lang.xiangqing,this.rechargeButton.bg="ui/scene/activity/btn_11",this._touchEvent=[{target:this.rechargeButton,callBackFunc:this.rechargeHandle},{target:this.detailButton,callBackFunc:this.showDetail}],this.addEventAndNotify(),this.artPokemon=new e.TeamArtPokemon,this.pokemonGroup.addChild(this.artPokemon.display)},n.prototype.showDetail=function(){var t=e.PokemonDetail.getInstance();t.setCurrentPokemon(this.rewardPokemon),t.show()},n.prototype.rechargeHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a;return __generator(this,function(o){switch(o.label){case 0:for(t=e.DataManager.playerModel.getActivityInfo().eventInfo.flashElf,n=t.spent,i=!1,a=0;a<t.states.length;a++)if(t.states[a].count==this.flashData.Money){i=!0;break}return!i&&n>=this.flashData.Money?[4,e.DataManager.playerModel.getFlashElfReward(this.flashData)]:[3,2];case 1:return o.sent(),this.updateButton(),e.ActivityPanel.updateCurrentIconPoint(),[3,3];case 2:e.navPanel(15),o.label=3;case 3:return[2]}})})},n.prototype.setInfo=function(){if(this.flashData=e.Data.TFlashElf[1],this.flashData){this.setTime();var t=e.splitStringToNumberArray(this.flashData.RewardList,";");this.rewardPokemon=t[0],this.artPokemon.setPokemon(t[0],!1);var n=e.DataManager.playerModel.getActivityInfo().eventInfo.flashElf.spent;this.rechargeLabel.text=n+"/"+this.flashData.Money,this.updateButton(),this.artPokemon.play(1,null)}},n.prototype.updateButton=function(){for(var t=e.DataManager.playerModel.getActivityInfo().eventInfo.flashElf,n=t.spent,i=!1,a=0;a<t.states.length;a++)if(t.states[a].count==this.flashData.Money){i=!0;break}this.rechargeButton.touchEnabled=!0,i?(this.rechargeButton.image="ui/scene/activity/Tx_yilingqu",this.rechargeButton.touchEnabled=!1):n>=this.flashData.Money?this.rechargeButton.image="ui/scene/activity/Tx_lingqu":this.rechargeButton.image="ui/scene/activity/Tx_chongzhi"},n.prototype.setTime=function(){var t=this,n=function(){var n=e.getNowTime(),i=t.info.end,a=.001*(i.getTime()-n.getTime());t.timeLabel.text=e.Lang.shengyushijian+":  "+e.s2hms(a)};n(),this.timeInterval=egret.setInterval(function(){n()},this,1e3)},n.prototype.onRemove=function(){this.artPokemon.stop(),null!=this.timeInterval&&egret.clearInterval(this.timeInterval)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.ActivityComponent);e.ShanGuangJingLing=t,__reflect(t.prototype,"game.ShanGuangJingLing")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.timeInterval=null,e.skinName=ShenShouJiangLinSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.artPokemon=new e.TeamArtPokemon,this.artPokemonGroup.addChild(this.artPokemon.display),this.rechargeButton.image="ui/scene/activity/Tx_chongzhi",this.rechargeButton.bg="ui/scene/activity/btn_11",this._touchEvent=[{target:this.rechargeButton,callBackFunc:this.rechargeHandle}],this.addEventAndNotify()},n.prototype.rechargeHandle=function(){e.DataManager.playerModel.getActivityInfo().eventInfo.shenShou.state?e.showTips(e.Lang.ninyigoumai,!0):SDK.recharge(12)},n.prototype.setInfo=function(){for(var t=e.splitStringToNumberArray(e.Data.THuoRedElf[1].Item),n=0;n<t.length;n++){var i=t[n];if(e.Data.TElf[i[0]]){this.artPokemon.setPokemon(i[0],!1);break}}this.setTime()},n.prototype.onRemove=function(){this.artPokemon.stop(),null!=this.timeInterval&&egret.clearInterval(this.timeInterval)},n.prototype.setTime=function(){var t=this,n=function(){var n=e.getNowTime(),i=t.info.end,a=.001*(i.getTime()-n.getTime());t.timeLabel.text=e.Lang.shengyushijian+":  "+e.s2hms(a)};n(),this.timeInterval=egret.setInterval(function(){n()},this,1e3)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.ActivityComponent);e.ShenShouJiangLin=t,__reflect(t.prototype,"game.ShenShouJiangLin")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName=ShenShouTaskSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showDetail,this),this.numLabel.text=e.DataManager.playerModel.getItemCount(this.itemid)+"",this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.UpdateShenshouInfo,notifyName:e.PlayerModel.ITEM_UPDATE,execute:!1}],this.addEventAndNotify(),this.initList()},i.prototype.update=function(){this.UpdateShenshouInfo()},i.prototype.showDetail=function(e){e.target&&e.target.showDetail&&e.target.showDetail()},i.prototype.initList=function(){this.itemGroup.removeChildren();for(var t in e.Data.THuoRedElfTaskShop){var i=(e.Data.THuoRedElfTaskShop[t],new n);i.setData(e.Data.THuoRedElfTaskShop[t],Number(t)-1),this.itemGroup.addChild(i),i.update(!1)}this.setTime()},i.prototype.UpdateShenshouInfo=function(){return __awaiter(this,void 0,void 0,function(){var t,i;return __generator(this,function(a){this.numLabel.text=e.DataManager.playerModel.getItemCount(18101)+"";for(t in e.Data.THuoRedElfTaskShop)i=new n,i.setData(e.Data.THuoRedElfTaskShop[t],Number(t)-1),i.update(!1);return this.setTime(),[2]})})},i.prototype.setTime=function(){var t=new Date,n=t.getDay();n=1-n,0>=n&&(n+=7);var i=new Date(t.getFullYear(),t.getMonth(),t.getDate()+n);this.timeLabel.text=e.sDhm((i.getTime()-t.getTime())/1e3)},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.GameComponent);e.ShenShouTaskPanel=t,__reflect(t.prototype,"game.ShenShouTaskPanel");var n=function(t){function n(){var e=t.call(this)||this;return e.canBuy=!1,e.skinName=ShenShouTaskItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.okButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.okHandle,this),this.pokemonAnim=new e.SequenceImage,this.okButton.bg="ui/scene/activity/btn_12",this.okButton.lock=!0,this.okButton.image="ui/scene/exchange/duihuan"},n.prototype.setData=function(t,n){this.data=t;var i=e.DataManager.playerModel.JLDSTaskInfo.items[n];if(2!=this.data.refreshStyle)this.rewardIcon.visible=!0,this.pokemonIconGroup.visible=!1,this.rewardIcon.item={type:i.type,count:i.count};else{this.rewardIcon.visible=!1,this.pokemonIconGroup.visible=!0,this.pokemonName.text=e.Data.TElf[i.type].name;var a=e.Data.TElf[i.type].attribute,o=void 0,s=e.Data.TElf[i.type].quality;o=e.Data.TElf[i.type].attribute2?e.Data.TElf[i.type].attribute2:0,6==s&&(this.gradeDisplay.source="icon/pokemon/q"+s),this.setPokemonIconData(a,o,i.type)}this.rewardIcon.item={type:i.type,count:i.count},this.countLimit=this.data.countLimit,this.goodsId=this.data.id,this.moneyLabel.text=e.splitStringToNumberArray(t.money,";")[1],this.needBeastTicket=e.splitStringToNumberArray(t.money,";")[1],this.limitLabel.text=":"+e.DataManager.playerModel.extension.beastCountLimit[this.goodsId-1]+"/"+this.countLimit,this.update(!1)},n.prototype.setPokemonIconData=function(e,t,n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return this.typeImage.source="icon/skillType/"+e,0==t?this.typeImage2.visible=!1:(this.typeImage2.visible=!0,this.typeImage2.source="icon/skillType/"+t),[4,this.pokemonAnim.setData({delay:200,size:{row:4,col:4},resource:"anim/pokemon/"+n})];case 1:return i.sent(),this.pokemonGroup.addChild(this.pokemonAnim.display),this.pokemonAnim.play(1),this.pokemonAnim.stop(),[2]}})})},n.prototype.update=function(t){var n=e.DataManager.playerModel.getItemCount(18101),i=e.DataManager.playerModel.extension.beastCountLimit[this.goodsId-1];if(n<this.needBeastTicket)t&&e.showTips(e.Lang.nindedaojubuzu,!0),this.canBuy=!1,this.okButton.lock=!1;else if(1>i)t&&e.showTips(e.Lang.nindecishubuzu,!0),this.canBuy=!1,this.okButton.lock=!this.canBuy;else if(this.canBuy=!0,this.okButton.lock=!this.canBuy,t){var a={type:18101,count:this.needBeastTicket};e.DataManager.playerModel.BuyBeastShop(this.goodsId,a),e.DataManager.playerModel.extension.beastCountLimit[this.goodsId-1]-=1;var o=e.DataManager.playerModel.extension.beastCountLimit[this.goodsId-1];this.limitLabel.text=":"+o+"/"+this.countLimit,2==this.data.refreshStyle&&e.showTips(e.Lang.duihuanchenggong,!1),1>o&&(this.okButton.lock=!0)}},n.prototype.okHandle=function(){this.update(!0),this.update(!1)},n}(e.GameComponent);e.ShenShouTaskItem=n,__reflect(n.prototype,"game.ShenShouTaskItem")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e._itemList=[],e.skinName=ShiLianFuLiSkin,e.init(),e}return __extends(i,t),i.prototype.setInfo=function(){this.setTime();var t=0;this.itemGroup.removeChildren();for(var i in e.Data.TDecennium){var a=this._itemList[t];a||(a=new n,this._itemList[t]=a),a.setData(e.Data.TDecennium[i]),this.itemGroup.addChild(a),a.update(),t++}},i.prototype.init=function(){},i.prototype.setTime=function(){var t=e.formatTime(this.info.start,"yyyy.MM.dd"),n=e.formatTime(this.info.end,"yyyy.MM.dd");this.timeLabel.text=t+"-"+n},i.prototype.onRemove=function(){this.timeInterval&&egret.clearInterval(this.timeInterval)
},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.ActivityComponent);e.ShiLianFuLiPanel=t,__reflect(t.prototype,"game.ShiLianFuLiPanel");var n=function(t){function n(){var e=t.call(this)||this;return e.skinName=ShiLianFuLiItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.okButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.okHandle,this),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target&&e.target.showDetail&&e.target.showDetail()},this),this.okButton.bg="ui/scene/activity/btn_12",this.okButton.lock=!0,this.okButton.image="ui/scene/activity/Tx_weidacheng"},n.prototype.okHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.GetTDecenniumGift(this.data)];case 1:return t.sent(),this.update(),e.ActivityPanel.updateCurrentIconPoint(),[2]}})})},n.prototype.setData=function(t){this.data=t;var n=e.DataManager.playerModel.getActivityInfo().eventInfo.tdecennium;this.titleLabel.text=e.formatString(e.Lang.leijishilianchou,this.data.draws),this.limitLabel.text="("+n.number+"/"+this.data.draws+")";var i=e.splitStringToNumberArray(this.data.award);this.rewardGroup.removeChildren();for(var a=0;a<i.length;a++){var o=i[a];if(e.Data.TElf[o[0]]){var s=new e.PokemonIcon;s.pokemon=o[0],this.rewardGroup.addChild(s)}else{var s=new e.ItemIcon;s.item={type:o[0],count:o[1]},this.rewardGroup.addChild(s)}}},n.prototype.update=function(){var t=e.DataManager.playerModel.getActivityInfo().eventInfo.tdecennium;this.titleLabel.text=e.formatString(e.Lang.leijishilianchou,this.data.draws),t.states.indexOf(this.data.id)>-1?this.removeFromParent():(t.number>=this.data.draws?(this.okButton.touchEnabled=!0,this.okButton.lock=!1,this.okButton.image="ui/scene/activity/Tx_lingqu",this.limitLabel.textColor=5884236):(this.okButton.touchEnabled=!1,this.limitLabel.textColor=16776389),this.limitLabel.text="("+t.number+"/"+this.data.draws+")")},n}(e.GameComponent);e.ShiLianFULiItem=n,__reflect(n.prototype,"game.ShiLianFULiItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemIcon=[],e.skinName=ShouChongSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.rechargeButton.image="ui/scene/activity/Tx_chongzhi",this.rechargeButton.bg="ui/scene/activity/btn_11",this._pokemon=new e.TeamArtPokemon,this.animGroup.addChild(this._pokemon.display),this._pokemon.setScale(1.5),this.rechargeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.navPanel(15)},this),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t.showDetail()},this)},n.prototype.setInfo=function(){for(var t,n=e.splitStringToNumberArray(e.Data.THuoRechargeFrist[1].Item),i=[],a=0;a<n.length;a++){var o=n[a];e.Data.TElf[o[0]]?t=o[0]:i.push(o)}this._pokemon.setPokemon(t,!0),this._pokemon.play(1),this.itemGroup.removeChildren();for(var a=0;a<i.length;a++){var s=this._itemIcon[a];s||(s=new e.ItemIcon,this._itemIcon[a]=s),s.item={type:i[a][0],count:i[a][1]},this.itemGroup.addChild(s)}},n.prototype.onRemove=function(){this._pokemon.stop()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.ActivityComponent);e.ShouChong=t,__reflect(t.prototype,"game.ShouChong")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var n=t.call(this)||this;return n._itemList=[],n.skinName=SiShiJiuLiBaoSkin,n.init(),n.diamondLabel.text=e.Constants.Recharge49,n}return __extends(i,t),i.prototype.setInfo=function(){this._pokemonType=null,this.detailButton.visible=!1;var t=e.Data.TRecharge49[1];if(t&&t.preview){var i=e.splitStringToNumberArray(t.preview,";")[0];this._pokemonType=i,this.artPokemon.setPokemon(i,!1)}this._pokemonType&&(this.detailButton.visible=!0);var a=0;this.itemGroup.removeChildren();for(var o in e.Data.TRecharge49){var s=this._itemList[a];s||(s=new n,this._itemList[a]=s),s.setData(e.Data.TRecharge49[o],this),this.itemGroup.addChild(s),s.update(),a++}this.updateButton(),this.timeLabel.text="活动时间:"+e.formatTime(this.info.start,"yyyy.MM.dd")+"- "+e.formatTime(this.info.end,"yyyy.MM.dd"),e.isIos()?this.bg.source="ui/scene/activity/110_ios":this.bg.source="ui/scene/activity/110"},i.prototype.init=function(){this.detailButton.icon="ui/scene/book/xiangqing",this.rechargeButton.image="ui/scene/activity/Tx_chongzhi",this.rechargeButton.bg="ui/scene/activity/btn_11",this.rechargeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.rechargeHandle,this),this.artPokemon=new e.TeamArtPokemon,this.artPokemonGroup.addChild(this.artPokemon.display),this.detailButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.detailHandle,this)},i.prototype.detailHandle=function(){if(this._pokemonType){var t=e.PokemonDetail.getInstance();t.setCurrentPokemon(this._pokemonType),t.show()}},i.prototype.rechargeHandle=function(){SDK.recharge(13)},i.prototype.selectReward=function(t){var n=this,i=e.DataManager.playerModel.getActivityInfo().eventInfo.dailyRechargeGift;if(i.states.length>0)this.removeFromParent();else if(i.spend>=t.data.Price){var a=e.CheckPanel.getInstance();a.setData(e.Lang.ninquedingyaoxuanzedangqianlibaoma,function(i){return __awaiter(n,void 0,void 0,function(){var n;return __generator(this,function(a){switch(a.label){case 0:return i?[4,e.DataManager.playerModel.getDailyRechargeGiftReward(t.data)]:[3,2];case 1:for(a.sent(),n=0;n<this._itemList.length;n++)this._itemList[n].update();this.updateButton(),e.ActivityPanel.updateCurrentIconPoint(),a.label=2;case 2:return[2]}})})}),a.show()}else e.showTips(e.Lang.ninweigoumaidangqianlibao,!0)},i.prototype.updateButton=function(){var t=e.DataManager.playerModel.getActivityInfo().eventInfo.dailyRechargeGift;t.states.length>0?this.rechargeButton.visible=!1:this.rechargeButton.visible=!0},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.ActivityComponent);e.SiShiJiuLiBao=t,__reflect(t.prototype,"game.SiShiJiuLiBao");var n=function(t){function n(){var e=t.call(this)||this;return e.skinName=SiShiJiuLiBaoItemSkin,e.confirmButton.image="ui/scene/activity/Tx_lingqu",e.confirmButton.bg="ui/scene/activity/btn_12",e.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t.showDetail&&t.showDetail()},e),e.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,e.confirmHandle,e),e}return __extends(n,t),n.prototype.confirmHandle=function(){this.mainPanel.selectReward(this)},n.prototype.setData=function(t,n){this.mainPanel=n,this.data=t,this.rewardGroup.removeChildren();for(var i=e.splitStringToNumberArray(t.RewardList),a=0;a<i.length;a++){var o=i[a];if(e.Data.TElf[o[0]]){var s=new e.PokemonIcon;s.pokemon=o[0],this.rewardGroup.addChild(s)}else{var r=new e.ItemIcon;r.item={type:o[0],count:o[1]},this.rewardGroup.addChild(r)}}},n.prototype.update=function(){var t=e.DataManager.playerModel.getActivityInfo().eventInfo.dailyRechargeGift;t.states.length>0?this.removeFromParent():t.spend>=this.data.Price?this.confirmButton.lock=!1:this.confirmButton.lock=!0},n}(e.GameComponent);e.SiShiJiuLiBaoItem=n,__reflect(n.prototype,"game.SiShiJiuLiBaoItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._YF=new e.SequenceImage,n._point=!1,n.skinName=SongFuZhuangSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=Number(e.Constants.testRewardId),[4,this._YF.setData({delay:150,size:{col:4,row:4},resource:"anim/role/"+t})];case 1:return n.sent(),this.yfGroup.addChild(this._YF.display),[2]}})})},Object.defineProperty(n.prototype,"point",{get:function(){return this._point},enumerable:!0,configurable:!0}),n.prototype.setInfo=function(){this._point=!0,this._YF.play(1,0)},n.prototype.onRemove=function(){this._YF.stop()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.ActivityComponent);e.SongFuZhuang=t,__reflect(t.prototype,"game.SongFuZhuang")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.timeInterval=null,e.rewardList=[],e.skinName=SuiPianBossSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._price=e.splitStringToNumberArray(e.Constants.HuoBOSSPrice,";"),this._addPrice=e.splitStringToNumberArray(e.Constants.HuoBOSSAddPrice,";"),this.artPokemon=new e.TeamArtPokemon,this.artPokemonGroup.addChild(this.artPokemon.display),this.confirmButton.image="langs/kaishizhandou",this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target.showDetail()},this),this._touchEvent=[{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.addCountButton,callBackFunc:this.addCountHandle}],this.addEventAndNotify()},n.prototype.confirmHandle=function(){return e.DataManager.playerModel.getActivityInfo().eventInfo.acBattle.aBUC<=0?void e.showTips(e.Lang.nindecishubuzu,!0):e.getNowTime().getTime()>=this.info.end.getTime()?void e.showTips(e.Lang.huodongyijieshu,!0):(e.DataManager.playerModel.enterActivityBoss(),this.updateCount(),void this.battleHandle())},n.prototype.battleHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),t=e.BattleScene.getInstance(),t.activityBossData=this.bossData,[4,t.initBattle(10)];case 1:return n.sent(),e.hideWaitPanel(),e.GameLayer.battleLayer.addChild(t),t.run(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),[2]}})})},n.prototype.endBattle=function(){e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!0,e.NotificationCenter.getInstance().removeObserver(this,e.BattleScene.QUIT_BATTLE)},n.prototype.addCountHandle=function(){var t=this,n=e.DataManager.playerModel.getActivityInfo(),i=n.eventInfo.acBattle.aBBC,a=this._price[1]+i*this._addPrice[1],o=e.CheckPanel.getInstance();o.setData(e.formatString(e.Lang.ninquedingyaohuafeiduoshaozuanshigoumaiyicitiaozhancishu,a),function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n?e.DataManager.playerModel.getItemCount(this._price[0])>=a?[4,e.DataManager.playerModel.buyActivityBossCount(a)]:[3,2]:[3,3];case 1:return t.sent(),this.updateCount(),[3,3];case 2:e.showTips(e.Lang.nindehuobibuzu,!0),t.label=3;case 3:return[2]}})})}),o.show()},n.prototype.setInfo=function(){if(this.setTime(),this.bossData=e.Data.THuoZhandou[this.info.p0],this.bossData){this.artPokemon.setPokemon(this.bossData.elfShow,!1),this.rewardGroup.removeChildren();for(var t=e.splitStringToNumberArray(this.bossData.lootPreview,";"),n=0;n<t.length;n++){var i=this.rewardList[n];i||(i=new e.ItemIcon,this.rewardList[n]=i),i.item={type:t[n],count:0},this.rewardGroup.addChild(i)}}this.updateCount()},n.prototype.updateCount=function(){this.remainCountLabel.text=e.Lang.cishu+": "+e.DataManager.playerModel.getActivityInfo().eventInfo.acBattle.aBUC},n.prototype.setTime=function(){var t=this,n=function(){var n=e.getNowTime(),i=t.info.end,a=.001*(i.getTime()-n.getTime());t.timeLabel.text=e.Lang.shengyushijian+":  "+e.s2hms(a)};n(),this.timeInterval=egret.setInterval(function(){n()},this,1e3)},n.prototype.onRemove=function(){this.artPokemon.stop(),null!=this.timeInterval&&egret.clearInterval(this.timeInterval)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.ActivityComponent);e.SuiPianBoss=t,__reflect(t.prototype,"game.SuiPianBoss")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e._rewardItemList=[],e.skinName=TianTianYouLiSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this.rechargeButton.image="ui/scene/activity/Tx_chongzhi",this.rechargeButton.bg="ui/scene/activity/btn_11",this.rechargeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.rechargeHandle,this);for(var t in e.Data.TEverydayRecharge){var i=new n;i.setData(e.Data.TEverydayRecharge[t]),this.rewardGroup.addChild(i),this._rewardItemList.push(i)}},i.prototype.rechargeHandle=function(){e.navPanel(15)},i.prototype.updateInfo=function(){var t=e.DataManager.playerModel.getActivityInfo().eventInfo.everyday;this.totalCountLabel.textFlow=[{text:""+t.number,style:{textColor:gameConfig.TextColors.yellow}},{text:" 天"}],this.timeLabel.textFlow=[{text:"活动时间: "},{text:e.formatTime(this.info.start,"MM月dd日")+"-"+e.formatTime(this.info.end,"MM月dd日"),style:{textColor:gameConfig.TextColors.yellow}}];for(var n=0;n<this._rewardItemList.length;n++)this._rewardItemList[n].updateInfo(t)},i.prototype.setInfo=function(){this.updateInfo()},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.ActivityComponent);e.TianTianYouLi=t,__reflect(t.prototype,"game.TianTianYouLi");var n=function(t){function n(){var e=t.call(this)||this;return e.skinName=TianTianYouLiItemSkin,e.confirmButton.bg="ui/scene/activity/btn_12",e.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchItem,e),e.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,e.confirmHandle,e),e}return __extends(n,t),n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.getEveryDayReward(this.itemData)];case 1:return t.sent(),this.updateInfo(e.DataManager.playerModel.getActivityInfo().eventInfo.everyday),[2]}})})},n.prototype.touchItem=function(e){var t=e.target;t.showDetail&&t.showDetail()},n.prototype.setData=function(t){this.itemData=t,this.title.source="langs/tiantianchongzhi_"+t.id,this.rewardGroup.removeChildren();for(var n=e.splitStringToNumberArray(t.Item),i=0;i<n.length;i++){var a=n[i],o=new e.ItemIcon;o.item={type:a[0],count:a[1]},this.rewardGroup.addChild(o)}},n.prototype.updateInfo=function(e){e.receive.indexOf(this.itemData.id)>-1?(this.confirmButton.image="ui/scene/activity/Tx_yilingqu",this.confirmButton.lock=!0,this.confirmButton.touchEnabled=!1):0==this.itemData.time?e.record>0&&e.everyRecharge>this.itemData.doses?(this.confirmButton.image="ui/scene/activity/Tx_lingqu",this.confirmButton.lock=!1,this.confirmButton.touchEnabled=!0):(this.confirmButton.lock=!0,this.confirmButton.image="ui/scene/activity/Tx_weidacheng",this.confirmButton.touchEnabled=!1):e.number>=this.itemData.time&&e.sumRecharge>this.itemData.doses?(this.confirmButton.lock=!1,this.confirmButton.image="ui/scene/activity/Tx_lingqu",this.confirmButton.touchEnabled=!0):(this.confirmButton.lock=!0,this.confirmButton.image="langs/lingqu2",this.confirmButton.touchEnabled=!1)},n}(e.GameComponent);e.TianTianYouLiItem=n,__reflect(n.prototype,"game.TianTianYouLiItem")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e._rewardList=[],e.skinName=VipMeiRiLiBaoSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeHandle,this);for(var t in e.Data.THuoVipfuli){var i=new n;i.setData(e.Data.THuoVipfuli[t]),this._rewardList.push(i),this.rewardGroup.addChild(i)}},i.prototype.closeHandle=function(){e.removePopUp(this)},i.prototype.onShow=function(){var t=0;this.rewardGroup.removeChildren();for(var i in e.Data.THuoVipfuli){var a=this._rewardList[t];a||(a=new n,this._rewardList[t]=a),a.setData(e.Data.THuoVipfuli[i]),this.rewardGroup.addChild(a),a.update(),t++}},Object.defineProperty(i.prototype,"point",{get:function(){for(var t in e.Data.THuoVipfuli){var n=e.Data.THuoVipfuli[t];if(e.DataManager.playerModel.extension.dVipGift.indexOf(n.id)<0&&e.DataManager.playerModel.playerVip>=n.vipLevel)return!0}return!1},enumerable:!0,configurable:!0}),i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.PanelComponent);e.VipMeiRiLiBao=t,__reflect(t.prototype,"game.VipMeiRiLiBao");var n=function(t){function n(){var n=t.call(this)||this;return n.skinName=VipMeiRiLiBaoItemSkin,n.confirmButton.bg="ui/scene/activity/btn_12",n.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){return __awaiter(n,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.GetDailyVipGift(this.data.id)];case 1:return t.sent(),this.update(),e.PlayerVipPanel.getInstance().updatePoint(),[2]}})})},n),n}return __extends(n,t),n.prototype.setData=function(t){this.data=t,this.vipLabel.text="VIP"+t.vipLevel,this.rewardGroup.removeChildren();for(var n=e.splitStringToNumberArray(t.rewardList),i=0;i<n.length;i++){var a=n[i],o=new e.ItemIcon;o.item={type:a[0],count:a[1]},this.rewardGroup.addChild(o)}},n.prototype.update=function(){this.confirmButton.touchEnabled=!1;var t=e.DataManager.playerModel.extension.dVipGift;t.indexOf(this.data.id)>-1?this.removeFromParent():e.DataManager.playerModel.playerVip>=this.data.vipLevel?(this.confirmButton.lock=!1,this.confirmButton.image="ui/scene/activity/Tx_lingqu",this.confirmButton.touchEnabled=!0):(this.confirmButton.lock=!0,this.confirmButton.image="ui/scene/activity/Tx_weidacheng")},n}(e.GameComponent);e.VipMeiRiLiBaoItem=n,__reflect(n.prototype,"game.VipMeiRiLiBaoItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=WanShengJieSkin,e._touchEvent=[{target:e.closeButton,callBackFunc:e.closeHandle},{target:e.goButton,callBackFunc:e.goHandle}],e.addEventAndNotify(),e.init(),e}return __extends(n,t),n.prototype.init=function(){this.goButton.icon="ui/scene/idle/wanshengjieBtn";var t="[#FACB77]    我们在商店的狂欢专场，为训练师们准备了无数的丰厚礼品哦！他们不但全场价格优惠，而且还有很多限量版的道具哦！\n    我们每日会推出4批秒杀商品！分别在[#00d2ff]2:00~8:00，8:00~14:00，14:00~20:00，20:00~次日2:00[#FACB77]更新\n    [#00d2ff]10/30~11/5每晚的20:00会出现超级优惠的绝版道具！！！[#FACB77]同时训练师们也可以通过活动获得的“专场提货券”免费领取哦！\n    在11/6，狂欢将进入巅峰，全天都会推出绝版道具！！！训练师们不要错过哦！";this.talkGroup.removeChildren(),this.talkText=e.createColorText(t),this.talkText.strokeColor=0,this.talkText.width=450,this.talkText.x=0,this.talkText.y=0,this.talkText.size=25,this.talkGroup.addChild(this.talkText)},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.goHandle=function(){this.closeHandle(),e.navPanel(7)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.WanShengJiePanel=t,__reflect(t.prototype,"game.WanShengJiePanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemIcon=[],e.skinName=XiaoFeiDaXuePinSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.infoButton.icon="ui/scene/activity/123_info",this.infoButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.infoShow,this),this.rewardGroup0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showDetail,this),this.rewardGroup1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showDetail,this),this.rewardGroup2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showDetail,this),this.rewardGroup3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showDetail,this),this.canClick=!0},n.prototype.showDetail=function(e){e.target&&e.target.showDetail&&e.target.showDetail()},n.prototype.setReward=function(){for(var t=[this.rewardGroup0,this.rewardGroup1,this.rewardGroup2,this.rewardGroup3],n=0,i=0;i<t.length;i++){var a=e.Data.THuoConsumption[i+1];if(a){t[i].removeChildren();for(var o=a.Item.split("|"),s=0;s<o.length;s++){var r=e.splitStringToNumberArray(o[s],";"),u=this._itemIcon[n];u||(u=new e.ItemIcon,this._itemIcon[n]=u),u.item={type:r[0],count:r[1]},u.scaleX=u.scaleY=.8,t[i].addChild(u),n++}}}},n.prototype.infoShow=function(){e.XiaoFeiDaXuePinInfo.getInstance().show(),e.XiaoFeiDaXuePinInfo.getInstance().setList(8)},n.prototype.setLabel=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(a){switch(a.label){case 0:return[4,e.DataManager.playerModel.getRankList(8)];case 1:return t=a.sent().ranks,n=e.FirstOrDefault(t,function(t){var n=t.info;return n.id.pid==e.DataManager.playerModel.pid&&n.id.sid==e.DataManager.playerModel.sid?!0:void 0}),n?(this.countLabel.text=n.value.toString(),this.rankLabel.text=n.rank.toString()):(i=e.DataManager.playerModel.getActivityInfo().eventInfo.consumption.amount,this.countLabel.text=i.toString(),this.rankLabel.text=e.Lang.zanweishangbang),[2]}})})},n.prototype.setInfo=function(){this.setReward(),this.canClick=!1,this.setTime(),this.setLabel()},n.prototype.onRemove=function(){this.timeInterval&&egret.clearInterval(this.timeInterval)},n.prototype.setTime=function(){var t=this,n=function(){var n=e.getNowTime(),i=t.info.end,a=.001*(i.getTime()-n.getTime());t.timeLabel.text="剩余时间："+e.sDh(a)};n(),this.timeInterval=egret.setInterval(function(){n()},this,1e3)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.ActivityComponent);e.XiaoFeiDaBiPin=t,__reflect(t.prototype,"game.XiaoFeiDaBiPin")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName=XiaoFeiDaXuePinInfoSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeHandle,this)},i.prototype.setList=function(t){return __awaiter(this,void 0,void 0,function(){var i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:return[4,e.DataManager.playerModel.getRankList(t)];case 1:for(i=r.sent(),a=i.ranks,this.itemGroup.removeChildren(),o=0;o<a.length;o++)s=new n,s.setData(a[o],t),this.itemGroup.addChild(s);return this.noneLabel.visible=a.length<=0,[2]}})})},i.prototype.closeHandle=function(){e.removePopUp(this)},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.PanelComponent);e.XiaoFeiDaXuePinInfo=t,__reflect(t.prototype,"game.XiaoFeiDaXuePinInfo");var n=function(t){function n(){var e=t.call(this)||this;return e.skinName=XiaoFeiDaXuePinInfoItemSkin,e}return __extends(n,t),n.prototype.setData=function(t,n){switch(this.itemIcon.visible=!1,n){case 13:this.itemIcon.visible=!0,this.descLabel.text=e.Lang.xiaofeizuanshi;break;case 8:this.itemIcon.visible=!0;break;case 2:this.descLabel.text=e.Lang.jingjipaiming;break;case 14:this.descLabel.text=e.Lang.zanzhuedu;break;case 1:this.descLabel.text=e.Lang.tongguanshuliang;break;case 15:this.descLabel.text=e.Lang.xiliancishu;break;case 16:this.descLabel.text=e.Lang.dazaocishu;break;case 0:this.descLabel.text=e.Lang.zhandoulizhi}this.rankLabel.text=t.rank.toString(),this.nameLabel.text=t.info.name,2==n?this.countLabel.text=t.rank.toString():this.countLabel.text=t.value.toString()},n}(e.GameComponent);e.XiaoFeiDaXuePinInfoItem=n,__reflect(n.prototype,"game.XiaoFeiDaXuePinInfoItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._okState=0,n._ybList=[],n._dslList=[],n._JLD=new e.TeamArtPokemon,n._loadAnim=!1,n.skinName=XinShouChongSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.tabButton1.image="langs/Tx_chaozhisc",this.tabButton2.image="langs/Tx_haohuasc",this.tabButton3.image="langs/Tx_zhizunsc",this.petDetailButton.icon="ui/scene/book/xiangqing",this.okButton.bg="ui/scene/activity/btn_11",this.okButton.image="ui/scene/activity/Tx_chongzhi",this.okButton.isEffect=!0,this._touchEvent=[{target:this.okButton,callBackFunc:this.okHandle},{target:this.tabButton1,callBackFunc:this.tabHandle},{target:this.tabButton2,callBackFunc:this.tabHandle},{target:this.tabButton3,callBackFunc:this.tabHandle},{target:this.petDetailButton,callBackFunc:this.detailHandle},{target:this.itemGroup,callBackFunc:this.detailHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.setOkButton,notifyName:e.PlayerModel.PLAYER_RECHARGE,execute:!1}],this.tabButton1.bg="ui/common/button/btn_01",this.tabButton2.bg="ui/common/button/btn_02",this.tabButton3.bg="ui/common/button/btn_03",this.addEventAndNotify(),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target&&e.target.showDetail&&e.target.showDetail()},this),this.loadAnimation(),[2]})})},n.prototype.loadAnimation=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,n,i,a;return __generator(this,function(u){for(t=e.Data.TPrimeCharge[1].preview.split("|"),n=0;n<t.length;n++)i=this["ybGroup"+n],i&&(this._ybList[n]=new e.TeamArtPokemon,a=e.splitStringToNumberArray(t[n],";")[0],this._ybList[n].setPokemon(a,!0),i.addChild(this._ybList[n].display));for(o=e.splitStringToNumberArray(e.Data.TPrimeCharge[2].preview.split("|")[0],";")[0],s=e.Data.TElf[o],this._jldData=s,this._JLD.setPokemon(o,!0),r=e.Data.TPrimeCharge[3].preview.split("|"),n=0;n<r.length;n++)i=this["dslGroup"+n],i&&(this._dslList[n]=new e.TeamArtPokemon,a=e.splitStringToNumberArray(r[n],";")[0],this._dslList[n].setPokemon(a,!0),i.addChild(this._dslList[n].display));return this._loadAnim=!0,this.tabHandle(this.tabButton1),[2]})})},n.prototype.tabHandle=function(t){this._tabButton=t,this.tabGroup1.visible=this._tabButton==this.tabButton1,this.tabGroup2.visible=this._tabButton==this.tabButton2,this.tabGroup3.visible=this._tabButton==this.tabButton3;var n=[this.tabButton1,this.tabButton2,this.tabButton3].indexOf(this._tabButton)+1;this.bg.source="ui/scene/activity/124_bg"+n,this._data=e.Data.TPrimeCharge[n],this.showPreView(),this.showItem(),this.setOkButton()},n.prototype.showItem=function(){this.itemGroup.removeChildren();for(var t=this._data.Item.split("|"),n=1;n<t.length;n++){1==this._data.ID&&1==n&&n++;var i=e.splitStringToNumberArray(t[n],";"),a=new e.ItemIcon;a.item={type:i[0],count:i[1]},this.itemGroup.addChild(a)}},n.prototype.showPreView=function(){switch(this.stopAnim(),this.jwGroup.removeChildren(),this._data.ID){case 1:for(var e=0;e<this._ybList.length;e++)this._ybList[e].play(1,0);break;case 2:this.detailGroup.x=20,this._jldData&&(this.hpLabel.text=this._jldData.hp.toString(),this.atkLabel.text=this._jldData.atk.toString(),this.defLabel.text=this._jldData.def.toString(),this.spAtkLabel.text=this._jldData.atkSp.toString(),this.spDefLabel.text=this._jldData.defSp.toString(),this.speedLabel.text=this._jldData.spe.toString(),this.totalLabel.text=(this._jldData.hp+this._jldData.atk+this._jldData.def+this._jldData.atkSp+this._jldData.defSp+this._jldData.spe).toString()),this.jwGroup.addChild(this._JLD.display),this._JLD.play(1,0);break;case 3:for(var e=0;e<this._dslList.length;e++)this._dslList[e].play(1,0)}},n.prototype.setOkButton=function(){var t=e.DataManager.playerModel.getActivityInfo().eventInfo.primeCharge;t.states.indexOf(this._data.ID-1)>-1?(this._okState=2,this.okButton.image="ui/scene/activity/Tx_yilingqu",this.okButton.isEffect=!1):1==this._data.ID?t.recharged?(this._okState=1,this.okButton.image="u/scene/activity/Tx_lingqu",this.okButton.isEffect=!1):(this._okState=0,this.okButton.image="ui/scene/activity/Tx_chongzhi",this.okButton.isEffect=!0):t.sumRecharge>=this._data.doses?(this._okState=1,this.okButton.image="ui/scene/activity/Tx_lingqu",this.okButton.isEffect=!1):(this._okState=0,this.okButton.image="ui/scene/activity/Tx_chongzhi",this.okButton.isEffect=!0)},n.prototype.okHandle=function(){switch(this._okState){case 0:e.navPanel(15);break;case 1:this.rewardHandle();break;case 2:e.showTips(e.Lang.yilingqu,!0)}},n.prototype.rewardHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.getXinShouChongReward(this._data.ID-1)];case 1:return t.sent(),[2]}})})},n.prototype.upDate=function(){this.tabHandle(this._tabButton)},n.prototype.detailHandle=function(){var t=e.PokemonDetail.getInstance(),n=e.splitStringToNumberArray(this._data.preview.split("|")[0],";")[0];t.setCurrentPokemon(n),t.show()},n.prototype.stopAnim=function(){for(var e=0;e<this._ybList.length;e++)this._ybList[e].stop();for(var e=0;e<this._dslList.length;e++)this._dslList[e].stop();this._JLD.stop()},n.prototype.setInfo=function(){if(this._loadAnim){var t=e.DataManager.playerModel.getActivityInfo().eventInfo.primeCharge;t.recharged?(this._tabButton=this.tabButton2,t.sumRecharge>=e.Data.TPrimeCharge[2].doses&&(this._tabButton=this.tabButton3)):this._tabButton=this.tabButton1,this.upDate()}},n.prototype.onRemove=function(){this.stopAnim()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.ActivityComponent);e.XinShouChong=t,__reflect(t.prototype,"game.XinShouChong")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e._pokemonList=[],e.skinName=YiYuanLiBaoSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:return this.rechargeButton.bg="ui/scene/activity/btn_11",this.rechargeButton.image="ui/scene/activity/Tx_chongzhi",this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t.showDetail&&t.showDetail()},this),this.rechargeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.rechargeHandle,this),e.isIos()?this.bg.source="ui/scene/activity/100_ios":this.bg.source="ui/scene/activity/100",[4,e.getBone("eft_starflash01")];case 1:return t=i.sent(),this.effectGroup.addChild(t),t.play(null,0),t.visible=!0,[4,e.getBone("eft_starflash01")];case 2:return n=i.sent(),this.effectGroup0.addChild(n),n.play(null,0),n.visible=!0,[2]}})})},n.prototype.rechargeHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=e.DataManager.playerModel.getActivityInfo(),this.rechargeButton.touchEnabled=!0,0!=t.oneYuanRecharge?[3,1]:(SDK.recharge(11),[3,3]);case 1:return 1!=t.oneYuanRecharge?[3,3]:[4,e.DataManager.playerModel.GetOneYuanRecharge()];case 2:n.sent(),this.setInfo(),e.ActivityPanel.updateCurrentIconPoint(),n.label=3;case 3:return[2]}})})},n.prototype.setInfo=function(){var t=e.DataManager.playerModel.getActivityInfo();this.diamondLabel.text=t.ext.OneYuanDiamond.toString(),this.rechargeButton.touchEnabled=!0,0==t.oneYuanRecharge?(this.rechargeButton.image="ui/scene/activity/Tx_chongzhi",this.rechargeButton.isEffect=!0):1==t.oneYuanRecharge?(this.rechargeButton.image="ui/scene/activity/Tx_lingqu",this.rechargeButton.isEffect=!1):(this.rechargeButton.image="ui/scene/activity/Tx_yilingqu",this.rechargeButton.isEffect=!1,this.rechargeButton.touchEnabled=!1);var n=e.splitStringToNumberArray(e.Data.THuoOneRMB[1].itemDay);this.itemGroup.removeChildren();for(var i=0,a=0,o=0;o<n.length;o++)if(e.Data.TItem[n[o][0]]){var s=this._itemList[i];s||(s=new e.ItemIcon,this._itemList[i]=s),2==n[o][0]?s.item={type:2,count:t.ext.OneYuanDiamond}:s.item={type:n[o][0],count:n[o][1]},this.itemGroup.addChild(s),i++}else{var s=this._pokemonList[a];s||(s=new e.PokemonIcon,this._pokemonList[a]=s),s.pokemon=n[o][0],this.itemGroup.addChild(s),a++}},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.ActivityComponent);e.YiYuanLiBao=t,__reflect(t.prototype,"game.YiYuanLiBao")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._rewardList=[],e.skinName=YuanDanJingLingSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.rechargeButton.image="langs/chongzhi",this.rechargeButton.bg="ui/scene/activity/btn_11",this.detailButton1.icon="ui/scene/book/xiangqing",this.detailButton2.icon="ui/scene/book/xiangqing",this.detailButton3.icon="ui/scene/book/xiangqing",this.getButton1.image=this.getButton2.image=this.getButton3.image="langs/lingqu3",this.getButton1.bg=this.getButton2.bg=this.getButton3.bg="ui/scene/activity/btn_12",this._touchEvent=[{target:this.getButton1,callBackFunc:this.getHandle},{target:this.getButton2,callBackFunc:this.getHandle},{target:this.getButton3,callBackFunc:this.getHandle},{target:this.detailButton1,callBackFunc:this.detailHandle},{target:this.detailButton2,callBackFunc:this.detailHandle},{target:this.detailButton3,callBackFunc:this.detailHandle},{target:this.rechargeButton,callBackFunc:this.rechargeHandle}],this.addEventAndNotify()
},n.prototype.getHandle=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return n=t==this.getButton1?0:t==this.getButton2?1:2,[4,e.DataManager.playerModel.GetChristmasEve(n)];case 1:return i.sent(),e.ActivityPanel.updateCurrentIconPoint(),this.updateInfo(),[2]}})})},n.prototype.detailHandle=function(t){var n;if(n=t==this.detailButton1?this._rewardList[0]:t==this.detailButton2?this._rewardList[1]:this._rewardList[2]){var i=e.PokemonDetail.getInstance();i.setCurrentPokemon(n),i.show()}},n.prototype.rechargeHandle=function(){e.navPanel(15)},n.prototype.setInfo=function(){this.timeLabel.text=e.formatTime(this.info.start,"MM月dd日")+"-"+e.formatTime(this.info.end,"MM月dd日");var t=e.Data.TChristmasEve[1];t&&(t.picture&&(this.bg.source="ui/scene/activity/12_"+t.picture),this._rewardList=e.splitStringToNumberArray(t.itemBuy,";"),this.rechargeProgress.maximum=t.money,this.updateInfo())},n.prototype.updateInfo=function(){var t=e.DataManager.playerModel.getActivityInfo().eventInfo.christmasEve;this.rechargeProgress.value=Math.min(this.rechargeProgress.maximum,t.Recharge),t.State>0?this.getButton1.visible=this.getButton2.visible=this.getButton3.visible=!1:(this.getButton1.visible=this.getButton2.visible=this.getButton3.visible=!0,t.Recharge>=this.rechargeProgress.maximum?(this.getButton1.touchEnabled=this.getButton2.touchEnabled=this.getButton3.touchEnabled=!0,this.getButton1.lock=this.getButton2.lock=this.getButton3.lock=!1):(this.getButton1.touchEnabled=this.getButton2.touchEnabled=this.getButton3.touchEnabled=!1,this.getButton1.lock=this.getButton2.lock=this.getButton3.lock=!0))},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.ActivityComponent);e.YuanDanJingLing=t,__reflect(t.prototype,"game.YuanDanJingLing")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e.alreadyInit=!1,e.skinName=YuanDanRuKouSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeHandle,this),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchItem,this)},n.prototype.pauseAnim=function(){egret.Tween.removeTweens(this.yuanImage),egret.Tween.removeTweens(this.itemGroup);for(var e=0;e<this._itemList.length;e++)egret.Tween.removeTweens(this._itemList[e])},n.prototype.resumeAnim=function(){egret.Tween.get(this.yuanImage,{loop:!0}).to({rotation:360},18e4),egret.Tween.get(this.itemGroup,{loop:!0}).to({rotation:360},18e4);for(var e=0;e<this._itemList.length;e++)egret.Tween.get(this._itemList[e],{loop:!0}).to({rotation:-360},18e4)},n.prototype.touchItem=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s;return __generator(this,function(r){if(n=t.target,i=n.info,i&&(a=i.start.getTime(),o=i.end.getTime(),s=e.getNowTime().getTime(),s>a&&o>s)){switch(i.type){case 131:e.XingYunZhuanPan.getInstance().activityInfo=i,e.navPanel(82);break;case 7:e.ActivityPanel.openActivity(i.type);break;case 112:e.ActivityPanel.openActivity(i.type);break;case 132:e.YuanDanRenWu.getInstance().activityInfo=i,e.YuanDanRenWu.getInstance().show();break;case 107:e.ActivityPanel.openActivity(i.type);break;case 115:e.ActivityPanel.openActivity(i.type)}return this.closeHandle(),[2]}return e.showTips(e.Lang.zanweikaifang,!0),[2]})})},n.prototype.onShow=function(){this.updateData()},n.prototype.updatePoint=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(a){if(!this.alreadyInit)return this.alreadyInit=!0,this.updateData(),[2];for(t=!1,n=0;n<this._itemList.length;n++)if(i=this._itemList[n],i.info&&(i.updatePoint(),i.showPoint)){t=!0;break}return e.IdleScene.getInstance().updateIdleButtonPoint(e.IdleIconButtonType.yuandanrukou,t),[2]})})},n.prototype.updateData=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,u,l,c,a,s;return __generator(this,function(h){switch(h.label){case 0:return this.itemGroup.removeChildren(),[4,e.DataManager.playerModel.getActivityList()];case 1:t=h.sent(),n=e.Data.TEntryYuandan,i=0;for(a in n)if(n.hasOwnProperty(a)){for(o=n[a],s=this._itemList[i],s||(s=new e.YuanDanRuKouItem,this._itemList[i]=s),r=void 0,u=0;u<t.length;u++)if(l=t[u],l.type==o.type){r=l;break}this.itemGroup.addChild(s),s.setData(o,r),s.anchorOffsetX=70,s.anchorOffsetY=120,i++}for(c=360/this._itemList.length,a=0;a<this._itemList.length;a++)s=this._itemList[a],s.x=300+300*Math.sin(c*a*Math.PI/180),s.y=300-300*Math.cos(c*a*Math.PI/180);return this.resumeAnim(),[2]}})})},n.prototype.closeHandle=function(){this.pauseAnim(),e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.YuanDanRuKou=t,__reflect(t.prototype,"game.YuanDanRuKou")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=YuanDanRuKouItemSkin,e}return __extends(n,t),n.prototype.setData=function(t,n){this.activityType=t.type,this.info=n,t.resource=t.resource.replace("\r",""),this.iconImage.source="ui/scene/activity/yuandanrukou/"+t.resource,n?(this.timeLabel.text=e.formatTime(n.start,"MM.dd")+"-"+e.formatTime(n.end,"MM.dd"),this.nameLabel.text=n.name):(this.timeLabel.text="",this.nameLabel.text=""),this.point.visible=this.updatePoint()},n.prototype.updatePoint=function(){switch(this.showPoint=!1,this.activityType){case 112:e.JiZiHuoDong.getInstance().activityInfo=this.info,this.showPoint=e.JiZiHuoDong.getInstance().updatePoint();break;case 132:e.YuanDanRenWu.getInstance().activityInfo=this.info,this.showPoint=e.YuanDanRenWu.getInstance().updatePoint();break;case 107:e.DanRiXiaoFei.getInstance().activityInfo=this.info,this.showPoint=e.DanRiXiaoFei.getInstance().updatePoint();break;case 115:e.ZaJinDanPanel.getInstance().info=this.info,this.showPoint=e.ZaJinDanPanel.getInstance().updatePoint()}return this.showPoint},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.GameComponent);e.YuanDanRuKouItem=t,__reflect(t.prototype,"game.YuanDanRuKouItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e.skinName=YueKaSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.rechargeButton.bg="ui/scene/activity/btn_11",this.rechargeButton.image="ui/scene/activity/Tx_chongzhi",this.rechargeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(e){return SDK.recharge(9),[2]})})},this),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t.showDetail()},this),this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.setInfo,notifyName:e.PlayerModel.RECHARGE_UPDATE,execute:!1}],this.addEventAndNotify(),this.bg.source="ui/scene/activity/UI_bg_yuekaka"},n.prototype.setInfo=function(){var t=e.DataManager.playerModel.getActivityInfo(),n=5;if(n=0==t.monthCount?1:Math.min(5,t.monthCount),0==n&&(n=1),e.Data.THuoYue[n]){this.itemGroup.removeChildren();for(var i=e.splitStringToNumberArray(e.Data.THuoYue[n].itemDay),a=0;a<i.length;a++){var o=this._itemList[a];o||(o=new e.ItemIcon,this._itemList[a]=o),o.item={type:i[a][0],count:i[a][1]},this.itemGroup.addChild(o)}}var s=e.getNowTime(),r=e.DataManager.playerModel.getMoneyCardTime();s.getTime()>=r.getTime()?this.infoLabel.text=e.Lang.yuekaweijihuo:this.infoLabel.text=e.Lang.yuekajiezhishijian+": "+e.formatTime(r),this.xufeiGroup.visible=s.getTime()<r.getTime()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.MONEY=29,n}(e.ActivityComponent);e.YueKa=t,__reflect(t.prototype,"game.YueKa")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.removeTween=!1,e._dans=[],e.skinName=ZaJinDanSkin,e._dans=[e.dan0,e.dan1,e.dan2,e.dan3,e.dan4,e.dan5],e}return __extends(n,t),n.prototype.onRemove=function(){this.removeTween&&egret.Tween.removeTweens(this.chuiziImage);for(var e=0;e<this._dans.length;e++)this._dans[e].stopAnim()},n.prototype.setInfo=function(){this.info&&(this.update(),this.setTime())},n.prototype.setTime=function(){var t=e.formatTime(this.info.start,"yyyy.MM.dd"),n=e.formatTime(this.info.end,"yyyy.MM.dd");this.timeLabel.text=t+"-"+n},n.prototype.update=function(){this.chuiziImage.visible=!1;var t=e.splitStringToNumberArray(e.Data.TGoldenEggs[1].Preview,";");this.rewardGroup.removeChildren();for(var n=0;n<t.length;n++){var i=t[n];if(e.Data.TElf[i]){var a=new e.PokemonIcon;a.pokemon=i,this.rewardGroup.addChild(a)}else{var a=new e.ItemIcon;a.item={type:i,count:0},a.x=(a.width+10)*n,this.rewardGroup.addChild(a)}}for(var o=e.DataManager.playerModel.getGoldenEggsItems(),n=0;n<o.length;n++)this._dans[n].setState(n,o[n].state);this.chuiziLabel.text="X"+e.DataManager.playerModel.getItemCount(10151),e.ActivityPanel.updateCurrentIconPoint()},n.prototype.runAnim=function(){var e=this,t=this._touchDan;this.chuiziImage.visible=!0,this.chuiziImage.x=t.x+200,this.chuiziImage.y=t.y,egret.Tween.get(this.chuiziImage).to({x:t.x+90,y:t.y+143},500,egret.Ease.quadOut).call(function(){e.chuiziImage.visible=!1,t.openAnim()}),this.removeTween=!0},n.prototype.touchHandle=function(t){if(this._touchDan=t,e.checkCanBuy({type:10151,count:1}))for(var n=0;n<this._dans.length;n++)this._dans[n]==t&&e.DataManager.playerModel.OpenDan(n);else e.showTips(e.Lang.nindedaojubuzu,!0)},n.prototype.rewardDan=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:this._touchDan=t,n=0,i.label=1;case 1:return n<this._dans.length?this._dans[n]!=t?[3,3]:[4,e.DataManager.playerModel.rewardDan(n)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},n.prototype.checkPoint=function(){for(var t=!1,n=e.DataManager.playerModel.getActivityInfo(),i=e.DataManager.playerModel.getItemCount(10151),a=n.eventInfo.goldenEggs.items,o=0;o<a.length;o++){if(0==a[o].state&&i>0){t=!0;break}if(1==a[o].state){t=!0;break}}return t},n.prototype.updatePoint=function(){var e=this.checkPoint();return e},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.ActivityComponent);e.ZaJinDanPanel=t,__reflect(t.prototype,"game.ZaJinDanPanel");var n=function(n){function a(){var e=n.call(this)||this;return e.skinName=ZaJinDanItemSkin,e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchHandle,e),e}return __extends(a,n),a.prototype.initAnim=function(){this.ball.rotation=0,this.ball.source="ui/scene/activity/115_close"},a.prototype.initYaoHuang=function(){var e=this,t=6*Math.random()|0;this._timeout2||(this._timeout2=egret.setTimeout(function(){egret.Tween.get(e.ball).to({rotation:-10},200).to({rotation:10},400).to({rotation:0},200).call(function(){egret.clearTimeout(e._timeout2),e._timeout2=null,e.initYaoHuang()})},this,500*t))},a.prototype.touchHandle=function(){switch(this._state){case i.canOpen:t.getInstance().touchHandle(this);break;case i.canReward:this.stopAnim(),t.getInstance().rewardDan(this);break;case i.rewarded:t.getInstance().update()}},a.prototype.setState=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(this.initAnim(),this._state=t,this.ID=e,t){case i.canOpen:this.initYaoHuang(),this.itemGroup.removeChildren();break;case i.canReward:this.ball.source="ui/scene/activity/115_open",this.showAnim();break;case i.rewarded:this.stopAnim(),this.ball.source="ui/scene/activity/115_open",this.itemGroup.removeChildren()}return[2]})})},a.prototype.showAnim=function(){this.itemGroup.removeChildren();var t=e.DataManager.playerModel.getGoldenEggsItem(this.ID);if(t&&t.item&&t.item.type){var n=t.item,i=new e.ItemIcon;i.item=n,this.itemGroup.addChild(i)}},a.prototype.stopAnim=function(){this._timeout2&&(egret.clearTimeout(this._timeout2),egret.Tween.removeTweens(this.ball),this._timeout2=null)},a.prototype.openAnim=function(){t.getInstance().update()},a}(e.GameComponent);e.ZaJinDanItem=n,__reflect(n.prototype,"game.ZaJinDanItem");var i;!function(e){e[e.canOpen=0]="canOpen",e[e.canReward=1]="canReward",e[e.rewarded=2]="rewarded"}(i=e.JinDanState||(e.JinDanState={}))}(game||(game={}));var game;!function(e){var t=function(t){function o(){var n=t.call(this)||this;return n._jzItemList=[],n._ybItemList=[],n.yueBingId=Number(e.Data.TYuanyuan[1].Item),n.skinName=ZhongQiuSkin,n.init(),n}return __extends(o,t),o.prototype.init=function(){5!=SDK.$platformType&&(this.yyDescLabel.text="活动结束后，排名前10的玩家可获得丰厚奖励哦！");var t=function(e){e.imageDisplay.verticalCenter="10",e.imageDisplay.horizontalCenter="12",e.imageDisplay.visible=!0};t(this.jzButton),t(this.ybButton),t(this.yyButton),this.yyCakeOneButton.labelDisplay.visible=!0,this.yyCakeAllButton.labelDisplay.visible=!0,this.yyRewardButton.labelDisplay.visible=!0,this.yyRankButton.labelDisplay.visible=!0,this.yyRankButton.label=e.Lang.paihang,this.yyRewardButton.label=e.Lang.lingqu,this.yyCakeOneButton.label=e.Lang.weiyang,this.yyCakeAllButton.label=e.Lang.yijianweiyang,this.jzButton.image="langs/zhongqiukuaile",this.ybButton.image="langs/yuebinghuodong",this.yyButton.image="langs/yuanyuanyuebing",this.jzButton.bg="ui/common/button/zhongqiuBtn3",this.ybButton.bg="ui/common/button/zhongqiuBtn3",this.yyButton.bg="ui/common/button/zhongqiuBtn3",this.yyRankButton.bg="ui/common/button/zhongqiuBtn1",this.yyInfoButton.icon="ui/scene/activity/zhongqiu/info",this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateZhongQiu,notifyName:e.PlayerModel.ZHONGQIU_UPDATE,execute:!1}],this._touchEvent=[{target:this.jzButton,callBackFunc:this.typeHandle},{target:this.ybButton,callBackFunc:this.typeHandle},{target:this.yyButton,callBackFunc:this.typeHandle},{target:this.closeDetailButton,callBackFunc:this.closeDetail},{target:this.yyCakeOneButton,callBackFunc:this.yyCakeHandle},{target:this.yyCakeAllButton,callBackFunc:this.yyCakeHandle},{target:this.yyRewardButton,callBackFunc:this.yyRewardHandle},{target:this.yyInfoButton,callBackFunc:this.yyInfoHandle},{target:this.yyRankButton,callBackFunc:this.openYYRank}],this.addEventAndNotify(),this.ybDetailRewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showItemDetail,this),this.yyRewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showItemDetail,this),this._typeButton=this.jzButton,this._yyPet||(this._yyPet=new e.TeamArtPokemon,this.yyPetGroup.addChild(this._yyPet.display))},o.prototype.showItemDetail=function(e){e.target&&e.target.showDetail&&e.target.showDetail()},o.prototype.checkPoint=function(){var t=[];this.jzPoint.visible=!1;for(var n=0;n<this._jzItemList.length;n++)if(this._jzItemList[n].canClick()){this.jzPoint.visible=!0,t.push(!0);break}this.ybPoint.visible=!1;for(var n=0;n<this._ybItemList.length;n++)if(this._ybItemList[n].canClick()){this.ybPoint.visible=!0,t.push(!0);break}return this.yyPoint.visible=!1,(e.DataManager.playerModel.getItemCount(this.yueBingId)>0||this.checkYYReward())&&(this.yyPoint.visible=!0,t.push(!0)),t.length>0},o.prototype.setTime=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s=this;return __generator(this,function(r){switch(r.label){case 0:return[4,e.DataManager.playerModel.getActivityList()];case 1:for(n=r.sent(),this._typeButton==this.jzButton&&(i=119),this._typeButton==this.ybButton&&(i=120),this._typeButton==this.yyButton&&(i=121),a=0;a<n.length;a++)if(n[a].type==i){t=n[a];break}return t&&(o=function(){var n=e.getNowTime(),i=t.end,a=.001*(i.getTime()-n.getTime());s.timeLabel.text=e.sDh(a)+"后结束"},o(),this.timeInterval&&egret.clearInterval(this.timeInterval),this.timeInterval=egret.setInterval(function(){o()},this,1e3)),[2]}})})},o.prototype.updateZhongQiu=function(){this.typeHandle(this._typeButton)},o.prototype.typeHandle=function(e){switch(this._typeButton&&(this._typeButton.bg="ui/common/button/zhongqiuBtn3"),e.bg="ui/common/button/zhongqiuBtn2",this.jzGroup.visible=e==this.jzButton,this.ybGroup.visible=e==this.ybButton,this.yyGroup.visible=e==this.yyButton,this.yyPetGroup.visible=e==this.yyButton,this._typeButton=e,e){case this.jzButton:this.updateJZ();break;case this.ybButton:this.upDateYB();break;case this.yyButton:this.upDateYY()}this.setTime(),this.closeDetail()},o.prototype.updateJZ=function(){this.jzItemGroup.removeChildren();var t=[];for(var i in e.Data.THappyMidAutumn)t.push(e.Data.THappyMidAutumn[i]);t.sort(function(e,t){return e.sort-t.sort});for(var a=0,i=0;i<t.length;i++){var o=this._jzItemList[a];o||(o=new n,this._jzItemList[a]=o),o.setData(t[i]),this.jzItemGroup.addChild(o),a++}},o.prototype.upDateYB=function(){this.ybItemGroup.removeChildren();var t=0;for(var n in e.Data.TMooncake)if(e.Data.TMooncake.hasOwnProperty(n)){var a=this._ybItemList[t];a||(a=new i,this._ybItemList[t]=a),a.setData(e.Data.TMooncake[n]),this.ybItemGroup.addChild(a),t++}},o.prototype.showYBDetail=function(t){this.ybDetailRewardGroup.removeChildren();for(var n=0;n<t.length;n++){var i=e.splitStringToNumberArray(t[n],";"),a=new e.ItemIcon;a.item={type:i[0],count:i[1]};var o=e.Data.TItem[i[0]];o&&(a.gradeDisplay.source="icon/item/z"+(o.quality||0)),a.scaleX=a.scaleY=.8,this.ybDetailRewardGroup.addChild(a)}this.ybDetailGroup.visible=!0},o.prototype.getYYInfo=function(){var t=0,n=0;for(var i in e.Data.TYuanyuan)if(e.Data.TYuanyuan.hasOwnProperty(i)){if(4==e.Data.TYuanyuan[i].id)break;n=Math.max(n,e.Data.TYuanyuan[i].overeat)}return t=this.tyuanyuan.Feedexp<e.Data.TYuanyuan[1].overeat?1:this.tyuanyuan.Feedexp<e.Data.TYuanyuan[2].overeat?2:this.tyuanyuan.Feedexp<e.Data.TYuanyuan[3].overeat?3:4,{id:t,maxOvereat:n}},o.prototype.setYYReward=function(){var t=this.getYYInfo();this._yyRewardID=null;for(var n in e.Data.TYuanyuan)if(e.Data.TYuanyuan.hasOwnProperty(n)){var i=e.Data.TYuanyuan[n].id;if(t.id<i)break;if(this.tyuanyuan.PickUp.indexOf(i)<0){if(this.yyRewardGroup.removeChildren(),e.Data.TYuanyuan[i].award){for(var a=e.Data.TYuanyuan[i].award.split("|"),o=0;o<a.length;o++){var s=e.splitStringToNumberArray(a[o],";"),r=new e.ItemIcon;r.item={type:s[0],count:s[1]};var u=e.Data.TItem[s[0]];u&&(r.gradeDisplay.source="icon/item/z"+(u.quality||0)),r.scaleX=r.scaleY=.8,this.yyRewardGroup.addChild(r)}this._yyRewardID=e.Data.TYuanyuan[n].id}break}}},o.prototype.openYYRank=function(){e.ZhongQiuRankPanel.getInstance().show()},o.prototype.setYYPet=function(){var t=this.getYYInfo(),n=e.Data.TYuanyuan[t.id],i=n.big+(5-n.big)*Math.min(Math.max(this.tyuanyuan.Feedexp/t.maxOvereat,0),1),a=[1228,1229,301229][Math.max(Math.min(t.id-1,2),0)];this._yyPet&&(this._yyPet.setPokemon(a,!1),this._yyPet.setScale(i),this._yyPet.setDisplayPosition(360,472+48*i)),this.yyRewardButton.touchEnabled=!1,null==this._yyRewardID?this.yyRewardButton.label=e.Lang.yiwancheng:(this.yyRewardButton.label=e.Lang.weidacheng,this.checkYYReward()&&(this.yyRewardButton.label=e.Lang.lingqu,this.yyRewardButton.touchEnabled=!0))},o.prototype.checkYYReward=function(){var t=this._yyRewardID;return null!=t&&e.Data.TYuanyuan[t]&&this.tyuanyuan.Feedexp>=e.Data.TYuanyuan[t].overeat},o.prototype.setYYProgress=function(){var t=this.getYYInfo(),n=e.Data.TYuanyuan[t.id];4==t.id?this.yyBarLabel.text=e.setNumber(this.tyuanyuan.Feedexp):this.yyBarLabel.text=e.setNumber(this.tyuanyuan.Feedexp)+"/"+e.setNumber(n.overeat),this.yyBarImage.scaleX=Math.min(this.tyuanyuan.Feedexp/n.overeat,1),this.yyYueBingLabel.text="x "+e.DataManager.playerModel.getItemCount(this.yueBingId)},o.prototype.yyCakeHandle=function(t){var n=e.DataManager.playerModel.getItemCount(this.yueBingId);n?(t==this.yyCakeOneButton&&(n=1),e.DataManager.playerModel.feedYuanYuan({type:this.yueBingId,count:n})):e.showTips(e.Lang.nindedaojubuzu,!0)},o.prototype.yyRewardHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.checkYYReward()?[4,e.DataManager.playerModel.GetTYuanReward(this._yyRewardID)]:[3,2];case 1:return t.sent(),[3,3];case 2:e.showTips(e.Lang.tiaojianweidacheng,!0),t.label=3;case 3:return[2]}})})},o.prototype.upDateYY=function(){this.tyuanyuan=e.DataManager.playerModel.getActivityInfo().eventInfo.tyuanyuan,this.setYYReward(),this.setYYPet(),this.setYYProgress()},o.prototype.yyInfoHandle=function(){e.addPopUp(new a)},o.prototype.closeDetail=function(){this.ybDetailGroup.visible=!1},o.prototype.onRemove=function(){this.timeInterval&&egret.clearInterval(this.timeInterval),this._yyPet&&this._yyPet.stop(),this.closeDetail()},o.prototype.setInfo=function(){this.updateZhongQiu()},o.getInstance=function(){return o._instance||(o._instance=new o),o._instance},o}(e.ActivityComponent);e.ZhongQiuPanel=t,__reflect(t.prototype,"game.ZhongQiuPanel");var n=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e.skinName=ZhongQiuJiZiItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.okButton.image="langs/duihuan3",this.okButton.imageDisplay.visible=!0,this._touchEvent=[{target:this.okButton,callBackFunc:this.okHandle},{target:this.rewardIcon,callBackFunc:this.showReward}],this.addEventAndNotify(),this.needItemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target&&e.target.showDetail&&e.target.showDetail()},this)},n.prototype.showReward=function(){this.rewardIcon.showDetail()},n.prototype.canClick=function(){return this._canCount>0&&this._itemEnough},n.prototype.okHandle=function(){return this._canCount<=0?void e.showTips(e.Lang.jinribunengzaiduihuanleo,!0):this._itemEnough?void e.DataManager.playerModel.getZhongQiuJZReward(this.collentData.id):void e.showTips(e.Lang.nindedaojubuzu,!0)},n.prototype.setData=function(t){this.collentData=t;var n=e.splitStringToNumberArray(t.goods,";");this.rewardIcon.item={type:n[0],count:n[1]};var i=e.Data.TItem[n[0]];i&&(this.rewardIcon.gradeDisplay.source="icon/item/z"+(i.quality||0));for(var a=0,o=e.DataManager.playerModel.getActivityInfo().eventInfo.thuoMidfestival.collents,s=0;s<o.length;s++){var r=o[s];if(r.type==t.id){a=r.count;break}}this._canCount=t.countLimit-a,this.countLabel.text="可兑换:"+this._canCount+"次",this.countLabel.textColor=this._canCount>0?gameConfig.TextColors.green:gameConfig.TextColors.red,this._itemEnough=!0,this.needItemGroup.removeChildren();for(var u=e.splitStringToNumberArray(t.price),s=0;s<u.length;s++){var r=u[s],l=this._itemList[s];l||(l=new e.ItemIcon,this._itemList[s]=l),l.item={type:r[0],count:r[1]};var c=e.DataManager.playerModel.getItemCount(r[0]);l.countLabel.text=e.setNumber(c)+"/"+e.setNumber(r[1]),c>=r[1]?l.countLabel.textColor=gameConfig.TextColors.green:(l.countLabel.textColor=gameConfig.TextColors.red,this._itemEnough=!1);var h=e.Data.TItem[r[0]];h&&(l.gradeDisplay.source="icon/item/z"+(h.quality||0)),l.scaleX=l.scaleY=.8,this.needItemGroup.addChild(l)}},n}(e.GameComponent);e.ZhongQiuJiZiItem=n,__reflect(n.prototype,"game.ZhongQiuJiZiItem");var i=function(n){function i(){var e=n.call(this)||this;return e.skinName=ZhongQiuYueBingItemSkin,e.ybButton.labelDisplay.visible=!0,e.ybButton.addEventListener(egret.TouchEvent.TOUCH_TAP,e.ybHandle,e),e.touchGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,e.showDetail,e),e}return __extends(i,n),i.prototype.showDetail=function(){var e=this._data.Item.split("|");t.getInstance().showYBDetail(e)},i.prototype.canClick=function(){return 1==this._btnState},i.prototype.ybHandle=function(){switch(this._btnState){case 0:e.showTips(e.Lang.tiaojianweidacheng,!0);break;case 1:e.DataManager.playerModel.getZhongQiuYBReward(this._data.id);break;case 2:e.showTips(e.Lang.yilingqu,!0)}},i.prototype.setData=function(t){this._data=t,this.ybImage.source="ui/scene/activity/zhongqiu/yb"+t.id,this.bgImage.source="icon/item/z3";var n=e.DataManager.playerModel.getActivityInfo().eventInfo.tmoonCake,i=n.pickUp.indexOf(t.id)>-1;i?(this.ybButton.label=e.Lang.yilingqu,this._btnState=2):n.money<t.money?(this.ybButton.label=n.money+"/"+t.money,this._btnState=0):(this.ybButton.label=e.Lang.lingqu,this._btnState=1)},i}(e.GameComponent);e.ZhongQiuYueBingItem=i,__reflect(i.prototype,"game.ZhongQiuYueBingItem");var a=function(t){function n(){var n=t.call(this)||this;return n.skinName=ZhongQiuInfoSkin,n.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removePopUp(n)},n),n}return __extends(n,t),n}(e.PanelComponent);e.ZhongQiuInfoPanel=a,__reflect(a.prototype,"game.ZhongQiuInfoPanel")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e._rankList=[],e.skinName=ZhongQiuRankSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},i.prototype.closeHandle=function(){e.removePopUp(this)},i.prototype.setRank=function(){return __awaiter(this,void 0,void 0,function(){var t,i;return __generator(this,function(a){switch(a.label){case 0:return[4,e.HttpRequest.GetRetRankListAsync(7)];case 1:for(t=a.sent().ranks,i=0;i<t.length;i++)this._rankList[i]||(this._rankList[i]=new n,this.rankGroup.addChild(this._rankList[i])),this._rankList[i].setData(t[i]);return[2]}})})},i.prototype.onShow=function(){this.setRank()},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.PanelComponent);e.ZhongQiuRankPanel=t,__reflect(t.prototype,"game.ZhongQiuRankPanel");var n=function(t){function n(){var e=t.call(this)||this;return e.skinName=ZhongQiuRankItemSkin,e}return __extends(n,t),n.prototype.setData=function(t){this.rankLabel.text=t.rank.toString(),this.nameLabel.text=t.info.name,this.countLabel.text=t.value.toString(),this.rewardGroup.removeChildren();var n=e.Data.TYuanyuan[1].top.split(":")[t.rank-1];if(n)for(var i=n.split("|"),a=0;a<i.length;a++){var o=e.splitStringToNumberArray(i[a],";");if(e.Data.TElf[o[0]]){var s=new e.PokemonIcon;s.pokemon=o[0],this.rewardGroup.addChild(s)}else{var s=new e.ItemIcon;s.item={type:o[0],count:o[1]},this.rewardGroup.addChild(s)}}else this.removeFromParent()},n}(e.GameComponent);e.ZhongQiuRankItem=n,__reflect(n.prototype,"game.ZhongQiuRankItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemIcon=[],e.skinName=ZhongShenKaSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.detailButton.icon="ui/scene/book/xiangqing",this.rechargeButton.bg="ui/scene/activity/btn_11",this.rechargeButton.image="ui/scene/activity/Tx_chongzhi",this._artPokemon=new e.TeamArtPokemon,this.artGroup.addChild(this._artPokemon.display),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t.showDetail()},this),this._touchEvent=[{target:this.rechargeButton,callBackFunc:this.touchRecharge},{target:this.pokemonGroup1,callBackFunc:this.touchPokemon},{target:this.pokemonGroup2,callBackFunc:this.touchPokemon},{target:this.pokemonGroup3,callBackFunc:this.touchPokemon},{target:this.addItem,callBackFunc:this.showDetail},{target:this.detailButton,callBackFunc:this.showPokemonDetail}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.setInfo,notifyName:e.PlayerModel.RECHARGE_UPDATE,execute:!1}],this.addEventAndNotify(),this.bg.source="ui/scene/activity/103_ios"},n.prototype.touchRecharge=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i=this;return __generator(this,function(a){return t=e.DataManager.playerModel.getSuperCard(),0==t?SDK.recharge(10):1==t&&(this.rechargeButton.image="ui/scene/activity/Tx_xuanzess",n=e.CheckPanel.getInstance(),n.setData(e.Lang.ninquedingyaoxuanzedangqianshenshouma,function(t){return __awaiter(i,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return t?[4,e.DataManager.playerModel.getActivityReward(103,this._currentIndex,this._currentType)]:[3,2];case 1:n.sent(),this.updateButton(),e.ActivityPanel.updateCurrentIconPoint(),n.label=2;case 2:return[2]}})})}),n.show()),[2]})})},n.prototype.touchPokemon=function(e){var t;switch(e){case this.pokemonGroup1:this.selectImage1.source="ui/scene/team/Btn_danx01_u",this.selectImage2.source="ui/scene/team/Btn_danx01_d",this.selectImage3.source="ui/scene/team/Btn_danx01_d",t=this.pokemonIcon1,this._currentIndex=0;break;case this.pokemonGroup2:this.selectImage1.source="ui/scene/team/Btn_danx01_d",this.selectImage2.source="ui/scene/team/Btn_danx01_u",this.selectImage3.source="ui/scene/team/Btn_danx01_d",t=this.pokemonIcon2,this._currentIndex=1;break;case this.pokemonGroup3:this.selectImage1.source="ui/scene/team/Btn_danx01_d",this.selectImage2.source="ui/scene/team/Btn_danx01_d",this.selectImage3.source="ui/scene/team/Btn_danx01_u",t=this.pokemonIcon3,this._currentIndex=2}this._artPokemon.setPokemon(t.pokemonData.id,!1),this._currentType=t.pokemonData.id,this.typeIcon.source="icon/skillType/"+t.pokemonData.attribute,this.pokemonNameLabel.text=t.pokemonData.name},n.prototype.setInfo=function(){var t=e.splitStringToNumberArray(e.Data.THuoZhongSheng[1].itemDay);this.itemGroup.removeChildren();for(var n=0;n<t.length;n++){var i=this._itemIcon[n];i||(i=new e.ItemIcon,this._itemIcon[n]=i),i.item={type:t[n][0],count:t[n][1]},this.itemGroup.addChild(i)}for(var a=e.splitStringToNumberArray(e.Data.THuoZhongSheng[1].itemBuy,";"),n=0;n<a.length;n++)this["pokemonIcon"+(n+1)].pokemon=a[n];if(this.addItem.visible=!1,e.Data.THuoZhongSheng[1].itemAdd){var o=e.splitStringToNumberArray(e.Data.THuoZhongSheng[1].itemAdd,";");this.addItem.item={type:o[0],count:o[1]},this.addItem.visible=!0}this.rechargeButton.touchEnabled=!0,this.touchPokemon(this.pokemonGroup1),this.updateButton(),this.pokemonIcon1.play(),this.pokemonIcon2.play(),this.pokemonIcon3.play()},n.prototype.updateButton=function(){this.rechargeButton.isEffect=!1;var t=e.DataManager.playerModel.getSuperCard();0==t?(this.rechargeButton.image="ui/scene/activity/Tx_chongzhi",this.rechargeButton.isEffect=!0):1==t?this.rechargeButton.image="ui/scene/activity/Tx_xuanzess":(this.rechargeButton.image="ui/scene/activity/Tx_yilingqu",this.rechargeButton.touchEnabled=!1)},n.prototype.showDetail=function(){this.addItem.showDetail()},n.prototype.showPokemonDetail=function(){var t=e.PokemonDetail.getInstance();t.setCurrentPokemon(this._currentType),t.show()},n.prototype.onRemove=function(){this._artPokemon.stop(),this.pokemonIcon1.stop(),this.pokemonIcon2.stop(),this.pokemonIcon3.stop()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.ActivityComponent);e.ZhongShenKa=t,__reflect(t.prototype,"game.ZhongShenKa")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.onLooting=!1,n._currentIndex=1,n._meetTime=0,n._timeOut=null,n._free=!1,n.skipAnim=!1,n._rewardIcon=[],n._zhuanpan=Number(e.Constants.dailyZhuanPanFreeCount),n.skinName=ZhuanPanSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){egret.localStorage.getItem("skipWOF")&&"on"==egret.localStorage.getItem("skipWOF")?this.skipAnim=!0:this.skipAnim=!1,this.confirmButton.label="GO",this._touchEvent=[{target:this.confirmButton,callBackFunc:this.goHandle},{target:this.skipGroup,callBackFunc:this.changeSkip}],this.addEventAndNotify(),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t.showDetail()},this)},n.prototype.initReward=function(){var t=0;for(var n in e.Data.THuoZhuanPan)if(e.Data.THuoZhuanPan.hasOwnProperty(n)){var i=e.Data.THuoZhuanPan[n],a=e.splitStringToNumberArray(i.items,";"),o=this._rewardIcon[t];o||(o=new e.ItemIcon,this._rewardIcon[t]=o,this.rewardGroup.addChildAt(o,0)),o.item={type:a[0],count:a[1]};var s=this.getIconPosition(i.id);o.x=s[0],o.y=s[1],t++}},n.prototype.goHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i=this;return __generator(this,function(a){switch(a.label){case 0:return!this.costItem||e.DataManager.playerModel.getItemCount(this.costItem.type)>=this.costItem.count?this.skipAnim?(t=this,[4,e.DataManager.playerModel.buyWheelOfFortune(this.costItem)]):[3,2]:[3,5];
case 1:return t._currentIndex=a.sent(),this.updatePrice(),this.onLooting=!1,this.showReward(),[3,4];case 2:return this.onLooting=!0,this.lightImg.visible=!0,this.startRollItem(),[4,e.DataManager.playerModel.buyWheelOfFortune(this.costItem)];case 3:n=a.sent(),this.updatePrice(),egret.setTimeout(function(){i._meetTime=0,i.endRollItem(n)},this,2e3),a.label=4;case 4:return[3,6];case 5:e.showTips(e.Lang.nindehuobibuzu,!0),a.label=6;case 6:return[2]}})})},n.prototype.endRollItem=function(e){null!=this._timeOut&&egret.clearTimeout(this._timeOut),e&&this.startRollItem(50,e)},n.prototype.startRollItem=function(e,t,n){var i=this;if(void 0===e&&(e=50),void 0===t&&(t=null),void 0===n&&(n=null),this.stage){this.stage.touchChildren=!1;var a=this.getIconPosition(this._currentIndex);if(this.lightImg.x=a[0]-8,this.lightImg.y=a[1]-7,t)if(this._currentIndex==t){if(this._meetTime)return void egret.setTimeout(function(){i.onLooting=!1,i.stage.touchChildren=!0,i.showReward()},this,500);this._meetTime++,n=10}else n&&(e+=n);this._timeOut=egret.setTimeout(function(){i._timeOut=null,i._currentIndex++,i._currentIndex>20&&(i._currentIndex=1),i.startRollItem(e,t,n)},this,e)}},n.prototype.showReward=function(){var t=e.splitStringToNumberArray(e.Data.THuoZhuanPan[this._currentIndex].items,";"),n=e.IdleRewardPanel.getInstance();n.setReward([{type:t[0],count:t[1]}],null),n.show()},n.prototype.getIconPosition=function(e){var t=[0,0];return 6>=e?t[0]=128*(e-1):11>=e?(t[0]=640,t[1]=120*(e-6)):16>=e?(t[1]=600,t[0]=640-128*(e-11)):t[1]=600-120*(e-16),t},n.prototype.setInfo=function(){this.initReward(),this.updatePrice(),this.updateSkip()},n.prototype.changeSkip=function(){this.skipAnim=!this.skipAnim,this.updateSkip()},n.prototype.updateSkip=function(){this.skipImage.visible=this.skipAnim,this.skipAnim?egret.localStorage.setItem("skipWOF","on"):egret.localStorage.setItem("skipWOF","off")},n.prototype.updatePrice=function(){if(e.ActivityPanel.updateCurrentIconPoint(),e.DataManager.playerModel.getActivityInfo().eventInfo.zp.mammonRabbit<this._zhuanpan)this.costItem=null,this.costLabel.visible=this.costIcon.visible=!1,this.confirmButton.label=e.Lang.mianfei;else{this.confirmButton.label="GO",this.costLabel.visible=this.costIcon.visible=!0;var t=e.splitStringToNumberArray(e.Constants.HuoZhuanPanPrice,";");this.costItem={type:t[0],count:t[1]},this.costIcon.source="icon/item/"+t[0],this.costLabel.text=t[1].toString()}},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.ActivityComponent);e.ZhuanPan=t,__reflect(t.prototype,"game.ZhuanPan")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.reward={},e.timeInterval=null,e._rewardList=[],e.skinName=ZuanShiXiaoFeiSkin,e}return __extends(i,t),i.prototype.setInfo=function(){this.setTime(),this.reward={};for(var t in e.Data.TDiamondCon){var i=e.Data.TDiamondCon[t];this.reward[i.Price]||(this.reward[i.Price]=[]),this.reward[i.Price].push(i)}var a=0;this.rewardGroup.removeChildren();for(var t in this.reward){var o=this._rewardList[a];o||(o=new n,this._rewardList[a]=o),o.setReward(this.reward[t]),this.rewardGroup.addChild(o),o.update(),a++}},i.prototype.setTime=function(){var t=this,n=function(){var n=e.getNowTime(),i=t.info.end,a=.001*(i.getTime()-n.getTime());t.timeLabel.text=""+e.s2hms(a)};n(),this.timeInterval=egret.setInterval(function(){n()},this,1e3)},i.prototype.onRemove=function(){null!=this.timeInterval&&egret.clearInterval(this.timeInterval)},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.ActivityComponent);e.ZuanShiXiaoFei=t,__reflect(t.prototype,"game.ZuanShiXiaoFei");var n=function(t){function n(){var e=t.call(this)||this;return e.limitCount=0,e.skinName=ZuanShiXiaoFeiItemSkin,e.confirmButton.bg="ui/scene/activity/btn_12",e}return __extends(n,t),n.prototype.setReward=function(t){var n=this;this.rewardGroup.removeChildren(),this.rightImage.visible=!1,this.rewardList=t;var i=t[0];if(i){this.limitCount=i.Price,this.limitLabel.text="消费满"+i.Price+e.Data.TItem[i.CostMoneyType].name;for(var a=0;a<t.length;a++){var o=new e.SelectItem;o.data=t[a];var s=e.splitStringToNumberArray(t[a].RewardList,";");o.setItem(s[0],s[1]),this.rewardGroup.addChild(o)}this._touchEvent=[{target:this.confirmButton,callBackFunc:this.confirmHandle}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,function(e){n.selectReward=e,n.selectReward.signGroup?(n.rightImage.visible=!0,n.selectReward.signGroup.addChild(n.rightImage)):n.rightImage.visible=!1},e.SelectItem.SELECT_ITEM)}},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.selectReward&&this.selectReward.data?[4,e.DataManager.playerModel.getDiamondSpendGift(this.selectReward.data)]:[3,2];case 1:return t.sent(),this.update(),e.ActivityPanel.updateCurrentIconPoint(),[3,3];case 2:e.showTips(e.Lang.qingxuanzeninyaolingqudejiangli,!0),t.label=3;case 3:return[2]}})})},n.prototype.update=function(){for(var t=e.DataManager.playerModel.getActivityInfo().eventInfo.diamondSpend,n=0;n<t.states.length;n++){var i=t.states[n];if(i.count==this.limitCount){this.removeFromParent();break}}this.infoLabel.text=t.spent+"/"+this.limitCount,t.spent>=this.limitCount?(this.confirmButton.image="ui/scene/activity/Tx_lingqu",this.confirmButton.lock=!1,this.confirmButton.touchEnabled=!0):(this.confirmButton.image="ui/scene/activity/Tx_weidacheng",this.confirmButton.lock=!0,this.confirmButton.touchEnabled=!1)},n}(e.GameComponent);e.ZuanShiXiaoFeiItem=n,__reflect(n.prototype,"game.ZuanShiXiaoFeiItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._sevenData={},e._sevenReward=[],e._items=[],e.skinName=QiRiChengZhangSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){for(var t=0;t<e.Data.TSevendaysReward.length;t++){var n=e.Data.TSevendaysReward[t];this._sevenData[n.id]||(this._sevenData[n.id]={}),this._sevenData[n.id][n.type]=n,n.integral&&this._sevenReward.push(n)}this.previewButton.icon="ui/scene/activity/qirichengzhang/duihuanyulan",this._touchEvent=[{target:this.day1,callBackFunc:this.touchDayButton},{target:this.day2,callBackFunc:this.touchDayButton},{target:this.day3,callBackFunc:this.touchDayButton},{target:this.day4,callBackFunc:this.touchDayButton},{target:this.day5,callBackFunc:this.touchDayButton},{target:this.day6,callBackFunc:this.touchDayButton},{target:this.day7,callBackFunc:this.touchDayButton},{target:this.previewButton,callBackFunc:this.previewHandle}],this.addEventAndNotify()},n.prototype.previewHandle=function(){var t=e.QiRiChengZhangPreview.getInstance();t.setInfo(this._sevenReward,this._sevenInfo.finish,this._sevenInfo.state),t.show()},n.prototype.touchDayButton=function(e){switch(this._selectDay=1,e){case this.day1:this._selectDay=1;break;case this.day2:this._selectDay=2;break;case this.day3:this._selectDay=3;break;case this.day4:this._selectDay=4;break;case this.day5:this._selectDay=5;break;case this.day6:this._selectDay=6;break;case this.day7:this._selectDay=7}this.setDayButtonState(1,1==this._selectDay),this.setDayButtonState(2,2==this._selectDay),this.setDayButtonState(3,3==this._selectDay),this.setDayButtonState(4,4==this._selectDay),this.setDayButtonState(5,5==this._selectDay),this.setDayButtonState(6,6==this._selectDay),this.setDayButtonState(7,7==this._selectDay),this.updateDayItem()},n.prototype.setDayButtonState=function(e,t){switch(e){case 1:this.day1.image=t?"ui/scene/activity/qirichengzhang/y_1":"ui/scene/activity/qirichengzhang/b_1",this.day1.bg=t?"ui/scene/activity/qirichengzhang/xuanzhong":"ui/scene/activity/qirichengzhang/meixuanzhong";break;case 2:this.day2.image=t?"ui/scene/activity/qirichengzhang/y_2":"ui/scene/activity/qirichengzhang/b_2",this.day2.bg=t?"ui/scene/activity/qirichengzhang/xuanzhong":"ui/scene/activity/qirichengzhang/meixuanzhong";break;case 3:this.day3.image=t?"ui/scene/activity/qirichengzhang/y_3":"ui/scene/activity/qirichengzhang/b_3",this.day3.bg=t?"ui/scene/activity/qirichengzhang/xuanzhong":"ui/scene/activity/qirichengzhang/meixuanzhong";break;case 4:this.day4.image=t?"ui/scene/activity/qirichengzhang/y_4":"ui/scene/activity/qirichengzhang/b_4",this.day4.bg=t?"ui/scene/activity/qirichengzhang/xuanzhong":"ui/scene/activity/qirichengzhang/meixuanzhong";break;case 5:this.day5.image=t?"ui/scene/activity/qirichengzhang/y_5":"ui/scene/activity/qirichengzhang/b_5",this.day5.bg=t?"ui/scene/activity/qirichengzhang/xuanzhong":"ui/scene/activity/qirichengzhang/meixuanzhong";break;case 6:this.day6.image=t?"ui/scene/activity/qirichengzhang/y_6":"ui/scene/activity/qirichengzhang/b_6",this.day6.bg=t?"ui/scene/activity/qirichengzhang/xuanzhong":"ui/scene/activity/qirichengzhang/meixuanzhong";break;case 7:this.day7.image=t?"ui/scene/activity/qirichengzhang/y_7":"ui/scene/activity/qirichengzhang/b_7",this.day7.bg=t?"ui/scene/activity/qirichengzhang/xuanzhong":"ui/scene/activity/qirichengzhang/meixuanzhong"}},n.prototype.setInfo=function(){this.updateInfo(),this.touchDayButton(this["day"+this._sevenInfo.day])},n.prototype.updateInfo=function(){this._sevenInfo=e.DataManager.playerModel.getActivityInfo().eventInfo.sevendays,this.dayLabel.text="活动第 "+this._sevenInfo.day+" 天",this.completeCount.text="已完成任务数: "+this._sevenInfo.finish,this.point.visible=!1;var t=e.ActivityPanel.getInstanceByActivityType(this.info.type);t&&t.currentIcon.point.visible&&(this.point.visible=!0,this["day"+this._sevenInfo.day].addChild(this.point))},n.prototype.updateDayItem=function(){this.itemGroup.removeChildren();for(var t,n=0;n<this._sevenInfo.items.length;n++)this._sevenInfo.items[n].day==this._selectDay&&(t=this._sevenInfo.items[n].tasks);var i=this._sevenData[this._selectDay];if(i){var a=0;for(var n in i)if(i.hasOwnProperty(n)){var o=i[n];if(!o)continue;var s=this._items[a];s||(s=new e.QiRiChengZhangItem,s.activityType=this.info.type,this._items[a]=s);var r=void 0;if(t)for(var u=0;u<t.length;u++)t[u].type==Number(n)&&(r=t[u]);s.setItem(o,r,this._sevenInfo.day,a,this),s.canReceive?this.itemGroup.addChildAt(s,0):this.itemGroup.addChild(s),a++}}},n.prototype.getReward=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,e.DataManager.playerModel.GetSevendaysTypeReward(this._sevenInfo.day,t.taskIndex)];case 1:return n.sent(),e.ActivityPanel.updateCurrentIconPoint(),this.updateInfo(),this.updateDayItem(),[2]}})})},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.ActivityComponent);e.QiRiChengZhang=t,__reflect(t.prototype,"game.QiRiChengZhang")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemIcon=[],e.skinName=QiRiChengZhangItemSkin,e.init(),e}return __extends(n,t),Object.defineProperty(n.prototype,"canReceive",{get:function(){return this._canReceive},enumerable:!0,configurable:!0}),n.prototype.init=function(){this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchItem,this),this.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.confirmHandle,this)},n.prototype.confirmHandle=function(){if(this._canReceive)this._panel.getReward(this);else{var t=e.ActivityPanel.getInstanceByActivityType(this.activityType);t&&t.closeHandle(),e.navPanel(this._data.GoToNumber)}},n.prototype.touchItem=function(e){var t=e.target;t.showDetail&&t.showDetail()},n.prototype.setItem=function(t,n,i,a,o){this.taskIndex=a,this._panel=o,this._data=t,this.detailLabel.text=e.formatString(t.QuestInformation,t.LimitedNum),this.rewardGroup.removeChildren();for(var s=e.splitStringToNumberArray(t.Reward),r=0;r<s.length;r++){var u=s[r],l=this._itemIcon[r];l||(l=new e.ItemIcon,this._itemIcon[r]=l),l.item={type:u[0],count:u[1]},this.rewardGroup.addChild(l)}if(this.limitLabel.visible=this.confirmButton.visible=!0,this.confirmButton.touchEnabled=!0,this._canReceive=!1,t.id==i){var c=n.state;if(c)this.limitLabel.visible=!1,this.confirmButton.label=e.Lang.yilingqu,this.confirmButton.touchEnabled=!1;else{var h=0;n&&(h=n.count),this.limitLabel.text=h+"/"+t.LimitedNum,this._canReceive=h>=t.LimitedNum,this.confirmButton.label=this._canReceive?e.Lang.lingqu:e.Lang.qianwang,this.limitLabel.textColor=this._canReceive?gameConfig.TextColors.green:gameConfig.TextColors.red}}else this.limitLabel.visible=this.confirmButton.visible=!1},n}(e.GameComponent);e.QiRiChengZhangItem=t,__reflect(t.prototype,"game.QiRiChengZhangItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e.skinName=QiRiChengZhangPreviewSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeHandle,this),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchItem,this)},n.prototype.touchItem=function(e){var t=e.target;t.showDetail&&t.showDetail()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.setInfo=function(t,n,i){this._datas=t,this.itemGroup.removeChildren();for(var a=0,o=0;o<t.length;o++){var s=t[o],r=0!=(i&1<<o);if(!r){var u=this._itemList[a];u||(u=new e.QiRiChengZhangPreviewItem,this._itemList[a]=u),u.setItem(s,n,this,o),this.itemGroup.addChild(u),a++}}},n.prototype.getReward=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return[4,e.DataManager.playerModel.GetSevendaysReward(t.index)];case 1:return i.sent(),n=e.DataManager.playerModel.getActivityInfo().eventInfo.sevendays,this.setInfo(this._datas,n.finish,n.state),[2]}})})},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.QiRiChengZhangPreview=t,__reflect(t.prototype,"game.QiRiChengZhangPreview")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemIcon=[],e.skinName=QiRiChengZhangPreviewItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.confirmHandle,this)},n.prototype.confirmHandle=function(){this._canReceive&&this._panel.getReward(this)},n.prototype.setItem=function(t,n,i,a){this.index=a,this._panel=i,this._canReceive=n>=t.integral,this.detailLabel.textFlow=[{text:e.formatString("完成{0}个任务    (",t.integral)},{text:""+n,style:{textColor:this._canReceive?gameConfig.TextColors.green:gameConfig.TextColors.red}},{text:"/"+t.integral+")"}],this.confirmButton.label=this._canReceive?e.Lang.lingqu:e.Lang.weidacheng,this.confirmButton.bg=this._canReceive?"ui/common/button/greenBtn":"ui/common/button/grayBtn",this.rewardGroup.removeChildren();for(var o=e.splitStringToNumberArray(t.Reward1),s=0;s<o.length;s++){var r=o[s],u=this._itemIcon[s];u||(u=new e.ItemIcon,this._itemIcon[s]=u),u.item={type:r[0],count:r[1]},this.rewardGroup.addChild(u)}},n}(e.GameComponent);e.QiRiChengZhangPreviewItem=t,__reflect(t.prototype,"game.QiRiChengZhangPreviewItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._reward={},e._upgrade={},e._shopItem=[],e._canUpgrade=!1,e._itemPicture=[],e._cost={},e._point=!0,e.skinName=XingYunZhuanPanSkin,e.init(),e}return __extends(n,t),Object.defineProperty(n.prototype,"point",{get:function(){return this._point},enumerable:!0,configurable:!0}),n.prototype.init=function(){this.scoreProgress.labelDisplay.visible=!1,this.ruleButton.icon="ui/scene/activity/xingyunzhuanpan/1",this.shopButton.icon="ui/scene/activity/xingyunzhuanpan/3",this._touchEvent=[{target:this.go,callBackFunc:this.goHandle},{target:this.ruleButton,callBackFunc:this.ruleHandle},{target:this.rewardIcon,callBackFunc:this.upgradeHandle},{target:this.shopButton,callBackFunc:this.shopHandle}],this.addEventAndNotify()},n.prototype.shopHandle=function(){var t=e.XingYunZhuanPanShop.getInstance();t.setShopList(this._shopItem),t.show()},n.prototype.upgradeHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._canUpgrade?[4,e.DataManager.playerModel.UpgradeLuckZhuanPan()]:[3,2];case 1:return t=n.sent(),t&&(this.updateInfo(),this.updateReward()),[3,3];case 2:e.showTips("您的转盘经验不够哦!",!0),n.label=3;case 3:return[2]}})})},n.prototype.ruleHandle=function(){e.XingYunZhuanPanHelp.getInstance().show()},n.prototype.goHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o;return __generator(this,function(s){switch(s.label){case 0:return t=this._cost[this._info.lv+1],e.DataManager.playerModel.getItemCount(t[0])>=t[1]?[4,e.DataManager.playerModel.DrawLuckZhuanPan()]:[3,4];case 1:return(n=s.sent())?(i=11-n.id,this.stage.touchChildren=!1,a=2,o=void 0,o=i>5?30*i+15+360*a:30*i+15+360*(a+1),[4,this.roll(o,2e3,egret.Ease.quadInOut)]):[3,3];case 2:s.sent(),this.stage.touchChildren=!0,e.DataManager.playerModel.addMailReward(n.gets),this.updateInfo(),s.label=3;case 3:return[3,5];case 4:e.showTips(e.Lang.nindehuobibuzu,!0),s.label=5;case 5:return[2]}})})},n.prototype.roll=function(t,n,i){return void 0===t&&(t=360),void 0===n&&(n=1200),void 0===i&&(i=null),__awaiter(this,void 0,void 0,function(){return __generator(this,function(a){switch(a.label){case 0:return egret.Tween.get(this.rewardGroup).to({rotation:t},n,i),egret.Tween.get(this.zhuanpan).to({rotation:t},n,i),[4,e.delay(n)];case 1:return a.sent(),[2]}})})},n.prototype.updateData=function(){this._upgrade={},this._shopItem=[],this._cost={},this._reward={};for(var t in e.Data.TLuckZhuanPan){var n=e.Data.TLuckZhuanPan[t];n.upgrade&&(this._upgrade[n.id]=n),n.commodity&&this._shopItem.push(n),n.price&&(this._cost[n.id]=e.splitStringToNumberArray(n.price,";")),n.items&&(this._reward[n.id]||(this._reward[n.id]=[]),this._reward[n.id].push(n))}},n.prototype.updateInfo=function(){this.diamondLabel.text=e.setNumber(e.DataManager.playerModel.diamond),this._info=e.DataManager.playerModel.getActivityInfo().eventInfo.luckZhuanPan,this._canUpgrade=!1;var t=this._info.lv+1,n=this._upgrade[t];if(n){this.scoreProgress.maximum=n.upgrade,this.rewardIcon.visible=this.rewardLevel.visible=!0,this.scoreProgress.value=this._info.exp;var i=e.splitStringToNumberArray(n.award,";");this.rewardIcon.item={type:i[0],count:i[1]},this._info.exp>=n.upgrade?(this._canUpgrade=!0,this.rewardLevel.text=e.Lang.dianjilingqujiangli):this.rewardLevel.text="LV"+(n.id+1)+"领取",this.scoreLabel.text="当前经验:"+this._info.exp+"/"+n.upgrade}else this.scoreProgress.maximum=this._info.exp,this.scoreProgress.value=this._info.exp,this.scoreLabel.text="当前经验:max",this.rewardIcon.visible=this.rewardLevel.visible=!1;this.levelLabel.text="LV."+t,this.go.icon="ui/scene/activity/xingyunzhuanpan/go"+t,this.zhuanpan.source="ui/scene/activity/xingyunzhuanpan/zhuanpan"+t},n.prototype.updateReward=function(){this.rewardGroup.removeChildren();var t=this._reward[this._info.lv+1];if(t&&t.length>0)for(var n=321,i=240,a=0;a<t.length;a++){var o=t[a],s=this._itemPicture[a];s||(s=new e.XingYunZhuanPanItem,s.anchorOffsetX=56,s.anchorOffsetY=57,this._itemPicture[a]=s),s.setData(o);var r=30*a+15,u=r*Math.PI/180;s.rotation=r,s.x=n+i*Math.sin(u),s.y=n-i*Math.cos(u),this.rewardGroup.addChild(s)}},n.prototype.setInfo=function(){this._point=!1,this.updateData(),this.updateInfo(),this.updateReward(),e.ActivityPanel.updateCurrentIconPoint()},n.prototype.onRemove=function(){},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.ActivityComponent);e.XingYunZhuanPan=t,__reflect(t.prototype,"game.XingYunZhuanPan")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=XingYunZhuanPanHelpSkin,e.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,e.closeHandle,e),e}return __extends(n,t),n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.XingYunZhuanPanHelp=t,__reflect(t.prototype,"game.XingYunZhuanPanHelp")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=XingYunZhuanPanItemSkin,e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchHandle,e),e}return __extends(n,t),n.prototype.touchHandle=function(){var t=e.ItemInfoPanel.getInstance();t.setData(e.Data.TItem[this.reward[0]]),t.show()},n.prototype.setData=function(t){this.data=t,this.reward=e.splitStringToNumberArray(t.items,";"),this.itemIcon.source="icon/item/"+this.reward[0]},n}(e.EffectButton);e.XingYunZhuanPanItem=t,__reflect(t.prototype,"game.XingYunZhuanPanItem")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e._shopItem=[],e._itemList=[],e.skinName=XingYunZhuanPanShopSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeHandle,this)},i.prototype.setShopList=function(e){this._shopItem=e,this.itemGroup.removeChildren();for(var t=0;t<e.length;t++){var i=e[t],a=this._itemList[t];a||(a=new n,this._itemList[t]=a),a.setData(i,this,t),this.itemGroup.addChild(a)}},i.prototype.onShow=function(){this.updateInfo()},i.prototype.updateInfo=function(){var t=e.DataManager.playerModel.getActivityInfo().eventInfo.luckZhuanPan;this._info=t,this.scoreLabel.text=e.setNumber(t.score);for(var n=0;n<this._itemList.length;n++){var i=this._itemList[n];if(i.parent){for(var a=0,o=0;o<t.states.length;o++)if(t.states[o].type==n){a=t.states[o].count;break}i.updateInfo(a)}}},i.prototype.buyItem=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return n=t.data.StorePrice,this._info.score>=n?[4,e.DataManager.playerModel.BuyLuckZhuanPan(t.index)]:[3,2];case 1:return i.sent(),this.updateInfo(),[3,3];case 2:e.showTips(e.Lang.nindehuobibuzu,!0),i.label=3;case 3:return[2]}})})},i.prototype.closeHandle=function(){e.removePopUp(this)},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.PanelComponent);e.XingYunZhuanPanShop=t,__reflect(t.prototype,"game.XingYunZhuanPanShop");var n=function(t){function n(){var e=t.call(this)||this;return e.skinName=XingYunZhuanPanShopItemSkin,e._touchEvent=[{target:e.itemIcon,callBackFunc:e.itemHandle},{target:e.buyButton,callBackFunc:e.buyHandle}],e.addEventAndNotify(),e}return __extends(n,t),n.prototype.buyHandle=function(){this._buyCount<this.data.time?this._shopPanel.buyItem(this):e.showTips(e.Lang.chaoguokegoumaicishu,!0)},n.prototype.itemHandle=function(){this.itemIcon.showDetail()},n.prototype.setData=function(t,n,i){this.data=t,this.index=i,this._shopPanel=n;var a=e.splitStringToNumberArray(t.commodity,";");this.itemIcon.item={type:a[0],count:a[1]},this.priceLabel.text=t.StorePrice.toString()},n.prototype.updateInfo=function(e){this._buyCount=e,this.limitLabel.text=e+"/"+this.data.time,e<this.data.time?(this.limitLabel.textColor=gameConfig.TextColors.green,this.buyButton.icon="ui/scene/activity/xingyunzhuanpan/8"):(this.limitLabel.textColor=gameConfig.TextColors.red,this.buyButton.icon="ui/scene/activity/xingyunzhuanpan/22")},n}(e.GameComponent);e.XingYunZhuanPanShopItem=n,__reflect(n.prototype,"game.XingYunZhuanPanShopItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.lanternPosition=[[-269,-12],[-136,11],[4,-8],[151,32],[281,5]],e._lanternList=[],e._itemList=[],e.skinName=YuanDanRenWuSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeHandle,this),this.lanternGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchLantern,this)},n.prototype.touchLantern=function(t){var n=t.target;n.taskInfo&&(n.taskInfo.integral>=n.data.integral?this.getLanternReward(n):e.showTips(e.Lang.nindejifenbuzu,!0))},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.onShow=function(){this.loadInfo()},n.prototype.loadInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return e.showWaitPanel(),this._taskInfo=e.DataManager.playerModel.getActivityInfo().eventInfo.yuandanReward,e.hideWaitPanel(),this.updateInfo(),[2]})})},n.prototype.updateInfo=function(){this.updateLantern(),this.updateItem(),this.scoreLabel.text="x"+this._taskInfo.integral},n.prototype.updateItem=function(){this.itemGroup.removeChildren();var t=0,n=this._taskInfo.states;for(var i in e.Data.TYuandanReward){var a=e.Data.TYuandanReward[i];if(a.id){for(var o=null,s=0;s<n.length;s++)if(n[s].item.type==a.id){o=n[s];break}o||(o={state:0,item:{type:a.id,count:0}},n.push(o));var r=this._itemList[t];r||(r=new e.YuanDanRenWuItem,this._itemList[t]=r),r.setData(a,this),r.setInfo(o),r.confirmButton.touchEnabled?this.itemGroup.addChildAt(r,0):this.itemGroup.addChild(r),t++}}},n.prototype.updateLantern=function(){this.lanternGroup.removeChildren();var t=0;for(var n in e.Data.TYuandanReward){var i=e.Data.TYuandanReward[n];if(i.integral){var a=this._lanternList[t];a||(a=new e.YuanDanRenWuDengLou,this._lanternList[t]=a),a.setData(i,t),a.updateInfo(this._taskInfo),a.horizontalCenter=this.lanternPosition[t][0],a.verticalCenter=this.lanternPosition[t][1],this.lanternGroup.addChild(a),t++}}},n.prototype.updatePoint=function(){var t=!1;this._taskInfo=e.DataManager.playerModel.getActivityInfo().eventInfo.yuandanReward;var n=this._taskInfo.states;for(var i in e.Data.TYuandanReward){var a=e.Data.TYuandanReward[i];if(a.id){for(var o=null,s=0;s<n.length;s++)if(n[s].item.type==a.id){o=n[s];break}if(o||(o={state:0,item:{type:a.id,count:0}},n.push(o)),o.state>=a.totaldegree);else{var r=o.item.count>=(o.state+1)*a.LimitedNum;if(r){t=!0;break}}}}return t},n.prototype.getReward=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return[4,e.DataManager.playerModel.getYuanDanRewardIntgral(t.info)];case 1:return n=i.sent(),n&&(this._taskInfo=n,this.updateInfo()),[2]}})})},n.prototype.getLanternReward=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return[4,e.DataManager.playerModel.getYuanDanReward(t.index)];case 1:return n=i.sent(),n&&(this._taskInfo=n,this.updateInfo()),[2]}})})},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.YuanDanRenWu=t,__reflect(t.prototype,"game.YuanDanRenWu")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=YuanDanRenWuDengLouSkin,t.touchChildren=!1,t}return __extends(t,e),t.prototype.setData=function(e,t){this.index=t,this.data=e},t.prototype.updateInfo=function(e){this.taskInfo=e;var t=1===(this.taskInfo.state&1<<this.index);t?(this.bg.source="ui/scene/activity/yuandanrenwu/denglouliang",this.icon.source="ui/scene/activity/yuandanrenwu/"+this.data.integral+"l",this.touchEnabled=!1):(this.bg.source="ui/scene/activity/yuandanrenwu/denglouan",this.icon.source="ui/scene/activity/yuandanrenwu/"+this.data.integral,this.touchEnabled=!0)},t}(e.EffectButton);e.YuanDanRenWuDengLou=t,__reflect(t.prototype,"game.YuanDanRenWuDengLou")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=YuanDanRenWuItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.confirmHandle,this)},n.prototype.confirmHandle=function(){this.renwuPanel.getReward(this)},n.prototype.setData=function(e,t){this.data=e,this.renwuPanel=t,this.rewardScoreLabel.text="x"+e.Acquisitionactive},n.prototype.setInfo=function(t){if(this.info=t,t.state>=this.data.totaldegree)this.detailLabel.textFlow=[{text:""+e.formatString(this.data.QuestInformation,this.data.LimitedNum)}],this.finishImage.visible=!0,this.confirmButton.visible=!1;else{this.finishImage.visible=!1,this.confirmButton.visible=!0;var n=t.item.count>=(t.state+1)*this.data.LimitedNum;this.detailLabel.textFlow=[{text:""+e.formatString(this.data.QuestInformation,this.data.LimitedNum)},{text:" ("+t.item.count+"/"+(t.state+1)*this.data.LimitedNum+")",style:{textColor:n?gameConfig.TextColors.green:gameConfig.TextColors.red}}],this.confirmButton.icon=n?"ui/scene/activity/yuandanrenwu/lingqu":"ui/scene/activity/yuandanrenwu/lingquhui",this.confirmButton.touchEnabled=n}this.point.visible=this.confirmButton.visible&&this.confirmButton.touchEnabled},n}(e.GameComponent);e.YuanDanRenWuItem=t,__reflect(t.prototype,"game.YuanDanRenWuItem")}(game||(game={}));var game;!function(e){function t(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a;return __generator(this,function(o){switch(o.label){case 0:if(0!=SDK.$platformType)return[3,7];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Auth.auth()];case 2:return t=o.sent(),[3,4];case 3:return n=o.sent(),t=null,[3,4];case 4:return t?[3,6]:[4,e.Login.finish()];case 5:t=o.sent(),o.label=6;case 6:return localStorage.setItem("token",t.token),[3,15];case 7:return o.trys.push([7,9,,10]),[4,Auth.auth()];case 8:return t=o.sent(),[3,10];case 9:return i=o.sent(),t=null,[3,10];case 10:if(t)return[3,15];o.label=11;case 11:return o.trys.push([11,13,,14]),[4,SDK.login()];case 12:return t=o.sent(),[3,14];case 13:return a=o.sent(),alert("登录失败"+a.message),[3,14];case 14:return[3,10];case 15:return[2,t]}})})}function n(){return __awaiter(this,void 0,void 0,function(){function n(){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,o,s,r,u,l,c,h,p,g,d;return __generator(this,function(m){switch(m.label){case 0:return n=SDK.getQueryString("serverToken"),i=SDK.getQueryString("serverSid"),n?(egret.localStorage.setItem("token",n),[4,Auth.auth()]):[3,3];case 1:return o=m.sent(),[4,SDK.selectServer(Number(i),o,!0)];case 2:return a=m.sent(),[3,6];case 3:return[4,t()];case 4:return o=m.sent(),[4,SDK.selectServer(o.sid,o)];case 5:a=m.sent(),m.label=6;case 6:return a?[4,Auth.connectAgent(function(t,n){if(t==EasyGame.NetworkEvent.Issue);else if(t==EasyGame.NetworkEvent.Recover);else{var i=e.CheckPanel.getInstance();i.setData(e.Lang.ninyufuwuqiyiduankailianjie,function(){egret.localStorage.setItem("skipSdk","true"),window.location.reload()}),i.show()}})]:[2,null];case 7:return m.sent(),e.HttpRequest=new Pokemon.IGameServiceProxy(Auth.createConnection("s"+SDK.$serverId)),s=!1,[4,e.HttpRequest.LoginAsync()];case 8:return r=m.sent(),u=!1,r?[3,18]:(l=new e.LuckPlayer,e.GameLayer.sceneLayer.addChild(l),e.showWaitPanel(),[4,l.load()]);case 9:return m.sent(),e.hideWaitPanel(),[4,l.finish()];case 10:return m.sent(),c=new e.XinShouJuQing,e.GameLayer.sceneLayer.addChild(c),e.showWaitPanel(),[4,c.loadRes()];case 11:return m.sent(),e.hideWaitPanel(),[4,c.show()];case 12:return m.sent(),[4,e.CreateRole.finish()];case 13:return h=m.sent(),u=!0,[4,c.show2()];case 14:return m.sent(),[4,e.SelectPm.finish()];case 15:return p=m.sent(),[4,e.HttpRequest.CreateRoleAsync(h.name,h.role,p)];case 16:return r=m.sent(),s=!0,[4,c.show3()];case 17:m.sent(),m.label=18;case 18:return g=new Date,d=6e4*(-480-g.getTimezoneOffset()),e.timeDelay=r.now.getTime()-g.getTime()+d,e.DataManager.init(),e.DataManager.playerModel.setLoginInfo(r),u?(e.updateUserInfoGave("CreateRole"),9==SDK.$platformType?SDK.reportRegisterWB():13==SDK.$platformType&&SDK.createRoleHY()):(e.updateUserInfoGave("EnterServer"),9==SDK.$platformType&&SDK.reportLoginWB()),13==SDK.$platformType?SDK.ReportHY():14==SDK.$platformType&&SDK.ReportHYIOS(u?"true":"false"),5==SDK.$platformType&&(s&&e.sendAYUserInfo("1"),e.sendAYUserInfo("0")),s&&e.userCreateRole(r.playerInfo.id.pid,r.playerInfo.name,r.playerInfo.level,r.ext.roleCTime,r.playerInfo.id.pid),e.userSelectRole(r.playerInfo.id.pid,r.playerInfo.name,r.playerInfo.level,r.ext.roleCTime,r.playerInfo.id.pid),e.userEnterGame(),e.SoundManager.init(),[2,s]}})})}function o(){return __awaiter(this,void 0,void 0,function(){var t,n;
return __generator(this,function(i){switch(i.label){case 0:return[4,e.LoadingPanel.getInstance().showLoading()];case 1:return i.sent(),t=e.RootTop.getInstance(),t.top=0,n=e.RootBottom.getInstance(),n.bottom=0,e.GameLayer.mainLayer.addChild(t),e.GameLayer.mainLayer.addChild(n),[2]}})})}var s,r,u,l,c;return __generator(this,function(t){switch(t.label){case 0:return e.init(),14!=SDK.$platformType?[3,2]:491!=e.channelType?[3,2]:(s=new eui.Image("loading/3733"),s.horizontalCenter=0,s.verticalCenter=0,e.GameLayer.loadLayer.addChild(s),[4,e.delay(3e3)]);case 1:t.sent(),e.GameLayer.loadLayer.removeChild(s),t.label=2;case 2:return e.OnFix?(e.GameLayer.teachLayer.removeChildren(),r=new e.OnFixPanel,e.GameLayer.sceneLayer.addChild(r),e.navPanel(47),[3,7]):[3,3];case 3:return[4,n()];case 4:return u=t.sent(),null==u?[2]:(l=egret.localStorage.getItem("music"),l&&"off"==l||e.SoundManager.playBgSound("music/mijing"),2==e.DataManager.playerModel.banType?(c=e.BanPanel.getInstance(),c.setBanLabel(e.DataManager.playerModel.banReason,e.DataManager.playerModel.releaseTime),e.GameLayer.maskLayer.stage.addChild(c),e.GameLayer.maskLayer.stage.touchChildren=!1,[2]):(a(),window.onerror=function(e,t,n,i,a){var o=e+" @"+t+" line: "+n+" col:"+i;a&&(o+="\n"+a.stack),Auth.uploadLog("客户端错误",o)},e.DataManager.playerModel.getDungeonData(e.DataManager.playerModel.currentMission)?[3,6]:[4,e.DataManager.playerModel.updateMission(e.DataManager.playerModel.currentMission)]));case 5:t.sent(),t.label=6;case 6:o(),e.GameLayer.mainLayer.stage.once(egret.TouchEvent.TOUCH_BEGIN,function(){i()},this),t.label=7;case 7:return[2]}})})}function i(){var e=egret.web.WebAudioDecode,t=e.ctx;if(t&&!o){var n=t.createGain();n.connect(t.destination);var i=t.createBuffer(1,4410,44100),a=t.createBufferSource();a.buffer=i,a.connect(n),a.start(0),o=!0}}function a(){function t(){var t=0;for(var n in h){var i=h[n];if(i.Progress==e.progressID){if(t==p)return i;t++}}return null}function n(){for(var t=e.DataManager.playerModel.teachCount,n=0;n<e.Data.TTutorial.length;n++)if(e.Data.TTutorial[n].Progress==e.progressID){if(e.Data.TTutorial[n].Nosave)return t;break}return e.progressID>=2e7?t:(e.progressID>0&&(t=e.progressID>=1e4?t%1e4+1e4*(e.progressID/1e4>>0):1e4*(t/1e4>>0)+e.progressID),e.DataManager.playerModel.teachCount=t,t)}function i(){return __awaiter(this,void 0,void 0,function(){var i,c,h,g,f,_,y,v,b,w,k,f,I,T,f,P,L,f,D,x,C,B,S,f,E;return __generator(this,function(A){switch(A.label){case 0:i=[],c=null,A.label=1;case 1:if(p++,h=t(),null==h)return n(),e.progressID=-1,e.functionID=-1,e.SoundManager.stopTeach(),[3,25];if(null!=c&&h.TimeLevel!=c.TimeLevel)return e.progressID=-1,e.functionID=-1,[3,25];if(h.PictureBreak)i=[],l();else for(g=e.GameLayer.teachLayer,f=g.numChildren-1;f>=0;f--)_=g.getChildAt(f),_ instanceof eui.Group||g.removeChildAt(f);return 4!=h.ProgressId?[3,3]:[4,e.delay(5e3)];case 2:A.sent(),A.label=3;case 3:return[4,o(h.BackGround1)];case 4:return y=A.sent(),null!=y&&(m=y),[4,s(h.LightPicture)];case 5:return v=A.sent(),null!=v&&u(v.x,v.y,v.width,v.height,.5),[4,s(h.ClickThis)];case 6:return b=A.sent(),[4,s(h.ClickAny)];case 7:return w=A.sent(),[4,o(h.DownPicture)];case 8:if(k=A.sent(),null==k)return[3,12];null!=m&&(m.addChild(k),k.x-=m.x,k.y-=m.y),i.unshift(k),f=1,A.label=9;case 9:return f<i.length?[4,egret.Tween.get(i[f]).to({y:i[f-1].y+i[f-1].height},200)]:[3,12];case 10:A.sent(),A.label=11;case 11:return f++,[3,9];case 12:I=h.BackGround2.split(";"),T=!1,f=0,A.label=13;case 13:return f<I.length?[4,s(parseInt(I[f]))]:[3,16];case 14:P=A.sent(),P&&!P.source&&(T=!0),A.label=15;case 15:return f++,[3,13];case 16:L=h.Dialog.split(";"),f=0,A.label=17;case 17:return f<L.length?[4,r(parseInt(L[f]))]:[3,20];case 18:D=A.sent(),null!=k&&(k.addChild(D),D.x-=k.x,D.y-=k.y,null!=m&&(D.x-=m.x,D.y-=m.y)),A.label=19;case 19:return f++,[3,17];case 20:if(1013==h.Progress&&e.DataManager.playerModel.extension.onHookPms.length<=0)for(x=e.DataManager.playerModel.map,C=e.getNowTime(),B=C.getHours(),S=2,B>=6&&18>B&&(S=1),f=0;f<e.Data.TMapsCatch.length;f++)if(E=e.Data.TMapsCatch[f],E.ID==x&&E.Time==S){e.DataManager.playerModel.idleCatchPokemon(E.PmID);break}return null==b?[3,22]:(d=new egret.Rectangle(b.x,b.y,b.width,b.height),u(b.x,b.y,b.width,b.height,0),d.x+=1,d.y+=1,d.width-=2,d.height-=2,[4,a()]);case 21:return A.sent(),[3,24];case 22:return d=null,[4,a()];case 23:A.sent(),A.label=24;case 24:return c=h,[3,1];case 25:return l(),[2]}})})}function a(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return f=e.defer(),g=0,[2,f.promise()]})})}function o(t){if(!t)return null;var n=s(t),i=new eui.Group;return i.scrollEnabled=!0,i.x=n.x,i.y=n.y,i.width=n.width,i.height=n.height,i.addChild(n),i.touchThrough=!1,i.touchEnabled=!0,i.touchChildren=!1,n.x-=n.x,n.y-=n.y,e.GameLayer.teachLayer.addChild(i),i}function s(t){if(!t)return null;var n=e.Data.TTutorialPicture[t],i=new e.TTutorialPicture;i.H=n.H,i.W=n.W,i.X=n.X,i.ID=n.ID,i.Zhushi=n.Zhushi,i.ZhushiType1=n.ZhushiType1,i.Resourses=n.Resourses,1==n.FromLeft?i.Y=n.Y:2==n.FromLeft?i.Y=e.GetOffSetYWithCenter(n.Y):i.Y=e.GetOffSetYWithBottom(n.Y);var a=new eui.Image;a.source=i.Resourses,e.GameLayer.teachLayer.addChild(a);gameConfig.curWidth();return"地底挑战"==i.ZhushiType1||"特殊副本"==i.ZhushiType1?i.X=e.MainCity.getInstance().UpdateScroller(i.X):"人物图"!=i.ZhushiType1&&"对话框"!=i.ZhushiType1&&e.MainCity.getInstance().UpdateScroller(0),a.x=i.X,a.y=i.Y,a.width=i.W,a.height=i.H,"teach/suofangkuang"==i.Resourses&&(a.scale9Grid=new egret.Rectangle(34,34,48,45),_.push(a),egret.Tween.get(a,{loop:!0}).to({width:1.2*i.W,height:1.2*i.H,x:i.X-.1*i.W,y:i.Y-.1*i.H},400).to({width:i.W,height:i.H,x:i.X,y:i.Y},400)),"teach/shou2"==i.Resourses&&(a.source="teach/shou2",egret.Tween.get(a,{loop:!0}).to({source:"teach/shou1"},0).wait(300).to({source:"teach/shou2"},0).wait(300)),a.touchEnabled=!1,i.audio&&e.SoundManager.playTech(i.audio),a}function r(t){if(!t)return null;var n=e.Data.TTutorialDialog[t],i=e.createColorText(n.Dialog);return i.x=n.X,1==n.FromLeft?i.y=n.Y:2==n.FromLeft?i.y=e.GetOffSetYWithCenter(n.Y):i.y=e.GetOffSetYWithBottom(n.Y),i.width=n.W,i.touchEnabled=!1,n.textSize&&(i.size=n.textSize),n.textPx&&(i.stroke=n.textPx),n.textOutline&&(i.strokeColor=e.parse16Color(n.textOutline)),e.GameLayer.teachLayer.addChild(i),n.audio&&e.SoundManager.playTech(n.audio),i}function u(t,n,i,a,o){var s=new eui.Rect,r=new eui.Rect,u=new eui.Rect,l=new eui.Rect;s.visible=r.visible=u.visible=l.visible=!0,s.alpha=r.alpha=u.alpha=l.alpha=o;var c=gameConfig.curHeight(),h=gameConfig.curWidth();s.width=h,s.height=n,r.width=t,r.height=a,r.y=n,u.x=t+i,u.width=h-u.x,u.height=a,u.y=n,l.y=a+n,l.width=h,l.height=c-l.y,e.GameLayer.teachLayer.addChild(s),e.GameLayer.teachLayer.addChild(r),e.GameLayer.teachLayer.addChild(u),e.GameLayer.teachLayer.addChild(l)}function l(){e.GameLayer.teachLayer.removeChildren();for(var t=0;t<_.length;t++)egret.Tween.removeTweens(_[t]);_=[]}var c=null;e.NotificationCenter.getInstance().addObserver(this,function(e){c=e},"enterScene");var h=e.Data.TTutorial,p=-1,g=1,d=null,m=null,f=e.defer(),_=(this.stage,[]);e.GameLayer.teachLayer.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){e.GameLayer.teachLayer.visible&&0==g&&(null==d?(g=1,f.resolve(null)):d.contains(t.stageX,t.stageY)&&(g=1,f.resolve(null)))},this),egret.startTick(function(t){var a=e.DataManager.playerModel.teachCount,o=e.DataManager.playerModel.currentMission,s=!1;if(-1==e.progressID){var r=0,u=-1;for(var l in h){var g=h[l];if(g.Progress&&!(a%1e4>=g.Progress)&&!(g.Progress<2e7&&g.Progress>=1e4&&a/1e4>>0>=g.Progress/1e4>>0)&&(g.Progress!=r?(r=g.Progress,u=-1):u++,(!g.TimeLevel||o&&o==g.TimeLevel)&&(!g.SceneName||null!=c&&c==g.SceneName)&&(!g.FunctionopenId||g.FunctionopenId==e.functionID))){if(g.Save){n();continue}e.progressID=g.Progress,p=u,s=!0;break}}}return c=null,s&&i(),!0},this)}e.gameLogin=t,e.run=n;var o=!1;e.initWebAudio=i}(game||(game={}));var game;!function(e){e.EffectAnimPool=new e.ObjectPool(e.EffectAnim),e.TipsPool=new e.ObjectPool(e.TipLabel),e.PokemonAbilityPool=new e.ObjectPool(e.BattleAbility),e.PokemonIconPool=new e.ObjectPool(e.PokemonIcon),e.Constants=e._TConstants,e.BonesDictionary={},e.$sid=1,e.$retryCount=60,e.ShowOutsideChat=!0,e.GlobalPoint=new egret.Point,e.progressID=-1,e.functionID=-1,e.isGaveIOS=!1,e.MaxFurnitureQuality=Number(e.Constants.MaxFurnitureQuality),e.canRecharge=!0,e.noticeId=0,e.channelType=0,e.evolutionStoneId=[12101,12102,12103,12104,12105,12106,12107,12108,12109,12121,12122,12123,12124,12125,12126,12127,12128,12129],e.evolutionBellId=10089,e.showZhanKuang=!1,e.kuangWanCheng=!1}(game||(game={}));var game;!function(e){function t(t,i){var a=this;void 0===t&&(t=0),void 0===i&&(i=-1),e.waitTimeout||(e.GameLayer.teachLayer.stage.touchChildren=!1,e.waitTimeout=egret.setTimeout(function(){e.waitTimeout=null,e.waitPanel||(e.waitPanel=new e.WaitPanel),e.waitPanel.setType(t),e.waitPanel.isShow||(e.waitPanel.onShow(),e.GameLayer.maskLayer.removeChildren(),e.GameLayer.maskLayer.addChild(e.waitPanel)),-1!=i&&egret.setTimeout(function(){n()},a,i)},this,3e3))}function n(){e.GameLayer.teachLayer.stage.touchChildren=!0,e.waitPanel&&e.waitPanel.isShow&&e.waitPanel.remove(),e.waitTimeout&&(egret.clearTimeout(e.waitTimeout),e.waitTimeout=null)}function i(e){var t=new egret.HtmlTextParser;return t.parser(e)}function a(t,n){void 0===t&&(t=""),void 0===n&&(n=!1);var i=e.TipsPool.createObject();i.alpha=0,i.warn=n,i.text=t,i.y=gameConfig.curHeight()/2,i.horizontalCenter=0,e.GameLayer.effectLayer.contains(i)||e.GameLayer.effectLayer.addChild(i);var a=function(){e.GameLayer.effectLayer.contains(i)&&(e.GameLayer.effectLayer.removeChild(i),e.TipsPool.destroyObject(i))};egret.Tween.get(i).to({alpha:1},500).wait(500).to({alpha:0},500).call(a,this),egret.Tween.get(i).to({y:i.y-220},800,egret.Ease.backOut)}function o(t,n,i){var a=this;void 0===n&&(n=!1),void 0===i&&(i=!1);var o=e.defer(),s=t;if(!i&&RES.isGroupLoaded(s))o.resolve(null);else{n&&e.GameLayer.loadLayer.addChild(e.LoadingScene.getInstance());var r=function(e){e.groupName==s&&(RES.loadGroup(s),o.reject({message:e.groupName+"加载出错"}))},u=function(t){t.groupName==s&&n&&e.LoadingScene.getInstance().setProgress(t.itemsLoaded,t.itemsLoaded)},l=function(t){o.status===e.Status.Unfulfilled&&t.groupName===s&&(RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,l,a),RES.removeEventListener(RES.ResourceEvent.CONFIG_LOAD_ERROR,r,a),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,u,a),n&&e.LoadingScene.getInstance().removeFromParent(),o.resolve(t))};RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,l,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,r,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,u,this),RES.loadGroup(s)}return o.promise()}function s(t){var n=e.defer();return egret.setTimeout(function(){n.resolve(null)},this,t),n.promise()}function r(e){if(!e)throw new Error("csv data error");for(var t=[],n=[],i=!1,a="",o=0;o<e.length;++o){var s=e[o];i?'"'==s?(o<e.length-1&&'"'==e[o+1]&&(a+=s),i=!1):a+=s:","==s?(n.push(a),a=""):"\n"==s?(n.push(a),a="",t.push(n),n=[]):'"'==s?i=!0:a+=s}return t}function u(e){return e?Number(e):void 0}function l(e,t){void 0===t&&(t="|");for(var n=e.split(t),i=[],a=0;a<n.length;a++)""!=n[a]&&(n[a].indexOf(";")>-1?i.push(l(n[a],";")):i.push(Number(n[a])));return i}function c(t,n){var i=e.defer();return RES.getResByUrl(t,function(e,t){e?i.resolve(e):i.reject({message:"IOError:"+t})},this,n),i.promise()}function h(t){var n=e.defer();return RES.getResAsync(t,function(e,i){e?n.resolve(e):n.reject({message:"IOError:"+t})},this),n.promise()}function p(e,t){var n,i=0;for(n=0;n<e.length;n++)i+=e[n].weight;var a=0;a=t?t.Next(0,i):Math.random()*i;var o=0;for(n=0;n<e.length;n++)if(o+=e[n].weight,o>a)return e[n]}function g(e){var t=Math.floor(e).toString(),n=t.length;switch(n){case 1:case 2:case 3:case 4:case 5:return t;case 6:case 7:case 8:var i=Math.floor(e/1e4),a=Math.floor((e-1e4*i)/1e3).toString().slice(0,1);t="0"==a?i+"万":i+"万";break;default:var i=Math.floor(e/1e8),a=Math.floor((e-1e8*i)/1e4).toString().slice(0,1);t="0"==a?i+"亿":i+"亿"}return t}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e&&t&&0!=t.length){for(var i=0;i<t.length;i++)null!=t[i]&&(e=e.replace("{"+i+"}",t[i].toString()));return e}}function m(t,n,i,a,o,s,r,u,c,h,p,g,d,m,y,k,T){void 0===a&&(a=!1),void 0===o&&(o=!1),void 0===s&&(s=e.DataManager.playerModel.playerTitleList),void 0===r&&(r=e.DataManager.playerModel.getBadgeList()),void 0===u&&(u=e.DataManager.playerModel.playerAllRole),void 0===c&&(c=1),void 0===h&&(h=!1),void 0===p&&(p=e.DataManager.playerModel.playerVip),void 0===g&&(g=e.DataManager.playerModel.teamConfig),void 0===d&&(d=e.DataManager.playerModel.homeAttribute),void 0===m&&(m=e.DataManager.playerModel.guildScience),void 0===y&&(y=e.DataManager.playerModel.teamConfig.artifacts),void 0===k&&(k=e.DataManager.playerModel.playerGymInfo.honorLevel),void 0===T&&(T=!1);var P=e.Data.TElf[t.type],L=t.stage;o&&P.upElf&&(P=e.Data.TElf[P.upElf],L=0);var D=t.iv,x=t.effort,C=t.lv,B=e.Data.TElfQuality[P.quality];C+=B.lvDeviation,a&&C++;var S={hp:1,atk:1,def:1,spAtk:1,spDef:1,speed:1},E=e.Data.TElfXingGe[t.nature];E&&(S.atk+=E.atk||0,S.def+=E.def||0,S.spAtk+=E.atkSp||0,S.spDef+=E.defSp||0,S.speed+=E.spe||0);var A=e.Data.TElfLove[t.intimacyLv||1],M=t.star||0;h&&M++;var N=0,R=Bt(t.type);R&&R[t.isUnlock.length-1]&&(N=R[t.isUnlock.length-1].counterDamageAddStar);var q=Ht(t);t.skillSettings||(t.skillSettings=[]),T&&L++;var j={id:P.id,hp:_(B.abilityUp,P.hp+q,D.hp,x.hp,C),atk:v(B.abilityUp,P.atk+q,D.atk,x.atk,C,S.atk),def:b(B.abilityUp,P.def+q,D.def,x.def,C,S.def),spAtk:v(B.abilityUp,P.atkSp+q,D.spAtk,x.spAtk,C,S.spAtk),spDef:b(B.abilityUp,P.defSp+q,D.spDef,x.spDef,C,S.spDef),speed:w(B.abilityUp,P.spe+q,D.speed,x.speed,C,S.speed),sp:100,type:P.attribute,skill:t.skills,buff:[],cri:A.critChance,hit:A.hit,evade:A.evade,formation:n,grid:i,lv:t.lv,equip:new e.EquipAttribute,isBoss:c,ability:P.ability,star:M,counter:N,skillSetting:t.skillSettings,superEquipInfo:null,stage:L,giftAbility:t.giftAbility,type2:P.attribute2||0,ballID:t.ballId||13001};if(j.stage&&P.upElf){var H=e.Data.TElf[P.upElf];if(H){var O=e.Data.TAdvanced[H.quality];if(O&&O.QualityMax){var F=Math.min(j.stage/(O.QualityMax+1),1),z=e.Data.TElfQuality[H.quality],U=C+B.lvDeviation,W={hp:_(z.abilityUp,H.hp+q,D.hp,x.hp,U),atk:v(z.abilityUp,H.atk+q,D.atk,x.atk,U,S.atk),def:b(z.abilityUp,H.def+q,D.def,x.def,U,S.def),spAtk:v(z.abilityUp,H.atkSp+q,D.spAtk,x.spAtk,U,S.spAtk),spDef:b(z.abilityUp,H.defSp+q,D.spDef,x.spDef,U,S.spDef),speed:w(z.abilityUp,H.spe+q,D.speed,x.speed,U,S.speed)};j.hp+=(W.hp-j.hp)*F,j.atk+=(W.atk-j.atk)*F,j.def+=(W.def-j.def)*F,j.spAtk+=(W.spAtk-j.spAtk)*F,j.spDef+=(W.spDef-j.spDef)*F,j.speed+=(W.speed-j.speed)*F}}}if(t.advance){var V=e.Data.TREvolveUp[t.advance];V&&V.abliUp&&(j.hp*=1+V.abliUp,j.atk*=1+V.abliUp,j.def*=1+V.abliUp,j.spAtk*=1+V.abliUp,j.spDef*=1+V.abliUp,j.speed*=1+V.abliUp)}var Y=new e.EquipAttribute;if(d&&(Y=I(d)),t.artifact&&y){for(var X=void 0,K=0;K<y.length;K++)if(y[K].id==t.artifact){X=y[K];break}if(X){j.superEquipInfo=X;var Z=e.Data.TEArtifactStarLv[X.star],Q=e.Data.TEffect[Z.effectId];G(j.equip,Q),G(Y,Q);var J=e.Data.TEArtifactUpLv[X.level],$=e.Data.TEffect[J.effectId];G(j.equip,$),G(Y,$);for(var K=0;K<X.exts.length;K++){var et=e.Data.TEffect[X.exts[K]];et&&(G(j.equip,et),G(Y,et))}for(var K in e.Data.TEArtifactStarLv){var tt=e.Data.TEArtifactStarLv[K];if(tt.starLv<=X.star&&tt.etrEffect){var nt=e.Data.TEffect[tt.etrEffect];G(j.equip,nt),G(Y,nt)}}}}var it=l(P.abliUp,";");if(it&&it[j.star]){var at=it[j.star];Y.hpPer+=at,Y.atkPer+=at,Y.defPer+=at,Y.atkSpPer+=at,Y.defSpPer+=at,Y.spePer+=at}if(t.giftEquip)for(var K=0;K<t.giftEquip.length;K++){var ot=e.Data.TEffect[t.giftEquip[K]];ot&&(G(Y,ot),G(j.equip,ot))}if(g){for(var st=g.equips,K=0;K<st.length;K++){var rt=st[K],ut=e.Data.TPlayerEquipStren[rt.equipId];ut&&(G(j.equip,e.Data.TEffect[ut.effectId]),G(Y,e.Data.TEffect[ut.effectId]));var lt=e.Data.TPlayerEquipDevil[rt.enchantingId];lt&&(G(j.equip,e.Data.TEffect[lt.effectId]),G(Y,e.Data.TEffect[lt.effectId]));var ct=e.Data.TPlayerEquipRefine[rt.refineId];ct&&(G(j.equip,e.Data.TEffect[ct.effectId]),G(Y,e.Data.TEffect[ct.effectId]))}for(var ht=g.wing.owns,K=0;K<ht.length;K++){var rt=ht[K],pt=e.Data.TWing[rt.id];G(j.equip,e.Data.TEffect[pt.effectId]),G(Y,e.Data.TEffect[pt.effectId])}for(var gt=g.orna.owns,K=0;K<gt.length;K++){var rt=gt[K],dt=e.Data.TOrna[rt.id];G(j.equip,e.Data.TEffect[dt.effectId]),G(Y,e.Data.TEffect[dt.effectId])}}if(k)for(var K in e.Data.TGYMLv){var tt=e.Data.TGYMLv[K];if(!(k>=tt.level))break;var ot=e.Data.TEffect[tt.effectID];ot&&(G(Y,ot),G(j.equip,ot))}for(var mt={},K=0;K<t.newEquip.length;K++){var rt=t.newEquip[K];if(rt){var ft=e.Data.Tequip[rt.type];if(!ft)continue;mt[ft.Suiteffect]||(mt[ft.Suiteffect]=0),mt[ft.Suiteffect]++;var _t=rt.level>0?ft["lv"+rt.level]:ft.basicAttributes;G(j.equip,e.Data.TEffect[_t]),G(Y,e.Data.TEffect[_t]);for(var yt=0;yt<rt.levelEffect.length;yt++)G(j.equip,e.Data.TEffect[rt.levelEffect[yt]]),G(Y,e.Data.TEffect[rt.levelEffect[yt]]);for(var vt=0;vt<rt.extEffect.length;vt++)G(j.equip,e.Data.TEffect[rt.extEffect[vt]]),G(Y,e.Data.TEffect[rt.extEffect[vt]])}}for(var K in mt){var bt=mt[K];bt>=4&&(G(j.equip,e.Data.TEffect[K]),G(Y,e.Data.TEffect[K]))}for(var K=0;K<r.length;K++){var wt=e.Data.TPlayerBadge[r[K]];wt&&(G(j.equip,e.Data.TEffect[wt.effectId]),G(Y,e.Data.TEffect[wt.effectId]))}f(j,Y);for(var kt=new e.EquipAttribute,K=0;K<s.length;K++){var It=e.Data.TTitle[s[K]];It&&(G(j.equip,e.Data.TEffect[It.effectId]),G(kt,e.Data.TEffect[It.effectId]))}for(var K=0;K<u.length;K++){var Lt=u[K],Dt=e.Data.TPlayerRole[Lt];Dt&&(G(j.equip,e.Data.TEffect[Dt.effectId]),G(kt,e.Data.TEffect[Dt.effectId]))}if(g)for(var K=0;K<g.petTypeAttributeLvs.length;K++){var tt=e.Data.TPlayerItemRecover[g.petTypeAttributeLvs[K].id],xt=l(tt.attribute,";");if(xt.indexOf(P.attribute)>-1){var ot=e.Data.TEffect[tt.effectId];ot&&(G(j.equip,ot),G(kt,ot))}}if(m){for(var Ct=m.mSciences,K=0;K<Ct.length;K++){var St=Pt(Ct[K]);if(St){var tt=e.Data.TEffect[St.AbilityDPS];tt&&(G(kt,tt),G(j.equip,tt))}}for(var Et=m.gSciences,K=0;K<Et.length;K++){var St=Tt(Et[K]);if(St){var tt=e.Data.TEffect[St.effectId];tt&&(G(kt,tt),G(j.equip,tt))}}}g&&g.helpAttribute&&(kt.hp+=g.helpAttribute.hp,kt.atk+=g.helpAttribute.atk,kt.def+=g.helpAttribute.def,kt.atkSp+=g.helpAttribute.spAtk,kt.defSp+=g.helpAttribute.spDef,kt.spe+=g.helpAttribute.speed);for(var K=0;K<e.Data.TGridUp.length;K++){var tt=e.Data.TGridUp[K];if(tt.id==n&&tt.grid==i){kt.hp+=tt.hp||0,kt.atk+=tt.atk||0,kt.def+=tt.def||0,kt.atkSp+=tt.atkSp||0,kt.defSp+=tt.defSp||0,kt.spe+=tt.spe||0;break}}p&&e.Data.TVip[p].abilityAdd&&(kt.hpPer+=e.Data.TVip[p].abilityAdd,kt.atkPer+=e.Data.TVip[p].abilityAdd,kt.defPer+=e.Data.TVip[p].abilityAdd,kt.atkSpPer+=e.Data.TVip[p].abilityAdd,kt.defSpPer+=e.Data.TVip[p].abilityAdd,kt.spePer+=e.Data.TVip[p].abilityAdd),f(j,kt),j.hp=Math.max(j.hp,1),j.atk=Math.max(j.atk,1),j.def=Math.max(j.def,1),j.spAtk=Math.max(j.spAtk,1),j.spDef=Math.max(j.spDef,1),j.speed=Math.max(j.speed,1);var At=t.initHp;return At&&(j.hp=At),j.hp=0|j.hp,j.atk=0|j.atk,j.def=0|j.def,j.spAtk=0|j.spAtk,j.spDef=0|j.spDef,j.speed=0|j.speed,j}function f(e,t){t.hpPer&&(e.hp*=1+t.hpPer),t.atkPer&&(e.atk*=1+t.atkPer),t.atkSpPer&&(e.spAtk*=1+t.atkSpPer),t.defPer&&(e.def*=1+t.defPer),t.defSpPer&&(e.spDef*=1+t.defSpPer),t.spePer&&(e.speed*=1+t.spePer),t.hp&&(e.hp+=t.hp),t.atk&&(e.atk+=t.atk),t.atkSp&&(e.spAtk+=t.atkSp),t.def&&(e.def+=t.def),t.defSp&&(e.spDef+=t.defSp),t.spe&&(e.speed+=t.spe),t.hit&&(e.hit+=t.hit),t.evade&&(e.evade+=t.evade),t.critChance&&(e.cri+=t.critChance)}function _(e,t,n,i,a){return void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===a&&(a=1),a*e*(80+1.2*t+.6*n+.2*i)+100|0}function y(t,n,i,a,o,s){return void 0===n&&(n=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=1),e.numStatsOtherAll*(((n*e.numStatsRace+i*e.numStatsiv+a*e.numStatseffort)*o/e.numStatsLV+e.numStatsOtherInitAdd)*s)*t|0}function v(e,t,n,i,a,o){return void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o=1),.4*(a*e*(80+1.2*t+.6*n+.2*i)+100)*o|0}function b(e,t,n,i,a,o){return void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o=1),.4*(a*e*(80+1.2*t+.6*n+.2*i)+100)*o|0}function w(e,t,n,i,a,o){return void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o=1),(a*(.12*t+.06*n+.02*i)+t)*o|0}function k(t){var n=[],i=e.Data.TElf[t];if(i)for(var a=i.skill.split("|"),o=0;o<a.length;o++){var s=l(a[o],";");n.push({id:s[0],level:s[1]})}return n}function I(e,t){void 0===t&&(t=null),t=t||{};for(var n in e)e.hasOwnProperty(n)&&("object"==typeof e[n]?e[n]?(t[n]=e[n].constructor===Array?[]:{},I(e[n],t[n])):t[n]=null:t[n]=e[n]);return t}function T(t,n,i,a){void 0===n&&(n=!0),void 0===i&&(i=1),void 0===a&&(a=!0);var o=gameConfig.curHeight(),s=t.width,r=t.height,u=360-s/2,l=o/2-r/2;if(t.scaleX=1,t.scaleY=1,t.x=u,t.y=l,t.alpha=1,n){var c=e.DarkRectPool.createObject();c.fillAlpha=.5,c.fillColor=0,c.width=720,c.height=o,c.touchChildren=!1,c.touchEnabled=!0,c.visible=!0,egret.Tween.get(c).to({alpha:1},150),e.GameLayer.panelLayer.addChild(c),t.darkRect=c}switch(e.GameLayer.panelLayer.addChild(t),0!=i&&(i=Math.floor(6*Math.random())+1),i){case 0:break;case 1:t.alpha=0,t.scaleX=.5,t.scaleY=.5,t.x=t.x+s/4,t.y=t.y+r/4,egret.Tween.get(t).to({alpha:1,scaleX:1,scaleY:1,x:t.x-s/4,y:t.y-r/4},300,egret.Ease.backOut);break;case 2:t.alpha=0,t.scaleX=.5,t.scaleY=.5,t.x=t.x+s/4,t.y=t.y+r/4,egret.Tween.get(t).to({alpha:1,scaleX:1,scaleY:1,x:t.x-s/4,y:t.y-r/4},600,egret.Ease.elasticOut);break;case 3:a?(t.x=-s,egret.Tween.get(t).to({x:u},500,egret.Ease.cubicOut)):(t.x=-s,egret.Tween.get(t).to({x:0},500,egret.Ease.cubicOut));break;case 4:a?(t.x=s,egret.Tween.get(t).to({x:u},500,egret.Ease.cubicOut)):(t.x=s,egret.Tween.get(t).to({x:0},500,egret.Ease.cubicOut));break;case 5:a?(t.y=-r,egret.Tween.get(t).to({y:l},500,egret.Ease.cubicOut)):(t.y=-r,egret.Tween.get(t).to({y:l},500,egret.Ease.cubicOut));break;case 6:a?(t.y=r,egret.Tween.get(t).to({y:l},500,egret.Ease.cubicOut)):(t.y=r,egret.Tween.get(t).to({y:l},500,egret.Ease.cubicOut));break;default:a?(t.x=-s,egret.Tween.get(t).to({x:u},500,egret.Ease.cubicOut)):(t.x=-s,egret.Tween.get(t).to({x:0},500,egret.Ease.cubicOut))}}function P(t,n){if(void 0===n&&(n=1),null!=t&&null!=t.stage){var i=e.TeachScene.getInstance().currentData;(!i||i.ZHUSHI.indexOf("冒险")<0)&&e.TeachScene.getInstance().removeFromParent();var a=t.stage;switch(a.touchChildren=!1,t.removeDarkRect(),n=Math.floor(6*Math.random())+1){case 1:egret.Tween.get(t).to({alpha:0,scaleX:0,scaleY:0,x:t.x+t.width/2,y:t.y+t.height/2},400);break;case 3:egret.Tween.get(t).to({x:t.width},400,egret.Ease.cubicOut);break;case 4:egret.Tween.get(t).to({x:-t.width},400,egret.Ease.cubicOut);break;case 5:egret.Tween.get(t).to({y:t.height},400,egret.Ease.cubicOut);break;case 6:egret.Tween.get(t).to({y:-t.height},400,egret.Ease.cubicOut);break;default:egret.Tween.get(t).to({y:-t.height},400,egret.Ease.cubicOut)}var o=400;0==n&&(o=0),egret.setTimeout(function(){e.waitTimeout||(a.touchChildren=!0),t.removeFromParent()},this,o)}}function L(e,t){return void 0===t&&(t=12),+parseFloat(e.toPrecision(t))}function D(e,t){for(var n in t)t.hasOwnProperty(n)&&void 0!==e[n]&&(e[n]+=t[n]||0);return e}function x(e,t,n,i,a,o,s){return void 0===s&&(s=!1),s||(i=$(i)),e>=n&&n+a>=e&&t>=i&&i+o>=t}function C(e){return 4*(e.atk+e.spAtk+e.def+e.spDef+e.speed)+(e.atk+e.spAtk)/2*e.cri*1.5+e.evade*e.hp+(e.atk+e.spAtk)/2*e.hit+e.hp|0}function B(e){if(!e)return[];var t=e.match(/\[(.+?)\]/g),n=e.split(/\[.*?\]/),i=[];if(t){for(var a=0;a<t.length;a++)t[a]=t[a].substr(1,t[a].length-2);for(var a=1;a<n.length;a++)i.push({text:n[a],style:{textColor:S(t[a-1])}})}else for(var a=0;a<n.length;a++)i.push({text:n[a],color:0});return i}function S(e){return e=e.indexOf("#")>-1?e.replace("#","0x"):"0x"+e,Number(e)}function E(e){var t=B(e),n=new eui.Label;n.textFlow=[];for(var i=0;i<t.length;i++)n.textFlow.push(t[i]);return n.lineSpacing=10,n}function A(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.BonesDictionary[t]?[3,2]:(e.BonesDictionary[t]=[],n=new e.SkeletonBase,[4,n.createBones(t)]);case 1:i.sent(),e.BonesDictionary[t].push(n),i.label=2;case 2:return[2]}})})}function M(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s,a,o,s;return __generator(this,function(r){switch(r.label){case 0:return n="anim/battlePokemon/"+t,e.SpriteSheetPool[n]?(i=e.SpriteSheetPool[n],a=e.SpriteSheetPool[n].getTexture("1:1"),a?[2,a]:(o=i.$texture.textureWidth/8,s=i.$texture.textureHeight,[2,e.SpriteSheetPool[n].createTexture("1:1",0,0,o,s)])):[3,1];case 1:return[4,h(n)];case 2:return a=r.sent(),o=a.textureWidth/8,s=a.textureHeight,e.SpriteSheetPool[n]=new egret.SpriteSheet(a),[2,e.SpriteSheetPool[n].createTexture("1:1",0,0,o,s)];case 3:return[2]}})})}function G(e,t){for(var n in t)t.hasOwnProperty(n)&&void 0!==e[n]&&(e[n]+=t[n]||0);return e}function N(e,t,n,i,a){for(var o in e)e[o]&&(e[o]=e[o]/t*n*(1+i)*(1+a)|0)}function R(e,t,n,i){for(var a in e)e[a]&&(e[a]=e[a]*t*.001*(1+n)*(1+i)|0)}function q(e,t,n){for(var i=0,a=function(e){t[i]&&(t[i].visible=!0,t[i].text=n+e,i++)},o=O(e),s=0;s<o.length;s++)a(o[s])}function j(e,t,n,i){void 0===i&&(i=18),e.removeChildren();for(var a=0,o=function(t){n[a]||(n[a]=new eui.Label,n[a].stroke=2,n[a].size=i),n[a].text=t,e.addChild(n[a]),a++},s=O(t),r=0;r<s.length;r++)o(s[r])}function H(e,t){for(var n=0,i=function(e){t[n]&&(t[n].text=e,n++)},a=O(e),o=0;o<a.length;o++)i(a[o])}function O(t){var n=[];return t.hp&&(t.hp>0?n.push(e.Lang.shengming+"+"+t.hp):n.push(""+e.Lang.shengming+t.hp)),t.hpPer&&(t.hpPer>0?n.push(e.Lang.shengming+"+"+(100*t.hpPer).toFixed(1)+"%"):n.push(""+e.Lang.shengming+(100*t.hpPer).toFixed(1)+"%")),t.atk&&(t.atk>0?n.push(e.Lang.wugong+"+"+t.atk):n.push(""+e.Lang.wugong+t.atk)),t.atkPer&&(t.atkPer>0?n.push(e.Lang.wugong+"+"+(100*t.atkPer).toFixed(1)+"%"):n.push(""+e.Lang.wugong+(100*t.atkPer).toFixed(1)+"%")),t.atkSp&&(t.atkPer>0?n.push(e.Lang.tegong+"+"+t.atkSp):n.push(""+e.Lang.tegong+t.atkSp)),t.atkSpPer&&(t.atkSpPer>0?n.push(e.Lang.tegong+"+"+(100*t.atkSpPer).toFixed(1)+"%"):n.push(""+e.Lang.tegong+(100*t.atkSpPer).toFixed(1)+"%")),t.def&&(t.def>0?n.push(e.Lang.wufang+"+"+t.def):n.push(""+e.Lang.wufang+t.def)),t.defPer&&(t.defPer>0?n.push(e.Lang.wufang+"+"+(100*t.defPer).toFixed(1)+"%"):n.push(""+e.Lang.wufang+(100*t.defPer).toFixed(1)+"%")),t.defSp&&(t.defSp>0?n.push(e.Lang.tefang+"+"+t.defSp):n.push(""+e.Lang.tefang+t.defSp)),t.defSpPer&&(t.defSpPer>0?n.push(e.Lang.tefang+"+"+(100*t.defSpPer).toFixed(1)+"%"):n.push(""+e.Lang.tefang+(100*t.defSpPer).toFixed(1)+"%")),t.spePer&&(t.spePer>0?n.push(e.Lang.sudu+"+"+(100*t.spePer).toFixed(1)+"%"):n.push(""+e.Lang.sudu+(100*t.spePer).toFixed(1)+"%")),t.spe&&(t.spe>0?n.push(e.Lang.sudu+"+"+t.spe):n.push(""+e.Lang.sudu+t.spe)),t.critChance&&(t.critChance>0?n.push(e.Lang.baoji+"+"+(100*t.critChance).toFixed(1)+"%"):n.push(""+e.Lang.baoji+(100*t.critChance).toFixed(1)+"%")),t.critDamage&&(t.critDamage>0?n.push(e.Lang.baojishanghai+"+"+(100*t.critDamage).toFixed(1)+"%"):n.push(""+e.Lang.baojishanghai+(100*t.critDamage).toFixed(1)+"%")),t.damageDownPer&&(t.damageDownPer>0?n.push(e.Lang.shanghaijianshao+"+"+(100*t.damageDownPer).toFixed(1)+"%"):n.push(""+e.Lang.shanghaijianshao+(100*t.damageDownPer).toFixed(1)+"%")),t.damageUpPer&&(t.damageUpPer>0?n.push(e.Lang.shanghaizengjia+"+"+(100*t.damageUpPer).toFixed(1)+"%"):n.push(""+e.Lang.shanghaizengjia+(100*t.damageUpPer).toFixed(1)+"%")),t.fireSkill&&(t.fireSkill>0?n.push(e.Lang.huoxijinengweili+"+"+(100*t.fireSkill).toFixed(1)+"%"):n.push(""+e.Lang.huoxijinengweili+(100*t.fireSkill).toFixed(1)+"%")),t.waterSkill&&(t.waterSkill>0?n.push(e.Lang.shuixijinengweili+"+"+(100*t.waterSkill).toFixed(1)+"%"):n.push(""+e.Lang.shuixijinengweili+(100*t.waterSkill).toFixed(1)+"%")),t.grassSkill&&(t.grassSkill>0?n.push(e.Lang.caoxijinengweili+"+"+(100*t.grassSkill).toFixed(1)+"%"):n.push(""+e.Lang.caoxijinengweili+(100*t.grassSkill).toFixed(1)+"%")),t.demonSkill&&(t.demonSkill>0?n.push(e.Lang.yaoxijinengweili+"+"+(100*t.demonSkill).toFixed(1)+"%"):n.push(""+e.Lang.yaoxijinengweili+(100*t.demonSkill).toFixed(1)+"%")),t.dragonSkill&&(t.dragonSkill>0?n.push(e.Lang.longxijinengweili+"+"+(100*t.dragonSkill).toFixed(1)+"%"):n.push(""+e.Lang.longxijinengweili+(100*t.dragonSkill).toFixed(1)+"%")),t.electricSkill&&(t.electricSkill>0?n.push(e.Lang.dianxijinengweili+"+"+(100*t.electricSkill).toFixed(1)+"%"):n.push(""+e.Lang.dianxijinengweili+(100*t.electricSkill).toFixed(1)+"%")),t.evade&&(t.evade>0?n.push(e.Lang.shanbi+"+"+(100*t.evade).toFixed(1)+"%"):n.push(""+e.Lang.shanbi+(100*t.evade).toFixed(1)+"%")),t.evilSkill&&(t.evilSkill>0?n.push(e.Lang.exijinengweili+"+"+(100*t.evilSkill).toFixed(1)+"%"):n.push(""+e.Lang.exijinengweili+(100*t.evilSkill).toFixed(1)+"%")),t.flightSkill&&(t.flightSkill>0?n.push(e.Lang.feixingxijinengweili+"+"+(100*t.flightSkill).toFixed(1)+"%"):n.push(""+e.Lang.feixingxijinengweili+(100*t.flightSkill).toFixed(1)+"%")),t.generalSkill&&(t.generalSkill>0?n.push(e.Lang.putongxijinengweili+"+"+(100*t.generalSkill).toFixed(1)+"%"):n.push(""+e.Lang.putongxijinengweili+(100*t.generalSkill).toFixed(1)+"%")),t.ghostSkill&&(t.ghostSkill>0?n.push(e.Lang.guixijinengweili+"+"+(100*t.ghostSkill).toFixed(1)+"%"):n.push(""+e.Lang.guixijinengweili+(100*t.ghostSkill).toFixed(1)+"%")),t.grappleSkill&&(t.grappleSkill>0?n.push(e.Lang.gedouxijinengweili+"+"+(100*t.grappleSkill).toFixed(1)+"%"):n.push(""+e.Lang.gedouxijinengweili+(100*t.grappleSkill).toFixed(1)+"%")),t.groundSkill&&(t.groundSkill>0?n.push(e.Lang.dimianxijinengweili+"+"+(100*t.groundSkill).toFixed(1)+"%"):n.push(""+e.Lang.dimianxijinengweili+(100*t.groundSkill).toFixed(1)+"%")),t.hit&&(t.hit>0?n.push(e.Lang.mingzhong+"+"+(100*t.hit).toFixed(1)+"%"):n.push(""+e.Lang.mingzhong+(100*t.hit).toFixed(1)+"%")),t.iceSkill&&(t.iceSkill>0?n.push(e.Lang.bingxijinengweili+"+"+(100*t.iceSkill).toFixed(1)+"%"):n.push(""+e.Lang.bingxijinengweili+(100*t.iceSkill).toFixed(1)+"%")),t.insectSkill&&(t.insectSkill>0?n.push(e.Lang.chongxijinengweili+"+"+(100*t.insectSkill).toFixed(1)+"%"):n.push(""+e.Lang.chongxijinengweili+(100*t.insectSkill).toFixed(1)+"%")),t.poisonSkill&&(t.poisonSkill>0?n.push(e.Lang.duxijinengweili+"+"+(100*t.poisonSkill).toFixed(1)+"%"):n.push(""+e.Lang.duxijinengweili+(100*t.poisonSkill).toFixed(1)+"%")),t.rockSkill&&(t.rockSkill>0?n.push(e.Lang.yanshixijinengweili+"+"+(100*t.rockSkill).toFixed(1)+"%"):n.push(""+e.Lang.yanshixijinengweili+(100*t.rockSkill).toFixed(1)+"%")),t.steelSkill&&(t.steelSkill>0?n.push(e.Lang.gangxijinengweili+"+"+(100*t.steelSkill).toFixed(1)+"%"):n.push(""+e.Lang.gangxijinengweili+(100*t.steelSkill).toFixed(1)+"%")),t.superSkill&&(t.superSkill>0?n.push(e.Lang.chaonengxijinengweili+"+"+(100*t.superSkill).toFixed(1)+"%"):n.push(""+e.Lang.chaonengxijinengweili+(100*t.superSkill).toFixed(1)+"%")),n}function F(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function z(e,t,n,i){var a=n-e,o=i-t;return 360*Math.atan(o/a)/(2*Math.PI)}function U(t){var n=0;for(var i in e.Data.TVip)if(e.Data.TVip.hasOwnProperty(i)){var a=e.Data.TVip[i];t>=a.threshold&&(n=Math.max(n,a.level))}return n}function W(e){return null==e||void 0==e||"null"==e||"undefined"==e?!0:!1}function V(t,n,i){if(void 0===i&&(i=!1),!n.hasShowAbility){var a;if(i?a=e.Data.TElfTalentAbility[t]:0==e.Data.TAbility[t].showBg&&(a=e.Data.TAbility[t]),a){var o=e.PokemonAbilityPool.createObject();n.addChild(o),n.hasShowAbility=!0,o.x=9,o.y=82,o.alpha=1,o.setData(a,n.side),egret.Tween.get(o).wait(1e3).to({alpha:0},300).call(function(){e.PokemonAbilityPool.destroyObject(o),n.hasShowAbility=!1})}}}function Y(t){var n=e.DataManager.playerModel.getItemCount(t.type),i=[{text:g(n),style:{textColor:n>=t.count?gameConfig.TextColors.green:gameConfig.TextColors.red}},{text:"/",style:{textColor:gameConfig.TextColors.white}},{text:g(t.count),style:{textColor:gameConfig.TextColors.green}}];
return i}function X(t){var n=e.DataManager.playerModel.getItemCount(t.type)>=t.count;if(!n)switch(t.type){case 1:a(e.Lang.nindejinbibuzu,!0),vt(80);break;case 2:break;case 3:break;case 4:break;case 5:break;case 7:break;case 11:}return n}function K(t){for(var n=Number(e.Constants.guildMember),i=0;i<t.length;i++)for(var a=t[i],o=a.type,s=0;s<e.Data.TGuildBuilding.length;s++)e.Data.TGuildBuilding[s].id==o&&e.Data.TGuildBuilding[s].degree<=a.degree&&(n+=e.Data.TGuildBuilding[s].addMemberCount);return n}function Z(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].degree;return t}function Q(e){var t=gameConfig.curWidth();if(e>t/2){var n=1100-e,i=gameConfig.curWidth()-n;return i}return e}function J(e){var t=(gameConfig.curHeight(),1100-e),n=gameConfig.curHeight()-t;return n}function $(e){var t=gameConfig.curHeight(),n=550-e,i=t/2-n;return i}function et(e,t){var n=e["star"+t];if(!n)return e.desc;var i=n.split(";"),a=e.desc;switch(i.length){case 1:a=d(a,i[0]);break;case 2:a=d(a,i[0],i[1]);break;case 3:a=d(a,i[0],i[1],i[2]);break;case 4:a=d(a,i[0],i[1],i[2],i[3]);break;case 5:a=d(a,i[0],i[1],i[2],i[3],i[4]);break;case 6:a=d(a,i[0],i[1],i[2],i[3],i[4],i[5])}return a}function tt(t){var n;switch(t){case 3:n=e.Lang.huizhang;break;case 1:n=e.Lang.putongchengyuan;break;case 2:n=e.Lang.fuhuizhang}return n}function nt(t){return t?t.lv<e.DataManager.playerModel.maxPokemonLevel&&e.Data.TElfLevel[t.lv].exp&&e.DataManager.playerModel.exp>=e.Data.TElfLevel[t.lv].exp?!0:!1:void 0}function it(t){if(t&&!(e.DataManager.playerModel.playerLevel<Number(e.Constants.elfEvolveOpenLv))){var n=!1,i=e.Data.TElf[t.type];if(i.sotpGrow)return!1;var a=!0,o=!0,s=!0,r=!0;if(i.upElf){var u=e.Data.TElf[i.upElf];if(u){var c=e.Data.TAdvanced[u.quality];if(c){var h=t.stage;if(i.upLv&&(a=t.lv>=i.upLv+h*c.PkmLvAdd),a&&(i.upLoveLv&&(o=t.intimacyLv>=i.upLoveLv+h*c.PkmLoveLvAdd),o)){if(i.upPrice){var p=i.upPrice.split(";"),g=Number(p[0]),d=Math.ceil(Number(p[1])*c.AdvancedPricePer),m=e.DataManager.playerModel.getItemCount(g);s=m>=d}if(s)for(var f=l(i.upItem),_=0;_<f.length;_++){var y=f[_],d=Math.ceil(y[1]*c.AdvancedPricePer);if(e.DataManager.playerModel.getItemCount(y[0])<d){r=!1;break}}}}}a&&o&&s&&r&&(n=!0)}else if(i.advance){var v=e.Data.TREvolveUp[t.advance];if(v&&v.costItem){if(v.price){var p=v.price.split(";"),g=Number(p[0]),d=Number(p[1]),m=e.DataManager.playerModel.getItemCount(g);s=m>=d}if(s)for(var f=l(v.costItem),_=0;_<f.length;_++){var y=f[_];if(e.DataManager.playerModel.getItemCount(y[0])<y[1]){r=!1;break}}a&&o&&s&&r&&(n=!0)}}else if(i.upElfSp){var b=void 0,w=void 0,k=void 0,y=void 0;if(i.upLvSp&&(b=l(i.upLvSp,"|")),i.upLoveLvSp&&(w=l(i.upLoveLvSp,"|")),i.upItemSp){var I=i.upItemSp.split(":");y=[];for(var _=0;_<I.length;_++)y.push(l(I[_]))}i.upPriceSp&&(k=l(i.upPriceSp));for(var T=l(i.upElfSp),_=0;_<T.length;_++){var P=!0,L=!0,D=!0,x=!0;if(b&&(P=t.lv>=b[_]),P&&(w&&(L=t.intimacyLv>=w[_]),L)){if(k){var m=e.DataManager.playerModel.getItemCount(k[_][0]);D=m>=k[_][1]}if(D){if(y)for(var I=y[_],C=0;C<I.length;C++){var B=I[C];if(e.DataManager.playerModel.getItemCount(B[0])<B[1]){x=!1;break}}if(x){n=!0;break}}}}}return n}}function at(t){if(t&&!(e.DataManager.playerModel.playerLevel<Number(e.Constants.elfEffortOpenLv))){for(var n={hp:0,speed:0,atk:0,def:0,spAtk:0,spDef:0},i={hp:0,speed:0,atk:0,def:0,spAtk:0,spDef:0},a=e.DataManager.playerModel.getItemListByItemType(5),o=0;o<a.length;o++){var s=a[o],r=e.Data.TItem[s.type];r.hp&&r.hp>0&&i.hp++,r.spe&&r.spe>0&&i.speed++,r.atk&&r.atk>0&&i.atk++,r.def&&r.def>0&&i.def++,r.atkSp&&r.atkSp>0&&i.spAtk++,r.defSp&&r.defSp>0&&i.spDef++}var u=t.effort,l=e.Data.TElfSeerValue[t.effortLv||0].everyValueLimit;return u.hp<l&&i.hp>0&&(n.hp=1),u.speed<l&&i.speed>0&&(n.speed=1),u.atk<l&&i.atk>0&&(n.atk=1),u.def<l&&i.def>0&&(n.def=1),u.spAtk<l&&i.spAtk>0&&(n.spAtk=1),u.spDef<l&&i.spDef>0&&(n.spDef=1),n}}function ot(t){if(t&&!(e.DataManager.playerModel.playerLevel<Number(e.Constants.elfBringOpenLv))){for(var n=!1,i=e.DataManager.playerModel.newEquips,a=0;a<t.newEquip.length;a++)if(!t.newEquip[a])for(var o=a+1,s=0;s<i.length;s++){var r=i[s],u=e.Data.Tequip[r.type];if(u.position==o)return!0}return n}}function st(t){if(t&&!(e.DataManager.playerModel.playerLevel<Number(e.Constants.elfStarOpenLv))){var n=e.Data.TElf[t.type],i=n.starCan,a=e.Data.TElfStarUp[t.star];if(t.star>=i)return!1;if(t.lv<a.levelLimit)return!1;if(a.costItem){var o=l(a.costItem,";");if(e.DataManager.playerModel.getItemCount(o[0])<o[1])return!1}if(a.price){var s=l(a.price,";");if(e.DataManager.playerModel.getItemCount(s[0])<s[1])return!1}if(a.costElf){var r=0,u=e.DataManager.playerModel.playerPokemonBag,c=[t.type];n.starPokemon&&(c=l(n.starPokemon));for(var h=0;h<u.length;h++){var p=u[h];c.indexOf(p.type)<0||kt(p)&&p.id!=t.id&&r++}if(r<a.costElf)return!1}return!0}}function rt(t){if(t){for(var n=e.Data.TElf[t.type],i=0,a=0;a<t.skills.length;a++)t.skills[a]&&i++;if(i>=4)return!1;for(var o=l(n.skill),a=0;a<o.length;a++){var s=o[a];if(t.skills.indexOf(s[0])<0&&t.intimacyLv>=s[1])return!0}return!1}}function ut(e){if(e){for(var t=Bt(e.type),n=0;n<t.length;n++){var i=t[n];if(e.isUnlock[n]&&e.lv>=i.askLv&&!e.gift[n]&&0!==e.gift[n])return!0}return!1}}function lt(t){if(e.DataManager.playerModel.playerLevel<Number(e.Constants.elfLoveOpenLv))return!1;if(t.intimacyLv>=t.lv)return!1;if(e.Data.TElfLove[t.intimacyLv].exp){var n=e.DataManager.playerModel.getItemListByItemType(4);if(n.length>0)for(var i=0;i<n.length;i++){var a=n[i],o=e.TeamLovePanel.everyLoveCostMoneyCount*e.Data.TItem[a.type].number1;if(e.DataManager.playerModel.gold>=o)return!0}}return!1}function ct(t){if(e.DataManager.playerModel.playerLevel<Number(e.Constants.elfEffortOpenLv))return!1;var n=at(t);for(var i in n)if(n[i]>0)return!0;return!1}function ht(t){var n=!1;if(e.DataManager.playerModel.playerLevel<Number(e.Constants.equipRefineOpenLv))return n;var i=e.Data.TPlayerEquipStren[t.equipId];if(i&&i.nextId){var a=e.Data.TPlayerEquipStren[i.nextId];if(a.openLevel&&e.DataManager.playerModel.playerLevel<a.openLevel)n=!1;else{var o=l(i.upItems,";"),s=e.DataManager.playerModel.getItemCount(o[0]);n=s>=o[1]}}return n}function pt(t){var n=!1;if(e.DataManager.playerModel.playerLevel<Number(e.Constants.equipDevilOpenLv))return n;var i=e.Data.TPlayerEquipDevil[t.enchantingId];if(i&&i.nextId){var a=e.Data.TPlayerEquipDevil[i.nextId];if(a.openLevel&&e.DataManager.playerModel.playerLevel<a.openLevel)n=!1;else{var o=e.DataManager.playerModel.getItemCount(12500),s=e.DataManager.playerModel.getItemCount(12501),r=e.DataManager.playerModel.getItemCount(12502),u=i.upItems-t.enchantingProgress;n=u-o*e.Data.TItem[12500].number1-s*e.Data.TItem[12501].number1-r*e.Data.TItem[12502].number1<0}}return n}function gt(t){var n=!1;if(e.DataManager.playerModel.playerLevel<Number(e.Constants.Equipment))return n;var i=e.Data.TPlayerEquipRefine[t.refineId];if(i&&i.nextId){var a=e.Data.TPlayerEquipRefine[i.nextId];if(a.openLevel&&e.DataManager.playerModel.playerLevel<a.openLevel)n=!1;else{var o=l(i.upItems,";"),s=e.DataManager.playerModel.getItemCount(o[0]);n=s>=o[1]}}return n}function dt(t){var n=!1;if(e.DataManager.playerModel.playerLevel<Number(e.Constants.Ornaments))return n;var i=e.Data.TWing[t];if(i&&i.nextId){var a=e.Data.TWing[i.nextId],o=!0;if(a.limitLV){var s=void 0,r=l(a.limitLV,";");if(1==r[0]?s=e.DataManager.playerModel.playerLevel>=r[1]:2==r[0]&&(s=e.DataManager.playerModel.playerVip>=r[1]),s){var u=e.DataManager.playerModel.getItemCount(i.upItems);o=u>=i.scoreItems}else o=!1}if(o){var c=!0;if(a.front){for(var h=!1,p=e.DataManager.playerModel.teamConfig.wing.owns,g=0;g<p.length;g++)if(p[g].id==a.front){h=!0;break}h||(c=!1)}n=o&&c}}return n}function mt(t){var n=!1;if(e.DataManager.playerModel.playerLevel<Number(e.Constants.Ornaments))return n;var i=e.Data.TOrna[t];if(i&&i.nextId){var a=e.Data.TOrna[i.nextId],o=!0;if(a.limitLV){var s=l(a.limitLV),r=void 0;if(1==s[0]?r=e.DataManager.playerModel.playerLevel>=s[1]:2==s[0]&&(r=e.DataManager.playerModel.playerVip>=s[1]),r){var u=e.DataManager.playerModel.getItemCount(i.upItems);o=u>=i.scoreItems}else o=!1}if(o){var c=!0;if(a.front){for(var h=!1,p=e.DataManager.playerModel.teamConfig.orna.owns,g=0;g<p.length;g++)if(p[g].id==a.front){h=!0;break}h||(c=!1)}n=o&&c}}return n}function ft(){var t=!1;if(e.DataManager.playerModel.playerLevel>=Number(e.Constants.badgeOpenLv))for(var n=e.DataManager.playerModel.getBadgeList(),i=0;i<n.length;i++){var a=e.Data.TPlayerBadge[n[i]];if(a.nextId){if(a.frontBadge&&-1==n.indexOf(a.frontBadge))continue;var o=l(a.upItems,";");if(e.DataManager.playerModel.gold>=a.upPrice&&e.DataManager.playerModel.getItemCount(o[0])>=o[1]){t=!0;break}}}return t}function _t(){if(e.DataManager.playerModel.playerLevel<Number(e.Constants.spDungeonOpenLv))return!1;var t=e.getNowTime().getDay(),n=e.DataManager.playerModel.playerLevel,i=e.Data.TVip[e.DataManager.playerModel.playerVip].spDunBuyCount||0;for(var a in e.Data.TSpecialDungeonsType){var o=e.Data.TSpecialDungeonsType[a],s=l(o.openWeek,",");if(-1!=s.indexOf(t)&&!(n<o.openLv)){var r=o.countBegin+i,u=e.DataManager.playerModel.getDungeonCount(o.type);if(u.used<r||u.reusable>0)return!0}}return!1}function yt(t){if(t){if(e.DataManager.playerModel.playerLevel<Number(e.Constants.ArtifactOpenLv))return!1;if(t.artifact){for(var n=void 0,i=0;i<e.DataManager.playerModel.teamConfig.artifacts.length;i++)if(e.DataManager.playerModel.teamConfig.artifacts[i].id==t.artifact){n=e.DataManager.playerModel.teamConfig.artifacts[i];break}if(n){var a=e.Data.TEArtifactStarLv[n.star];if(a.upItems){for(var o=!0,s=l(a.upItems),i=0;i<s.length;i++){var r=s[i],u=e.DataManager.playerModel.getItemCount(r[0]);if(u<r[1]){o=!1;break}}if(o)return!0}var c=e.Data.TEArtifactUpLv[n.level];if(c.upItems){for(var h=[],p=l(e.Constants.ArtifactUpItem,";"),i=0;i<p.length;i++){var g=p[i],u=e.DataManager.playerModel.getItemCount(g);u>0&&h.push({type:g,count:u})}for(var d=c.upItems,i=0;i<h.length;i++)for(var m=h[i],f=e.Data.TItem[m.type],_=f.number1,y=0;y<m.count&&!(0>=d);y++)d-=_;if(0>=d)return!0}}}else for(var v=t.type,b=e.Data.TElf[v],w=b.attribute,k=e.DataManager.playerModel.teamConfig.artifacts,i=0;i<k.length;i++){var r=k[i];if(!r.equip){var I=e.Data.TEArtifact[r.type];if(I.attributeId){var T=l(I.attributeId,";");if(-1==T.indexOf(w))continue}if(I.elfId){var P=l(I.elfId,";");if(-1==P.indexOf(v))continue}return!0}}return!1}}function vt(i){return __awaiter(this,void 0,void 0,function(){var o,s,r,u,l,c,c,c,u,h,c,c,c,c,p;return __generator(this,function(g){switch(g.label){case 0:if(81==i)return[2];switch(o=i){case 88:return[3,1];case 87:return[3,2];case 85:return[3,3];case 84:return[3,4];case 83:return[3,5];case 82:return[3,6];case 74:return[3,7];case 72:return[3,8];case 71:return[3,9];case 70:return[3,10];case 69:return[3,11];case 68:return[3,16];case 67:return[3,17];case 66:return[3,18];case 92:return[3,19];case 93:return[3,20];case 65:return[3,21];case 64:return[3,22];case 63:return[3,23];case 62:return[3,24];case 61:return[3,25];case 60:return[3,26];case 58:return[3,27];case 51:return[3,28];case 50:return[3,29];case 49:return[3,30];case 48:return[3,31];case 47:return[3,32];case 46:return[3,33];case 40:return[3,34];case 38:return[3,40];case 37:return[3,41];case 36:return[3,42];case 25:return[3,43];case 24:return[3,44];case 23:return[3,45];case 22:return[3,46];case 21:return[3,47];case 20:return[3,48];case 19:return[3,49];case 18:return[3,50];case 1:return[3,51];case 2:return[3,52];case 3:return[3,53];case 4:return[3,54];case 5:return[3,58];case 6:return[3,59];case 7:return[3,60];case 57:return[3,61];case 8:return[3,62];case 16:return[3,63];case 9:return[3,64];case 10:return[3,65];case 11:return[3,66];case 12:return[3,67];case 13:return[3,68];case 14:return[3,69];case 15:return[3,70];case 17:return[3,71];case 26:return[3,72];case 27:return[3,73];case 28:return[3,74];case 29:return[3,75];case 30:return[3,76];case 31:return[3,77];case 32:return[3,78];case 33:return[3,79];case 34:return[3,80];case 35:return[3,81];case 666:return[3,82];case 73:return[3,88];case 75:return[3,89];case 76:return[3,90];case 77:return[3,91];case 78:return[3,92];case 79:return[3,93];case 80:return[3,94];case 86:return[3,95];case 89:return[3,96];case 45:return[3,97];case 44:return[3,98];case 43:return[3,99];case 42:return[3,100];case 41:return[3,101];case 90:return[3,102];case 91:return[3,103];case 94:return[3,104]}return[3,105];case 1:return e.IdleCatchPokemonPanel.getInstance().show(),[3,105];case 2:return e.IdleCatchPokemonRewardPanel.getInstance().show(),[3,105];case 3:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.elfBringOpenLv)?e.NewEquipPanel.getInstance().show():a(d(e.Lang.dengjijiesuo,e.Constants.elfBringOpenLv),!0),[3,105];case 4:return e.Duihuan.getInstance().show(),[3,105];case 5:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.elfTanletOpenLv)?e.GiftPanel.getInstance().show():a(d(e.Lang.dengjijiesuo,e.Constants.elfTanletOpenLv),!0),[3,105];case 6:return e.ActivityPanel.openActivity(131),[3,105];case 7:return e.RenamePanel.getInstance().show(),[3,105];case 8:return e.WorldMap.getInstance().SetInfo(1).show(),[3,105];case 9:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.battleSubawayOpenLv)?e.Subway.getInstance().show():a(d(e.Lang.dengjijiesuo,e.Constants.battleSubawayOpenLv),!0),[3,105];case 10:return e.DataManager.playerModel.currentMission>=Number(e.Constants.eggOpenDgLv)?e.EggPanel.getInstance().show():a(d(e.Lang.guankajiesuo,e.Constants.eggOpenDgLv),!0),[3,105];case 11:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.FurnOpenLv)?e.DataManager.playerModel.homeInfo?[3,13]:[4,e.DataManager.playerModel.loadHomeInfo()]:[3,14];case 12:g.sent(),g.label=13;case 13:return e.DataManager.playerModel.homeInfo&&e.HomeScene.getInstance().show(),[3,15];case 14:a(d(e.Lang.dengjijiesuo,e.Constants.FurnOpenLv),!0),g.label=15;case 15:return[3,105];case 16:return e.PlayerTips.getInstance().show(),[3,105];case 17:return e.PokemonBookAttribute.getInstance().show(),[3,105];case 18:return e.ComboPanel.getInstance().show(),[3,105];case 19:return e.JLDSTaskPanel.getInstance().show(),[3,105];case 20:return e.ActivityPanel.openActivity(128),[3,105];case 21:return e.WorldMap.getInstance().SetInfo(2).show(),[3,105];case 22:return e.MissionDetail.getInstance().show(),[3,105];case 23:return s=e.Data.TElfHelpGrid[1],s&&s.unlockLevel&&e.DataManager.playerModel.playerLevel<s.unlockLevel?a(d(e.Lang.dengjijiesuo,s.unlockLevel),!0):e.HelpPokemonPanel.getInstance().show(),[3,105];case 24:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.PlayItemRecoOpen)?e.ItemRecoveryPanel.getInstance().show():a(d(e.Lang.dengjijiesuo,e.Constants.PlayItemRecoOpen),!0),[3,105];case 25:return e.ExchangePiece.getInstance().show(),[3,105];case 26:return e.MysteryShopPanel.getInstance().show(),[3,105];case 27:return e.RevengePanel.getInstance().show(),[3,105];case 28:return e.ShopPanel.getInstance().changeToPet(),e.ShopPanel.getInstance().show(),[3,105];case 29:return e.SharePanel.getInstance().show(),[3,105];case 30:return e.PlayerFollow.getInstance().show(),[3,105];case 31:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.Ornaments)?e.PlayerWingPanel.getInstance().show():a(d(e.Lang.dengjijiesuo,Number(e.Constants.Ornaments)),!0),[3,105];case 32:return e.AnnouncementPanel.getInstance().show(),[3,105];case 33:return e.DataManager.playerModel.playerLevel<Number(e.Constants.Equipment)?(a(d(e.Lang.dengjijiesuo,e.Constants.Equipment),!0),[2]):(e.PlayerEquipPanel.getInstance().show(),[3,105]);case 34:return e.DataManager.playerModel.playerLevel>=e.riftLimit?(r=e.DataManager.playerModel.getActivityInfo().ext.famInfo,0!=r.lv?[3,36]:[4,e.DataManager.playerModel.enterRift(1)]):[3,38];case 35:return u=g.sent(),u&&e.RiftPanel.getInstance().show(),[3,37];case 36:e.RiftPanel.getInstance().show(),g.label=37;case 37:return[3,39];case 38:a(d(e.Lang.dengjijiesuo,e.riftLimit),!0),g.label=39;case 39:return[3,105];case 40:return e.RecommendPanel.getInstance().show(),[3,105];case 41:return e.SignPanel.getInstance().show(),[3,105];case 42:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.fastBattleOpenLv)?e.FastBattle.getInstance().show():a(d(e.Lang.dengjijiesuo,Number(e.Constants.fastBattleOpenLv)),!0),[3,105];case 43:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.Rankinglist)?e.RankPanel.getInstance().show():a(d(e.Lang.dengjijiesuo,Number(e.Constants.Rankinglist)),!0),[3,105];case 44:return e.FriendPanel.getInstance().show(),[3,105];case 45:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.Chatbox)?e.ChatPanel.getInstance().show():a(d(e.Lang.dengjijiesuo,Number(e.Constants.Chatbox)),!0),[3,105];case 46:return e.SceneManager.changeScene(9),[3,105];case 47:return l=e.MailPanel.getInstance(),l.show(),[3,105];case 48:return e.DataManager.playerModel.playerLevel<Number(e.Constants.badgeOpenLv)?(a(d(e.Lang.dengjijiesuo,e.Constants.badgeOpenLv),!0),[2]):(e.PlayerBadgePanel.getInstance().show(),[3,105]);case 49:return e.PlayerTitlePanel.getInstance().show(),[3,105];case 50:return e.PlayerVipPanel.getInstance().setTypeAndShow(!0),[3,105];case 51:return c=e.RootBottom.getInstance(),c.touchButton(c.adventureBtn),[3,105];case 52:return c=e.RootBottom.getInstance(),c.touchButton(c.pokemonBtn),[3,105];case 53:return c=e.RootBottom.getInstance(),c.touchButton(c.gashaponBtn),[3,105];case 54:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.pvpOpenLV)?(t(),[4,e.DataManager.playerModel.initPvpInfo()]):[3,56];case 55:return u=g.sent(),n(),u&&e.PvpPanel.getInstance().show(),[3,57];case 56:a(d(e.Lang.dengjijiesuo,Number(e.Constants.pvpOpenLV)),!0),g.label=57;case 57:return[3,105];case 58:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.spDungeonOpenLv)?e.DungeonPanel.getInstance().show():a(d(e.Lang.dengjijiesuo,e.Constants.spDungeonOpenLv),!0),[3,105];case 59:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.towerOpenLv)?(h=!(0==e.DataManager.playerModel.battleProgress.towerLv),h?e.CavePanel.getInstance().show():e.CavePanel.getInstance().challengeHandle()):a(d(e.Lang.dengjijiesuo,e.Constants.towerOpenLv),!0),[3,105];case 60:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.shopOpenLv)?e.ShopPanel.getInstance().show():a(d(e.Lang.dengjijiesuo,e.Constants.shopOpenLv),!0),[3,105];case 61:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.shopOpenLv)?(e.ShopPanel.getInstance().show(),e.ShopPanel.getInstance().changeToSkill()):a(d(e.Lang.dengjijiesuo,e.Constants.shopOpenLv),!0),[3,105];case 62:return e.DataManager.playerModel.playerLevel>=e.Data.THunt[1].limit?e.HuntPanel.getInstance().show():a(d(e.Lang.dengjijiesuo,e.Data.THunt[1].limit),!0),[3,105];case 63:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.dailyQuestOpenLc)?(c=e.RootBottom.getInstance(),c.touchButton(c.taskBtn)):a(d(e.Lang.dengjijiesuo,e.Constants.dailyQuestOpenLc),!0),[3,105];case 64:return c=e.RootBottom.getInstance(),c.touchButton(c.homeCityBtn),[3,105];case 65:return c=e.RootBottom.getInstance(),c.touchButton(c.bagBtn),[3,105];case 66:return c=e.RootBottom.getInstance(),c.touchButton(c.guildBtn),[3,105];case 67:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.playerRoleOpenLv)?e.PlayerRolePanel.getInstance().show():a(d(e.Lang.dengjijiesuo,e.Constants.playerRoleOpenLv),!0),[3,105];case 68:return e.ActivityPanel.getInstanceByType(e.ActivityPanelType.huodongzhongxin).show(),[3,105];case 69:return e.LegendaryShopPanel.getInstance().show(),[3,105];case 70:return e.PlayerVipPanel.getInstance().setTypeAndShow(!1),[3,105];case 71:return e.PlayerPanel.getInstance().show(),[3,105];case 72:return e.TeamTrainPanel.getInstance().show(),[3,105];case 73:return e.SkillPanel.getInstance().show(),[3,105];case 74:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.elfXingGeOpenLv)?e.TeamNaturePanel.getInstance().show():a(d(e.Lang.dengjijiesuo,e.Constants.elfXingGeOpenLv),!0),[3,105];case 75:return e.BookPanel.instance.show(),[3,105];case 76:return e.EquipPanel.getInstance().show(),[3,105];case 77:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.elfGridOpenLv)?e.FormationPanel.getInstance().show():a(d(e.Lang.dengjijiesuo,e.Constants.elfGridOpenLv),!0),[3,105];case 78:return e.TeamBagConfig.getInstance().show(),[3,105];case 79:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.elfStarOpenLv)?e.StarPanel.getInstance().show():a(d(e.Lang.dengjijiesuo,e.Constants.elfStarOpenLv),!0),[3,105];case 80:return e.CheckPanel.getInstance().show(),[3,105];case 81:return e.PokemonDetail.getInstance().show(),[3,105];case 82:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.MiningOpenLV)?[4,e.DataManager.playerModel.MiningData]:[3,86];case 83:return p=g.sent(),p?[3,85]:[4,e.DataManager.playerModel.miningCreateDataInfo()];case 84:g.sent(),g.label=85;case 85:return e.MiningPanel.getInstance().show(),[3,87];case 86:a(d(e.Lang.dengjijiesuo,e.Constants.MiningOpenLV),!0),g.label=87;case 87:return[3,105];case 88:return e.ActivityPanel.openActivity(119),[3,105];case 89:return e.ActivityPanel.openActivity(4),[3,105];case 90:return e.ActivityPanel.openActivity(112),[3,105];case 91:return e.ActivityPanel.openActivity(9),[3,105];case 92:return e.ActivityPanel.openActivity(1),[3,105];case 93:return e.ActivityPanel.openActivity(117),[3,105];case 94:return e.ZuanShiDianjin.getInstance().show(),[3,105];case 95:return e.SceneManager.changeScene(8),[3,105];case 96:return e.StrengthTip.getInstance().show(),[3,105];case 97:return e.DataManager.playerModel.playerLevel>=Number(e.Constants.elfIvOpenLv)?(e.TeamTrainPanel.getInstance().changeToIvPanel(),vt(26)):a(d(e.Lang.dengjijiesuo,e.Constants.elfIvOpenLv),!0),[3,105];case 98:return e.TeamTrainPanel.getInstance().changeToEffortPanel(),vt(26),[3,105];case 99:return e.TeamTrainPanel.getInstance().changeToEvaluationPanel(),vt(26),[3,105];case 100:return e.TeamTrainPanel.getInstance().changeToLovePanel(),vt(26),[3,105];case 101:return e.TeamTrainPanel.getInstance().changeToLevelPanel(),vt(26),[3,105];case 102:return e.PieceShopHouse.getInstance().show(),[3,105];case 103:return e.ShopRecoveryPanel.getInstance().show(),[3,105];case 104:return e.SuperGashponPanel.getInstance().show(),[3,105];case 105:return[4,bt(i)];case 106:return g.sent(),[2]}})})}function bt(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return 81==t?[2]:(n=e.TeachScene.getInstance(),null==t?(n.removeFromParent(),[2]):e.TeachData?e.TeachData.panel!=t?[3,2]:[4,n.setData(e.TeachData,t)]:[3,6]);case 1:return a.sent(),n.show(),[3,5];case 2:return i=e.Data.TTeach[e.TeachData.nextId],i&&i.panel==t?(e.TeachData=i,[4,n.setData(e.TeachData,t)]):[3,4];case 3:return a.sent(),n.show(),[3,5];case 4:!wt(e.TeachData.panel)&&wt(t)||(e.TeachData=null,n.removeFromParent()),a.label=5;case 5:return[3,7];case 6:n.removeFromParent(),a.label=7;case 7:return[2]}})})}function wt(e){return 45==e||42==e||44==e||43==e||41==e}function kt(t){var n=[],i=e.DataManager.playerModel.getMyGuildInfo();if(i)for(var a=0;a<i.leavePokemon.length;a++)n.push(i.leavePokemon[a].pokemonId);if(n.indexOf(t.id)>-1)return!1;var o=e.DataManager.playerModel.idleFollowList;if(o.indexOf(t.id)>-1)return!1;var s=e.DataManager.playerModel.teamConfig.helps;if(s.indexOf(t.id)>-1)return!1;var r=e.DataManager.playerModel.playerTeamPokemonList;if(r.indexOf(t)>-1)return!1;for(var a=0;a<r.length;a++){var u=r[a];if(u&&u.id==t.id)return!1}var l=e.DataManager.playerModel.totalGymPokemon;if(l.indexOf(t.id)>-1)return!1;var c=e.DataManager.playerModel.eggLayParentID;if(c.indexOf(t.id)>-1)return!1;var h=e.DataManager.playerModel.totalZhankuangPokemon;if(h.indexOf(t.id)>-1)return!1;if(e.DataManager.playerModel.pvpDanTiaoInfo.petId==t.id)return!1;var p=e.DataManager.playerModel.PvpThroneInfo.playerPms;for(var a in p)if(p[a].indexOf(t.id)>-1)return!1;return!0}function It(t){var n=e.DataManager.playerModel;if(n&&host&&n.getPlayerInfo()){var i="",a=n.getMyGuildInfo();a&&a.guildId&&(i=a.guildId.toString());var o={ingot:n.diamond.toString(),playerId:n.pid.toString(),factionName:i,vipLevel:n.playerVip.toString(),serverName:SDK.$serverName,playerLevel:n.playerLevel.toString(),serverId:SDK.$serverId.toString(),playerName:n.playerName,campId:"",roleSex:"0",careerId:"",experience:n.exp.toString(),coin:n.gold.toString(),payment:n.playerRecharge.toString(),roleCTime:n.extension.roleCTime.toString(),sceneValue:t};host.inGame(JSON.stringify(o))}}function Tt(t){for(var n in e.Data.TSocietyScience)if(e.Data.TSocietyScience.hasOwnProperty(n)){var i=e.Data.TSocietyScience[n];if(i.id==t.id&&i.level==t.lv)return i}return null}function Pt(t){for(var n in e.Data.TSocietypersonageScience)if(e.Data.TSocietypersonageScience.hasOwnProperty(n)){var i=e.Data.TSocietypersonageScience[n];if(i.id==t.id&&i.level==t.lv)return i}return null}function Lt(){var t=0,n=[];for(var i in e.Data.TSocietyScience)if(e.Data.TSocietyScience.hasOwnProperty(i)){var a=e.Data.TSocietyScience[i].id;-1==n.indexOf(a)&&(t++,n.push(a))}return t}function Dt(t){for(var n in e.Data.TTitle)if(e.Data.TTitle.hasOwnProperty(n)&&e.Data.TTitle[n].title==t)return e.Data.TTitle[n].id;return null}function xt(e,t){for(var n in e)if(t(e[n]))return e[n];return null}function Ct(t,n){void 0===n&&(n=!1);var i=function(e){n&&(/放生/g.test(e)&&(e=e.replace(/放生/g,"重生")),/回收/g.test(e)&&(e=e.replace(/回收/g,"重生"))),a(e,!0)};if(-1!=e.DataManager.playerModel.eggLayParentID.indexOf(t.id))return i(e.Lang.shengdandebaokemengbunengfangsheng),!1;if(0==t.slot)return i(e.Lang.duiwuzhongdebaokemengbunenghuishouo),!1;if(e.DataManager.playerModel.idleFollowList.indexOf(t.id)>-1)return i(e.Lang.yigensuidebaokemengbunenghuishouo),!1;if(-1!=e.DataManager.playerModel.teamConfig.helps.indexOf(t.id))return i(e.Lang.zhuzhendebaokemengbukeyihuishou),!1;var o=e.DataManager.playerModel.getMyGuildInfo();if(o)for(var s=0;s<o.leavePokemon.length;s++){var r=o.leavePokemon[s];if(t.id==r.pokemonId)return i(e.Lang.gonghuizhongjifangdebaokemengbunenghuishou),!1}var u=e.DataManager.playerModel.totalGymPokemon;if(u.indexOf(t.id)>-1)return i(e.Lang.daoguanzhongshezhidebaokemengbunenghuishou),!1;var l=e.DataManager.playerModel.totalZhankuangPokemon;if(l.indexOf(t.id)>-1)return i("占矿战中的宝可梦不能回收哦!"),!1;if(e.DataManager.playerModel.pvpDanTiaoInfo.petId==t.id)return void i(e.Lang.jingjichangchuzhanzhongdebaokemengbukefangsheng);var c=e.DataManager.playerModel.PvpThroneInfo.playerPms;for(var s in c)if(c[s].indexOf(t.id)>-1)return void i(e.Lang.jingjichangchuzhanzhongdebaokemengbukefangsheng);return!0}function Bt(t){var n=e.Data.TElf[t],i=n.talentGroupId;if(i){if(!e.PokemonGiftArray){e.PokemonGiftArray={};for(var a in e.Data.TElfTalent){var o=e.Data.TElfTalent[a];e.PokemonGiftArray[o.talentGroupId]||(e.PokemonGiftArray[o.talentGroupId]=[]),e.PokemonGiftArray[o.talentGroupId].push(o)}}return e.PokemonGiftArray[i]}}function St(e){var t=RES.configInstance.getRawResourceItem(e);if(t){var n=t.url;return n=n.replace("resource/",""),LocalResDict&&LocalResDict[n]?n:cdnUrl+"resource/"+n}return null}function Et(t){for(var n=0;n<t.length;n++){var i=t[n],a=i.content;switch(i.type){case 1:e.loadTHuoSevenLg(a);break;case 2:e.loadTHuoZhuanPan(a);break;case 3:e.loadTHuoZhandou(a);break;case 4:e.loadTHuoRechargeSum(a);break;case 5:e.loadTDiamondCon(a);break;case 6:e.loadTFlashElf(a);break;case 7:e.loadTPremiumPacks(a);break;case 8:e.loadTHuoSuperElf(a);break;case 9:e.loadTRechargeElfin(a);break;case 100:e.loadTHuoOneRMB(a);break;case 101:e.loadTHuoRechargeFrist(a);break;case 103:e.loadTHuoZhongSheng(a);break;case 105:e.loadTHuoChengZhang(a);break;case 106:e.loadTHuoRedElf(a);break;case 107:e.loadTDailyCon(a);break;case 108:e.loadTDailyRecharge(a);break;case 109:e.loadTLvaCtivity(a);break;case 110:e.loadTRecharge49(a);break;case 111:e.loadTMammonRabbit(a);break;case 112:e.loadTHuoCollent(a);break;case 113:e.loadTDecennium(a);break;case 114:e.loadTHuoPolite(a);break;case 115:e.loadTGoldenEggs(a);break;case 116:e.loadTDaysDiamond(a);break;case 117:e.loadTFirstGroupon(a);break;case 118:e.loadTOpencompetition(a);break;case 119:e.loadTHappyMidAutumn(a);break;case 120:e.loadTMooncake(a);break;case 121:e.loadTYuanyuan(a);break;case 122:break;case 123:e.loadTHuoConsumption(a);break;case 124:e.loadTPrimeCharge(a);break;case 125:break;case 126:break;case 127:break;case 128:e.loadTbigcompete(a);break;case 10:e.loadTAppointmentGift(a);break;case 11:e.loadTDailyGifts(a);break;case 12:e.loadTChristmasEve(a);break;case 130:e.loadTEntryYuandan(a);break;case 131:e.loadTLuckZhuanPan(a);break;case 133:e.loadTSevendaysReward(a)}a=null}}function At(e,t,n){7==SDK.$platformType&&NBSDK.select_server(e,t,n)}function Mt(e,t,n,i,a){7==SDK.$platformType&&NBSDK.create_role(e,t,n,i,a)}function Gt(e,t,n,i,a){7==SDK.$platformType?NBSDK.select_role(e,t,n,i,a):8==SDK.$platformType&&H5youyouSDK.RoleInfo({serverid:SDK.$serverId,servername:SDK.$serverName,roleid:e,rolename:t,rolelevel:n,appkey:"4def88146a674438f28e8c1a762c6151",account:SDK.getQueryString("userid")})}function Nt(){7==SDK.$platformType&&NBSDK.enter_game()}function Rt(e,t){7==SDK.$platformType&&NBSDK.role_levelup(e,t),Ft("LevelUp")}function qt(){return!1}function jt(t,n){for(var i=function(e,t){for(var n in t)t[n]>0&&(e[n]+=t[n])},a=e.Data.TFHomeLandLv[t],o=new e.EquipAttribute,s=0;s<n.length;s++){var r=n[s],u=e.Data.TFurnitureQuality[r.quality],l=e.Data.TFurniture[r.type],c=e.Data.TFurnitureLv[r.level],h=e.Data.TEffect[l.effectId],p=new e.EquipAttribute;if(G(p,h),N(p,e.MaxFurnitureQuality,u.quality,c.basicUp,a.basicAbility),i(o,p),r.extId){var g=e.Data.TEffect[e.Data.TFurnitureExtraType[r.extId].effectId],d=new e.EquipAttribute;G(d,g),R(d,r.extNum,c.basicUp,a.basicAbility),i(o,d)}}return o}function Ht(e){for(var t=0,n=Bt(e.type),i=0;i<e.isUnlock.length;i++)e.isUnlock[i]&&(t+=n[i].alladd);return t}function Ot(t){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:for(e.BonesDictionary[t]||(e.BonesDictionary[t]=[]),n=0;n<e.BonesDictionary[t].length;n++)if(i=e.BonesDictionary[t][n],!i.isUsed)return i.isUsed=!0,[2,i];return a=new e.SkeletonBase,a.isUsed=!0,[4,a.createBones(t)];case 1:return o.sent(),e.BonesDictionary[t].push(a),[2,a]}})})}function Ft(t){if(12==SDK.$platformType){var n=e.DataManager.playerModel,i={game_user_id:n.pid.toString(),game_user_name:n.playerName,game_server_id:SDK.$serverId.toString(),game_server_name:SDK.$serverName,user_level:n.playerLevel,vip_level:n.playerVip,type:t};SDK.ReportGave(i)}}function zt(e){e.removeFromParent(),e.isUsed=!1}function Ut(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:for(e.particleDictionary[t]||(e.particleDictionary[t]=[]),n=0;n<e.particleDictionary[t].length;n++)if(i=e.particleDictionary[t][n],!i.used)return i.used=!0,[2,i];return[4,h("particle/"+t+"/"+t+"_image")];case 1:return a=r.sent(),[4,h("particle/"+t+"/"+t+"_json")];case 2:return o=r.sent(),s=new e.ParticleBase(a,o),e.particleDictionary[t].push(s),[2,s]}})})}function Wt(e){e.removeFromParent(),e.used=!1}e.showWaitPanel=t,e.hideWaitPanel=n,e.getTextFlow=i,e.showTips=a,e.loadGroup=o,e.delay=s;var Vt=function(){function e(){this._obj=null,this.pos0=null,this.pos1=null,this.pos2=null}return e.prototype.setObject=function(e){this._obj=e},Object.defineProperty(e.prototype,"factor",{get:function(){return 0},set:function(e){this._obj.x=(1-e)*(1-e)*this.pos0[0]+2*e*(1-e)*this.pos1[0]+e*e*this.pos2[0],this._obj.y=(1-e)*(1-e)*this.pos0[1]+2*e*(1-e)*this.pos1[1]+e*e*this.pos2[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"p1p2p3",{set:function(e){this.pos0=e[0],this.pos1=e[1],this.pos2=e[2]},enumerable:!0,configurable:!0}),e.prototype.play=function(e,t,n){egret.Tween.get(this).to({factor:1},e,n).call(function(){t&&t()},this)},e.prototype.onDestroy=function(){this._obj=null},e}();e.BeiSaiEr=Vt,__reflect(Vt.prototype,"game.BeiSaiEr",["game.PoolItem"]),e.BeiSaiErPool=new e.ObjectPool(Vt),e.parseCSV=r,e.ToNumber=u,e.splitStringToNumberArray=l,e.loadUrl=c,e.loadRes=h,e.loot=p,e.setNumber=g,e.formatString=d,e.parseBattlePokemonData=m,e.addEquipAttribute=f,e.numStatsHpAll=Number(e.Constants.numStatsHpAll),e.numStatsHpCluAdd=Number(e.Constants.numStatsHpCluAdd),e.numStatsHpInitAdd=Number(e.Constants.numStatsHpInitAdd),e.numStatsOtherAll=Number(e.Constants.numStatsOtherAll),e.numStatsOtherCluAdd=Number(e.Constants.numStatsOtherCluAdd),e.numStatsOtherInitAdd=Number(e.Constants.numStatsOtherInitAdd),e.numStatsRace=Number(e.Constants.numStatsRace),e.numStatsiv=Number(e.Constants.numStatsiv),e.numStatseffort=Number(e.Constants.numStatseffort),e.numStatsLV=Number(e.Constants.numStatsLV),e.numDamageAll=Number(e.Constants.numDamageAll),e.numDamageAtkLV=Number(e.Constants.numDamageAtkLV),e.numDamageAtkAdd=Number(e.Constants.numDamageAtkAdd),e.numDamageAtkDef=Number(e.Constants.numDamageAtkDef),e.numDamageAtkDefAdd=Number(e.Constants.numDamageAtkDefAdd),e.countHpStats=_,e.countOtherStats=y,e.countAtkStats=v,e.countDefStats=b,e.countSpeedStats=w,e.getPokemonLevelSkill=k,e.copyObject=I,e.DarkRectPool=new e.ObjectPool(eui.Rect),e.addPopUp=T,e.removePopUp=P,e.StripNumber=L,e.parseSuperEquipAttribute=D,e.checkPointAtRect=x,e.countPokemonBattleCount=C,e.parseColorText=B,e.parse16Color=S,e.createColorText=E,e.loadBones=A,e.getPokemonArtTexture=M,e.parseEquipAttribute=G,e.parseFurnitureBaseAttribute=N,e.parseFurnitureExtAttribute=R,e.setFurnitureAttribute=q,e.createAttributeLabel=j,e.setAttributeLabel=H,e.getAttributeTextList=O,e.GetRandomNumWithRange=F,e.angle=z,e.getVipLevelByRecharge=U,e.checkIsNull=W,e.showAbilityText=V,e.checkItemCount=Y,e.checkCanBuy=X,e.getGuildMaxMember=K,e.getGuildTotalDegree=Z,e.GetOffSetX=Q,e.GetOffSetYWithBottom=J,e.GetOffSetYWithCenter=$,e.getAbilityText=et,e.getGuildPositionText=tt,e.checkPokemonCanLevelUp=nt,e.checkPokemonCanEvaluation=it,e.checkPokemonCanUseEffort=at,e.checkPokemonCanEquip=ot,e.checkPokemonCanStar=st,e.checkPokemonCanLearnSkill=rt,e.checkPokemonCanLearnGift=ut,e.checkPokemonCanLove=lt,e.checkPokemonCanEffort=ct,e.checkPlayerEquipCanUpgrade=ht,e.checkPlayerEquipCanEnchanting=pt,e.checkPlayerEquipCanRefine=gt,e.checkPlayerWingCanUpgrade=dt,e.checkPlayerDecorationCanUpgrade=mt,e.checkPlayerBadgeCanUpgrade=ft,e.checkDungeonCanChallenge=_t,e.checkPokemonCanSuperEquip=yt,e.riftLimit=Number(e.Constants.FamLvLimit),e.navPanel=vt,e.updateTeach=bt,e.checkIsPmTrain=wt,e.checkPokemonCanUse=kt,e.sendAYUserInfo=It,e.getTSocietyScience=Tt,e.getTSocietypersonageScience=Pt,e.getGuildScienceCount=Lt,e.getTitleId=Dt,e.FirstOrDefault=xt,e.checkPokemonRecoveryOrRebirth=Ct,e.getPokemonGiftList=Bt,e.SpriteSheetPool={},e.getHostMusicName=St,e.updateActivityData=Et,e.userSelectServer=At,e.userCreateRole=Mt,e.userSelectRole=Gt,e.userEnterGame=Nt,e.userLevelUp=Rt,e.isIos=qt,e.getHomeAttribute=jt,e.getGiftUnlockAdd=Ht,e.getBone=Ot,e.updateUserInfoGave=Ft,e.destroyBone=zt,e.particleDictionary={},e.getParticle=Ut,e.destroyParticle=Wt
}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.itemPool=new e.ObjectPool(e.ItemBagIcon),n._itemList=[],n._superEquipList=[],n._baseRecoverItem=[],n._starRecoverItem={},n._levelExp={},n._discount=Number(e.Constants.ArtifactRecoverPer),n._recoveryItemData=e.Data.TItem[e.Constants.ArtifactItemId],n.skinName=ItemBagSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){for(var t=this,i=e.splitStringToNumberArray(e.Constants.ArtifactRecoverItems),a=0;a<i.length;a++){var o={type:i[a][0],count:i[a][1]};this._baseRecoverItem.push(o)}var s=[];for(var a in e.Data.TEArtifactStarLv){for(var r=e.Data.TEArtifactStarLv[a],u=[],l=0;l<s.length;l++){var o=s[l];u.push({type:o[0],count:o[1]})}this._starRecoverItem[r.starLv]=u;for(var c=e.splitStringToNumberArray(r.upItems),h=0;h<c.length;h++){for(var p=c[h],g=!1,d=0;d<s.length;d++)if(s[d][0]==p[0]){s[d][1]+=p[1],g=!0;break}g||s.push(p)}}var m=0;for(var a in e.Data.TEArtifactUpLv){var r=e.Data.TEArtifactUpLv[a];this._levelExp[r.id]=m,r.upItems&&(m+=r.upItems)}this.initText(),this._adjust=!0,this._touchEvent=[{target:this.useButton,callBackFunc:this.useHandle},{target:this.useAllButton,callBackFunc:this.useAllHandle},{target:this.goButton,callBackFunc:this.goHandle},{target:this.makeButton,callBackFunc:this.makeHandle},{target:this.recycleButton,callBackFunc:this.recycleHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:function(){t.touchButtonHandle(t._currentButton,!0)},notifyName:e.PlayerModel.ITEM_UPDATE,execute:!1}],this.addEventAndNotify(),this._radioGroup=new e.RadioGroup(this.typeButtonGroup,[this.itemButton,this.materialButton,this.skillButton,this.otherButton,this.superEquipButton],this.touchButtonHandle,this,this.buttonChangeHandle),e.NotificationCenter.getInstance().addObserver(this,this.touchItem,n.SELECT_ITEM),this.superEquipGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var n=e.target;n.equipInfo&&(t._currentEquip=n,t.setEquipDetail())},this)},n.prototype.recycleHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,i,r,u,l,c,h,i,p,g,d,m=this;return __generator(this,function(f){if(!this._currentEquip)return[2];for(t=this._currentEquip.equipInfo,n=[],i=0;i<this._baseRecoverItem.length;i++)a={type:this._baseRecoverItem[i].type,count:this._baseRecoverItem[i].count},n.push(a);for(o=t.star,s=this._starRecoverItem[o],i=0;i<s.length;i++){for(r=s[i],u=r.count*this._discount|0,l=!1,c=0;c<n.length;c++)if(n[c].type==r.type){n[c].count+=u,l=!0;break}l||n.push({type:r.type,count:u})}for(h="",i=0;i<n.length;i++)p=e.Data.TItem[n[i].type],h+=p.name+"x"+e.setNumber(n[i].count)+" ";return g=(this._levelExp[t.level]+t.exp)*this._discount/this._recoveryItemData.number1|0,h+=this._recoveryItemData.name+"x"+e.setNumber(g),d=e.CheckPanel.getInstance(),d.setData(e.formatString(e.Lang.ninquedingyaohuishoudangqianjiajuma,h,100*this._discount),function(n){return __awaiter(m,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return n?[4,e.DataManager.playerModel.recycleArtifact(null,t)]:[3,2];case 1:i=a.sent(),i&&this._radioGroup.touchButton(this.superEquipButton),a.label=2;case 2:return[2]}})})}),d.show(),[2]})})},n.prototype.makeHandle=function(){var t=e.HomeMake.getInstance();t.show(),t.typeRadioGroup.touchButton(t.equipButton)},n.prototype.goHandle=function(){if(this._currentItem&&this._currentItem.itemIcon.itemData.comeFrom){var t=e.ItemComeFromPanel.getInstance();t.setData(this._currentItem.itemIcon.itemData.comeFrom,null,this,this._currentItem.itemIcon.itemData.number1),t.show()}},n.prototype.useAllHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.useBagItem(this._currentItem.itemInfo.type,Math.min(this._currentItem.itemInfo.count,500))];case 1:return t.sent(),[2]}})})},n.prototype.useHandle=function(){var t=e.ItemUsePanel.getInstance();t.setData(this._currentItem.itemInfo),t.show()},n.prototype.touchItem=function(e){this._currentItem=e,this.setItemDetail()},n.prototype.touchButtonHandle=function(t,n){if(void 0===n&&(n=!1),this._currentButton=t,t==this.superEquipButton){this.superEquipScroller.visible=!0,this.itemScroller.visible=!1,this.superEquipGroup.removeChildren(),this.detailGroup.visible=!1;for(var i=e.DataManager.playerModel.teamConfig.artifacts,a=[],o=0;o<i.length;o++)0==i[o].equip&&a.push(i[o]);if(a.length>0){this.superEquipDetailGroup.visible=!0,this.noneLabel.visible=!1;for(var o=0;o<a.length;o++){var s=a[o],r=this._superEquipList[o];r||(r=new e.SuperEquipIcon,this._superEquipList[o]=r),r.setInfo(s),this.superEquipGroup.addChild(r)}this._currentEquip=this._superEquipList[0],this.setEquipDetail()}else this.noneLabel.visible=!0,this.superEquipDetailGroup.visible=!1,this._currentEquip=null}else{this.superEquipScroller.visible=!1,this.itemScroller.visible=!0,n||(this.itemScroller.viewport.scrollV=0),this.superEquipDetailGroup.visible=!1;var u=void 0;switch(t){case this.itemButton:u=1;break;case this.materialButton:u=3;break;case this.skillButton:u=2;break;case this.otherButton:u=4}this.itemPool.destroyAllObject(),this._itemList=[];for(var l=e.DataManager.playerModel.getItemList(),o=0;o<l.length;o++){var s=l[o],c=e.Data.TItem[s.type];if(c&&c.location==u){var h=this.itemPool.createObject();h.setData(l[o]),this.itemGroup.addChild(h),this._itemList.push(h)}}this._itemList.length>0?(this.noneLabel.visible=!1,this.detailGroup.visible=!0,this._currentItem=this._itemList[0],this.setItemDetail()):(this.noneLabel.visible=!0,this.detailGroup.visible=!1,this._currentItem=null)}},n.prototype.setItemDetail=function(){if(this._currentItem){for(var e=0;e<this._itemList.length;e++){var t=this._itemList[e];t.select=t==this._currentItem}this.detailIcon.item=this._currentItem.itemInfo;var n=this._currentItem.itemIcon.itemData;this.detailNameLabel.text=n.name,this.detailInfoLabel.text=n.desc,this.useButton.visible=this.useAllButton.visible=1==n.used,n.comeFrom?this.goButton.visible=!0:this.goButton.visible=!1}},n.prototype.setEquipDetail=function(){if(this._currentEquip){for(var e=0;e<this._superEquipList.length;e++){var t=this._superEquipList[e];t.select=t==this._currentEquip}this.equipDetailIcon.setInfo(this._currentEquip.equipInfo);var n=this._currentEquip.equipData;this.EquipDetailInfoLabel.text=n.text+"\r"+this._currentEquip.abilityText}},n.prototype.buttonChangeHandle=function(e,t){e.bg=t?"ui/scene/bag/select":"ui/scene/bag/unSelect"},n.prototype.initText=function(){this.itemButton.noScale=this.materialButton.noScale=this.skillButton.noScale=this.superEquipButton.noScale=this.otherButton.noScale=!0,this.itemButton.image="ui/scene/bag/daoju",this.materialButton.image="ui/scene/bag/cailiao",this.skillButton.image="ui/scene/bag/xuexiji",this.superEquipButton.image="ui/scene/bag/shenqi",this.otherButton.image="ui/scene/bag/qita",this.useButton.image="langs/Tx_shiyong",this.noneLabel.text=e.Lang.ninmeiyoudangqianleibiededaoju,this.useAllButton.image="langs/Tx_shiyqb",this.goButton.icon="ui/scene/bag/fangdajing",this.recycleButton.label=e.Lang.huishou,this.makeButton.label=e.Lang.dazao},n.prototype.onCreate=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this._radioGroup.touchButton(this.itemButton),[2]})})},n.prototype.changeToSkill=function(){this._radioGroup.touchButton(this.skillButton)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.SELECT_ITEM="ItemBag_SELECT_ITEM",n}(e.SceneComponent);e.ItemBag=t,__reflect(t.prototype,"game.ItemBag")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=ItemBagIconSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.itemIcon.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.NotificationCenter.getInstance().postNotification(e.ItemBag.SELECT_ITEM,t)},this)},n.prototype.setData=function(e){this.itemInfo=e,this.itemIcon.item=e,this.nameLabel.text=this.itemIcon.itemData.name},Object.defineProperty(n.prototype,"select",{set:function(e){this.selectImage.visible=e},enumerable:!0,configurable:!0}),n.prototype.onDestroy=function(){this.removeFromParent()},n}(e.GameComponent);e.ItemBagIcon=t,__reflect(t.prototype,"game.ItemBagIcon",["game.PoolItem"])}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemBagTypeButtonSkin,t.touchChildren=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"bg",{set:function(e){this._bg=e,this.bgDisplay&&(this.bgDisplay.source=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{set:function(e){this._label=e,this.labelDisplay&&(this.labelDisplay.text=e)},enumerable:!0,configurable:!0}),t}(e.BaseButton);e.ItemBagTypeButton=t,__reflect(t.prototype,"game.ItemBagTypeButton")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.itemList=[],e.skinName=ItemComeFromSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeHandel,this)},i.prototype.setData=function(t,i,a,o){this.infoPanel=i,this.bagPanel=a,this.parm=o,this.itemGroup.removeChildren();for(var s=e.splitStringToNumberArray(t,";"),r=0;r<s.length;r++){var u=e.Data.TPanel[s[r]];if(u){var l=this.itemList[r];l||(l=new n,l.comeFromPanel=this,this.itemList[r]=l),l.setData(u),this.itemGroup.addChild(l)}}},i.prototype.goPanel=function(t){if(35==t){var n=e.PokemonDetail.getInstance();n.setCurrentPokemon(this.parm)}e.navPanel(t),this.infoPanel&&this.infoPanel.closeHandle(),this.closeHandel()},i.prototype.closeHandel=function(){e.removePopUp(this)},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.PanelComponent);e.ItemComeFromPanel=t,__reflect(t.prototype,"game.ItemComeFromPanel");var n=function(t){function n(){var e=t.call(this)||this;return e.skinName=ItemComeFromItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.goButton.label=e.Lang.qianwang,this.goButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.goHandle,this)},n.prototype.goHandle=function(){this.comeFromPanel.goPanel(this.navData.id)},n.prototype.setData=function(e){this.navData=e,this.nameLabel.text=e.name},n}(e.GameComponent);e.ItemComeFromItem=n,__reflect(n.prototype,"game.ItemComeFromItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._starList=[],e.skinName=ItemInfoSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.slotIcon.visible=this.starGroup.visible=!1,this.duihuanButton.label=e.Lang.duihuan,this.confirmButton.label=e.Lang.queding,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.duihuanButton,callBackFunc:this.duihuanHandle}],this.addEventAndNotify()},n.prototype.duihuanHandle=function(){e.Duihuan.getInstance().setInitStone(this.itemData.id),e.navPanel(84),this.closeHandle()},n.prototype.resetButton=function(){this.duihuanButton.visible=!1,this.confirmButton.horizontalCenter=0},n.prototype.confirmHandle=function(){if(this.itemData&&this.itemData.comeFrom){var t=e.ItemComeFromPanel.getInstance();t.setData(this.itemData.comeFrom,this,null,this.itemData.number1),t.show()}else this.closeHandle()},n.prototype.closeHandle=function(){this.slotIcon.visible=this.starGroup.visible=!1,e.removePopUp(this)},n.prototype.setData=function(t){this.resetButton(),t&&(this.itemData=t,this.nameLabel.text=t.name,this.itemIcon.item={type:t.id,count:0},this.detailLabel.text=t.desc,t.comeFrom?this.confirmButton.label=e.Lang.huoqutujing:this.confirmButton.label=e.Lang.queding,e.evolutionStoneId.indexOf(t.id)>-1&&(this.confirmButton.horizontalCenter=-90,this.duihuanButton.visible=!0))},n.prototype.setBring=function(t){this.resetButton(),t&&(this.itemData=null,this.nameLabel.text=t.name,this.itemIcon.item={type:t.id,count:0},this.detailLabel.text=t.desc,this.confirmButton.label=e.Lang.queding)},n.prototype.setNewEquip=function(t){if(this.resetButton(),t){this.itemData=null,this.nameLabel.text=t.name,this.itemIcon.item={type:t.id,count:0},this.detailLabel.text=t.jieshao,this.confirmButton.label=e.Lang.queding,this.slotIcon.visible=this.starGroup.visible=!0,this.slotIcon.source="ui/scene/equip/"+this.itemIcon.newEquipData.position,this.starGroup.removeChildren();for(var n=0;n<this.itemIcon.newEquipData.rare;n++){var i=this._starList[n];i||(i=new eui.Image("ui/scene/team/star"),this._starList[n]=i),this.starGroup.addChild(i)}}},n.prototype.setSkinData=function(t){this.resetButton(),t&&(this.itemData=null,this.nameLabel.text=t.name,this.itemIcon.item={type:t.id,count:0},this.detailLabel.text=t.desc,this.confirmButton.label=e.Lang.queding)},n.prototype.setEggData=function(t){this.resetButton(),t&&(this.itemData=null,this.nameLabel.text=t.name,this.itemIcon.item={type:t.id,count:0},this.detailLabel.text=t.detail,this.confirmButton.label=e.Lang.queding)},n.prototype.setSEggData=function(t){this.resetButton();var n=e.DataManager.playerModel.getLayEggType(t),i=e.Data.TbreedingHatch[n],a=e.Data.TElf[t];i&&a&&(this.itemData=null,this.nameLabel.text=i.name,this.itemIcon.setSEgg(t),this.detailLabel.text=e.formatString(e.Lang.fuhuohuodeyizhishenm,a.name),this.confirmButton.label=e.Lang.queding)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.ItemInfoPanel=t,__reflect(t.prototype,"game.ItemInfoPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.iconList=[],e.skinName=ItemPackInfoSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.label=e.Lang.queding,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.confirmButton,callBackFunc:this.confirmHandle}],this.addEventAndNotify()},n.prototype.confirmHandle=function(){this.closeHandle()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.setData=function(t){if(t&&(this.itemData=t,this.nameLabel.text=t.name,this.itemIcon.item={type:t.id,count:0},this.detailLabel.text=t.desc,this.confirmButton.label=e.Lang.queding,this.includeGroup.removeChildren(),t.getItem))for(var n=e.splitStringToNumberArray(t.getItem),i=0;i<n.length;i++){var a=n[i],o=this.iconList[i];o||(o=new e.ItemIcon,this.iconList[i]=o),o.item={count:a[1],type:a[0]},this.includeGroup.addChild(o)}},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.ItemPackInfo=t,__reflect(t.prototype,"game.ItemPackInfo")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=ItemBagUsePanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.label=e.Lang.shiyong,this._touchEvent=[{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify(),this.useCountSlider.liveDragging=!0,this.useCountSlider.addEventListener(eui.UIEvent.CHANGE,this.changeUseCount,this)},n.prototype.changeUseCount=function(){this._currentCount=this.useCountSlider.pendingValue,this.useCountLabel.text=e.Lang.shiyongshuliang+": "+this._currentCount;for(var t=e.Lang.kehuode+": ",n=0;n<this._getItem.length;n++){var i=this._getItem[n];e.Data.TItem[i[0]]?t+=e.Data.TItem[i[0]].name+"x"+i[1]*this._currentCount+" ":e.Data.TPlayerBadge[i[0]]&&(t+=e.Data.TPlayerRole[i[0]].name+"x"+i[1]*this._currentCount+" ")}this.addLabel.text=t},n.prototype.setData=function(t){this._itemInfo=t,this.itemIcon.item=t;var n=this.itemIcon.itemData;this.nameLabel.text=n.name,this.detailLabel.text=n.desc,this._getItem=e.splitStringToNumberArray(n.getItem),this.useCountSlider.maximum=Math.min(t.count,500),this.useCountSlider.minimum=1,this.useCountSlider.pendingValue=1,this.useCountSlider.value=1,this.changeUseCount()},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.useBagItem(this._itemInfo.type,this._currentCount)];case 1:return t.sent(),this.closeHandle(),[2]}})})},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.ItemUsePanel=t,__reflect(t.prototype,"game.ItemUsePanel")}(game||(game={}));var game;!function(e){var t=function(){function e(){}return e.qingshuruyonghuminghemima="请输入用户名和密码!",e.zhuyimingchengzhinengxiugaiyici="注意:名称只能修改1次",e.nindemingcheng="您的名称",e.liuzinei="六字内",e.qingshurunindemingcheng="请输入您的名称!",e.qingshaohouzailailingqujiangli="请稍后再来领取奖励!",e.ninhaiweizhuadaobaokemengo="您还未抓到宝可梦哦!",e.ninhaiweijiadaodaojuo="您还未捡到道具哦!",e.chuxiancuowu="出现错误!请您稍后再试!",e.nindebaokemenggeyiman="您的宝可梦格子已满!",e.nindedaojugeziyiman="您的道具格子已满!",e.gongxininhuode="恭喜您获得{0}!",e.baokemengdenenglingbuzu="宝可梦的能量不足哦!请选择其他技能!",e.shoudongzhandou="手动战斗",e.zidongzhandou="自动战斗",e.qinmidudengji="亲密度等级",e.xingge="性格",e.wugong="物攻",e.tegong="特攻",e.wufang="物防",e.tefang="特防",e.sudu="速度",e.getizhi="个体值",e.zhandouli="战斗力",e.shengming="生命",e.ninzhishaoyaoshangzhenyigebaokemeng="您至少需要上阵一个宝可梦哦!",e.dengji="等级",e.yimanji="已满级",e.zongjingyan="总经验",e.mingzhong="命中",e.shanbi="闪避",e.baoji="暴击",e.jingyanzhibuzu="您的经验不足!",e.gongxishengji="恭喜升级!",e.gongxinindebaokemenggengjiaqiangdala="恭喜您的宝可梦更加强大啦!",e.zongqinmidu="总亲密度",e.nindebaokemengdeqinmiduyiman="您的宝可梦亲密度已满!",e.nindejinbibuzu="您的金币不足!",e.nindedaojubuzu="您的道具不足!",e.nindezuanshibuzu="您的钻石不足!",e.wufajinhua="无法进化",e.jinhuatiaojian="进化条件",e.shiyongyici="使用一次",e.shiyongshici="使用十次",e.ninmeiyoudangqianleibiededaoju="您没有当前类别的道具哦!",e.zhanshenbutongdebaokemenghuodedenulizhibutong="(战胜不同的宝可梦努力值增长也不同哦)",e.keyishangxiahuadong="(小提示:可以上下滑动查看哦)",e.shengyunulizhi="剩余努力值",e.shengmingnulizhi="生命努力值",e.wugongnulizhi="物攻努力值",e.tegongnulizhi="特攻努力值",e.wufangnulizhi="物防努力值",e.tefangnulizhi="特防努力值",e.sudunulizhi="速度努力值",e.xilianshuoming="(每次洗练都会改变未上锁的属性)",e.xilianbaocunhoushengxiao="(洗练保存后生效)",e.xilianyici="普通洗练",e.zuanshixilian="钻石洗练",e.baocun="保存",e.yongyou="拥有",e.getizhizonghe="个体值总和",e.shengminggetizhi="生命个体值",e.wugonggetizhi="物攻个体值",e.tegonggetizhi="特攻个体值",e.wufanggetizhi="物防个体值",e.tefanggetizhi="特防个体值",e.sudugetizhi="速度个体值",e.queding="确定",e.quxiao="取消",e.bubaocun="不保存",e.ninquedingyaobaocundangqianbaokemengdegetizhima="您要保存当前宝可梦的个体值状态吗?",e.xianyou="现有",e.qingxuanzeninyaoshiyongdewupin="请选择您要使用的物品!",e.ninyubaokemenggengjiaqinmile="您与宝可梦更加亲密了!",e.dangqianbaokemengbunengjinhua="当前宝可梦不能进化!",e.nindebaokemengdengjibuzu="您的宝可梦等级不足!",e.nindebaokemengqinmidudengjibuzu="您的宝可梦亲密度等级不足!",e.nindehuobibuzu="您的货币不足!",e.shiyongchenggong="使用成功!",e.dangqianshuxingnulizhiyimanbuyaoyaotisheng="当前属性努力值已满,不需要提升哦!",e.xilianchenggong="洗练成功!",e.baocunchenggong="保存成功!",e.mianfei="免费",e.shengyumianfeicishu="剩余免费次数",e.duoshaojijianhoumianfei="{0}后免费",e.daoju="道具",e.cailiao="材料",e.xuexiji="学习机",e.qita="其它",e.shiyong="使用",e.yijianshouqu="一键收取",e.nindangqianmeiyouyoujian="您当前没有邮件哦!",e.chakan="查看",e.shouqu="收取",e.fajianren="发件人",e.shouquchenggong="收取成功!",e.fanhui="返回",e.diaoluo="掉落",e.tiaozhan="挑战",e.zhandoushibai="战斗失败!",e.jinrutiaojian="进入条件",e.shezhigensui="跟随",e.dangqianguanka="当前关卡",e.qianggong="强攻",e.fangyu="防御",e.sugong="速攻",e.kongzhi="控制",e.xiaohao="消耗",e.yidadaozuigaodengji="已达到最高等级",e.zhenxingshengji="阵型升级",e.meiripaimingjiangli="每日排名奖励",e.genghuanzhenrong="更换阵容",e.zhanli="战力",e.paiming="排名",e.shengchang="胜场",e.liansheng="连胜",e.jifen="积分",e.jinrishengyutiaozhancishu="今日剩余挑战次数",e.teshufubenshengyucishu="剩余次数",e.ninquedingyaohuafeiduoshaoshenmezengjiayicitiaozhancishuma="您确定要花费 {0}{1} 增加一次挑战次数吗?",e.goumaichenggong="购买成功!",e.qingchuchenggong="清除成功",e.nindecishubuzu="您的次数不足!",e.zanweikaifang="暂未开放!敬请期待!",e.weikaifang="未开放",e.shengjichenggong="升级成功!",e.huoyuedu="活跃度",e.renwumiaoshu="任务描述:",e.lingqu="领取",e.qianwang="前往",e.wodehuoyuedu="我的活跃度",e.shuxiang="数量",e.paixuchenggong="排序成功!",e.qunti="群体",e.fanwei="范围",e.danti="单体",e.weili="威力",e.duoshaojijiesuo="{0}级解锁",e.nindebaokemengyijingxuehuidangqianjinengleo="您的宝可梦已经学会当前技能了哦!",e.shifoujiangshenmejinengtihuanweishenmejineng="是否将 {0} 替换为 {1} ?",e.shifouxueximoujiuneng="是否学习 {0} ?",e.jinnengxuexichenggong="技能学习成功!",e.chuxianjingling="出现宝可梦",e.diaojudiaoluo="道具掉落",e.mizhiquyu="迷之区域",e.jinru="进入",e.bianhuaxijineng="变化系",e.shiyongshuliang="使用数量",e.kehuode="可获得",e.shengji="升级",e.yizhuangbei="已装备",e.xiexia="卸下",e.zhuangbei="装备",e.baojishanghai="暴击伤害",e.huoxijinengweili="火技能伤害",e.shuixijinengweili="水技能伤害",e.caoxijinengweili="草技能伤害",e.yaoxijinengweili="妖技能伤害",e.exijinengweili="恶技能伤害",e.longxijinengweili="龙技能伤害",e.zhuangbeichenggong="装备成功!",e.xuyaoshuliang="需要数量",e.yongyoushuliang="拥有数量",e.yijianshengji="一键升级",e.duoshaoguanjiesuo="第{0}关解锁",e.qingshurulingbaokey="请输入礼包KEY:",e.yongyoujingling="拥有宝可梦",e.manjiyulan="满级预览",e.xuyaovipdengjiduoshao="需要VIP{0}",e.goumai="购买",e.wushuxing="无属性",e.shuaxin="刷新",e.vipyidadaodingji="您已经是最顶级VIP",e.chongzhi="充值",e.zaichongzhiduoshaojikedaodavipduoshao="再充值 {0}元 即可到达 VIP{1}",e.vipduoshaotequan="VIP{0}特权",e.meirikehuode="每日可获得",e.meirigoumaijinbicishu="每日可购买金币次数",e.meiriputongjingjichangkegoumaicishu="每日普通竞技场可购买次数",e.meiriteshukegoumaicishu="每日特殊副本可购买次数",e.meiripatachongzhicishu="每日爬塔重置次数",e.kegoumaichengzhangjijin="可购买成长基金",e.vipdengjibuzu="您的VIP等级不足!",e.huodegengduodehuizhangketigaobaokemengdengjishangxiano="宝可梦等级不能超过训练师等级哦!",e.dengjishangxian="等级上限",e.baokemengdengjishangxian="宝可梦等级上限",e.jihuotiaojian="激活条件",e.chenghaozongjiacheng="称号总加成",e.wufazhuangbei="无法装备",e.gongxininhuodexindechenghao="恭喜您获得新的称号!",e.wuchenghao="无称号",e.xiangou="限购",e.yishouwan="已售完",e.wuxianzhi="无限制",e.gaishangpinyishouqing="该商品已售罄!",e.goumaishuliang="购买数量",e.yijianqingchuxuyaohuafei="一键清除需要花费",e.xuyaohuafei="需要花费",e.qingxuanzeninyaogoumaideshuliang="请选择您要购买的数量!",e.zhongzuzhi="种族值",e.zongzhongzuzhi="总种族值",e.shuaxinchenggong="刷新成功!",e.querenshuaxin="您确认要刷新商店吗?",e.ninquedingyaogoumaidangqianshangpinma="您确定要购买当前商品吗?",e.kexuanbaokemeng="可选宝可梦",e.yixuanbaokemeng="已选宝可梦",e.qingxuanzeninyaohuishoudebaokemeng="请选择您要放生的宝可梦!",e.ninquedingyaohuishouzhexiebaokemengma="您确定要放生这些宝可梦吗?\r\r(可获得蓝水晶:{0},经验:{1},{2}:{3})",e.huishouchenggong="放生成功!",e.shengyushijian="剩余时间",e.ninquedingyaoduihuanshenmebaokemengma="您确定要兑换 {0} 吗?",e.duihuanchenggong="兑换成功!",e.qingshuruninyaofasongdeneirong="请输入您要发送的内容!",e.ninshuohuataikuaile="您说话太快了!",e.ninquedingyaogaibiandangqianbaokemengdexinggema="您确定要改变当前宝可梦的性格吗?",e.haoyou="好友",e.tianjia="添加",e.shezhi="设置",e.qingshuruhaoyouid="请输入好友的ID:",e.shenqing="申请",e.duoshaoguankaifang="人物\n\n{0}级\n\n开放",e.buhuojilvzengjia="捕获率",e.kenengchuxianbaokemeng="可能出现宝可梦",e.quedinghuafeishengmegoumaishenm="您确定要花费 {0} 购买 {1}吗?",e.ninhaiweidadaojinrutiaojiano="您还未达到进入条件!",e.ninquedingyaotuichuma="您确定要退出吗?",e.shaohouzaizhuaba="稍后再抓吧!",e.yihuode="已获得",e.ninmeiyouxiedaorenhejinglingqiuquerenjinruma="您没有携带任何精灵球,确认进入吗?",e.shijiandao="时间到!",e.xianzhishijian="限制时间",e.spbuzu="SP不足!",e.shuaxinshijianweidao="刷新时间未到!",e.tiaoguohuihe="跳过回合",e.dituxinxi="地图信息:",e.zuanshi="钻石",e.meiyouxiedaipin="您还没有携带品哦!快去洞窟探险吧!",e.weizhuangbeixiedaipin="未装备携带品",e.dangqianhaoyoushuliang="当前好友数量",e.dangqianyouqingdian="当前友情点",e.meiyouhaoyou="您还没有好友!",e.shengyucishu="剩余次数",e.qingqiutianjianinweihaoyou="请求添加您为好友!",e.tianjiachenggong="恭喜您成功添加好友!",e.shezhichenggong="设置成功!",e.meiyoutongzhi="当前没有通知哦!",e.idbunengweikong="ID不能为空!",e.shenqingchenggong="申请成功!",e.jujue="拒绝",e.zongcishu="总次数",e.nindehaoyouyiman="您的好友已满!",e.jinricishuyidashangxian="该好友今日次数协助次数已达上限!",e.queshaochongzhijihui="缺少重置机会！",e.niquedingyaohuidaodiyicengma="你确定要回到第一层吗？",e.tiaozhanjihuiyidadaozuidazhi="挑战机会已经达到最大值！",e.tiaozhancishubuzu="挑战次数不足!",e.shanchuhaoyou="删除好友",e.tianjiahaoyou="添加好友",e.ninquedingyaoshanchudangqianhaoyouma="您确定要删除当前好友吗?",e.shanchuchenggong="删除成功!",e.duifanghaoyouyiman="对方好友已满!",e.qiecuo="切磋",e.xindutujiesuoleo="新地图解锁了哦!",e.duiwuzhongdebaokemengbunenghuishouo="队伍中的宝可梦不能放生哦!",e.yigensuidebaokemengbunenghuishouo="跟随的宝可梦不能放生哦!",e.ninquedingyaohuishoudangqianbaokemengma="您确定要放生当前宝可梦吗?\n(可获得{0}蓝水晶,{1}经验,{2}{3})",e.chuangjiangonghui="创建公会",e.gonghuiliebiao="公会列表",e.chazhao="查找",e.gonghuimingcheng="公会名称:",e.genghuan="更换",e.chuangjian="创建",e.bazinei="(8个字内)",e.gonghuihuizhang="公会徽章:",e.chushiquyu="初始区域:",e.qingshuruyaochazhaodegonghuiid="请输入要查找的公会ID:",e.zanwugonghui="暂无公会",e.shihemouxibaokemengjuzhujianshedaozuigaojihuichuxianmouxishenshou="适合{0}宝可梦居住,建设到最高级会出现{1}神兽!",e.qingshuruninyaochuangjiandegonghuimingcheng="请输入您要创建的公会名称!",e.ninquedingyaochuangjianshenmegonghuima="您确定要创建 {0} 公会吗?",e.gonghuixuanyan="公会宣言",e.jiaru="加入",e.huizhang="会长",e.chengyuan="成员",e.jianshedu="建设度",e.yishenqing="已申请",e.qingshuruzhengquedeid="请输入正确的ID!",e.gonggongdating="公共大厅",e.huizhangshi="会长室",e.jiaohuandating="交换大厅",e.yaozhita="妖之塔",e.longzhichuan="龙之船",e.shuizhixuanwo="水冰漩涡",e.huozhirongyan="火之熔岩",e.ezhidongku="恶鬼洞窟",e.caozhishu="草之树",e.putongchengyuan="普通成员",e.fuhuizhang="副会长",e.chengyuanshu="成员数",e.wuzizongshu="物资总数",e.wodegongxiandu="我的贡献度",e.ninzhishaoxuyaoxuanzeyixiangshuxingxilian="您至少需要选择一项属性洗练!",e.jianzhushengji="建筑升级",e.gonghuiboss="公会BOSS",e.baokemengxunlian="宝可梦训练",e.qiangqiangongxiandu="当前贡献度",e.chengyuanrenshuzengjia="成员人数增加",e.kejihuangmouxibaokemengshuliang="可寄放宝可梦数量",e.meixiaoshikezengjianulizhi="每小时可增加努力值",e.meixiaoshikezengjiaqinmidu="每小时可增加亲密度",e.jinrishengyucishu="今日剩余次数",e.suoxujianzhudengji="所需建筑等级",e.kaiqixuyaogongxiandu="开启需要贡献度",e.kaiqi="开启",e.dangqianjifangbaokemengshuliang="当前寄放宝可梦数量",e.bunengzaijifangleo="不能在寄放了哦!",e.gonghuizhongjifangdebaokemengbunenghuishou="公会中寄放的宝可梦不能放生哦!",e.nulizhizonghe="努力值总和",e.jinriyidashangxian="今日已达上限!",e.jifangbaokemengsuoxugongxiandu="寄放宝可梦所需贡献度",e.nindegongxiandubuzu="您的贡献度不足!",e.jianzhudengjibuzu="建筑等级不足哦!",e.ninquedingyaokaiqidangqianbossma="您确定要开启当前BOSS吗?\n(开启后可前往公共大厅讨伐)",e.kaiqichenggong="开启成功!",e.wodeboss="我的BOSS",e.tarenboss="他人BOSS",e.rizhi="日志",e.tuichugonghui="退出公会",e.jiguanjiesuo="{0}级\n解锁",e.tuodongshangzhen="拖动\n上阵",e.ninzuiduokeyishangzhenduoshaogebaokemeng="您最多可以上阵{0}只宝可梦!",e.jiazaizhong="网络通讯中,请耐心等待",e.jiazaizhong2="加载中,请耐心等待",e.richangrenwu="日常任务",e.chengjiurenwu="成就任务",e.lingquchenggong="领取成功!",e.nindebaokemengyidadaozuigaodengji="您的宝可梦已达到最高等级!",e.shengxingsuoxubaokemengdengji="升星所需宝可梦等级",e.tianjiabaokemeng="添加宝可梦",e.yijiantianjia="一键添加",e.shengxing="升星",e.wufashengxing="已达最高星级",e.xingji="星级",e.meiyougaizhongleidebaokemeng="您没有可选择的宝可梦哦!\n\n(队伍中,跟随中,寄养中和当前宝可梦等不可选择)",e.meiyouzugougaizhongleidebaokemeng="您没有足够可选择的宝可梦哦!\n\n(队伍中,跟随中,寄养中,助阵中和当前宝可梦等不可选择)",e.ninbuyaozaitianjiabaokemengleo="您不需要再添加宝可梦了哦!",e.nindebaokemengbuzu="您的宝可梦数量不足!",e.shengxingchenggong="升星成功!",e.ninquedingyaotishenggaibaokemengdexingjima="您确定要提升该宝可梦的星级吗?",e.gongxininchuangjianchenggong="恭喜您创建成功!",e.meiyoucigonghuio="没有此公会哦!",e.gonghuiid="公会ID",e.gonghuigonggao="公会公告:",e.xiugaigonggao="修改公告",e.xiugaixuanyan="修改宣言",e.shenqingliebiao="申请列表",e.zhiyouhuizhanghefuhuizhangkeyijinruo="只有会长和副会长可以进入哦!",e.tongyi="同意",e.caozuochenggong="操作成功",e.nindegonghuichengyuanyidashangxian="您的公会成员已达上限!",e.ninquedingyaotuichudangqiangonghuima="您确定要退出当前公会吗?",e.tuichuchengong="退出成功!",e.meiyouboss="当前没有BOSS哦!",e.guanli="管理",e.gongxiandu="贡献度",e.chexiaofuhuizhang="撤销副会长",e.renmingfuhuizhang="任命副会长",e.tichugonghui="踢出公会",e.zhuangranggonghui="转让公会",e.meiyourizhi="没有日志",e.juanzengchenggong="捐赠成功!",e.ninquedingyaotiaozhankabixiongma="您确定挑战卡比熊吗?\n(胜利需要队伍平均等级15-20级)",e.ninmeiyoutiaozhancishule="您没有挑战次数了哦!",e.ninquedingyaotiaozhancishenshouma="您确定要挑战神兽吗?",e.ninquedingyaotichugaichengyuanma="您确定要将该成员踢出吗?",e.ninquedingyaojianggonghuizhuanranggeigaichengyuanma="您确定要将公会转让给该成员吗?",e.gongxininchenggongjiarugonghui="恭喜您成功加入公会!",e.ninyibeiqingchugonghui="您已被请出公会!",e.kaiqizhe="开启者",e.dangqianjindu="当前进度",e.shengyuxueliang="剩余血量",e.nindetiaozhancishubuzu="您的挑战次数不足!",e.ninquedingyaotiaozhandangqianbossma="您确定要挑战当前BOSS吗?",e.gaibossyiwancheng="该BOSS已完成!",e.lingqujiangli="领取奖励",e.yiwancheng="已完成",e.fafangchenggongqingcongyouxianglingqu="发放成功!请前往邮箱领取奖励!",e.zaochengshanghai="造成伤害",e.jifangchenggong="寄放成功!",e.dangqianmeiyoupaimingo="当前没有排名哦!",e.linghui="领回",e.yijifangshijian="已寄放时间:{0}小时",e.zuigaojifangshijian="(最长寄放时间:{0}小时)",e.kezengjianulizhi="可增加努力值",e.kezengjiaqinmidu="可增加亲密度",e.ninquedingyaolinghuidangqianbaokemengma="您确定要领回当前宝可梦吗?",e.xiluonadenghouduoshoyijueshengfuba="希罗娜: 等候多时了!来一决胜负吧!",e.xiluonazhenshichangjingcaidezhandou="希罗娜: 真是场精彩的战斗!",e.xiluonaxindexunlianshi="希罗娜: 新的训练师!\n看起来很有天赋!\n加油吧!我在冠军之路等着你!",e.ninquedingyaotiaoguojuqingma="您确定要跳过剧情吗?",e.yuekaweijihuo="月卡未激活",e.yuekajiezhishijian="月卡结束时间",e.xuanzeshenshou="领取神兽",e.dijitian="第{0}天",e.weidacheng="未达成",e.xiangqing="详情",e.yijianzhuangbei="一键装备",e.xiexiazhuangbei="一键卸下",e.saodang="扫荡",e.ninmeiyouxuyaoxiexiadezhuangbei="您没有需要卸下的装备!",e.ninmeiyoukeyizhuangbeidezhuangbei="您没有可装备的装备!",e.diangqianfuwuqi="当前服务器:",e.niudan="扭蛋",e.shangdian="商店",e.shouliequ="狩猎区",e.shiyongquanbu="使用全部",e.mianfeicishu="免费次数",e.qiandao="签到",e.vipsanzhelibao="优惠礼包",e.yigoumai="已购买",e.nindevipdengjibuzu="您的VIP等级不足!",e.meirikuaisuzhandoumianfeicishu="每日快速战斗免费数",e.meirijingjichangzhandoucishu="每日竞技场战斗次数",e.meiriteshufubencishu="每日特殊副本次数",e.meiridongkutanxiancishu="每日洞窟探险次数",e.meiridongkuchongzhicishu="每日洞窟重置次数",e.zhandoujiasukaiqi="战斗加速开启",e.teshufubensaodangkaiqi="特殊副本扫荡开启",e.baokemengshuxingjiacheng="宝可梦属性加成",e.benci="本次",e.duoshaoci="再抽{0}次",e.xinshouzhenrong="新手阵容",e.shenshouzhenrong="神兽阵容",e.chaoshenzhenrong="超神阵容",e.ninquedingyaofafeiduoshaozuanshilaishuaxinliebiaoma="您确定要花费{0}钻石刷新列表吗?",e.ninquedingyaohuafeiduoshaozuanshigoumaiyicitiaozhancishu="您确定要花费{0}钻石购买一次挑战次数吗?",e.ninquedingyaohuafeiduoshaozuanshigoumaiyicichongzhicishu="您确定要花费 {0}钻石 购买一次重置次数吗?",e.vipduoshaojiesuo="VIP{0}级解锁",e.mingzhongdengji="命中等级",e.shanbidengji="闪避等级",e.baojidengji="暴击等级",e.guanbiwaibuliaotian="关闭外部聊天",e.dakaiwaibuliaotian="打开外部聊天",e.ewaishuxingkezhi="对{0}的克制增加",e.ninmeiyoukeshengjidezhuangbei="您没有可升级的装备!",e.mijingbossdiaoluo="本秘境BOSS掉落:",e.putongtouzi="普通骰子",e.dingdiantouzi="定点骰子",e.teshutouzishuoming="有钱就是任性,\n选一个骰子,\n去你想去的地方吧!",e.zhengzaiqianjinzhong="正在前进中!",e.faxianxinkuangshi="发现新的矿石,让我看看这里面都有什么!",e.kaishi="开始",e.faxiansandishu="发现三地鼠,快速点击可获得金币,点击次数越多,获得宝箱越多哦!",e.dianjicishu="点击次数",e.faixianquanhui="好神奇的泉水!喝了后感觉浑身充满了力量!(本层生命值增加20%)",e.caidaoxianjing="哎呀,踩到陷阱了,真倒霉!(本层生命值减少20%)",e.laizhandouba="碰到了个训练师!来战斗吧!",e.zhandou="战斗",e.pengdaobaokemeng="碰到宝可梦了!来战斗吧!",e.siyecao="真幸运!捡到四叶草啦!(使用可随机增加跟随宝可梦的努力值,亲密度或经验)",e.nulizhizengjia="{0}感受到之前战斗的精髓!(所有属性努力值增加{1}点)",e.baokemengqinmiduzengjia="感觉和{0}变的更加亲密了!(亲密度增加{1}点)",e.baokemengjingyanzengjia="{0}感觉到了自己的成长!(经验增加{1}点)",e.huanceng="换一层",e.tongguoduoshaoguankaifang="通过第{0}关开放!",e.chongzhichenggong="充值成功!",e.qianghuachenggong="强化成功!",e.fumochenggong="附魔成功!",e.zanweijiesuo="暂未解锁!",e.tianqi="天气",e.duoshaoxingjiesuo="{0}星可穿戴",e.weidadaoshengjitiaojian="升级条件未达成!",e.nindexingjibuzu="您的星级不足!",e.dangqianweizhiweijiesuo="当前位置还未解锁哦!",e.ninzhishaoxuyaoxiedaiyizhibaokemeng="您至少需要携带一只宝可梦!",e.ninquedingyaohuafeiduoshaozuanshijiesuodangqianweizhima="您确定要花{0}钻石解锁当前位置吗?",e.dianjijiesuo="点击解锁",e.jiesuochenggong="解锁成功!",e.wodepaiming="我的排名",e.shouliequjieshao="已经开放!在狩猎区可以抓到各种各样的宝可梦!每天都不同哦!",e.teshufuben="特殊副本",e.teshufubenjieshao="已经开放!在特殊副本可以得到各种各样的稀缺资源哦!",e.jingjichang="竞技场",e.jingjichangjieshao="已经开放!在竞技场可以和其它训练师一决高下!还可以获得丰厚的奖励哦!",e.diditiaozhan="地底挑战",e.diditiaozhanjieshao="已经开放!战胜卡比兽即可进入!在这里挑战自己吧!",e.mijing="秘境",e.mijingjieshao="已经开放!开始自己的冒险吧!还能赢得珍惜的翅膀和饰品升级材料哦!",e.gonghui="公会",e.gonghuijieshao="已经开放!快去加入或者创建自己的大家庭吧!公会建筑可以提升宝可梦亲密度和努力值哦!",e.cishu="次数",e.huodongyijieshu="活动已结束!",e.tongguoguankaduoshao="通过关卡{0}",e.weigoumai="未购买",e.ganxieguanzhu="感谢您的关注!可前往邮箱领取奖励!",e.fenxiangshuoming="    每天分享即可获得{0}奖励(每日{1}次哦),累积分享达到一定次数还可获得额外奖励哦!",e.meiriyaoqing="每日分享",e.fenxiangduoshaoci="邀请到{0}个好友",e.qufenxiang="分享",e.fenxiangchenggong="感谢您的分享!请前往邮箱领取奖励!",e.ganxiefengxiang="感谢分享!",e.guajishouyizengjia="挂机金币经验增加{0}%",e.yibanbuhuolv="一般捕获率",e.gaobuhuolv="高捕获率",e.bizhong="必定捕获",e.yilingqu="已领取",e.jinglian="精炼",e.yijianjinglian="一键精炼",e.jinglianchenggong="精炼成功!",e.qingwuchongfugoumai="请勿重复购买!",e.ninquedingyaoxuanzedangqianshenshouma="您确定要选择当前神兽吗?",e.huoqutujing="获取途径",e.jingliansanci="精炼3次",e.qingshurunindelibaoma="请输入您的礼包码!",e.libaomacuowu="礼包码错误或者您已领取该礼包!",e.lingqulibaochenggong="恭喜您已成功领取该礼包!请前往邮箱领取奖励!",e.jinbi="金币",e.jingyan="经验",e.fenxiang="分享",e.ninyigoumai="您已购买该礼包!请勿重复购买!",e.wakuangdijiceng="第{0}层",e.zuidawaqushu="可挖块数：{0}块",e.xuanzewaqushu="选择挖掘数：{0}",e.xiaohuantansuoli="消耗锄头：      x   {0}",e.xuyaoshijian="需要时间：{0}秒",e.dijiceng="第{0}层",e.zhengzaiwaquzhong="正在挖取中",e.zhadanshuliangbuzu="炸弹数量不足",e.tansuolibuzu="探索力不足",e.wakuangjinxingzhong="正在挖矿，无法换层",e.youweishouqudaoju="有未收取道具，是否前往{0}层？",e.haimeiyouzhanlingrenhekuangdian="还没有占领任何矿点，快去占领一个吧！",e.bunenghuancengqingtiaozhanxiayiceng="不能换层，请挑战下一层",e.zhanlingzhong="占领中",e.zidongwakuang="自动挖矿",e.meiyoukeyishoujidedongxi="没有可以收集的东西",e.gongxihuode="恭喜获得",e.qingxuanzetansuocishu="请选择探索次数",e.yiduanshijianhoukeyishouji="{0}可以收集",e.lueduo="掠夺",e.ninbeisheilueduosunshiduoshaojinbi="您被{0}掠夺!损失{1}金币",e.shanchu="删除",e.ninbeisheilueduodanshitashibaile="您被{0}掠夺!但是他被您打败了!",e.jinriyilueduo="今日已掠夺:",e.ninzuiduozhinengshezhiduoshaosudi="您最多只能设置{0}个宿敌!",e.gaiwanjialueduoyidaoshangxian="该玩家掠夺次数已达上限!",e.jinrihuoquyidashangxian="今日获取道具已达上限!",e.jinrihuoqubaokemengyidashangxian="今日获取宝可梦数量已达上限!",e.qingxuanzeninyaolingqudejiangli="请选择您要领取的奖励!",e.chaoguokegoumaicishu="超过最大购买次数!",e.huwuqiweihuzhongqingshaohouzailai="服务器正在维护中!感谢您的耐心等待!请稍后再试!",e.ninyizaizuigaoceng="您已在最高层!",e.diditiaozhankaiqiyijiansaodang="地底挑战开启一键扫荡",e.zidongwakuangzhong="自动挖矿中~",e.tiansuolishangxianzengjia="探索力上限增加",e.zidongwakuangmeikuaixiaohaoshijian="自动挖矿每块消耗(秒)",e.dengjijiesuo="人物等级{0}后解锁",e.bencimianfei="本次免费",e.jinricishuyiyongwan="今日次数不足!",e.shenmishangdianzhekou="神秘商店折扣",e.jinrishuaxincishuyidashangxian="今日刷新次数已达上限!",e.nindedengjibuzu="您的等级不足!",e.ninweigoumaidangqianlibao="您未购买当前礼包!",e.ninquedingyaoxuanzedangqianlibaoma="您确定要选择当前礼包吗?",e.bingxijinengweili="冰技能伤害",e.beibaodaoju="背包道具",e.shuxingshengji="属性升级",e.wakuangcishu="挖矿次数",e.xiezhucishu="协助次数",e.qingxuanzeninyaohuishoudedaoju="请选择您要回收的道具!",e.ninquedingyaohuishouzhexiedaojuma="您确定要回收这些道具吗?",e.tisheng="提升",e.wufagoumai="无法购买",e.meirisuipianduihuancishu="每日碎片兑换次数",e.nindebaokemengbeibaoyiman="您的宝可梦背包已满!请整理您的背包!",e.nindexiezhubaokemengyidashangxian="您的协助宝可梦已达上限!",e.xiezhudebaokemengbukeyishangzheno="协助的宝可梦不可以上阵哦!",e.zhuzhendebaokemengbukeyihuishou="助阵的宝可梦不可以放生哦!",e.meiriguajizhuachongshangxian="每日挂机抓宠上限",e.nindezaoyuzhancishuyidashangxian="您的遭遇战次数已达上限!",e.qingxuanzeyurenwudengjixiangfudesaiqu="请选择与您人物等级相符的赛区!",e.baomingchenggong="报名成功!",e.xianzaibuzaibaomingshijianneio="现在不在报名时间内哦!",e.xianzaibuzaizhandoushijianneio="现在不在战斗时间内哦!",e.weipipeidaoduishouqingshaohouzaishi="未匹配到对手,请稍候再试!",e.shengdian="胜点",e.rongyudengji="荣誉等级",e.dangqianbangdanweikaifang="当前榜单暂未开放!",e.zanwupaiming="未上榜",e.duanwei="段位",e.guajizuiduokejicundaoju="挂机寄存道具数量",e.guajizuiduokejicunbaokemeng="挂机寄存宝可梦数量",e.huafeiduoshaocishusaodang="您确定要花费{0}次数扫荡本层吗?",e.nindetouzicishubuzu="您的骰子次数不足!",e.kaiqimijingsaodang="开启秘境扫荡",e.zhongshenkajieshuo="购买终身卡即可解锁!",e.tanshe="弹射",e.lianji="连击",e.duoshaoshijianhoukelingqujiangli="{0}后可领取奖励",e.dianjilingqujiangli="点击领取奖励",e.xianzaihaibukeyilingqujianglio="现在还不可以领取奖励哦!请稍后再来!",e.chaojinhuachenggong="超进化成功!",e.ninjinribunengzaijingongzhemingwanjialeo="您今日不能再掠夺这名玩家了哦!",e.jinribunengzaiduihuanleo="今日不能在兑换了哦!",e.manjitexing="满级特性",e.chushitexing="初始特性",e.xiufuzhong="该功能正在修复中...请稍后再来...",e.ninzuiduoshangzhenxiangtongbaokemeng="您最多只能上阵1只同种族的宝可梦哦!",e.zawu="杂物",e.fangzi="房子",e.shumu="树木",e.dimian="地面",e.ninmeiyoukeyibaifangdeweizhio="您没有可以摆放的位置哦!",e.fangzhi="放置",e.qianghua="强化",e.huishou="回收",e.kuojian="扩建",e.jianzhu="建筑",e.shenqi="神器",e.dazao="打造",e.tiansuo="探索",e.xunbao="寻宝",e.soushen="搜神",e.kaishitansuo="开始探索",e.mianfeixunbao="免费寻宝",e.xunbaoshici="寻宝十次",e.mianfeisoushen="免费搜神",e.soushenshici="搜神十次",e.dazaochenggong="打造成功!",e.yifangzhi="已放置",e.yidadingji="已达顶级",e.shouhui="收回",e.nindebaifangshuyidashangxian="您的摆放已达上限!",e.guimo="规模",e.jianzhufangzhishu="建筑放置数",e.jianzhujichushuxing="建筑基础属性",e.jianzhufujiashuxing="建筑附加属性",e.shengyutansuocishu="剩余探索次数",e.chouquyici="抽取一次",e.mianfeichouqu="免费抽取",e.zhuanshu="专属",e.ninquedingyaohuishoudangqianjiajuma="您确定要回收当前家具吗?\r({0})\r(回收会回收{1}%的资源)",e.shiyongzhongdejiajubunenghuishouo="使用中的家具不能回收哦!",e.mingcheng="名称",e.kezhuangbei="可装备",e.baokemeng="宝可梦",e.texing="特性",e.fujia="附加",e.weixuanzezhuangbei="请选择您要装备的神器!",e.qianghuadengji="强化等级",e.jinjiedengji="进阶等级",e.qianghuashici="强化十次",e.zuanshichongzhi="钻石重置",e.daojuchongzhi="重置",e.nindeshenqiyimanji="您的神器已满级!",e.guixijinengweili="鬼技能伤害",e.yijiesuo="已解锁",e.jinrigongxian="今日贡献度：{0}",e.zhandouli2="战斗力：{0}",e.gonghuichengyuan="公会成员",e.gonghuirizhi="公会日志",e.meiyouchengyuan="没有成员",e.chengyuanguanli="成员管理",e.kejijingyan="科技经验",e.mouxijinengshanghaijiaji="{0}技能伤害 +{1}",e.huihe="回合",e.ninyufuwuqiyiduankailianjie="您与服务器已断开链接!",e.buzaikaifangshijianneio="当前副本不在开放时间内哦!",e.kongxianzhong="空闲中",e.ninweimanzujiesuotiaojian="您未达成解锁条件!",e.ninmeiyoukongyudekongjiano="您没有空余的空间哦!",e.kelingqu="可领取",e.haimeifuhuajieshuo="还没孵化结束哦!请稍候再来!",e.yizhanshi="展示中",e.zhanshi="展示",e.lixiantianshu="离线天数",e.nindejuanxiancishubuzu="您的捐献次数不足",e.leijishilianchou="{0}次!",e.yikaifang="已开放",e.dangqankejidadaomanji="当前科技达到满级",e.meiyoushuxingjiacheng="没有属性加成",e.shanghaizengjia="造成伤害",e.shanghaijianshao="免伤",e.leijidengruyouxi="累计【登入游戏】{0}天!",e.nindeshiyongcishubuzu="您的使用次数不足!",e.nindecishuyidashangxian="您的次数已满无需购买哦!",e.nindegoumaicishuyidashangxian="您的购买次数已达上限!提升VIP等级增加购买次数哦!",e.zhandouditiekaiqisaodang="战斗地铁开启挑战",e.zhandouditiegoumaicishu="战斗地铁购买次数",e.shengyukejuanxiancishu="剩余可捐献次数：{0}",e.meicichongzhiduoshaoyuanzengjiachoujiangjihui="注：单笔充值{0}元及以上金额增加一次摇奖机会（最多获得{1}次机会）",e.shengjie="升阶",e.dangqiandengjie="当前等阶",e.weimanzushengjietiaojiano="当前宝可梦未满足升阶条件哦!",e.jindu="进度（{0}/{1}）",e.yaojiang="摇奖",e.huafei="花费",e.bencizuigaohuode="本次最高获得",e.shengyu="剩余",e.bencijingsaiyijieshu="本次竞赛已结束",e.bencijingsaiweikaishi="本次竞赛未开始",e.zuiqiangjinglingzhanli="最强精灵战力",e.rongyu="荣誉",e.nindesuipianbuzu="您的碎片不足!",e.liaojiexiangqing="了解详情",e.lijiqianwang="立即前往",e.jindantishi1="活动期间充值达到{0}人",e.jindantishi2="活动期间充值{0}人且个人充值任何金额",e.jindantishi3="活动期间充值{0}人，且个人充值{1}元",e.weiyang="喂养",e.yijianweiyang="一键喂养",e.tiaojianweidacheng="条件未达成",e.weiyangchenggong="喂养成功",e.paihang="排行",e.zanweishangbang="暂未上榜",e.daoguanzhongshezhidebaokemengbunenghuishou="道馆中设置的宝可梦不能回收哦!",e.ninzhishaoxuyaoyizhiwanzhengdeduiwu="您至少需要部署一支完整的队伍!",e.nindangqiantiaozhandebushicixunlianshio="您当前挑战的不是此训练师哦!",e.dangqianduiwumeiyoukeyizhandoudebaokemengo="当前队伍没有可以出战的宝可梦哦!",e.mingcidadaojiming="名次达到{0}名",e.jingjichangtishengjiangli="    玩家每次提高一定的竞技场名次，将会得到相对应的奖励~",e.tiaozhandaoguanjieshu="本次挑战道馆已结束!",e.ninquedingyaoyidangqianzhenrongtiaozhandaoguanma="您确定要以当前阵容挑战道馆吗?(进入后不可更改)",e.ninzhengzaitiaozhanqitadaoguanqiangzhijinru="您正在挑战其它道馆!您确定要放弃强制进入当前道馆吗?",e.daoguanpaihangguize="   规则: 道馆每日刷新,总伤害第一的玩家将会成为新的馆主,并且接受其它玩家的挑战!",e.ninweidadaogoumaitiaojian="您未达到购买条件!",e.ninyichengweidaoguanzhu="您已成为当前道馆的道馆主了哦!",e.jinglingdengjiguodi="需要精灵等级：{0}级",e.tongxingxiangchi="同性相斥，无法产生爱情结晶",e.jinglingdengjuchajuguoda="精灵等级差距最大为{0}级",e.waqiangjiaoshibai="生蛋精灵已达到上限",e.shengdanguochengzhongquhuichongwu="生蛋过程中取回宠物，爱心值将会清零!",e.quhuichenggong="取回成功",e.guankajiesuo="通过关卡{0}后解锁",e.fuhuohuodeyizhishenm="孵化后获得{0}一只",e.jinrikuaisuzhandoucishu="购买次数",e.jinrikuaisuzhandoucishubuzu="今日快速战斗次数不足",e.qingshuruzhengquedeshuliang="请输入正确的数量!",e.daoguanchongzhichenggong="道馆重置成功!",e.jinrikegoumaicishuyiyongwan="今日可购买次数已用完!",e.dangqiandaoguanxuyaochongzhio="当前道馆需要重置哦!",e.dangqiandaoguanbuxuyaochongzhi="当前道馆不需要重置哦!",e.ninquedingyaochongzhidangqiandaoguanma="您确定要重置当前道馆吗?",e.fenshu="分数",e.shifouxiaohaoyouqingdian="是否消耗{0}点友情点进入精灵巢生蛋",e.shengdandebaokemengbunengfangsheng="生蛋的宝可梦不能放生哦！",e.baokemengdanweilingqu="您的宝可梦蛋未领取哦~",e.shenshounengliguoqing="神兽能力过强，无法产生后代！",e.xingongnengkaifanglekuaiqukankanba="新功能开放了哦!快去看看吧!",e.yijieshu="已结束",e.ninbixutongguocifubencaikeyisaodango="您必须通过此副本才可扫荡哦!",e.jinricishuyiyongwanqingmingtianzailai="今日次数已用完哦!",e.getixiliancishu="每日个体洗练次数",e.jinjiechenggong="进阶成功!",e.jinrigoumaicishuyiyongwan="今日购买次数已用完哦！",e.zhadanshumuyiman="炸弹数量已满！",e.tansuoliyiman="探索力已满！",e.xuweiyidai="虚位以待",e.mingchengchongfuhuobuhefa="很抱歉,该已被使用或含有非法字符!请重新输入!",e.xiugaichenggong="恭喜!您的昵称修改成功!",e.nindemingchengweifashenggaibian="您的昵称未发生改变哦!",e.jinrishengyucishubuzu="今日剩余次数不足~",e.putongxijinengweili="普技能伤害",e.dianxijinengweili="电技能伤害",e.chongxijinengweili="虫技能伤害",e.feixingxijinengweili="飞技能伤害",e.dimianxijinengweili="地技能伤害",e.yanshixijinengweili="岩技能伤害",e.gedouxijinengweili="格技能伤害",e.chaonengxijinengweili="超技能伤害",e.gangxijinengweili="钢技能伤害",e.duxijinengweili="毒技能伤害",e.weidaolingqushijian="未到领取时间",e.chongshicishudadaoshangxian="重生次数达到上限",e.GM="GM",e.xitongxiezhu="系统协助",e.xunzhao="寻找",e.shuaxinguokuaiqingshuahouzaishi="您刷的太快了,请稍候再试!",e.ninquedingyaoxuanzedangqiantianfuma="您确定要选择当前的天赋吗?",e.ninquedingyaochongzhidangqianbaokemengdetianfuma="您确定要重置当前宝可梦的所有天赋吗?(已学技能将自动遗忘)",e.nindebaokemengbuxuyaochongzhitianfuo="您的宝可梦不需要重置天赋哦!",e.nindejifenbuzu="您的积分不足!",e.duihuanyici="兑换1次",e.duihuanshici="兑换10次",e.duihuan="兑换",e.wannenglingdangshiyongcishu="万能铃铛使用次数",e.gaixiedaipinwuxushengjio="该携带品无须升级哦!",e.qingxuanzebeibaozhuangbei="请选择背包装备!",e.meiyouzhuangbei="您的宝可梦没有装备携带品哦!",e.meiyoukezhuangbei="没有可以装备的携带品哦!",e.yizhuangbeiman="您的宝可梦已装满携带品了哦!",e.dangqianduiwumeiyoubaokemengo="当前队伍没有宝可梦哦!",e.gaojilvchuxian="高几率出现:",e.zhongjilvchuxian="中几率出现:",e.dijilvchuxian="低几率出现:",e.jidijilvchuxian="极低几率出现:",e.chujiyulan="初级预览",e.zhongjiyulan="中级预览",e.gaojiyulan="高级预览",e.shengdanzhongdebaokemengbukejinhua="生蛋中的宝可梦不可进化~",e.yulan="预览",e.ziyuanzhenglizhong="资源整理中，请稍等~",e.shezhichuzhan="设置出战",e.qingshezhishangzhenbaokemng="请设置上阵宝可梦!",e.qingshezhigaixishangzhenbaokemeng="请设置该系上阵宝可梦!",e.jiangliyulan="奖励预览",e.shifoujinxingtiaozhan="是否进行挑战",e.jingjichangchuzhanzhongdebaokemengbukefangsheng="竞技场出战中的宝可梦不可放生！",e.zhongshenka="终身卡",e.chaozhiyueka="超值月卡",e.feixingzhong="正在飞行中...",e.zuanshijiasu="您确定使用{0}钻石完成本次移动吗?",e.bunengjinruguanqia="通过{0}关解锁此地图！",e.qiushuliangbuzu="您已经没有精灵球了!",e.jinruditu="进入地图成功!",e.yeshengjinglingchuxian="野生的{0}出现了......",e.meifenzhongzengjiajiangli="(每{0}分钟增加1次奖励)",e.yiguoqi="已过期",e.dengjikaiqi="{0}级开启",e.yeshengjingling="野生精灵",e.jiangliyifasongdaoyoujian="奖励已发送到邮件!",e.tongwangdaoguanzhan="(通往道馆战)",e.tongwangshijiejinglingdasai="(通往世界精灵大赛)",e.yikaiqi="已开启",e.weikaiqi="未开启",e.xuyaozhandouli="需要战斗力:",e.tongguoguoneixianjiesuo="通过战斗地铁国内线解锁",e.tongguoguojixianjiesuo="通过战斗地铁国际线解锁",e.qinmidudengjijiesuo="亲密度{0}级解锁",e.baokemengpinmidudengjidadaoshangxian="亲密度等级不能超过宝可梦等级",e.lianxiguanfang="联系官方",e.dijiming="第{0}名",e.difangduiwuchuyubaohushijian="敌方队伍处于保护时间",e.gaikuangquyiyouzhanlingdian="该矿区已占有矿点，请选择其他矿区占领~",e.zhanlingchenggong="占领成功~",e.lueduochenggong="掠夺成功~",e.duiwuzhengzaicaijingzhong="队伍正在采集中",e.duiwulengquezhong="队伍正在休整~",e.shifouxiaohaoxialiedaojujiesuo="是否消耗下列道具进行解锁？",e.beilueduo="被掠夺：         {0}",e.dangqianleijijiangli="当前累计奖励：         {0}",e.dangqianzhanlibuzuqingtishengzhanli="当前战力不足，请提升战力~",e.houshuaxin="{0}后刷新",e.viptequanlibao="VIP{0}级特权礼包",e.pkLevelReachStarLimit="已达到当前星级等级上限，请前往升星~",e.pkLevelLimitTip="升星后等级上限提至:LV.{0}",e.benyueleijiqiandao="本月累计签到：{0}",e.jintianyijinglingquguole="今天已经领取过了, 明天再来吧",e.gaiquyuguajiwufahuodejingbihebaokemengjingyan="该区域挂机无法获得金币和宝可梦经验",e.yitaopao="以逃跑",e.quedingyaofangqishenshouma="确定要放弃神兽吗？",e.bossguanqiawufazidongwancheng="BOSS关卡无法自动完成！",e.shierguanhoukeyizidongwancheng="12关后可以自动完成！",e.zhiyouzhanlidabiaoheyuekawanjia="只有战力达标或者月卡玩家可以自动完成关卡！",e.zidongzhandouzhong="自动战斗中...",e.zidongzhanli="自动战力:{0}",e.vipduoshaohuodengjiduoshaojiesuo="VIP{0}或{1}级解锁扫荡！",e.tongguoguanhuodedaojuge="[#FFFFFF]通过\n[#FFD700]{0}关\n[#FFFFFF]获得！",e.yijinlingqusuoyoujiangli="已领取所有奖励！",e.quedingyaochongshengma="确定要重生吗？",e.jinbichongshengfanhuanqishiziyuan="金币重生只返还70%资源！",e.gaiwanjiabucunzai="该玩家不存在",e.sousuo="搜索",e.caoweiweijiesuo="槽位未解锁！",e.xuyaoxiaohao="需要消耗道具！",e.bossguanqiawufaxiezhu="Boss关卡无法协助！",e.weimanzuyaoqiu="未满足要求！",e.shengyucishuyiyonwan="剩余次数已用完！",e.xiaofeizuanshi="消费钻石",e.jingjipaiming="竞技排名",e.zanzhuedu="赞助额度",e.tongguanshuliang="通关数量",e.xiliancishu="洗练次数",e.dazaocishu="打造次数",e.zhandoulizhi="战斗力值",e.woxuyao="我需要",e.fabuchenggong="发布成功！",e.shifoubaomingcanjia="是否报名参加本赛季大赛？",e.shangweikaisai="尚未开赛！",e.fabu="发布",e.liebiao="列表",e.tijiao="提交",e.qingxiangoumaishangyijiviplibao="请先购买上一级VIP礼包！",e.wuxubuqian="无需补签！",e
}();e.Lang=t,__reflect(t.prototype,"game.Lang")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.touchEnabled=!1,t}return __extends(t,e),t.prototype.setData=function(e,t){this.source="icon/buff/"+e+"_"+(t>0?"up":"down")},t.prototype.onDestroy=function(){this.parent&&this.parent.removeChild(this)},t}(eui.Image);e.BattleAttributeImage=t,__reflect(t.prototype,"game.BattleAttributeImage",["game.PoolItem"])}(game||(game={}));var game;!function(e){e.LocalFileList=["assets/anim/a1_2b959106.png","assets/anim/a2_84d2a34a.png","assets/anim/a3_d50291b4.png","assets/anim/arrow_28a14828.png","assets/anim/battlePokemon/1001_a20d5008.png","assets/anim/battlePokemon/1002_714befc1.png","assets/anim/battlePokemon/1003_eceee4df.png","assets/anim/battlePokemon/1004_278570bb.png","assets/anim/battlePokemon/1005_cffe03ce.png","assets/anim/battlePokemon/1006_3996f626.png","assets/anim/battlePokemon/1007_cbd0efda.png","assets/anim/battlePokemon/1008_df138f74.png","assets/anim/battlePokemon/1009_ed520d98.png","assets/anim/battlePokemon/1010_51622e18.png","assets/anim/battlePokemon/1011_3206f18f.png","assets/anim/battlePokemon/1012_d21d1ca3.png","assets/anim/battlePokemon/1013_8a31c274.png","assets/anim/battlePokemon/1014_3fa7b921.png","assets/anim/battlePokemon/1015_4e1c1410.png","assets/anim/battlePokemon/1016_fc61d735.png","assets/anim/battlePokemon/1017_60e93229.png","assets/anim/battlePokemon/1018_1c6b27a8.png","assets/anim/battlePokemon/1019_967c018e.png","assets/anim/battlePokemon/1020_baadf3d9.png","assets/anim/battlePokemon/1021_514892fe.png","assets/anim/battlePokemon/1022_413e7ec9.png","assets/anim/battlePokemon/1023_85628440.png","assets/anim/battlePokemon/1024_9b111749.png","assets/anim/battlePokemon/1025_101f5283.png","assets/anim/battlePokemon/1026_b3313c8f.png","assets/anim/battlePokemon/1027_1314b75b.png","assets/anim/battlePokemon/1028_ccbb3555.png","assets/anim/battlePokemon/1029_97d32d6a.png","assets/anim/battlePokemon/1030_543b0dde.png","assets/anim/battlePokemon/1031_a738a9fd.png","assets/anim/battlePokemon/1032_251711be.png","assets/anim/battlePokemon/1033_d3fc71ef.png","assets/anim/battlePokemon/1034_367c1bea.png","assets/anim/battlePokemon/1035_4002bebb.png","assets/anim/battlePokemon/1036_5604a82b.png","assets/anim/battlePokemon/1037_96cf768d.png","assets/anim/battlePokemon/1038_dbea834a.png","assets/anim/battlePokemon/1039_171b9835.png","assets/anim/battlePokemon/1040_b5ddf42f.png","assets/anim/battlePokemon/1041_4a85bb93.png","assets/anim/battlePokemon/1042_50801377.png","assets/anim/battlePokemon/1043_729c468b.png","assets/anim/battlePokemon/1044_39765a95.png","assets/anim/battlePokemon/1045_be1ff51c.png","assets/anim/battlePokemon/1046_6750827.png","assets/anim/battlePokemon/1047_af6ab5f7.png","assets/anim/battlePokemon/1048_97da55ca.png","assets/anim/battlePokemon/1049_8f3b5070.png","assets/anim/battlePokemon/1050_99a4061f.png","assets/anim/battlePokemon/1051_bb9d7cb7.png","assets/anim/battlePokemon/1052_4f31adf0.png","assets/anim/battlePokemon/1053_ea30f6ad.png","assets/anim/battlePokemon/1054_e704324a.png","assets/anim/battlePokemon/1055_a27a14ea.png","assets/anim/battlePokemon/1056_662239a7.png","assets/anim/battlePokemon/1057_3fadc83d.png","assets/anim/battlePokemon/1058_5f8dd7ef.png","assets/anim/battlePokemon/1059_5558c11e.png","assets/anim/battlePokemon/1060_1c30189e.png","assets/anim/battlePokemon/1061_8d4ebd3a.png","assets/anim/battlePokemon/1062_793d84f3.png","assets/anim/battlePokemon/1063_7c831549.png","assets/anim/battlePokemon/1064_bb692c02.png","assets/anim/battlePokemon/1065_587077ad.png","assets/anim/battlePokemon/1066_9b78ed03.png","assets/anim/battlePokemon/1067_cfb8befe.png","assets/anim/battlePokemon/1068_487c9e67.png","assets/anim/battlePokemon/1069_3c70740b.png","assets/anim/battlePokemon/1070_84b534e0.png","assets/anim/battlePokemon/1071_377e2e6f.png","assets/anim/battlePokemon/1072_485f6acc.png","assets/anim/battlePokemon/1073_61913465.png","assets/anim/battlePokemon/1074_2c2c0979.png","assets/anim/battlePokemon/1075_4d0d12d5.png","assets/anim/battlePokemon/1076_9b05adc0.png","assets/anim/battlePokemon/1077_b93bc37c.png","assets/anim/battlePokemon/1078_7d21c174.png","assets/anim/battlePokemon/1079_9e7ccfc7.png","assets/anim/battlePokemon/1080_f71e8f54.png","assets/anim/battlePokemon/1081_34db3438.png","assets/anim/battlePokemon/1082_113931a8.png","assets/anim/battlePokemon/1083_3a74c2ea.png","assets/anim/battlePokemon/1084_f71ad88d.png","assets/anim/battlePokemon/1085_48784e44.png","assets/anim/battlePokemon/1086_f3340de2.png","assets/anim/battlePokemon/1087_f56c9edc.png","assets/anim/battlePokemon/1088_70c8e2b3.png","assets/anim/battlePokemon/1089_b914e4d7.png","assets/anim/battlePokemon/1090_1d9d6712.png","assets/anim/battlePokemon/1091_821a00e3.png","assets/anim/battlePokemon/1092_d3b07290.png","assets/anim/battlePokemon/1093_4dc26133.png","assets/anim/battlePokemon/1094_12124748.png","assets/anim/battlePokemon/1095_c2b4b469.png","assets/anim/battlePokemon/1096_3ab1f29c.png","assets/anim/battlePokemon/1097_9b1e80d9.png","assets/anim/battlePokemon/1098_bfdbc9b9.png","assets/anim/battlePokemon/1099_906e5b60.png","assets/anim/battlePokemon/1100_16b2e703.png","assets/anim/battlePokemon/1101_8f194d22.png","assets/anim/battlePokemon/1102_a3501873.png","assets/anim/battlePokemon/1103_bc4c78a.png","assets/anim/battlePokemon/1104_1de8618c.png","assets/anim/battlePokemon/1105_e2153610.png","assets/anim/battlePokemon/1106_403bee1c.png","assets/anim/battlePokemon/1107_70b17aab.png","assets/anim/battlePokemon/1108_f63f7e61.png","assets/anim/battlePokemon/1109_b09429b0.png","assets/anim/battlePokemon/1110_e80ca3d1.png","assets/anim/battlePokemon/1111_51f02421.png","assets/anim/battlePokemon/1112_434ac977.png","assets/anim/battlePokemon/1113_6bcf75f0.png","assets/anim/battlePokemon/1114_6ba9cd2e.png","assets/anim/battlePokemon/1115_5ffe385.png","assets/anim/battlePokemon/1116_210306b5.png","assets/anim/battlePokemon/1117_dce9224a.png","assets/anim/battlePokemon/1118_c156a87c.png","assets/anim/battlePokemon/1119_6dfca7fb.png","assets/anim/battlePokemon/1120_a85a0e1e.png","assets/anim/battlePokemon/1121_441e86ff.png","assets/anim/battlePokemon/1122_e3c674e0.png","assets/anim/battlePokemon/1123_f03d595e.png","assets/anim/battlePokemon/1124_93fd298.png","assets/anim/battlePokemon/1125_2043aecf.png","assets/anim/battlePokemon/1126_e2b11ba7.png","assets/anim/battlePokemon/1127_a0f63dc9.png","assets/anim/battlePokemon/1128_918e1a82.png","assets/anim/battlePokemon/1129_f3846585.png","assets/anim/battlePokemon/1130_76486130.png","assets/anim/battlePokemon/1131_c45dcd70.png","assets/anim/battlePokemon/1132_288b30d9.png","assets/anim/battlePokemon/1133_888744b.png","assets/anim/battlePokemon/1134_9abbebfa.png","assets/anim/battlePokemon/1135_11e1211a.png","assets/anim/battlePokemon/1136_aa5f5e72.png","assets/anim/battlePokemon/1137_ff553f3c.png","assets/anim/battlePokemon/1138_7694f69c.png","assets/anim/battlePokemon/1139_5ed54db2.png","assets/anim/battlePokemon/1140_cfa23faa.png","assets/anim/battlePokemon/1141_e8d66369.png","assets/anim/battlePokemon/1142_f93d1008.png","assets/anim/battlePokemon/1143_6e42c3b4.png","assets/anim/battlePokemon/1144_eef62539.png","assets/anim/battlePokemon/1145_d1afc56e.png","assets/anim/battlePokemon/1146_5e8e29b1.png","assets/anim/battlePokemon/1147_258a51e6.png","assets/anim/battlePokemon/1148_a99aa17c.png","assets/anim/battlePokemon/1149_ef12d131.png","assets/anim/battlePokemon/1150_2c6f5206.png","assets/anim/battlePokemon/1151_e7cf24cc.png","assets/anim/battlePokemon/1152_5d31d0de.png","assets/anim/battlePokemon/1153_477cad78.png","assets/anim/battlePokemon/1154_df79ba1c.png","assets/anim/battlePokemon/1155_ea93cb61.png","assets/anim/battlePokemon/1156_d00db047.png","assets/anim/battlePokemon/1157_40b2ae38.png","assets/anim/battlePokemon/1158_c70fb5e9.png","assets/anim/battlePokemon/1159_b0fe6522.png","assets/anim/battlePokemon/1160_7d8cc419.png","assets/anim/battlePokemon/1169_a5ac74fa.png","assets/anim/battlePokemon/1170_b982cda8.png","assets/anim/battlePokemon/1171_56741ce1.png","assets/anim/battlePokemon/1172_44849ce1.png","assets/anim/battlePokemon/1173_44cd9163.png","assets/anim/battlePokemon/1174_ca7c5448.png","assets/anim/battlePokemon/1175_ba173c90.png","assets/anim/battlePokemon/1176_2c722313.png","assets/anim/battlePokemon/1179_8a6af69.png","assets/anim/battlePokemon/1180_c989b04f.png","assets/anim/battlePokemon/1181_6225b94f.png","assets/anim/battlePokemon/1182_1a23f4a2.png","assets/anim/battlePokemon/1185_e57063a7.png","assets/anim/battlePokemon/1186_12c02727.png","assets/anim/battlePokemon/1187_4ff073fa.png","assets/anim/battlePokemon/1188_cab4e247.png","assets/anim/battlePokemon/1189_d940ce25.png","assets/anim/battlePokemon/1196_83250212.png","assets/anim/battlePokemon/1197_b26820c.png","assets/anim/battlePokemon/1198_7dda1ad5.png","assets/anim/battlePokemon/1199_39392535.png","assets/anim/battlePokemon/1200_5f3c3cb4.png","assets/anim/battlePokemon/1202_724ecfd0.png","assets/anim/battlePokemon/1203_bf8d5669.png","assets/anim/battlePokemon/1204_6a68467f.png","assets/anim/battlePokemon/1205_e5ab3c4b.png","assets/anim/battlePokemon/1206_81c23325.png","assets/anim/battlePokemon/1207_52671bfa.png","assets/anim/battlePokemon/1208_11fda182.png","assets/anim/battlePokemon/1211_f073b3af.png","assets/anim/battlePokemon/1212_d4d16d30.png","assets/anim/battlePokemon/1213_c239e43d.png","assets/anim/battlePokemon/1214_f67827c3.png","assets/anim/battlePokemon/1215_c915ee47.png","assets/anim/battlePokemon/1220_99285fa.png","assets/anim/battlePokemon/1221_73b75760.png","assets/anim/battlePokemon/1227_bff299a0.png","assets/anim/battlePokemon/1228_70234beb.png","assets/anim/battlePokemon/1229_a62ab2b7.png","assets/anim/battlePokemon/1230_d00060e6.png","assets/anim/battlePokemon/1231_842ba283.png","assets/anim/battlePokemon/1232_80f4e57f.png","assets/anim/battlePokemon/1233_b61bf2fa.png","assets/anim/battlePokemon/1235_463c3100.png","assets/anim/battlePokemon/1241_bc4efea7.png","assets/anim/battlePokemon/1242_b8885791.png","assets/anim/battlePokemon/1243_fd05cb65.png","assets/anim/battlePokemon/1244_e5d1d39f.png","assets/anim/battlePokemon/1245_253d50e2.png","assets/anim/battlePokemon/1246_e4281ded.png","assets/anim/battlePokemon/1247_c9b9f2fd.png","assets/anim/battlePokemon/1248_e088b7aa.png","assets/anim/battlePokemon/1249_5038ae35.png","assets/anim/battlePokemon/1250_b70f2924.png","assets/anim/battlePokemon/1251_ee770739.png","assets/anim/battlePokemon/1252_bd5a52b2.png","assets/anim/battlePokemon/1253_3d5e19d9.png","assets/anim/battlePokemon/1254_547e9882.png","assets/anim/battlePokemon/1255_cbe89583.png","assets/anim/battlePokemon/1256_cbc6c7ac.png","assets/anim/battlePokemon/1257_348b1ebd.png","assets/anim/battlePokemon/1258_99a3c207.png","assets/anim/battlePokemon/1259_4034db37.png","assets/anim/battlePokemon/1260_ba44d88c.png","assets/anim/battlePokemon/1261_de2c8868.png","assets/anim/battlePokemon/1262_2799b275.png","assets/anim/battlePokemon/1270_fa4862d8.png","assets/anim/battlePokemon/1271_d6fb8a38.png","assets/anim/battlePokemon/1272_a9d36d52.png","assets/anim/battlePokemon/1273_26e42b55.png","assets/anim/battlePokemon/1274_e55165de.png","assets/anim/battlePokemon/1275_80eff67b.png","assets/anim/battlePokemon/1278_9e8e89af.png","assets/anim/battlePokemon/1279_3db0e04f.png","assets/anim/battlePokemon/1280_1c5c4959.png","assets/anim/battlePokemon/1281_6666cec8.png","assets/anim/battlePokemon/1282_5b93609.png","assets/anim/battlePokemon/1285_fee33d5e.png","assets/anim/battlePokemon/1286_f1486c8b.png","assets/anim/battlePokemon/1287_ee5004fb.png","assets/anim/battlePokemon/1288_5f7d739e.png","assets/anim/battlePokemon/1289_9b982373.png","assets/anim/battlePokemon/1291_c1b4b356.png","assets/anim/battlePokemon/1292_cea8d837.png","assets/anim/battlePokemon/1294_7ac6cf64.png","assets/anim/battlePokemon/1295_f853015b.png","assets/anim/battlePokemon/1296_89236e53.png","assets/anim/battlePokemon/1297_e9ffd221.png","assets/anim/battlePokemon/1299_9efc5f58.png","assets/anim/battlePokemon/1302_49325fbf.png","assets/anim/battlePokemon/1303_6cd0a640.png","assets/anim/battlePokemon/1304_7e9885d7.png","assets/anim/battlePokemon/1305_457b699d.png","assets/anim/battlePokemon/1306_5d3ad24c.png","assets/anim/battlePokemon/1307_6b138a71.png","assets/anim/battlePokemon/1308_4ca6f734.png","assets/anim/battlePokemon/1309_b83a28e9.png","assets/anim/battlePokemon/1310_1ad6699a.png","assets/anim/battlePokemon/1311_dfd79f2d.png","assets/anim/battlePokemon/1312_a097cc61.png","assets/anim/battlePokemon/1318_86db0965.png","assets/anim/battlePokemon/1319_1dc7a754.png","assets/anim/battlePokemon/1320_2a4fc080.png","assets/anim/battlePokemon/1321_cc233f90.png","assets/anim/battlePokemon/1322_e776b043.png","assets/anim/battlePokemon/1323_c9938ef4.png","assets/anim/battlePokemon/1328_7529044e.png","assets/anim/battlePokemon/1329_2c8c2097.png","assets/anim/battlePokemon/1330_88195340.png","assets/anim/battlePokemon/1331_b62735b3.png","assets/anim/battlePokemon/1332_6f1e8319.png","assets/anim/battlePokemon/1333_389302b1.png","assets/anim/battlePokemon/1334_b74399aa.png","assets/anim/battlePokemon/1341_adf1534a.png","assets/anim/battlePokemon/1342_cb31a42d.png","assets/anim/battlePokemon/1343_303c5031.png","assets/anim/battlePokemon/1344_744daec2.png","assets/anim/battlePokemon/1345_97f6828b.png","assets/anim/battlePokemon/1346_e863a5e8.png","assets/anim/battlePokemon/1347_ec2da441.png","assets/anim/battlePokemon/1348_e0cb1127.png","assets/anim/battlePokemon/1349_61512d9d.png","assets/anim/battlePokemon/1350_82019dbd.png","assets/anim/battlePokemon/1354_4ec1a6e7.png","assets/anim/battlePokemon/1355_c7b0114f.png","assets/anim/battlePokemon/1356_98dd44a1.png","assets/anim/battlePokemon/1357_3d480968.png","assets/anim/battlePokemon/1359_78c37afb.png","assets/anim/battlePokemon/1361_a9684b19.png","assets/anim/battlePokemon/1362_20b2defb.png","assets/anim/battlePokemon/1363_c863ec99.png","assets/anim/battlePokemon/1364_72f60dd1.png","assets/anim/battlePokemon/1365_c1e390e8.png","assets/anim/battlePokemon/1371_689b57d1.png","assets/anim/battlePokemon/1372_d0b827b6.png","assets/anim/battlePokemon/1373_f3a7aca7.png","assets/anim/battlePokemon/1374_1c80921d.png","assets/anim/battlePokemon/1375_389d1c94.png","assets/anim/battlePokemon/1376_1e7aa69d.png","assets/anim/battlePokemon/1377_9060f560.png","assets/anim/battlePokemon/1378_b560fc89.png","assets/anim/battlePokemon/1379_fa9ddca9.png","assets/anim/battlePokemon/1380_984226f6.png","assets/anim/battlePokemon/1381_539b1561.png","assets/anim/battlePokemon/1382_b64e681c.png","assets/anim/battlePokemon/1383_b723acb5.png","assets/anim/battlePokemon/1384_2ac41c3c.png","assets/anim/battlePokemon/1385_5562fc36.png","assets/anim/battlePokemon/1387_42a0f18d.png","assets/anim/battlePokemon/1388_f11d4ec5.png","assets/anim/battlePokemon/1389_8a08b6ad.png","assets/anim/battlePokemon/1390_2e73070a.png","assets/anim/battlePokemon/1391_f3bdad3e.png","assets/anim/battlePokemon/1392_a0e805cc.png","assets/anim/battlePokemon/1393_f64278f7.png","assets/anim/battlePokemon/1394_a597ab3b.png","assets/anim/battlePokemon/1395_633e19d5.png","assets/anim/battlePokemon/1396_c94504e.png","assets/anim/battlePokemon/1397_b067848a.png","assets/anim/battlePokemon/1398_9e8a5c6c.png","assets/anim/battlePokemon/1403_9ee1285a.png","assets/anim/battlePokemon/1404_f7839d19.png","assets/anim/battlePokemon/1405_e08b8140.png","assets/anim/battlePokemon/1408_d49497f5.png","assets/anim/battlePokemon/1409_ef8cbb05.png","assets/anim/battlePokemon/1415_1a32bf26.png","assets/anim/battlePokemon/1416_7d9707c9.png","assets/anim/battlePokemon/1425_81eb92d7.png","assets/anim/battlePokemon/1426_efd9ebff.png","assets/anim/battlePokemon/1427_e3f2a52.png","assets/anim/battlePokemon/1428_4cbf3e8e.png","assets/anim/battlePokemon/1429_5bddf947.png","assets/anim/battlePokemon/1430_49a213d7.png","assets/anim/battlePokemon/1434_27b2694e.png","assets/anim/battlePokemon/1435_3c43ea2.png","assets/anim/battlePokemon/1436_2b435a99.png","assets/anim/battlePokemon/1437_a85d79c1.png","assets/anim/battlePokemon/1442_f74f10d8.png","assets/anim/battlePokemon/1443_42bcd820.png","assets/anim/battlePokemon/1444_4fbe1f02.png","assets/anim/battlePokemon/1445_732b2865.png","assets/anim/battlePokemon/1446_4a97d302.png","assets/anim/battlePokemon/1447_97ce0bc1.png","assets/anim/battlePokemon/1448_31cb15d7.png","assets/anim/battlePokemon/1449_260fa805.png","assets/anim/battlePokemon/1450_fb915fa4.png","assets/anim/battlePokemon/1451_c8e50860.png","assets/anim/battlePokemon/1452_7fe48b9.png","assets/anim/battlePokemon/1453_19f334d8.png","assets/anim/battlePokemon/1454_85805f97.png","assets/anim/battlePokemon/1459_534a9315.png","assets/anim/battlePokemon/1460_d419141a.png","assets/anim/battlePokemon/1461_704cf484.png","assets/anim/battlePokemon/1462_681236e9.png","assets/anim/battlePokemon/1463_a8309420.png","assets/anim/battlePokemon/1464_badc7ddf.png","assets/anim/battlePokemon/1465_43926de7.png","assets/anim/battlePokemon/1466_42a91a9.png","assets/anim/battlePokemon/1467_c64b454e.png","assets/anim/battlePokemon/1468_39a2b5cb.png","assets/anim/battlePokemon/1469_e5d92d2e.png","assets/anim/battlePokemon/1470_69c22d07.png","assets/anim/battlePokemon/1471_505510d0.png","assets/anim/battlePokemon/1472_a9438a50.png","assets/anim/battlePokemon/1473_141935f2.png","assets/anim/battlePokemon/1474_5a79b33d.png","assets/anim/battlePokemon/1475_26b3fc6d.png","assets/anim/battlePokemon/1476_453c2dee.png","assets/anim/battlePokemon/1477_a508b858.png","assets/anim/battlePokemon/1478_438bb9a2.png","assets/anim/battlePokemon/1479_cdb07f9b.png","assets/anim/battlePokemon/1480_6ebdc0fb.png","assets/anim/battlePokemon/1481_ce28d88c.png","assets/anim/battlePokemon/1482_9c3f657e.png","assets/anim/battlePokemon/1483_3fcc2c24.png","assets/anim/battlePokemon/1484_22e38f27.png","assets/anim/battlePokemon/1485_7c051bf4.png","assets/anim/battlePokemon/1486_9eaaebf9.png","assets/anim/battlePokemon/1487_ffddc1d1.png","assets/anim/battlePokemon/1488_17403521.png","assets/anim/battlePokemon/1491_46fb6c29.png","assets/anim/battlePokemon/1492_f3f4c2ad.png","assets/anim/battlePokemon/1493_c03f4229.png","assets/anim/battlePokemon/1495_18174589.png","assets/anim/battlePokemon/1496_8142eb9b.png","assets/anim/battlePokemon/1497_72b914f7.png","assets/anim/battlePokemon/1498_248f98d1.png","assets/anim/battlePokemon/1499_5701869c.png","assets/anim/battlePokemon/1500_fdde0e5f.png","assets/anim/battlePokemon/1501_bd0b1ec6.png","assets/anim/battlePokemon/1502_ad4353dc.png","assets/anim/battlePokemon/1503_4526b8b7.png","assets/anim/battlePokemon/1506_bc167b0d.png","assets/anim/battlePokemon/1507_bcb97541.png","assets/anim/battlePokemon/1508_36564799.png","assets/anim/battlePokemon/1517_21422f33.png","assets/anim/battlePokemon/1518_d1f7b717.png","assets/anim/battlePokemon/1522_69a84d94.png","assets/anim/battlePokemon/1523_8dbd501a.png","assets/anim/battlePokemon/1524_b56440f.png","assets/anim/battlePokemon/1525_9eb295c5.png","assets/anim/battlePokemon/1526_75907d88.png","assets/anim/battlePokemon/1527_fc4ba6e9.png","assets/anim/battlePokemon/1528_d2e99354.png","assets/anim/battlePokemon/1529_77950cad.png","assets/anim/battlePokemon/1530_8856bd64.png","assets/anim/battlePokemon/1531_e4ffcc54.png","assets/anim/battlePokemon/1532_ff2cdfd0.png","assets/anim/battlePokemon/1533_df5c2fcd.png","assets/anim/battlePokemon/1534_e3377f6b.png","assets/anim/battlePokemon/1535_a346d760.png","assets/anim/battlePokemon/1536_944f4f4b.png","assets/anim/battlePokemon/1537_69f50d49.png","assets/anim/battlePokemon/1540_ec830fbe.png","assets/anim/battlePokemon/1541_63e94596.png","assets/anim/battlePokemon/1542_a42471fe.png","assets/anim/battlePokemon/1543_d083c3af.png","assets/anim/battlePokemon/1544_cd80e85c.png","assets/anim/battlePokemon/1545_26021c73.png","assets/anim/battlePokemon/1548_155849d5.png","assets/anim/battlePokemon/1549_332d4062.png","assets/anim/battlePokemon/1551_7cc315f3.png","assets/anim/battlePokemon/1552_c12f4044.png","assets/anim/battlePokemon/1553_99730432.png","assets/anim/battlePokemon/1554_d9ab2730.png","assets/anim/battlePokemon/1555_d269d657.png","assets/anim/battlePokemon/1559_faa061b9.png","assets/anim/battlePokemon/1560_2ed93638.png","assets/anim/battlePokemon/1562_57d2ab4c.png","assets/anim/battlePokemon/1563_3004399b.png","assets/anim/battlePokemon/1564_8ca494b7.png","assets/anim/battlePokemon/1565_c9d7a2c1.png","assets/anim/battlePokemon/1566_2f166d16.png","assets/anim/battlePokemon/1567_49e07197.png","assets/anim/battlePokemon/1568_3f4f7ffc.png","assets/anim/battlePokemon/1569_4c446a30.png","assets/anim/battlePokemon/1570_783a8648.png","assets/anim/battlePokemon/1571_3348b22f.png","assets/anim/battlePokemon/1572_c7692ddc.png","assets/anim/battlePokemon/1573_e8a34ab.png","assets/anim/battlePokemon/1574_ade3d9b4.png","assets/anim/battlePokemon/1575_609020fa.png","assets/anim/battlePokemon/1576_5f5376b9.png","assets/anim/battlePokemon/1577_7640693b.png","assets/anim/battlePokemon/1578_e3301621.png","assets/anim/battlePokemon/1579_77bfce42.png","assets/anim/battlePokemon/1580_30f55110.png","assets/anim/battlePokemon/1581_678985ce.png","assets/anim/battlePokemon/1582_c5e4148c.png","assets/anim/battlePokemon/1583_9730ca95.png","assets/anim/battlePokemon/1584_9100a19f.png","assets/anim/battlePokemon/1585_d3605245.png","assets/anim/battlePokemon/1587_68fda165.png","assets/anim/battlePokemon/1590_3225c95f.png","assets/anim/battlePokemon/1591_fec6da83.png","assets/anim/battlePokemon/1594_19545ef.png","assets/anim/battlePokemon/1595_15a053f5.png","assets/anim/battlePokemon/1596_44f3221b.png","assets/anim/battlePokemon/1597_9937cbd4.png","assets/anim/battlePokemon/1598_ec8c1471.png","assets/anim/battlePokemon/1599_41f2d370.png","assets/anim/battlePokemon/1600_ffba8c02.png","assets/anim/battlePokemon/1601_ef26ba33.png","assets/anim/battlePokemon/1602_be4de324.png","assets/anim/battlePokemon/1603_bb226632.png","assets/anim/battlePokemon/1604_1168a57b.png","assets/anim/battlePokemon/1607_4a118cdd.png","assets/anim/battlePokemon/1608_fcef4c97.png","assets/anim/battlePokemon/1609_1d4b6fc3.png","assets/anim/battlePokemon/1610_fd21cec2.png","assets/anim/battlePokemon/1611_4dbe1cbd.png","assets/anim/battlePokemon/1612_60cdb3b4.png","assets/anim/battlePokemon/1613_d3fdd625.png","assets/anim/battlePokemon/1614_d40a290d.png","assets/anim/battlePokemon/1615_6c6bb871.png","assets/anim/battlePokemon/1619_dd0c6c8e.png","assets/anim/battlePokemon/1620_3b0ea04f.png","assets/anim/battlePokemon/1621_fd7c9284.png","assets/anim/battlePokemon/1622_93b447c.png","assets/anim/battlePokemon/1623_6a371fec.png","assets/anim/battlePokemon/1624_ef3040b8.png","assets/anim/battlePokemon/1625_7b9ca823.png","assets/anim/battlePokemon/1627_3bff3d80.png","assets/anim/battlePokemon/1628_18eb4b34.png","assets/anim/battlePokemon/1629_e8836abd.png","assets/anim/battlePokemon/1630_621a4721.png","assets/anim/battlePokemon/1631_df94e8b1.png","assets/anim/battlePokemon/1632_1719b7f1.png","assets/anim/battlePokemon/1633_ae0ff359.png","assets/anim/battlePokemon/1634_8ede65c8.png","assets/anim/battlePokemon/1635_7751e6d8.png","assets/anim/battlePokemon/1636_d1c31dd4.png","assets/anim/battlePokemon/1637_ff984009.png","assets/anim/battlePokemon/1638_bde3d85f.png","assets/anim/battlePokemon/1639_66ea416a.png","assets/anim/battlePokemon/1640_83ed622c.png","assets/anim/battlePokemon/1641_25872e66.png","assets/anim/battlePokemon/1642_552159ca.png","assets/anim/battlePokemon/1643_2ab43f55.png","assets/anim/battlePokemon/1644_567ab995.png","assets/anim/battlePokemon/1645_b1836b3a.png","assets/anim/battlePokemon/1646_cbab095e.png","assets/anim/battlePokemon/1647_11ea5a13.png","assets/anim/battlePokemon/1649_6c4a0206.png","assets/anim/battlePokemon/1650_f5415c14.png","assets/anim/battlePokemon/1651_a676eede.png","assets/anim/battlePokemon/1652_76c6c7f7.png","assets/anim/battlePokemon/1653_b290e738.png","assets/anim/battlePokemon/1654_ee26f435.png","assets/anim/battlePokemon/1655_95dc1b3f.png","assets/anim/battlePokemon/1656_14b8b956.png","assets/anim/battlePokemon/1657_c7b0415b.png","assets/anim/battlePokemon/1658_7b0f9c51.png","assets/anim/battlePokemon/1679_8ff8284d.png","assets/anim/battlePokemon/1680_4c45a85d.png","assets/anim/battlePokemon/1681_35d704ea.png","assets/anim/battlePokemon/1698_f7df2436.png","assets/anim/battlePokemon/1699_e1913cec.png","assets/anim/battlePokemon/1700_f26cc6b9.png","assets/anim/battlePokemon/1704_9fe95bf5.png","assets/anim/battlePokemon/1705_b522c09b.png","assets/anim/battlePokemon/1706_ac9fd4e6.png","assets/anim/battlePokemon/1716_4b37bbe4.png","assets/anim/battlePokemon/1717_156290bd.png","assets/anim/battlePokemon/1718_895734fa.png","assets/anim/battlePokemon/1719_7ff7952a.png","assets/anim/battlePokemon/1720_2873c0b5.png","assets/anim/battlePokemon/1722_58ef2095.png","assets/anim/battlePokemon/1723_94c55bbc.png","assets/anim/battlePokemon/1724_204b9d6b.png","assets/anim/battlePokemon/1725_7ff6fa70.png","assets/anim/battlePokemon/1726_e93658b0.png","assets/anim/battlePokemon/1727_cd7b29f7.png","assets/anim/battlePokemon/1728_86f49f2.png","assets/anim/battlePokemon/1729_f5936095.png","assets/anim/battlePokemon/1730_cc55e694.png","assets/anim/battlePokemon/1782_5c564dbd.png","assets/anim/battlePokemon/1783_8f64084c.png","assets/anim/battlePokemon/1784_452a9a6d.png","assets/anim/battlePokemon/1791_766b74b8.png","assets/anim/battlePokemon/1792_bbfcebf2.png","assets/anim/battlePokemon/1793_ae48bc42.png","assets/anim/battlePokemon/1794_2f42c367.png","assets/anim/battlePokemon/1795_ee8d7631.png","assets/anim/battlePokemon/1796_3915e805.png","assets/anim/battlePokemon/1797_3e53b959.png","assets/anim/battlePokemon/1798_30e052ef.png","assets/anim/battlePokemon/1799_54caaf62.png","assets/anim/battlePokemon/1800_2db487a5.png","assets/anim/battlePokemon/1801_56fa8c1c.png","assets/anim/battlePokemon/1802_9f3bed69.png","assets/anim/battlePokemon/1803_87ef2a74.png","assets/anim/battlePokemon/1804_11480ccf.png","assets/anim/battlePokemon/1805_8a1ec2f.png","assets/anim/battlePokemon/1806_c65b4a70.png","assets/anim/battlePokemon/1811_a094edd2.png","assets/anim/battlePokemon/1812_f9dd3fa3.png","assets/anim/battlePokemon/1813_c37fe710.png","assets/anim/battlePokemon/1814_c3d9055b.png","assets/anim/battlePokemon/1815_f7983b05.png","assets/anim/battlePokemon/1900_1f0b6758.png","assets/anim/battlePokemon/1901_ef928625.png","assets/anim/battlePokemon/1902_ab0554fb.png","assets/anim/battlePokemon/1903_c20c92ec.png","assets/anim/battlePokemon/1975_a08a7f82.png","assets/anim/battlePokemon/1976_56a13ef7.png","assets/anim/battlePokemon/1977_ce74e374.png","assets/anim/battlePokemon/1978_5e7fac40.png","assets/anim/battlePokemon/1979_f622ef50.png","assets/anim/battlePokemon/1980_2c0b62b0.png","assets/anim/battlePokemon/1981_885bd6c2.png","assets/anim/battlePokemon/1982_c548f7c8.png","assets/anim/battlePokemon/1983_4cf6e1a4.png","assets/anim/battlePokemon/1984_3084e291.png","assets/anim/battlePokemon/1985_a6fb0076.png","assets/anim/battlePokemon/1986_59c62760.png","assets/anim/battlePokemon/1987_d3f11e11.png","assets/anim/battlePokemon/1988_cbffe92e.png","assets/anim/battlePokemon/1989_3195fb4d.png","assets/anim/battlePokemon/1990_75a0083d.png","assets/anim/battlePokemon/1991_caa0f2f2.png","assets/anim/battlePokemon/1992_c3b13d41.png","assets/anim/battlePokemon/1993_85c33eb5.png","assets/anim/battlePokemon/1994_49be5f1a.png","assets/anim/battlePokemon/1995_5820dc67.png","assets/anim/battlePokemon/1996_5f25d470.png","assets/anim/battlePokemon/1997_1214ecfa.png","assets/anim/battlePokemon/1998_d5ee0079.png","assets/anim/battlePokemon/1999_36e3484c.png","assets/anim/battlePokemon/201038_5e7b6c89.png","assets/anim/battlePokemon/201059_8abc678.png","assets/anim/battlePokemon/201068_ac268af9.png","assets/anim/battlePokemon/201101_b3b89110.png","assets/anim/battlePokemon/201129_70b750cc.png","assets/anim/battlePokemon/201130_55a32c80.png","assets/anim/battlePokemon/201149_128cd74e.png","assets/anim/battlePokemon/201208_4fca2c09.png","assets/anim/battlePokemon/201334_5c2c0e3e.png","assets/anim/battlePokemon/201376_3869274a.png","assets/anim/battlePokemon/201612_4742aa61.png","assets/anim/battlePokemon/301003_a6333f57.png","assets/anim/battlePokemon/301006_cb576ac4.png","assets/anim/battlePokemon/301009_72fe74c0.png","assets/anim/battlePokemon/301015_38bfb69e.png","assets/anim/battlePokemon/301018_61c1a37b.png","assets/anim/battlePokemon/301024_da763115.png","assets/anim/battlePokemon/301026_3d0185f6.png","assets/anim/battlePokemon/301031_b284a042.png","assets/anim/battlePokemon/301034_796973e8.png","assets/anim/battlePokemon/301040_881226d9.png","assets/anim/battlePokemon/301051_bd4bf9ed.png","assets/anim/battlePokemon/301053_33f4caf9.png","assets/anim/battlePokemon/301057_3bfb5a9c.png","assets/anim/battlePokemon/301065_fe3c3464.png","assets/anim/battlePokemon/301073_8fdb3f15.png","assets/anim/battlePokemon/301089_b5ec6d97.png","assets/anim/battlePokemon/301091_36c31be5.png","assets/anim/battlePokemon/301094_f291b95.png","assets/anim/battlePokemon/301101_4c9cc0a.png","assets/anim/battlePokemon/301110_df9c0d08.png","assets/anim/battlePokemon/301115_35186470.png","assets/anim/battlePokemon/301119_8fba383c.png","assets/anim/battlePokemon/301127_690f90ed.png","assets/anim/battlePokemon/301130_fe0ba493.png","assets/anim/battlePokemon/301131_4f841742.png","assets/anim/battlePokemon/301132_2e80bc51.png","assets/anim/battlePokemon/301141_e0bf3ac9.png","assets/anim/battlePokemon/301142_794216ff.png","assets/anim/battlePokemon/301144_61992703.png","assets/anim/battlePokemon/301145_b8e09a5a.png","assets/anim/battlePokemon/301146_8b5bfd6c.png","assets/anim/battlePokemon/301149_86d910ae.png","assets/anim/battlePokemon/301150_14ee512f.png","assets/anim/battlePokemon/301151_fd6fc4d9.png","assets/anim/battlePokemon/301154_99959ba8.png","assets/anim/battlePokemon/301157_8bab8758.png","assets/anim/battlePokemon/301160_31da1fb0.png","assets/anim/battlePokemon/301169_19c7c1a.png","assets/anim/battlePokemon/301181_a37b74f5.png","assets/anim/battlePokemon/301185_25b96cfb.png","assets/anim/battlePokemon/301189_ca45baca.png","assets/anim/battlePokemon/301199_ce095473.png","assets/anim/battlePokemon/301208_d68e14f5.png","assets/anim/battlePokemon/301212_4b01c0e4.png","assets/anim/battlePokemon/301214_f80821ad.png","assets/anim/battlePokemon/301229_daaf7bd.png","assets/anim/battlePokemon/301230_952ede88.png","assets/anim/battlePokemon/301242_97692d4f.png","assets/anim/battlePokemon/301243_64498951.png","assets/anim/battlePokemon/301244_c9f282cc.png","assets/anim/battlePokemon/301245_132f9202.png","assets/anim/battlePokemon/301248_156a8c39.png","assets/anim/battlePokemon/301249_4c2936f2.png","assets/anim/battlePokemon/301250_f22a24ba.png","assets/anim/battlePokemon/301251_d3fa48ff.png","assets/anim/battlePokemon/301254_bc98ea35.png","assets/anim/battlePokemon/301257_a68d3170.png","assets/anim/battlePokemon/301260_81a5d77e.png","assets/anim/battlePokemon/301275_40ec5952.png","assets/anim/battlePokemon/301282_a98351af.png","assets/anim/battlePokemon/301302_8d57345a.png","assets/anim/battlePokemon/301303_cdc232b7.png","assets/anim/battlePokemon/301306_98207cb2.png","assets/anim/battlePokemon/301308_8fed7918.png","assets/anim/battlePokemon/301310_d588a8a0.png","assets/anim/battlePokemon/301319_80598c57.png","assets/anim/battlePokemon/301321_1ad144a.png","assets/anim/battlePokemon/301323_84dd727f.png","assets/anim/battlePokemon/301330_f15921a4.png","assets/anim/battlePokemon/301334_dbcf9d73.png","assets/anim/battlePokemon/301344_ea99b085.png","assets/anim/battlePokemon/301346_dc1d7e59.png","assets/anim/battlePokemon/301350_f2281800.png","assets/anim/battlePokemon/301354_a9340cb4.png","assets/anim/battlePokemon/301357_197aeb67.png","assets/anim/battlePokemon/301359_ee42c3ac.png","assets/anim/battlePokemon/301362_4d67a462.png","assets/anim/battlePokemon/301373_799baeb9.png","assets/anim/battlePokemon/301376_6827a86c.png","assets/anim/battlePokemon/301380_3fe6e181.png","assets/anim/battlePokemon/301381_767ce93e.png","assets/anim/battlePokemon/301382_574f0b94.png","assets/anim/battlePokemon/301383_8e4e20dd.png","assets/anim/battlePokemon/301384_bdc6702f.png","assets/anim/battlePokemon/301385_6744c3d8.png","assets/anim/battlePokemon/301395_38b79517.png","assets/anim/battlePokemon/301428_7d0c6f32.png","assets/anim/battlePokemon/301442_ea38ef42.png","assets/anim/battlePokemon/301445_103b3fe0.png","assets/anim/battlePokemon/301448_9c9b9b86.png","assets/anim/battlePokemon/301452_77ce561a.png","assets/anim/battlePokemon/301460_f54d707a.png","assets/anim/battlePokemon/301461_7f6a934f.png","assets/anim/battlePokemon/301466_1be42c33.png","assets/anim/battlePokemon/301467_4a5e4903.png","assets/anim/battlePokemon/301468_24e2b446.png","assets/anim/battlePokemon/301475_6562b0a6.png","assets/anim/battlePokemon/301478_1411de70.png","assets/anim/battlePokemon/301487_11b653a4.png","assets/anim/battlePokemon/301531_ffd536c4.png","assets/anim/battlePokemon/301549_5dc096db.png","assets/anim/battlePokemon/301555_dd334350.png","assets/anim/battlePokemon/301560_e6d88b5c.png","assets/anim/battlePokemon/301563_c9e9b0c3.png","assets/anim/battlePokemon/301571_a70bf42e.png","assets/anim/battlePokemon/301576_49e21b4d.png","assets/anim/battlePokemon/301581_84afcd92.png","assets/anim/battlePokemon/301609_afd83032.png","assets/anim/battlePokemon/301612_169b17db.png","assets/anim/battlePokemon/301621_b586a173.png","assets/anim/battlePokemon/301635_7f81baf6.png","assets/anim/battlePokemon/301638_9d8d3c64.png","assets/anim/battlePokemon/301639_eef4c2b0.png","assets/anim/battlePokemon/301640_60fc0a8.png","assets/anim/battlePokemon/301641_b2cc501d.png","assets/anim/battlePokemon/301642_5739838d.png","assets/anim/battlePokemon/301645_b0cff7eb.png","assets/anim/battlePokemon/301646_63a636f7.png","assets/anim/battlePokemon/301658_94cc88fa.png","assets/anim/battlePokemon/301699_cee762f2.png","assets/anim/battlePokemon/301706_c3a6566d.png","assets/anim/battlePokemon/301718_a68407d9.png","assets/anim/battlePokemon/301993_9e5ed715.png","assets/anim/battlePokemon/301994_b8ee848b.png","assets/anim/battlePokemon/301995_c1d36e6f.png","assets/anim/battlePokemon/311006_1bb2cd59.png","assets/anim/battlePokemon/311007_f5c5f23.png","assets/anim/battlePokemon/311008_e45350a4.png","assets/anim/battlePokemon/311009_cd971dfa.png","assets/anim/battlePokemon/311010_455d995f.png","assets/anim/battlePokemon/311011_cd971dfa.png","assets/anim/battlePokemon/311644_124bf0b7.png","assets/anim/battlePokemon/501718_dbd3a97f.png","assets/anim/boat_8d8368f8.png","assets/anim/buttonLight_da693469.png","assets/anim/effect/1_ee9d5f79.png","assets/anim/effect/2_99187be.png","assets/anim/effect/3_ca425fcb.png","assets/anim/effect/4_679f646d.png","assets/anim/fangdian_72ba6cd9.png","assets/anim/fc_f78862bf.png","assets/anim/gonggao_528d82df.png","assets/anim/hero/1_6c6d5fca.png","assets/anim/hero/2_3ca6e07a.png","assets/anim/hero/3_114f22fd.png","assets/anim/hero/4_f76e7520.png","assets/anim/hero/5001_fe631b35.png","assets/anim/hero/5002_6451c7b.png","assets/anim/hero/5003_8883d1bf.png","assets/anim/hero/5004_3cff339.png","assets/anim/hero/5005_50a846d3.png","assets/anim/hero/5006_d677b036.png","assets/anim/hero/5007_da7699a0.png","assets/anim/hero/5008_f7cb156a.png","assets/anim/hero/5009_7a3f7783.png","assets/anim/hero/5010_4f439122.png","assets/anim/hero/5011_55e34ec1.png","assets/anim/hero/5012_aa50ccdd.png","assets/anim/hero/5_a719d798.png","assets/anim/hero/6_aff875aa.png","assets/anim/hero/7_a91b8357.png","assets/anim/hero/8_2899d981.png","assets/anim/hero/9_8a5a3c26.png","assets/anim/hero/blackMan_c3224193.png","assets/anim/hot_6e1338a4.png","assets/anim/human/10000_7d482a20.png","assets/anim/human/10001_c308f7e5.png","assets/anim/human/10002_de7bc737.png","assets/anim/human/10003_e8f348e0.png","assets/anim/human/10004_eebb426b.png","assets/anim/human/10005_e160b1d5.png","assets/anim/human/10006_4d4059e4.png","assets/anim/human/10007_512aa300.png","assets/anim/human/10008_5e5caaa8.png","assets/anim/human/10009_d29794b5.png","assets/anim/human/10010_9a48a6fe.png","assets/anim/human/10011_e2aae47f.png","assets/anim/human/10012_137aa759.png","assets/anim/human/10013_14be82b2.png","assets/anim/human/10014_188bc9.png","assets/anim/human/10015_16260ffe.png","assets/anim/human/10016_9bdb249b.png","assets/anim/human/10017_a0e5e598.png","assets/anim/human/101_75011eab.png","assets/anim/human/102_fd198ec9.png","assets/anim/human/103_a4170d7c.png","assets/anim/human/104_830606ef.png","assets/anim/human/105_3a26b786.png","assets/anim/human/106_9a0fde38.png","assets/anim/human/107_1b883018.png","assets/anim/human/108_960bccf7.png","assets/anim/human/10_bd70c59c.png","assets/anim/human/11_6efc0237.png","assets/anim/human/12_8e28fdc9.png","assets/anim/human/13_e36def96.png","assets/anim/human/14_eced6461.png","assets/anim/human/15_4a1082e6.png","assets/anim/human/16_38d52ad3.png","assets/anim/human/17_e51cfcbd.png","assets/anim/human/18_18bd044c.png","assets/anim/human/19_d41a840.png","assets/anim/human/1_cf4a5103.png","assets/anim/human/2_9882709b.png","assets/anim/human/3_ffa61fb6.png","assets/anim/human/4_a6deaf21.png","assets/anim/human/5_aa858ec8.png","assets/anim/human/6_bf2b2471.png","assets/anim/human/7_6daa01e8.png","assets/anim/human/8_bd8931a7.png","assets/anim/human/9_8a956499.png","assets/anim/huo_1_56f39778.png","assets/anim/huo_2_3ddc9b51.png","assets/anim/huo_3_561d6a61.png","assets/anim/huo_4_d54c1821.png","assets/anim/huo_5_d54c1821.png","assets/anim/jinzhu_9f6b9fe4.png","assets/anim/jjc_8df487f1.png","assets/anim/kabi_d08017c2.png","assets/anim/logoLight_11e8162f.png","assets/anim/niao_678664a9.png","assets/anim/pokemon/1001_7a26e229.png","assets/anim/pokemon/1002_f29f1666.png","assets/anim/pokemon/1003_3c10bbbd.png","assets/anim/pokemon/1004_d9acdf36.png","assets/anim/pokemon/1005_215e7ca9.png","assets/anim/pokemon/1006_56dda057.png","assets/anim/pokemon/1007_3249cfb1.png","assets/anim/pokemon/1008_645d2f28.png","assets/anim/pokemon/1009_70d09b95.png","assets/anim/pokemon/1010_c76b0c0b.png","assets/anim/pokemon/1011_e00653d7.png","assets/anim/pokemon/1012_ecb00f8a.png","assets/anim/pokemon/1013_ba6d6b76.png","assets/anim/pokemon/1014_64160393.png","assets/anim/pokemon/1015_21db976c.png","assets/anim/pokemon/1016_721655ae.png","assets/anim/pokemon/1017_44c61195.png","assets/anim/pokemon/1018_45459a94.png","assets/anim/pokemon/1019_e8f01ab9.png","assets/anim/pokemon/1020_48b498a.png","assets/anim/pokemon/1021_add23b28.png","assets/anim/pokemon/1022_deba774e.png","assets/anim/pokemon/1023_4edce022.png","assets/anim/pokemon/1024_1fc7684d.png","assets/anim/pokemon/1025_1d33e686.png","assets/anim/pokemon/1026_cf3eb8a7.png","assets/anim/pokemon/1027_c719b586.png","assets/anim/pokemon/1028_f88c7837.png","assets/anim/pokemon/1029_c8e2ab1c.png","assets/anim/pokemon/1030_ff83581.png","assets/anim/pokemon/1031_8e086eee.png","assets/anim/pokemon/1032_f09f937e.png","assets/anim/pokemon/1033_2c48fad8.png","assets/anim/pokemon/1034_a6e05478.png","assets/anim/pokemon/1035_852b7d6b.png","assets/anim/pokemon/1036_adb8a78.png","assets/anim/pokemon/1037_d7005332.png","assets/anim/pokemon/1038_d10dc65e.png","assets/anim/pokemon/1039_acd4c947.png","assets/anim/pokemon/1040_61a457bf.png","assets/anim/pokemon/1041_b9da15b5.png","assets/anim/pokemon/1042_6c303d29.png","assets/anim/pokemon/1043_3e134269.png","assets/anim/pokemon/1044_eb4521bd.png","assets/anim/pokemon/1045_5f974c21.png","assets/anim/pokemon/1046_f9764da0.png","assets/anim/pokemon/1047_c629351c.png","assets/anim/pokemon/1048_2e0a89f4.png","assets/anim/pokemon/1049_238882c9.png","assets/anim/pokemon/1050_fcec8228.png","assets/anim/pokemon/1051_b92062d2.png","assets/anim/pokemon/1052_564786ee.png","assets/anim/pokemon/1053_16f5800.png","assets/anim/pokemon/1054_e37d8aa8.png","assets/anim/pokemon/1055_3b828355.png","assets/anim/pokemon/1056_f2e03fcd.png","assets/anim/pokemon/1057_d6387ed.png","assets/anim/pokemon/1058_dc84a2a7.png","assets/anim/pokemon/1059_bf680ccd.png","assets/anim/pokemon/1060_62b9f0c8.png","assets/anim/pokemon/1061_f56a4a28.png","assets/anim/pokemon/1062_6df4f42c.png","assets/anim/pokemon/1063_345f364c.png","assets/anim/pokemon/1064_1feb9260.png","assets/anim/pokemon/1065_1fdfbe09.png","assets/anim/pokemon/1066_429d3c4.png","assets/anim/pokemon/1067_4bb0bada.png","assets/anim/pokemon/1068_15548d54.png","assets/anim/pokemon/1069_7c893ad8.png","assets/anim/pokemon/1070_a6740425.png","assets/anim/pokemon/1071_699026c2.png","assets/anim/pokemon/1072_87d8e8fd.png","assets/anim/pokemon/1073_772cdba6.png","assets/anim/pokemon/1074_3d2e4250.png","assets/anim/pokemon/1075_2ca15f74.png","assets/anim/pokemon/1076_3e8b5f0e.png","assets/anim/pokemon/1077_dcdbb51d.png","assets/anim/pokemon/1078_1f69f28c.png","assets/anim/pokemon/1079_25f2ba55.png","assets/anim/pokemon/1080_6e06d9e6.png","assets/anim/pokemon/1081_f3ac395e.png","assets/anim/pokemon/1082_9f789ba8.png","assets/anim/pokemon/1083_777147ba.png","assets/anim/pokemon/1084_7f91f2f3.png","assets/anim/pokemon/1085_890b8a11.png","assets/anim/pokemon/1086_aa3c3449.png","assets/anim/pokemon/1087_f02bd39d.png","assets/anim/pokemon/1088_7179c086.png","assets/anim/pokemon/1089_859f08b3.png","assets/anim/pokemon/1090_5b2abf9f.png","assets/anim/pokemon/1091_4ded8218.png","assets/anim/pokemon/1092_9e44b269.png","assets/anim/pokemon/1093_ca0bbb4a.png","assets/anim/pokemon/1094_f95f0c06.png","assets/anim/pokemon/1095_d2fa55c6.png","assets/anim/pokemon/1096_c1e4ef6d.png","assets/anim/pokemon/1097_b7fb211c.png","assets/anim/pokemon/1098_d3d2e599.png","assets/anim/pokemon/1099_2ff4cfe7.png","assets/anim/pokemon/1100_dc6bdca.png","assets/anim/pokemon/1101_670dcd21.png","assets/anim/pokemon/1102_995b686a.png","assets/anim/pokemon/1103_c650201f.png","assets/anim/pokemon/1104_2c4d55de.png","assets/anim/pokemon/1105_fd8d9c60.png","assets/anim/pokemon/1106_b9e06102.png","assets/anim/pokemon/1107_cbd7c6cd.png","assets/anim/pokemon/1108_a6502dd6.png","assets/anim/pokemon/1109_2f012bd.png","assets/anim/pokemon/1110_c16e31d6.png","assets/anim/pokemon/1111_4e636182.png","assets/anim/pokemon/1112_fa854b3a.png","assets/anim/pokemon/1113_6eb9e795.png","assets/anim/pokemon/1114_347fe1ea.png","assets/anim/pokemon/1115_54349849.png","assets/anim/pokemon/1116_c6bdac41.png","assets/anim/pokemon/1117_572382ad.png","assets/anim/pokemon/1118_ecbf88b9.png","assets/anim/pokemon/1119_996ef2f4.png","assets/anim/pokemon/1120_8168ad6b.png","assets/anim/pokemon/1121_f149215a.png","assets/anim/pokemon/1122_70677b75.png","assets/anim/pokemon/1123_cdd0be52.png","assets/anim/pokemon/1124_537e24ca.png","assets/anim/pokemon/1125_d25cdce1.png","assets/anim/pokemon/1126_1b8bd566.png","assets/anim/pokemon/1127_d565acaa.png","assets/anim/pokemon/1128_6330e8f2.png","assets/anim/pokemon/1129_1487a68b.png","assets/anim/pokemon/1130_2232f696.png","assets/anim/pokemon/1131_5a512aba.png","assets/anim/pokemon/1132_2ca8298f.png","assets/anim/pokemon/1133_b67437fd.png","assets/anim/pokemon/1134_1db4ccf8.png","assets/anim/pokemon/1135_688dfb9.png","assets/anim/pokemon/1136_1b503f3c.png","assets/anim/pokemon/1137_f725456f.png","assets/anim/pokemon/1138_fa309a8e.png","assets/anim/pokemon/1139_ab883c0f.png","assets/anim/pokemon/1140_5d88ea25.png","assets/anim/pokemon/1141_8e6591e1.png","assets/anim/pokemon/1142_f1937e84.png","assets/anim/pokemon/1143_a5c771b4.png","assets/anim/pokemon/1144_fd42de82.png","assets/anim/pokemon/1145_e89760c0.png","assets/anim/pokemon/1146_bbefff1b.png","assets/anim/pokemon/1147_4274d6f4.png","assets/anim/pokemon/1148_beb6e9d8.png","assets/anim/pokemon/1149_8adc98d6.png","assets/anim/pokemon/1150_a9903725.png","assets/anim/pokemon/1151_ce6a73d.png","assets/anim/pokemon/1152_f22c435c.png","assets/anim/pokemon/1153_8935ed92.png","assets/anim/pokemon/1154_43e47fe8.png","assets/anim/pokemon/1155_22ea3fe7.png","assets/anim/pokemon/1156_4a1f32af.png","assets/anim/pokemon/1157_1cd4a311.png","assets/anim/pokemon/1158_f437abe6.png","assets/anim/pokemon/1159_c2d5fe29.png","assets/anim/pokemon/1160_edfce9c8.png","assets/anim/pokemon/1169_efa69915.png","assets/anim/pokemon/1170_727bfe31.png","assets/anim/pokemon/1171_a9be432e.png","assets/anim/pokemon/1172_80ef196f.png","assets/anim/pokemon/1173_91c25677.png","assets/anim/pokemon/1174_86491e17.png","assets/anim/pokemon/1175_bf1bc77a.png","assets/anim/pokemon/1176_1b6c2d89.png","assets/anim/pokemon/1179_df545a7b.png","assets/anim/pokemon/1180_2f25ee4f.png","assets/anim/pokemon/1181_dbade5c9.png","assets/anim/pokemon/1182_a3325dcd.png","assets/anim/pokemon/1185_de55f49d.png","assets/anim/pokemon/1186_256418cc.png","assets/anim/pokemon/1187_513cef5.png","assets/anim/pokemon/1188_9c4b97e.png","assets/anim/pokemon/1189_34f9a8b9.png","assets/anim/pokemon/1196_72dbdac7.png","assets/anim/pokemon/1197_9e852230.png","assets/anim/pokemon/1198_9e58fa43.png","assets/anim/pokemon/1199_67675ed7.png","assets/anim/pokemon/1200_faceb247.png","assets/anim/pokemon/1202_675c715c.png","assets/anim/pokemon/1203_db372879.png","assets/anim/pokemon/1204_82cae74d.png","assets/anim/pokemon/1205_66d2379a.png","assets/anim/pokemon/1206_34bf9828.png","assets/anim/pokemon/1207_d922cd7b.png","assets/anim/pokemon/1208_feedb7d0.png","assets/anim/pokemon/1211_784d9e41.png","assets/anim/pokemon/1212_695de07c.png","assets/anim/pokemon/1213_c2e85ee2.png","assets/anim/pokemon/1214_d74a63c9.png","assets/anim/pokemon/1215_974638df.png","assets/anim/pokemon/1220_c9287ef6.png","assets/anim/pokemon/1221_b49ee7be.png","assets/anim/pokemon/1227_3ddf43c7.png","assets/anim/pokemon/1228_d55310a7.png","assets/anim/pokemon/1229_fc17c7cc.png","assets/anim/pokemon/1230_815331c.png","assets/anim/pokemon/1231_2c2c4448.png","assets/anim/pokemon/1232_1f617fe3.png","assets/anim/pokemon/1233_6a30dc6d.png","assets/anim/pokemon/1235_3e428acd.png","assets/anim/pokemon/1241_e23ecd86.png","assets/anim/pokemon/1242_29cd6c1f.png","assets/anim/pokemon/1243_3b58050b.png","assets/anim/pokemon/1244_931ca90e.png","assets/anim/pokemon/1245_92793b3c.png","assets/anim/pokemon/1246_2a2c3f8d.png","assets/anim/pokemon/1247_2f317093.png","assets/anim/pokemon/1248_193bc0.png","assets/anim/pokemon/1249_6032405d.png","assets/anim/pokemon/1250_a339944e.png","assets/anim/pokemon/1251_c405dddc.png","assets/anim/pokemon/1252_bb9b59cc.png","assets/anim/pokemon/1253_89bd3a21.png","assets/anim/pokemon/1254_83574ea6.png","assets/anim/pokemon/1255_57d1f353.png","assets/anim/pokemon/1256_d2db4fa2.png","assets/anim/pokemon/1257_6a84a6a.png","assets/anim/pokemon/1258_116a1fa5.png","assets/anim/pokemon/1259_60b7cea1.png","assets/anim/pokemon/1260_d9107f4d.png","assets/anim/pokemon/1261_4c205bb6.png","assets/anim/pokemon/1262_b06e57c7.png","assets/anim/pokemon/1270_64c84e89.png","assets/anim/pokemon/1271_ffd0b34c.png","assets/anim/pokemon/1272_91ac3ba6.png","assets/anim/pokemon/1273_96b58975.png","assets/anim/pokemon/1274_9803a1f4.png","assets/anim/pokemon/1275_f0f14e87.png","assets/anim/pokemon/1278_1aa8665b.png","assets/anim/pokemon/1279_759cc072.png","assets/anim/pokemon/1280_eb7b62c8.png","assets/anim/pokemon/1281_e95fb1e5.png","assets/anim/pokemon/1282_58d7c1fd.png","assets/anim/pokemon/1285_79642132.png","assets/anim/pokemon/1286_cca440cc.png","assets/anim/pokemon/1287_482ba570.png","assets/anim/pokemon/1288_4ef5e02c.png","assets/anim/pokemon/1289_9a7c1371.png","assets/anim/pokemon/1291_fc57b3a4.png","assets/anim/pokemon/1292_7533f694.png","assets/anim/pokemon/1294_cc1571bc.png","assets/anim/pokemon/1295_433e36c3.png","assets/anim/pokemon/1296_f7935f2.png","assets/anim/pokemon/1297_193bdd6f.png","assets/anim/pokemon/1299_be73ea7c.png","assets/anim/pokemon/1302_a23a88cb.png","assets/anim/pokemon/1303_21cf0efb.png","assets/anim/pokemon/1304_b48c21.png","assets/anim/pokemon/1305_98956104.png","assets/anim/pokemon/1306_eef41440.png","assets/anim/pokemon/1307_e8657925.png","assets/anim/pokemon/1308_b5fc3337.png","assets/anim/pokemon/1309_d4b0b318.png","assets/anim/pokemon/1310_448adae9.png","assets/anim/pokemon/1311_9f025256.png","assets/anim/pokemon/1312_152f8596.png","assets/anim/pokemon/1318_5466ce63.png","assets/anim/pokemon/1319_a6b5a9b2.png","assets/anim/pokemon/1320_479ff201.png","assets/anim/pokemon/1321_4961a667.png","assets/anim/pokemon/1322_5d5a9e20.png","assets/anim/pokemon/1323_b4fb0c93.png","assets/anim/pokemon/1328_87c8e2be.png","assets/anim/pokemon/1329_75607bca.png","assets/anim/pokemon/1330_f53be6d0.png","assets/anim/pokemon/1331_2ae52685.png","assets/anim/pokemon/1332_3a1b4188.png","assets/anim/pokemon/1333_87062bbe.png","assets/anim/pokemon/1334_ff786394.png","assets/anim/pokemon/1341_52047809.png","assets/anim/pokemon/1342_25d7456b.png","assets/anim/pokemon/1343_adfd86ed.png","assets/anim/pokemon/1344_1d49fcb8.png","assets/anim/pokemon/1345_484f11ee.png","assets/anim/pokemon/1346_7b9b8aa3.png","assets/anim/pokemon/1347_537bbca2.png","assets/anim/pokemon/1348_c84609d4.png","assets/anim/pokemon/1349_59d176aa.png","assets/anim/pokemon/1350_94228f34.png","assets/anim/pokemon/1354_67b39b3b.png","assets/anim/pokemon/1355_ce684fe6.png","assets/anim/pokemon/1356_2ad43a28.png","assets/anim/pokemon/1357_b945df24.png","assets/anim/pokemon/1359_2ca0241d.png","assets/anim/pokemon/1361_32c32c2b.png","assets/anim/pokemon/1362_ee6ce7b4.png","assets/anim/pokemon/1363_2ad195d2.png","assets/anim/pokemon/1364_e5ccbb5c.png","assets/anim/pokemon/1365_85550467.png","assets/anim/pokemon/1371_d91edee4.png","assets/anim/pokemon/1372_6b34616b.png","assets/anim/pokemon/1373_e89afbf9.png","assets/anim/pokemon/1374_721e6dae.png","assets/anim/pokemon/1375_7ba09ba.png","assets/anim/pokemon/1376_21ca5cff.png","assets/anim/pokemon/1377_d1d7e2d8.png","assets/anim/pokemon/1378_16426173.png","assets/anim/pokemon/1379_c12e8931.png","assets/anim/pokemon/1380_39743a73.png","assets/anim/pokemon/1381_fe5fc1a3.png","assets/anim/pokemon/1382_fd3e879d.png","assets/anim/pokemon/1383_c3fdf25a.png","assets/anim/pokemon/1384_4a75556d.png","assets/anim/pokemon/1385_4cb011b.png","assets/anim/pokemon/1390_cc924251.png","assets/anim/pokemon/1391_ae5ccbf5.png","assets/anim/pokemon/1392_4f6841f4.png","assets/anim/pokemon/1393_fe237a6e.png","assets/anim/pokemon/1394_ec77fe14.png","assets/anim/pokemon/1395_e5a313f2.png","assets/anim/pokemon/1396_ced0edd8.png","assets/anim/pokemon/1397_dbfe0558.png","assets/anim/pokemon/1398_69a8169f.png","assets/anim/pokemon/1403_427e79f0.png","assets/anim/pokemon/1404_1e965f3f.png","assets/anim/pokemon/1405_9920e13c.png","assets/anim/pokemon/1408_a231a097.png","assets/anim/pokemon/1409_243df8b.png","assets/anim/pokemon/1415_23cd2149.png","assets/anim/pokemon/1416_66378bdf.png","assets/anim/pokemon/1425_dcc70a08.png","assets/anim/pokemon/1426_e84d656.png","assets/anim/pokemon/1427_3266587c.png","assets/anim/pokemon/1428_7ff8d369.png","assets/anim/pokemon/1429_a2f73f83.png","assets/anim/pokemon/1430_94bdc729.png","assets/anim/pokemon/1434_daa1e030.png","assets/anim/pokemon/1435_2799774.png","assets/anim/pokemon/1436_f73bc264.png","assets/anim/pokemon/1437_1c26c961.png","assets/anim/pokemon/1442_dc19fc9e.png","assets/anim/pokemon/1443_bb0eb7ab.png","assets/anim/pokemon/1444_a8a195ef.png","assets/anim/pokemon/1445_2c118673.png","assets/anim/pokemon/1446_9c27e737.png","assets/anim/pokemon/1447_23bc245e.png","assets/anim/pokemon/1448_35957f1f.png","assets/anim/pokemon/1449_11350941.png","assets/anim/pokemon/1450_9dd06393.png","assets/anim/pokemon/1451_bc81ff8.png","assets/anim/pokemon/1452_af169f66.png","assets/anim/pokemon/1453_b2c86bb.png","assets/anim/pokemon/1454_fff84426.png","assets/anim/pokemon/1459_519ec4d3.png","assets/anim/pokemon/1460_4fbc33cb.png","assets/anim/pokemon/1461_b23be57a.png","assets/anim/pokemon/1462_7da2473a.png","assets/anim/pokemon/1463_8e539259.png","assets/anim/pokemon/1464_37168278.png","assets/anim/pokemon/1465_fe540f2b.png","assets/anim/pokemon/1466_b9645527.png","assets/anim/pokemon/1467_651a394.png","assets/anim/pokemon/1468_cafb2ad7.png","assets/anim/pokemon/1469_faad849e.png","assets/anim/pokemon/1470_12084e58.png","assets/anim/pokemon/1471_b77e8d4a.png","assets/anim/pokemon/1472_3b58b294.png","assets/anim/pokemon/1473_2a40f260.png","assets/anim/pokemon/1474_b8ef402.png","assets/anim/pokemon/1475_cf9dee32.png","assets/anim/pokemon/1476_72fbe1b9.png","assets/anim/pokemon/1477_ed291f0c.png","assets/anim/pokemon/1478_eeb1f32e.png","assets/anim/pokemon/1479_ee316825.png","assets/anim/pokemon/1480_c9473b3b.png","assets/anim/pokemon/1481_6b2ab840.png","assets/anim/pokemon/1482_dffd37e1.png","assets/anim/pokemon/1483_c65be416.png","assets/anim/pokemon/1484_ae2c5052.png","assets/anim/pokemon/1485_736c30e7.png","assets/anim/pokemon/1486_2a6ee3f3.png","assets/anim/pokemon/1487_925b4624.png","assets/anim/pokemon/1488_d3b1d8cf.png","assets/anim/pokemon/1491_6b0750a3.png","assets/anim/pokemon/1492_afd2b868.png","assets/anim/pokemon/1493_257ebbc7.png","assets/anim/pokemon/1495_924508f.png","assets/anim/pokemon/1496_8c45d7fe.png","assets/anim/pokemon/1497_30ddd355.png","assets/anim/pokemon/1498_68386357.png","assets/anim/pokemon/1499_889871d2.png","assets/anim/pokemon/1500_937d246b.png","assets/anim/pokemon/1501_71d567af.png","assets/anim/pokemon/1502_c74d4e2c.png","assets/anim/pokemon/1503_652ecc51.png","assets/anim/pokemon/1506_772558bc.png","assets/anim/pokemon/1507_a0a4aed.png","assets/anim/pokemon/1508_a329af52.png","assets/anim/pokemon/1517_390006c0.png","assets/anim/pokemon/1518_75635a2.png","assets/anim/pokemon/1522_f0f93da2.png","assets/anim/pokemon/1523_8dfa8f87.png","assets/anim/pokemon/1524_8a16b2b7.png","assets/anim/pokemon/1525_937e6da0.png","assets/anim/pokemon/1526_e8ae48ea.png","assets/anim/pokemon/1527_3350593.png","assets/anim/pokemon/1528_c324c040.png","assets/anim/pokemon/1529_f8d56812.png","assets/anim/pokemon/1530_5cbc3fb6.png","assets/anim/pokemon/1531_ef4c13a.png","assets/anim/pokemon/1532_cb38c598.png","assets/anim/pokemon/1533_ac39ca62.png","assets/anim/pokemon/1534_3c289f58.png","assets/anim/pokemon/1535_a407dd2a.png","assets/anim/pokemon/1536_a881b724.png","assets/anim/pokemon/1537_c865c4f7.png","assets/anim/pokemon/1540_896a2621.png","assets/anim/pokemon/1541_e243e5aa.png","assets/anim/pokemon/1542_a3452a23.png","assets/anim/pokemon/1543_faf528ce.png","assets/anim/pokemon/1544_a6b6a90d.png","assets/anim/pokemon/1545_6be8b894.png","assets/anim/pokemon/1548_4de89372.png","assets/anim/pokemon/1549_a5f1c669.png","assets/anim/pokemon/1551_55a149ae.png","assets/anim/pokemon/1552_ad35c602.png","assets/anim/pokemon/1553_13ba5c66.png","assets/anim/pokemon/1554_bae013e0.png","assets/anim/pokemon/1555_6fc8e92b.png","assets/anim/pokemon/1559_ac2f003a.png","assets/anim/pokemon/1560_bc1159b1.png","assets/anim/pokemon/1562_3e9b112e.png","assets/anim/pokemon/1563_6d10c1e2.png","assets/anim/pokemon/1564_1c812eed.png","assets/anim/pokemon/1565_7c7867c7.png","assets/anim/pokemon/1566_55bab792.png","assets/anim/pokemon/1567_dd142eed.png","assets/anim/pokemon/1568_e23d2e6d.png","assets/anim/pokemon/1569_6f47ed72.png","assets/anim/pokemon/1570_d0f192cd.png","assets/anim/pokemon/1571_fc0365bf.png","assets/anim/pokemon/1572_4ffd4291.png","assets/anim/pokemon/1573_e44deef8.png","assets/anim/pokemon/1574_9380247c.png","assets/anim/pokemon/1575_efb41686.png","assets/anim/pokemon/1576_10a00546.png","assets/anim/pokemon/1577_7e5a4196.png","assets/anim/pokemon/1578_886119f4.png","assets/anim/pokemon/1579_51cb0366.png","assets/anim/pokemon/1580_f4c7bf62.png","assets/anim/pokemon/1581_a8ef35df.png","assets/anim/pokemon/1582_eed2f98f.png","assets/anim/pokemon/1583_a033775a.png","assets/anim/pokemon/1584_f1b6dcf3.png","assets/anim/pokemon/1585_65288995.png","assets/anim/pokemon/1587_8b55cd82.png","assets/anim/pokemon/1590_8d011230.png","assets/anim/pokemon/1591_446928c0.png","assets/anim/pokemon/1594_769e82ec.png","assets/anim/pokemon/1595_f0a3e9c.png","assets/anim/pokemon/1596_b065bb87.png","assets/anim/pokemon/1597_2134be9f.png","assets/anim/pokemon/1598_5c1f9575.png","assets/anim/pokemon/1599_d618dcdb.png","assets/anim/pokemon/1600_124675.png","assets/anim/pokemon/1601_52838efe.png","assets/anim/pokemon/1602_2608fd60.png","assets/anim/pokemon/1603_9cfa4926.png","assets/anim/pokemon/1604_a75e8ae8.png","assets/anim/pokemon/1607_137cd40d.png","assets/anim/pokemon/1608_8f8d8c36.png","assets/anim/pokemon/1609_e9bae9fe.png","assets/anim/pokemon/1610_fb14fcc7.png","assets/anim/pokemon/1611_963359da.png","assets/anim/pokemon/1612_1d3ace20.png","assets/anim/pokemon/1613_c8e4e818.png","assets/anim/pokemon/1614_b65906fd.png","assets/anim/pokemon/1615_80be345.png","assets/anim/pokemon/1619_b73ffdda.png","assets/anim/pokemon/1620_2ef7180d.png","assets/anim/pokemon/1621_da937eb2.png","assets/anim/pokemon/1622_3ede4250.png","assets/anim/pokemon/1623_8f3dcdd9.png","assets/anim/pokemon/1624_d3537d6c.png","assets/anim/pokemon/1625_7d72288b.png","assets/anim/pokemon/1627_8125525c.png","assets/anim/pokemon/1628_3601833a.png","assets/anim/pokemon/1629_47046e7.png","assets/anim/pokemon/1630_94f19a59.png","assets/anim/pokemon/1631_d1f4f704.png","assets/anim/pokemon/1632_d9f39144.png","assets/anim/pokemon/1633_1ca70511.png","assets/anim/pokemon/1634_5ac01c3f.png","assets/anim/pokemon/1635_6d1c2ff4.png","assets/anim/pokemon/1636_237215b5.png","assets/anim/pokemon/1637_5a751eb0.png","assets/anim/pokemon/1638_3a9c5d16.png","assets/anim/pokemon/1639_9100054d.png","assets/anim/pokemon/1640_a4efe63.png","assets/anim/pokemon/1641_5b2f2b3d.png","assets/anim/pokemon/1642_f7ff29fd.png","assets/anim/pokemon/1643_14243fdc.png","assets/anim/pokemon/1644_2523f276.png","assets/anim/pokemon/1645_bf841d19.png","assets/anim/pokemon/1646_f2814390.png","assets/anim/pokemon/1647_3d6ccf51.png","assets/anim/pokemon/1649_2f1f6210.png","assets/anim/pokemon/1650_4f5765cc.png","assets/anim/pokemon/1651_5d202811.png","assets/anim/pokemon/1652_3357b260.png","assets/anim/pokemon/1653_c6831a1c.png","assets/anim/pokemon/1654_d015c38b.png","assets/anim/pokemon/1655_ddcc1de6.png","assets/anim/pokemon/1656_91efa566.png","assets/anim/pokemon/1657_7dc41584.png","assets/anim/pokemon/1658_6a905cdd.png","assets/anim/pokemon/1679_1f311c88.png","assets/anim/pokemon/1680_69171e28.png","assets/anim/pokemon/1681_b457a89e.png","assets/anim/pokemon/1698_a06b632a.png","assets/anim/pokemon/1699_46b6201e.png","assets/anim/pokemon/1700_c93001f8.png","assets/anim/pokemon/1704_10500a93.png","assets/anim/pokemon/1705_f39a171c.png","assets/anim/pokemon/1706_72c60a1e.png","assets/anim/pokemon/1716_23cd4f04.png","assets/anim/pokemon/1717_22ae821b.png","assets/anim/pokemon/1718_302ad17e.png","assets/anim/pokemon/1719_183a128e.png","assets/anim/pokemon/1720_a3acd161.png","assets/anim/pokemon/1722_a2724106.png","assets/anim/pokemon/1723_48327500.png","assets/anim/pokemon/1724_874fde5.png","assets/anim/pokemon/1725_e4675293.png","assets/anim/pokemon/1726_f045650e.png","assets/anim/pokemon/1727_89eea3dd.png","assets/anim/pokemon/1728_df934240.png","assets/anim/pokemon/1729_d0b88000.png","assets/anim/pokemon/1730_2976fd80.png","assets/anim/pokemon/1782_92ad8972.png","assets/anim/pokemon/1783_8571635f.png","assets/anim/pokemon/1784_bb45fee4.png","assets/anim/pokemon/1791_ed0fb8ec.png","assets/anim/pokemon/1792_fc98e10.png","assets/anim/pokemon/1793_82a9723c.png","assets/anim/pokemon/1794_253f22bf.png","assets/anim/pokemon/1795_32c02f42.png","assets/anim/pokemon/1796_be5c8588.png","assets/anim/pokemon/1797_d49aaef2.png","assets/anim/pokemon/1798_184c7180.png","assets/anim/pokemon/1799_e3f2c1d9.png","assets/anim/pokemon/1800_438733f4.png","assets/anim/pokemon/1801_482319b1.png","assets/anim/pokemon/1802_f8feba74.png","assets/anim/pokemon/1803_cc55fb90.png","assets/anim/pokemon/1804_d7d19f11.png","assets/anim/pokemon/1805_f1e28db4.png","assets/anim/pokemon/1806_8741ea41.png","assets/anim/pokemon/1811_31a6c2fc.png","assets/anim/pokemon/1812_aeea5051.png","assets/anim/pokemon/1813_a9695368.png","assets/anim/pokemon/1814_3543b9af.png","assets/anim/pokemon/1815_dfb88f9f.png","assets/anim/pokemon/1900_143d48a5.png","assets/anim/pokemon/1901_6c699baf.png","assets/anim/pokemon/1902_89351bd8.png","assets/anim/pokemon/1903_456218ad.png","assets/anim/pokemon/1975_3c4412c8.png","assets/anim/pokemon/1976_1bc58678.png","assets/anim/pokemon/1977_ca0199e3.png","assets/anim/pokemon/1978_6ef6bba9.png","assets/anim/pokemon/1979_b94cad45.png","assets/anim/pokemon/1980_bd6c653b.png","assets/anim/pokemon/1981_893cc7d.png","assets/anim/pokemon/1982_407c55cc.png","assets/anim/pokemon/1983_7bcdfdd.png","assets/anim/pokemon/1984_1a35be7b.png","assets/anim/pokemon/1985_53968ba0.png","assets/anim/pokemon/1986_377d9ad1.png","assets/anim/pokemon/1987_294dd297.png","assets/anim/pokemon/1988_671a5b5e.png","assets/anim/pokemon/1989_3f13889c.png","assets/anim/pokemon/1990_e5af9cb8.png","assets/anim/pokemon/1991_29429807.png","assets/anim/pokemon/1992_283d65d.png","assets/anim/pokemon/1993_e4d85267.png","assets/anim/pokemon/1994_25d2ce3e.png","assets/anim/pokemon/1995_f16d5e1a.png","assets/anim/pokemon/1996_1baa6ad6.png","assets/anim/pokemon/1997_b1459f7b.png","assets/anim/pokemon/1998_9e2ce7c4.png","assets/anim/pokemon/1999_c8c913fe.png","assets/anim/pokemon/201038_e48cabf0.png","assets/anim/pokemon/201059_77630c44.png","assets/anim/pokemon/201068_b0168c6c.png","assets/anim/pokemon/201101_99519892.png","assets/anim/pokemon/201129_94df2fcc.png","assets/anim/pokemon/201130_b9ec43a1.png","assets/anim/pokemon/201149_2260b72e.png","assets/anim/pokemon/201208_7356d7f3.png","assets/anim/pokemon/201334_6043408b.png","assets/anim/pokemon/201376_73fc5390.png","assets/anim/pokemon/201612_5dc5b794.png","assets/anim/pokemon/301003_7102bb7c.png","assets/anim/pokemon/301006_201092f1.png","assets/anim/pokemon/301009_a4f691f9.png","assets/anim/pokemon/301015_7dbcbc6f.png","assets/anim/pokemon/301018_57424956.png","assets/anim/pokemon/301024_aefb9ff.png","assets/anim/pokemon/301026_f5a6fbf3.png","assets/anim/pokemon/301031_789d6e18.png","assets/anim/pokemon/301034_75401c40.png","assets/anim/pokemon/301040_ad1900f1.png","assets/anim/pokemon/301051_22bcdb40.png","assets/anim/pokemon/301053_a76871c3.png","assets/anim/pokemon/301057_c37d0d2e.png","assets/anim/pokemon/301065_15b927a3.png","assets/anim/pokemon/301073_e428bc0b.png","assets/anim/pokemon/301089_3262093b.png","assets/anim/pokemon/301091_d148ff29.png","assets/anim/pokemon/301094_d404fef1.png","assets/anim/pokemon/301101_42e77b42.png","assets/anim/pokemon/301110_7ac4207b.png","assets/anim/pokemon/301115_e4391d62.png","assets/anim/pokemon/301119_b058dce.png","assets/anim/pokemon/301127_dc137a22.png","assets/anim/pokemon/301130_cd6f1fcc.png","assets/anim/pokemon/301131_d6babd40.png","assets/anim/pokemon/301132_f2ec562f.png","assets/anim/pokemon/301141_f917a0f2.png","assets/anim/pokemon/301142_8a670b17.png","assets/anim/pokemon/301144_27c11486.png","assets/anim/pokemon/301145_a3c25a6f.png","assets/anim/pokemon/301146_6aa55f36.png","assets/anim/pokemon/301149_a794b4fe.png","assets/anim/pokemon/301150_126668e9.png","assets/anim/pokemon/301151_9760b0b1.png","assets/anim/pokemon/301154_e5e912e.png","assets/anim/pokemon/301157_a8befd3f.png","assets/anim/pokemon/301160_c2daace7.png","assets/anim/pokemon/301169_353fa485.png","assets/anim/pokemon/301181_5e482ed7.png","assets/anim/pokemon/301185_935a7b9d.png","assets/anim/pokemon/301189_c4478251.png","assets/anim/pokemon/301199_7bb6a2ed.png","assets/anim/pokemon/301208_6fd30780.png","assets/anim/pokemon/301212_1e921b0a.png","assets/anim/pokemon/301214_736fe2b9.png","assets/anim/pokemon/301229_de30c3b3.png","assets/anim/pokemon/301230_fcca9304.png","assets/anim/pokemon/301242_135998c0.png","assets/anim/pokemon/301243_62eac142.png","assets/anim/pokemon/301244_e7af78b0.png","assets/anim/pokemon/301245_6d5e434d.png","assets/anim/pokemon/301248_6886780e.png","assets/anim/pokemon/301249_e6cfbae6.png","assets/anim/pokemon/301250_26a84beb.png","assets/anim/pokemon/301251_38241d57.png","assets/anim/pokemon/301254_6e958957.png","assets/anim/pokemon/301257_742562dd.png","assets/anim/pokemon/301260_b12cd905.png","assets/anim/pokemon/301275_c25d5081.png","assets/anim/pokemon/301282_e4f3f108.png","assets/anim/pokemon/301302_cbe136bf.png","assets/anim/pokemon/301303_4965e626.png","assets/anim/pokemon/301306_3f08506c.png","assets/anim/pokemon/301308_244a3c51.png","assets/anim/pokemon/301310_736b7c6c.png","assets/anim/pokemon/301319_ec4a57c7.png","assets/anim/pokemon/301321_6add5ed6.png","assets/anim/pokemon/301323_9e6ff35a.png","assets/anim/pokemon/301330_4f33208b.png","assets/anim/pokemon/301334_e54b4280.png","assets/anim/pokemon/301344_7ce5e76c.png","assets/anim/pokemon/301346_19a60ca5.png","assets/anim/pokemon/301350_c0f2a96d.png","assets/anim/pokemon/301354_bec1e197.png","assets/anim/pokemon/301357_8be78f40.png","assets/anim/pokemon/301359_1d0f0a37.png","assets/anim/pokemon/301362_1869029f.png","assets/anim/pokemon/301373_facd90a4.png","assets/anim/pokemon/301376_a8062e4f.png","assets/anim/pokemon/301380_4aedb63c.png","assets/anim/pokemon/301381_4aedb63c.png","assets/anim/pokemon/301382_8d5ac6bc.png","assets/anim/pokemon/301383_eab67675.png","assets/anim/pokemon/301384_21927ac4.png","assets/anim/pokemon/301385_d90435e6.png","assets/anim/pokemon/301395_9d527a7f.png","assets/anim/pokemon/301428_47f1ac37.png","assets/anim/pokemon/301442_93bb79db.png","assets/anim/pokemon/301445_279fbd17.png","assets/anim/pokemon/301448_a3af49f1.png","assets/anim/pokemon/301452_f4ed2f02.png","assets/anim/pokemon/301460_7792ad8d.png","assets/anim/pokemon/301461_9e10d144.png","assets/anim/pokemon/301466_a63769da.png","assets/anim/pokemon/301467_458812b9.png","assets/anim/pokemon/301468_b06844b4.png","assets/anim/pokemon/301475_75288de9.png","assets/anim/pokemon/301478_b2500ae7.png","assets/anim/pokemon/301487_70864cfe.png","assets/anim/pokemon/301531_70f384d9.png","assets/anim/pokemon/301549_945077f2.png","assets/anim/pokemon/301555_11216867.png","assets/anim/pokemon/301560_bf650dd.png","assets/anim/pokemon/301563_f9304404.png","assets/anim/pokemon/301571_c317da6c.png","assets/anim/pokemon/301576_36cb7852.png","assets/anim/pokemon/301581_c5345bf8.png","assets/anim/pokemon/301609_2fd34b86.png","assets/anim/pokemon/301612_12da6f17.png","assets/anim/pokemon/301621_9bf05b9.png","assets/anim/pokemon/301635_cc70c73a.png","assets/anim/pokemon/301638_107e994c.png","assets/anim/pokemon/301639_b2c520e3.png","assets/anim/pokemon/301640_c515d49.png","assets/anim/pokemon/301641_f5647157.png","assets/anim/pokemon/301642_5ff2d234.png","assets/anim/pokemon/301645_13417ee1.png","assets/anim/pokemon/301646_a17ecac9.png","assets/anim/pokemon/301658_766031aa.png","assets/anim/pokemon/301699_2b325698.png","assets/anim/pokemon/301706_246936d5.png","assets/anim/pokemon/301718_28daa07d.png","assets/anim/pokemon/301720_47781d7d.png","assets/anim/pokemon/301993_45295410.png","assets/anim/pokemon/301994_36a7b89e.png","assets/anim/pokemon/301995_d78af83a.png","assets/anim/pokemon/311006_55c5a7ed.png","assets/anim/pokemon/311007_1357d9b0.png","assets/anim/pokemon/311008_f2be2c84.png","assets/anim/pokemon/311009_f87395e3.png","assets/anim/pokemon/311010_19920c7c.png","assets/anim/pokemon/311644_91f9c115.png","assets/anim/pokemon/501718_12460bd1.png","assets/anim/pokemon/shadow_7c1b9332.png","assets/anim/qianghua_6efc7248.png","assets/anim/qizhi_b9e5a3f8.png","assets/anim/role/5001_36475735.png","assets/anim/role/5001_swim_4a1d26db.png","assets/anim/role/5002_bf4f73cc.png","assets/anim/role/5002_swim_1692ed45.png","assets/anim/role/5003_bec334ff.png","assets/anim/role/5003_swim_d2717940.png","assets/anim/role/5004_99bcfe79.png","assets/anim/role/5004_swim_70e55107.png","assets/anim/role/5005_e687f6e0.png","assets/anim/role/5005_swim_7d424e84.png","assets/anim/role/5006_86c3a8ef.png","assets/anim/role/5006_swim_f4d0586e.png","assets/anim/role/5007_6cebae4f.png","assets/anim/role/5007_swim_794ce36e.png","assets/anim/role/5008_7d44e114.png","assets/anim/role/5008_swim_96c3bbe9.png","assets/anim/role/5009_a82788b7.png","assets/anim/role/5009_swim_9b3e2979.png","assets/anim/role/5010_a1030b94.png","assets/anim/role/5010_swim_2f244378.png","assets/anim/role/5011_8c897124.png","assets/anim/role/5011_swim_8c897124.png","assets/anim/role/5012_444094af.png","assets/anim/role/5012_swim_444094af.png","assets/anim/role/5013_74462db.png","assets/anim/role/5013_swim_74462db.png","assets/anim/role/5014_4369cc23.png","assets/anim/role/5014_swim_fd8233e.png","assets/anim/role/5015_f9ea2650.png","assets/anim/role/5015_swim_f9ea2650.png","assets/anim/role/5016_b08e1ff0.png","assets/anim/role/5016_swim_c6cf87ae.png","assets/anim/role/5017_26af8546.png","assets/anim/role/5017_swim_26af8546.png","assets/anim/role/5018_895c6c89.png","assets/anim/role/5018_swim_895c6c89.png","assets/anim/role/5019_e2b165dc.png","assets/anim/role/5019_swim_4e866782.png","assets/anim/role/5020_4f5a3443.png","assets/anim/role/5020_swim_4f5a3443.png","assets/anim/role/5021_fe44e6d5.png","assets/anim/role/5021_swim_fe44e6d5.png","assets/anim/role/5022_bfa88509.png","assets/anim/role/5022_swim_bfa88509.png","assets/anim/role/5023_182a0fca.png","assets/anim/role/5023_swim_182a0fca.png","assets/anim/role/5024_5a245d.png","assets/anim/role/5024_swim_5a245d.png","assets/anim/role/5025_906403ea.png","assets/anim/role/5025_swim_906403ea.png","assets/anim/role/5026_caeac319.png","assets/anim/role/5026_swim_caeac319.png","assets/anim/role/5027_bdbe7a86.png","assets/anim/role/5027_swim_bdbe7a86.png","assets/anim/role/5028_e0ce246e.png","assets/anim/role/5028_swim_e0ce246e.png","assets/anim/role/5029_5db6613d.png","assets/anim/role/5029_swim_5db6613d.png","assets/anim/role/5030_f5b37768.png","assets/anim/role/5030_swim_f5b37768.png","assets/anim/role/5031_a11902a2.png","assets/anim/role/5031_swim_a11902a2.png","assets/anim/role/5032_2871c335.png","assets/anim/role/5032_swim_2871c335.png","assets/anim/role/5033_47f46b02.png","assets/anim/role/5033_swim_47f46b02.png","assets/anim/role/5034_226c0f62.png","assets/anim/role/5034_swim_226c0f62.png","assets/anim/role/5035_cddc570e.png","assets/anim/role/5035_swim_cddc570e.png","assets/anim/sign/10_b08816db.png","assets/anim/sign/1_89b7a5c5.png","assets/anim/sign/2_e57ca649.png","assets/anim/sign/3_7abf289.png","assets/anim/sign/4_cc498b83.png","assets/anim/sign/5_fa7ea05c.png","assets/anim/sign/6_40abbb2d.png","assets/anim/sign/7_fa1a698.png","assets/anim/sign/8_65ddb10a.png","assets/anim/sign/9_373fba9c.png","assets/anim/WorldMap/01_6b9abe55.png","assets/anim/WorldMap/02_4f7ce542.png","assets/anim/WorldMap/03_9e1ba930.png","assets/anim/WorldMap/04_7ee83c62.png","assets/anim/WorldMap/05_e1101ec8.png","assets/anim/WorldMap/06_7710508f.png","assets/anim/yancong_f2fd618d.png","assets/anim/zajindan_a6291a9b.png","assets/anim/zhongqiu_pet1_156e3032.png","assets/anim/zhongqiu_pet2_ccc29a61.png","assets/anim/zhongqiu_pet3_5d81df56.png","assets/anim/zhuchengshuifu_208ecccd.png","assets/art/battle/competitor_101_8745245a.png","assets/art/battle/competitor_102_f8f63be2.png","assets/art/battle/competitor_103_1835c5b3.png","assets/art/battle/competitor_104_a5d8b4a7.png","assets/art/battle/competitor_105_27f74a82.png","assets/art/battle/competitor_1_2368253c.png","assets/art/battle/competitor_2_339e8b0e.png","assets/art/battle/competitor_3_e8842770.png","assets/art/battle/competitor_4_57a709ce.png","assets/art/battle/competitor_5_694c6d95.png","assets/art/battle/player_1_962f96d0.png","assets/art/battle/player_2_17a0cda0.png","assets/art/battle/player_front_1_1cc55fcb.png","assets/art/battle/player_front_2_c0c573ee.png","assets/banner/1_26052855.png","assets/banner/2_25dd77f8.png","assets/banner/3_98b5d78a.png","assets/banner/frame_560e9bb7.png","assets/banner/line_d94d5c81.png","assets/font/font_number_black_28afa41d.fnt","assets/font/font_number_black_2d99ca48.png","assets/font/font_number_blue_2c450889.fnt","assets/font/font_number_blue_ec26be2b.png","assets/font/font_number_gold_6c16c508.fnt","assets/font/font_number_gold_939f9f94.png","assets/font/font_number_gray_17bbd4b5.fnt","assets/font/font_number_gray_eb4fba27.png","assets/font/font_number_green_63eaa4bc.png","assets/font/font_number_green_ed6cb49.fnt","assets/font/font_number_rank_cfd62bd8.png","assets/font/font_number_rank_d3ba0457.fnt","assets/font/font_number_red_776a24e3.png","assets/font/font_number_red_d612c556.fnt","assets/font/font_number_vip2_c3c67915.fnt","assets/font/font_number_vip2_cca0d746.png","assets/font/font_number_vip_9a986e5d.fnt","assets/font/font_number_vip_a66c296e.png","assets/font/font_number_white_7778a5bb.png","assets/font/font_number_white_ee8364e5.fnt","assets/font/gold_508e4b6d.png","assets/font/gold_7323f42d.fnt","assets/font/huodong_55dbd1a9.fnt","assets/font/huodong_6df9327.png","assets/font/idle_50ff77a7.png","assets/font/idle_b80dc1a2.fnt","assets/icon/ball/13004_6ba969de.png","assets/icon/ball/13005_4872ac38.png","assets/icon/ball/13006_8feed707.png","assets/icon/ball/13007_bb2bb8eb.png","assets/icon/ball/1_a0400cfb.png","assets/icon/equip/q6_4798a16e.png","assets/icon/item/10041_a36bf1ac.png","assets/icon/item/10044_55267e1a.png","assets/icon/item/10089_775a1067.png","assets/icon/item/10090_eb001c05.png","assets/icon/item/10143_44874171.png","assets/icon/item/10144_107e4136.png","assets/icon/item/10145_d937986f.png","assets/icon/item/10151_8c7b0d0c.png","assets/icon/item/10185_46b5deaf.png","assets/icon/item/10186_92fe35a0.png","assets/icon/item/10187_a428e8e2.png","assets/icon/item/10188_b6f5844f.png","assets/icon/item/10202_766137f0.png","assets/icon/item/10204_83bd6265.png","assets/icon/item/10205_d4939d4.png","assets/icon/item/10206_fb0f5b2a.png","assets/icon/item/10207_e790a014.png","assets/icon/item/10208_99f2582c.png","assets/icon/item/10301_e644850b.png","assets/icon/item/10302_960570e6.png","assets/icon/item/10303_c6922bc8.png","assets/icon/item/10304_82d2cfec.png","assets/icon/item/10305_950ea57e.png","assets/icon/item/10306_2a6ee368.png","assets/icon/item/10307_98a26975.png","assets/icon/item/10311_46937e0d.png","assets/icon/item/10312_2e9508a3.png","assets/icon/item/10313_8911164a.png","assets/icon/item/10314_a5feb9b7.png","assets/icon/item/10315_40376e8a.png","assets/icon/item/10316_895dfb3f.png","assets/icon/item/10317_8a1c6851.png","assets/icon/item/10318_1d4709d3.png","assets/icon/item/10319_3ff795ce.png","assets/icon/item/10320_4f8bcb49.png","assets/icon/item/10321_9835c7e8.png","assets/icon/item/10322_57621584.png","assets/icon/item/10323_b8daaa5.png","assets/icon/item/10324_6dda0d86.png","assets/icon/item/10325_28281404.png","assets/icon/item/10326_35130d70.png","assets/icon/item/10327_3a9cc139.png","assets/icon/item/10328_727c0442.png","assets/icon/item/10329_95dbe116.png","assets/icon/item/10330_d11c58d0.png","assets/icon/item/10331_470afa12.png","assets/icon/item/10332_99a176c3.png","assets/icon/item/10333_e02a8ad5.png","assets/icon/item/10334_4a7108aa.png","assets/icon/item/10335_b9744224.png","assets/icon/item/10336_e6568067.png","assets/icon/item/10337_2167c8f0.png","assets/icon/item/10338_cd91c821.png","assets/icon/item/10339_49e13eea.png","assets/icon/item/10354_1cfd7720.png","assets/icon/item/10355_1cfd7720.png","assets/icon/item/10356_1cfd7720.png","assets/icon/item/10357_1cfd7720.png","assets/icon/item/10358_1cfd7720.png","assets/icon/item/10359_1cfd7720.png","assets/icon/item/10360_1cfd7720.png","assets/icon/item/10361_1cfd7720.png","assets/icon/item/10401_15b58df6.png","assets/icon/item/10402_5022eb7a.png","assets/icon/item/10403_2261ce6.png","assets/icon/item/10404_a859ae46.png","assets/icon/item/10405_589e69d.png","assets/icon/item/10406_e50c0537.png","assets/icon/item/10601_78f74749.png","assets/icon/item/10602_f90ee1c5.png","assets/icon/item/10603_6ce8f84d.png","assets/icon/item/10604_84dc5dd7.png","assets/icon/item/10605_8709f9fb.png","assets/icon/item/10606_94d77253.png","assets/icon/item/10701_b6167a47.png","assets/icon/item/10702_aadf357f.png","assets/icon/item/10703_c6ecc881.png","assets/icon/item/10801_82d0eb3a.png","assets/icon/item/10802_82d0eb3a.png","assets/icon/item/10803_82d0eb3a.png","assets/icon/item/11_311fa7f.png","assets/icon/item/13004_ee80dab3.png","assets/icon/item/13005_c2495598.png","assets/icon/item/13006_a00c66f5.png","assets/icon/item/13007_f4eed795.png","assets/icon/item/13012_ec992126.png","assets/icon/item/13013_de75cd1c.png","assets/icon/item/15571_55a3782d.png","assets/icon/item/18101_e84f0d05.png","assets/icon/item/2018_852fd6f.png","assets/icon/item/2321_bc358969.png","assets/icon/item/2377_95dc388e.png","assets/icon/item/2378_d1c72c17.png","assets/icon/item/2379_e0281f94.png","assets/icon/item/302330_6fcd411d.png","assets/icon/item/430001_23a42ddb.png","assets/icon/item/piece2_dbee5409.png","assets/icon/item/piece6_818d5491.png","assets/icon/item/piece7_bcd79ff2.png","assets/icon/item/q6_9c6c1b52.png","assets/icon/item/q7_64ca59f4.png","assets/icon/item/Tx_huafei_a6d62846.png","assets/icon/item/z4_c44eaa61.png","assets/icon/item/z5_7520efd5.png","assets/icon/item/z6_d591bcd3.png","assets/icon/item/z7_68c94343.png","assets/icon/item/精灵助力礼包_12971210.png","assets/icon/player/5015_db575e4f.png","assets/icon/player/5016_890c8bf5.png","assets/icon/player/5017_f7be7a19.png","assets/icon/player/5018_5531c118.png","assets/icon/player/5019_81672e47.png","assets/icon/player/5020_6960c67c.png","assets/icon/player/5021_6e729c8d.png","assets/icon/player/5022_733772ef.png","assets/icon/player/5023_41beefbe.png","assets/icon/player/5024_b2304534.png","assets/icon/player/5025_bee0dfa3.png","assets/icon/player/5026_1a46c83e.png","assets/icon/player/5027_d93202b8.png","assets/icon/player/5032_d8e4bba2.png","assets/icon/player/5033_4e7cefe3.png","assets/icon/player/5034_ff1ddf2c.png","assets/icon/player/5035_fa4225c9.png","assets/icon/player/bg_7d29db37.png","assets/icon/pokemon/circleBg_41c276b7.png","assets/icon/pokemon/q6_a74172f4.png","assets/icon/pokemon/q7_dba4b76e.png","assets/icon/skill/1505_17c128bf.png","assets/icon/skill/164_f1e1e9bc.png","assets/icon/skill/165_39ad6192.png","assets/icon/skill/166_7e2fa1c1.png","assets/icon/skill/167_a4706b4b.png","assets/icon/skill/168_dfd14de.png","assets/icon/skill/169_710bfeb.png","assets/icon/skill/1701_9b1adfec.png","assets/icon/skill/1702_5fef10da.png","assets/icon/skill/1703_b4415828.png","assets/icon/skill/1704_9028d14.png","assets/icon/skill/1705_5359d8df.png","assets/icon/skill/1706_7081f1e7.png","assets/icon/skill/1707_3f4690e8.png","assets/icon/skill/2016_eb25dbea.png","assets/icon/skill/2017_81700a78.png","assets/icon/skill/274_ecd7f4f7.png","assets/icon/skill/275_8468c31.png","assets/icon/skill/276_850b5e65.png","assets/icon/skill/277_ae1b9f75.png","assets/icon/skill/278_9642578f.png","assets/icon/skill/279_8b1c9e8f.png","assets/icon/skill/364_210af62.png","assets/icon/skill/365_7abccb50.png","assets/icon/skill/366_7aeffed6.png","assets/icon/skill/464_d2351aae.png","assets/icon/skill/465_72aebead.png","assets/icon/skill/564_8e2bdddd.png","assets/icon/skill/565_951b1f3.png","assets/icon/skill/644_228677a7.png","assets/icon/skill/645_8e7d725d.png","assets/icon/skill/646_f0a0f1ed.png","assets/icon/skill/64_70697156.png","assets/icon/skill/65_91931a7a.png","assets/icon/skill/66_7e59dbb9.png","assets/icon/skill/67_3e8c7525.png","assets/icon/skill/68_7c109819.png","assets/icon/skill/69_b0d6dd48.png","assets/icon/unlock/34_9af7e637.png","assets/icon/unlock/35_c17d8914.png","assets/icon/unlock/36_92fdc177.png","assets/icon/unlock/37_437dfe00.png","assets/icon/unlock/38_2cdc7bf4.png","assets/juqing/10_95e09159.png","assets/juqing/11_3918cf82.png","assets/juqing/1_8b690b7.png","assets/juqing/2_f20d4273.png","assets/juqing/3_f5f5ac44.png","assets/juqing/4_f1aac4ec.png","assets/juqing/5_cedcdff.png","assets/juqing/6_18fabd2.png","assets/juqing/7_56a7561e.png","assets/juqing/8_c743789e.png","assets/juqing/9_d7f05c54.png","assets/juqing/beijing_bf112e33.png","assets/juqing/jiantou_ec7223b0.png","assets/juqing/mingzi_1d1fed3a.png","assets/juqing/ren_b7dcb2d6.png","assets/langs/btn_wodepm_602b522e.png","assets/langs/chakan_8b6e8ad0.png","assets/langs/chujishouliequ_3a941dc3.png","assets/langs/daoguan_d773ff55.png","assets/langs/dengjidadao_e01d8d13.png","assets/langs/dijilvchuxian_2945dcef.png","assets/langs/gaojilvchuxian_fcd4c511.png","assets/langs/gaojishouliequ_a1fbd067.png","assets/langs/gensuitishi_156814c9.png","assets/langs/grade6_d227adc5.png","assets/langs/grade7_cb01d2.png","assets/langs/huanying_39f8fe37.png","assets/langs/huodongshijian_9cd6a06f.png","assets/langs/jiangliyulan2_3d48c826.png","assets/langs/jidijilvchuxian_bd28aba5.png","assets/langs/jihuo0_dee0321c.png","assets/langs/jihuo1_d67f10c1.png","assets/langs/jihuohoufujiashuxing_1025e237.png","assets/langs/jihuohouzhongzuzhitisheng_55464159.png","assets/langs/jihuo_617d5d51.png","assets/langs/jinengtuqian_effbf86f.png","assets/langs/jinglingqiu_7e5db8f8.png","assets/langs/jinglingtuqian_d93f559.png","assets/langs/jinhua4_3afcf3f3.png","assets/langs/kelingqu_6bef38cc.png","assets/langs/kenengchuxianjingling_21c1b930.png","assets/langs/mult1_6983fca8.png","assets/langs/mult2_4ad4f8de.png","assets/langs/mult3_1f14a10.png","assets/langs/niudan_22e2b546.png","assets/langs/quanbushiyong_bedf9f10.png","assets/langs/quchouchou_3e28cfc5.png","assets/langs/shangzhenshezhi_df5c364e.png","assets/langs/shiyong_3d7c9176.png","assets/langs/shop7_b40ef780.png","assets/langs/shop8_846586f7.png","assets/langs/shop9_6c895a4f.png","assets/langs/shop_tip2_b4abf3c4.png","assets/langs/shop_tip_f61031ae.png","assets/langs/shop_yellow9_2046dd83.png","assets/langs/teshufuben8_f3c84e1.png","assets/langs/tianfujihuo_839a4a2e.png","assets/langs/tisheng_a40478bf.png","assets/langs/title/31_28b06116.png","assets/langs/touzhi_20fc0fe3.png","assets/langs/Tx_bq_duiwsj_6907d367.png","assets/langs/Tx_bq_fujia_41e974bf.png","assets/langs/Tx_bq_jinh_c409f4c6.png","assets/langs/Tx_bq_nulz_cffc7a17.png","assets/langs/Tx_bq_qianghua_ceee016b.png","assets/langs/Tx_bq_qinmd_75c9e361.png","assets/langs/Tx_bq_shenxin_db423044.png","assets/langs/Tx_buhuo_1a9637f7.png","assets/langs/Tx_buzhuorw_79d1ac7a.png","assets/langs/Tx_chaozhisc_e31b0e88.png","assets/langs/Tx_chenjiurw_59fe20e.png","assets/langs/Tx_chetui_29000b92.png","assets/langs/Tx_chuzhandw_758a0d43.png","assets/langs/Tx_dangqianxjnl_d951a8a5.png","assets/langs/Tx_dengjibp_f361576.png","assets/langs/Tx_dengjidd_2258c8ea.png","assets/langs/Tx_dingshirw_42174d82.png","assets/langs/Tx_duihuan_2e9cac81.png","assets/langs/Tx_fangqi_c0a956af.png","assets/langs/Tx_fujiasx_9f8763eb.png","assets/langs/Tx_fujia_b9588378.png","assets/langs/Tx_genhuan_dba1f62c.png","assets/langs/Tx_getiz_a37e1da9.png","assets/langs/Tx_getz_88201a39.png","assets/langs/Tx_gexiangzzz_9447b173.png","assets/langs/Tx_gongxigg_2f927ec9.png","assets/langs/Tx_goumai_e7993e6c.png","assets/langs/Tx_guanbick_987e803a.png","assets/langs/Tx_guankajl_84d2311e.png","assets/langs/Tx_haohuasc_28508e0b.png","assets/langs/Tx_huanpids_f3ab38e8.png","assets/langs/TX_huishou_31e5b105.png","assets/langs/Tx_jiangli_b029d094.png","assets/langs/Tx_jiasu_ed7f7a61.png","assets/langs/Tx_jifeng_1f66cb95.png","assets/langs/Tx_jihuojg_5460d402.png","assets/langs/Tx_jihuotj_b9715660.png","assets/langs/Tx_jihuo_c0da3f20.png","assets/langs/Tx_jinbi_c1adf408.png","assets/langs/Tx_jinglinbp_e512140f.png","assets/langs/Tx_jinlinds_8a346e1c.png","assets/langs/Tx_jinlingzbdysxd_7ea3c6c.png","assets/langs/Tx_jinrisygmcs_803da730.png","assets/langs/Tx_jinrisymfcs_cb7ceb23.png","assets/langs/Tx_jinrisytzcs_a9b277e7.png","assets/langs/Tx_jinru_65713b5b.png","assets/langs/Tx_jinryx_cfec2e96.png","assets/langs/Tx_jinyanchijy_e7ae6922.png","assets/langs/Tx_jlcp_2d1bb35.png","assets/langs/Tx_kaishizd_34655dbe.png","assets/langs/Tx_kechuxianxydj_34f8a690.png","assets/langs/Tx_kechuxxybkmsp_ef86cce0.png","assets/langs/Tx_lingqu_6bfbfc75.png","assets/langs/Tx_linyaoxhtl_dcac17d6.png","assets/langs/Tx_meiri4dsx_3140be7e.png","assets/langs/Tx_meitian24d_30ab955d.png","assets/langs/Tx_mianfeicss_c1f6eb51.png","assets/langs/Tx_nuliz_dad47c8d.png","assets/langs/Tx_paimin01_bc263ef7.png","assets/langs/Tx_paimin_4b42c93f.png","assets/langs/Tx_pressstart_1196327c.png","assets/langs/Tx_qianghuasc_c537f60d.png","assets/langs/Tx_qianghua_5a9e8a3d.png","assets/langs/Tx_qianwang_4b4cf6d2.png","assets/langs/Tx_qinmiddj_59ffbc21.png","assets/langs/Tx_qudaoguan_b8237d4b.png","assets/langs/Tx_qudasai_2c159e2e.png","assets/langs/Tx_qudazao_426d8962.png","assets/langs/Tx_queding_16ba1419.png","assets/langs/Tx_qufangsheng_93d780d8.png","assets/langs/Tx_qugonghui_e76c8fc7.png","assets/langs/Tx_qujinji_ea04bc2.png","assets/langs/Tx_quniudan_24bcc2b9.png","assets/langs/Tx_quxuanze_67a83800.png","assets/langs/Tx_richangrw_adac9616.png","assets/langs/Tx_shenjijy_5413d6af.png","assets/langs/Tx_shenliguoji_499f732.png","assets/langs/Tx_shenliguonei_b165edd3.png","assets/langs/Tx_shenmisd_43c96e49.png","assets/langs/Tx_shenqiqh_a408cee9.png","assets/langs/Tx_shenqism_b0c62705.png","assets/langs/Tx_shenqisx_7c1ae27f.png","assets/langs/tx_shenysj_e12c3ffb.png","assets/langs/Tx_shezhichuzhan_7754e7bd.png","assets/langs/Tx_shiyong_d16ea250.png","assets/langs/Tx_shiyqb_312db498.png","assets/langs/Tx_shuaxin_584968e9.png","assets/langs/Tx_suoxucl_6aa036d5.png","assets/langs/Tx_tianfudj_ca5650b6.png","assets/langs/Tx_tianfujh_53bee285.png","assets/langs/Tx_tiaoguohh_730ec981.png","assets/langs/Tx_tiaozhan01_d018746c.png","assets/langs/Tx_tiaozhanchengjyjh_721ba235.png","assets/langs/Tx_tiaozhan_3e88cc0.png","assets/langs/Tx_tiele_xiyoulb_2d2a24db.png","assets/langs/Tx_title_jiangliyl_a53d1a34.png","assets/langs/Tx_title_jinjichang_7aeb5728.png","assets/langs/Tx_title_jinlingspsc_241250fa.png","assets/langs/Tx_title_shezhicz_ee6ddd6c.png","assets/langs/Tx_title_tiaozhanss_a64f4eb6.png","assets/langs/Tx_title_tiaozhan_71d9efb3.png","assets/langs/Tx_title_touhaowj_cd164fa4.png","assets/langs/Tx_title_wodepm_74055a40.png","assets/langs/Tx_tongguans_51cec42.png","assets/langs/Tx_tongguanzr_fbf11fb0.png","assets/langs/Tx_wanjia_c8902899.png","assets/langs/Tx_weidaolqsj_b2af7105.png","assets/langs/Tx_weikaif_f1bc96e8.png","assets/langs/Tx_xiangxixx_a75e26ea.png","assets/langs/Tx_xiayibu_f9aadbf5.png","assets/langs/Tx_xiexia_194a41c3.png","assets/langs/Tx_xixingexh_e6ecc692.png","assets/langs/Tx_xixingge_6883bcf9.png","assets/langs/Tx_xyjl_24167e83.png","assets/langs/Tx_yaoqinzz_c06f9ccb.png","assets/langs/Tx_yijianbh_659d7357.png","assets/langs/Tx_yijies_93a6f9cc.png","assets/langs/Tx_yiyousq_e53a24dd.png","assets/langs/Tx_yizhuangbsq_fbcfdedb.png","assets/langs/Tx_zhanlibp_73fc3754.png","assets/langs/Tx_zhanlixz_ad4f1d51.png","assets/langs/Tx_zhanli_d7e8a9de.png","assets/langs/Tx_zhijiejc_8af2b4f9.png","assets/langs/Tx_zhizunsc_e9a0cd7.png","assets/langs/Tx_zhuangbei_ea0b8dfc.png","assets/langs/Tx_zhujuejy_a146f3c3.png","assets/langs/Tx_zuanshifj_9bb09bee.png","assets/langs/vip4_1dd9198c.png","assets/langs/xuweiyidai_fce8e314.png","assets/langs/yaojinhuale_19dfaf83.png","assets/langs/yibuhuo_d081c876.png","assets/langs/yilingqu_a2b4a581.png","assets/langs/zhenzhidaole_e47188a7.png","assets/langs/zhizunshouchong_e8771f7e.png","assets/langs/zhongjilvchuxian_1bba3502.png","assets/langs/zhongjishouliequ_f834fae.png","assets/langs/zhuzhan_8bab5ae0.png","assets/loading/01_282c1a7c.png","assets/loading/02_4f1a3135.png","assets/loading/8_2899d981.png","assets/loading/bg1_46a3703a.png","assets/loading/bg2_8bf0e81e.png","assets/loading/bg3_eb8e9d12.png","assets/loading/gsLOGO_442130f4.png","assets/loading/info_a12b0cae.png","assets/loading/kulou01_50bd565b.png","assets/loading/kulou02_4192c85f.png","assets/loading/leftBg_1ab7686e.jpg","assets/loading/logo_5aea8e4c.png","assets/loading/logo_ios_69660ff0.png","assets/loading/rightBg_e6fd6255.jpg","assets/loading/Tx_dianjizlsx_ee5400ed.png","assets/loading/Tx_wufaljfwq_a6183cc8.png","assets/manhua/1/1_b8aad6f3.png","assets/manhua/1/2_1145748a.png","assets/manhua/1/3_83cc0650.png","assets/manhua/1/4_44e4eb14.png","assets/manhua/1/5_fef446e1.png","assets/manhua/2/1_b0f52296.png","assets/manhua/2/2_2595fad5.png","assets/manhua/2/3_1cba51f4.png","assets/manhua/2/4_e8ded163.png","assets/manhua/2/5_58135f75.png","assets/manhua/2/6_28ad5f3e.png","assets/manhua/xiayibu_3421573b.png","assets/music/1001_a37e4a85.mp3","assets/music/1002_231b1fc0.mp3","assets/music/1003_b4a6f08c.mp3","assets/music/1004_9b3acf9b.mp3","assets/music/1005_667b41b7.mp3","assets/music/1006_9648846.mp3","assets/music/1007_ad4032a5.mp3","assets/music/1008_df5e545f.mp3","assets/music/1009_3710ff02.mp3","assets/music/1010_8bc7659b.mp3","assets/music/1011_2e5af895.mp3","assets/music/1012_147447ed.mp3","assets/music/1013_a71f18e2.mp3","assets/music/1014_886bdbb4.mp3","assets/music/1015_5aa584c7.mp3","assets/music/1016_2b83834f.mp3","assets/music/1017_1a504c23.mp3","assets/music/1018_44d60f4d.mp3","assets/music/1019_db0459ce.mp3","assets/music/1020_e1b2a74b.mp3","assets/music/1021_83084957.mp3","assets/music/1022_df839028.mp3","assets/music/1023_220f7cf5.mp3","assets/music/1024_e9117212.mp3","assets/music/1025_f398a98a.mp3","assets/music/1026_6a23be77.mp3","assets/music/1027_1109cd32.mp3","assets/music/1028_4c98dbd1.mp3","assets/music/1029_611234cf.mp3","assets/music/1030_70fc4b1f.mp3","assets/music/1031_be5ac6b2.mp3","assets/music/1032_f8d79d2a.mp3","assets/music/1033_e6833b0d.mp3","assets/music/1034_5b089c18.mp3","assets/music/1035_a6af65cf.mp3","assets/music/1036_e0b10cf6.mp3","assets/music/1037_a5037656.mp3","assets/music/1038_dd84b59c.mp3","assets/music/1039_67a89224.mp3","assets/music/1040_4912c937.mp3","assets/music/1041_491c25eb.mp3","assets/music/1042_4702c570.mp3","assets/music/1043_f4eda65c.mp3","assets/music/1044_413948ca.mp3","assets/music/1045_f034c058.mp3","assets/music/1046_e7f7d7fb.mp3","assets/music/1047_6992c2e3.mp3","assets/music/1048_5ea1c29d.mp3","assets/music/1049_2be8908c.mp3","assets/music/1050_3d8f7002.mp3","assets/music/1051_8e3ecf8d.mp3","assets/music/1052_5c862b8b.mp3","assets/music/1053_33cda036.mp3","assets/music/1054_fc4f7b2b.mp3","assets/music/1055_2d1b185c.mp3","assets/music/1056_43251db2.mp3","assets/music/1057_6c9f28d4.mp3","assets/music/1058_139e9ad1.mp3","assets/music/1059_85af7654.mp3","assets/music/1060_8accd4f4.mp3","assets/music/1061_3055394a.mp3","assets/music/1062_d2941da8.mp3","assets/music/1063_1a5d2ff9.mp3","assets/music/1064_310b6af0.mp3","assets/music/1065_2a88ed6a.mp3","assets/music/1066_f6f5a302.mp3","assets/music/1067_947e7d4b.mp3","assets/music/1068_c46d70f3.mp3","assets/music/1069_bc0a2f8a.mp3","assets/music/1070_ce9e1b8e.mp3","assets/music/1071_3cc34a2.mp3","assets/music/1072_22e91619.mp3","assets/music/1073_32b4ab3f.mp3","assets/music/1074_f35da5b3.mp3","assets/music/1075_481887bb.mp3","assets/music/1076_4246c94.mp3","assets/music/1077_a6d74446.mp3","assets/music/1078_a5ece257.mp3","assets/music/1079_3e9f8a79.mp3","assets/music/1080_4f36bad.mp3","assets/music/1081_4c1c5a94.mp3","assets/music/1082_13b9ba24.mp3","assets/music/1083_9f3f2b65.mp3","assets/music/1084_bd566422.mp3","assets/music/1085_e092aed1.mp3","assets/music/1086_fc208c79.mp3","assets/music/1087_efb3c39a.mp3","assets/music/1088_774787a5.mp3","assets/music/1089_5cf8b695.mp3","assets/music/1090_a091a377.mp3","assets/music/1091_54a390fd.mp3","assets/music/1092_7020753c.mp3","assets/music/1093_f9bf59e3.mp3","assets/music/1094_a758cd03.mp3","assets/music/1095_ff3d6b5e.mp3","assets/music/1096_310ed627.mp3","assets/music/1097_c5acaf47.mp3","assets/music/1098_d211520e.mp3","assets/music/1099_3319af88.mp3","assets/music/1100_bc5cf1f3.mp3","assets/music/1101_e9c04e3b.mp3","assets/music/1102_c9fd5113.mp3","assets/music/1103_f77b76c8.mp3","assets/music/1104_7a546d2.mp3","assets/music/1105_37fa8d39.mp3","assets/music/1106_e1bc079d.mp3","assets/music/1107_81afcea.mp3","assets/music/1108_5bc50157.mp3","assets/music/1109_7ea642ca.mp3","assets/music/1110_e11d06a3.mp3","assets/music/1111_8e32da0.mp3","assets/music/1112_c0f0e9d8.mp3","assets/music/1113_3e18f47a.mp3","assets/music/1114_70c43b2c.mp3","assets/music/1115_a5ad062e.mp3","assets/music/1116_b2b2f375.mp3","assets/music/1117_3570919d.mp3","assets/music/1118_4cef8232.mp3","assets/music/1119_164f67f3.mp3","assets/music/1120_a41288d4.mp3","assets/music/1121_2f583239.mp3","assets/music/1122_b1fc31bc.mp3","assets/music/1123_72281f99.mp3","assets/music/1124_88b51503.mp3","assets/music/1125_45489ce3.mp3","assets/music/1126_31e9cc68.mp3","assets/music/1127_11e565bf.mp3","assets/music/1128_e8f17f2f.mp3","assets/music/1129_a648bbd.mp3","assets/music/1130_349d687e.mp3","assets/music/1131_f805d79d.mp3","assets/music/1132_699fbc40.mp3","assets/music/1133_6c86f3f1.mp3","assets/music/1134_89a23f19.mp3","assets/music/1135_1169b61a.mp3","assets/music/1136_20b6552f.mp3","assets/music/1137_f1a7e538.mp3","assets/music/1138_1c2973ed.mp3","assets/music/1139_aa0ba53d.mp3","assets/music/1140_8337eca9.mp3","assets/music/1141_16f013d4.mp3","assets/music/1142_508caf24.mp3","assets/music/1143_a816362e.mp3","assets/music/1144_cbac5aae.mp3","assets/music/1145_9bfd03cc.mp3","assets/music/1146_924b2a35.mp3","assets/music/1147_375ab51b.mp3","assets/music/1148_1675af3e.mp3","assets/music/1149_c02ca547.mp3","assets/music/1150_9e2fe82a.mp3","assets/music/1151_98bcfae0.mp3","assets/music/1152_2d4710fa.mp3","assets/music/1153_1675931b.mp3","assets/music/1154_7bc27d56.mp3","assets/music/1155_9ad77b98.mp3","assets/music/1156_ea531561.mp3","assets/music/1157_7da399f8.mp3","assets/music/1158_e3689185.mp3","assets/music/1159_ca61e52e.mp3","assets/music/1160_5037b134.mp3","assets/music/1169_784f9eb6.mp3","assets/music/1170_60fdd5e2.mp3","assets/music/1171_862f24c.mp3","assets/music/1172_ba27ba29.mp3","assets/music/1173_d39689a1.mp3","assets/music/1174_7b265287.mp3","assets/music/1175_7bddf3e4.mp3","assets/music/1176_7c3f0576.mp3","assets/music/1179_38b99bb4.mp3","assets/music/1180_ccc6c64d.mp3","assets/music/1181_f19efb68.mp3","assets/music/1182_59ff73b.mp3","assets/music/1185_356cfe29.mp3","assets/music/1186_b371da6f.mp3","assets/music/1196_10d87958.mp3","assets/music/1197_2fbbd43f.mp3","assets/music/1199_9c3f1f60.mp3","assets/music/1202_542733ab.mp3","assets/music/1203_96105c2.mp3","assets/music/1206_295bd431.mp3","assets/music/1208_4c206685.mp3","assets/music/1211_5c1098c8.mp3","assets/music/1212_f4f4263.mp3","assets/music/1214_f0515916.mp3","assets/music/1215_da716d45.mp3","assets/music/1220_53391351.mp3","assets/music/1221_5fa31305.mp3","assets/music/1227_2f301fcb.mp3","assets/music/1228_b00b1ad7.mp3","assets/music/1229_250d830b.mp3","assets/music/1230_a5178687.mp3","assets/music/1235_1e92a3b4.mp3","assets/music/1241_cf25f38e.mp3","assets/music/1242_896e431c.mp3","assets/music/1243_5a655912.mp3","assets/music/1244_bf44ed62.mp3","assets/music/1245_b9a55722.mp3","assets/music/1246_24cf3740.mp3","assets/music/1247_fb7bb8c.mp3","assets/music/1248_d21477fd.mp3","assets/music/1249_c1b9e0f4.mp3","assets/music/1250_51e88d25.mp3","assets/music/1251_e4a17cb1.mp3","assets/music/1252_e80d4d21.mp3","assets/music/1253_3a33ec62.mp3","assets/music/1254_94a04a1c.mp3","assets/music/1255_b1bcb1aa.mp3","assets/music/1256_3e4f80de.mp3","assets/music/1257_a926fc38.mp3","assets/music/1258_7ce25cfe.mp3","assets/music/1259_a6f6c4c3.mp3","assets/music/1260_18181ab8.mp3","assets/music/1273_5b9ed002.mp3","assets/music/1274_c9c0e017.mp3","assets/music/1275_427c2b15.mp3","assets/music/1280_a9b61bb6.mp3","assets/music/1281_c598a731.mp3","assets/music/1282_dc6fb7ed.mp3","assets/music/1291_fe2e9f75.mp3","assets/music/1292_e669db86.mp3","assets/music/1302_e12c0dd.mp3","assets/music/1303_fe91ee3f.mp3","assets/music/1304_c7a591ed.mp3","assets/music/1305_e73da976.mp3","assets/music/1306_7ab16297.mp3","assets/music/1307_268bdf4c.mp3","assets/music/1308_3058a193.mp3","assets/music/1309_7be873ee.mp3","assets/music/1310_713accbf.mp3","assets/music/1311_1c0072a0.mp3","assets/music/1312_59354fd1.mp3","assets/music/1318_2234bb.mp3","assets/music/1319_fd324ee7.mp3","assets/music/1320_45342f6a.mp3","assets/music/1321_9c9f284a.mp3","assets/music/1322_828ab669.mp3","assets/music/1323_7dbaf91b.mp3","assets/music/1328_862a5946.mp3","assets/music/1329_45df5ec.mp3","assets/music/1330_286bc3ff.mp3","assets/music/1333_e8a1d31c.mp3","assets/music/1334_26ac1cac.mp3","assets/music/1343_e2230845.mp3","assets/music/1344_d9331a55.mp3","assets/music/1345_ba2404db.mp3","assets/music/1346_d03565b9.mp3","assets/music/1349_3ad35bcf.mp3","assets/music/1350_64c0fe1f.mp3","assets/music/1354_e8286d8e.mp3","assets/music/1355_241478d1.mp3","assets/music/1356_e867922d.mp3","assets/music/1357_b66fc317.mp3","assets/music/1359_2793956e.mp3","assets/music/1361_e6764618.mp3","assets/music/1362_84de2a8.mp3","assets/music/1363_ab8a06c3.mp3","assets/music/1364_1d364c48.mp3","assets/music/1365_bd9f564c.mp3","assets/music/1371_ffda60e8.mp3","assets/music/1372_2ec542b4.mp3","assets/music/1373_7e5cc7c1.mp3","assets/music/1374_1ea7060c.mp3","assets/music/1375_a23474c6.mp3","assets/music/1376_50eaf43c.mp3","assets/music/1377_a47bef8c.mp3","assets/music/1378_8d8eb2c4.mp3","assets/music/1379_21d06d59.mp3","assets/music/1380_1f815b50.mp3","assets/music/1381_bc5b8038.mp3","assets/music/1382_3f464797.mp3","assets/music/1383_a133611a.mp3","assets/music/1384_dbcd1c0c.mp3","assets/music/1385_54c0bf85.mp3","assets/music/1390_af4b6694.mp3","assets/music/1391_433d9b30.mp3","assets/music/1392_e49c8df5.mp3","assets/music/1393_8eb82ad3.mp3","assets/music/1394_1c16f253.mp3","assets/music/1395_ab140b96.mp3","assets/music/1425_cc45a744.mp3","assets/music/1426_2853ffdf.mp3","assets/music/1427_2e5604eb.mp3","assets/music/1428_6f8a93d6.mp3","assets/music/1442_7d605ef8.mp3","assets/music/1443_7bafe872.mp3","assets/music/1444_d65538b2.mp3","assets/music/1445_96cdd3f3.mp3","assets/music/1446_6da32dd.mp3","assets/music/1447_a2b93b60.mp3","assets/music/1448_e66c568b.mp3","assets/music/1459_5bb1228.mp3","assets/music/1460_f9d5b74a.mp3","assets/music/1461_c34f7398.mp3","assets/music/1462_393eaef7.mp3","assets/music/1463_3cc335ee.mp3","assets/music/1464_ab114fbf.mp3","assets/music/1465_e4ed3a61.mp3","assets/music/1466_9cb0b316.mp3","assets/music/1467_a3a33fc9.mp3","assets/music/1468_f02d19bb.mp3","assets/music/1470_257578b3.mp3","assets/music/1471_985b8ec0.mp3","assets/music/1472_e9686d07.mp3","assets/music/1473_7f51622b.mp3","assets/music/1475_a6f306fa.mp3","assets/music/1477_ddb40619.mp3","assets/music/1478_2ca93f25.mp3","assets/music/1479_583716ef.mp3","assets/music/1480_b2198ca3.mp3","assets/music/1481_53ad176a.mp3","assets/music/1482_daba261d.mp3","assets/music/1483_f170c32.mp3","assets/music/1484_450f73fd.mp3","assets/music/1487_871f38b4.mp3","assets/music/1495_5cbcf767.mp3","assets/music/1496_88a93a11.mp3","assets/music/1497_522946e4.mp3","assets/music/1498_a7117773.mp3","assets/music/1499_365a9c93.mp3","assets/music/1500_5daf0c44.mp3","assets/music/1501_e67c3f1d.mp3","assets/music/1502_2edccda0.mp3","assets/music/1503_db6ce4d5.mp3","assets/music/1531_bd8b3e66.mp3","assets/music/1535_6301a1f8.mp3","assets/music/1536_a00fcb98.mp3","assets/music/1537_1c27aba.mp3","assets/music/1540_c1b0e742.mp3","assets/music/1541_483b44b9.mp3","assets/music/1542_357e16be.mp3","assets/music/1548_9b82f6f8.mp3","assets/music/1549_d64cadbd.mp3","assets/music/1562_257b9887.mp3","assets/music/1563_46e50ff6.mp3","assets/music/1564_14776df5.mp3","assets/music/1565_535b1bd6.mp3","assets/music/1572_d342e02e.mp3","assets/music/1573_1461e045.mp3","assets/music/1585_9580885b.mp3","assets/music/1597_de4b5252.mp3","assets/music/1598_e001c4c8.mp3","assets/music/1607_5c335a57.mp3","assets/music/1608_37d3d6a7.mp3","assets/music/1609_f1895cbb.mp3","assets/music/1610_d83fa08c.mp3","assets/music/1611_315b6b7e.mp3","assets/music/1612_5a5481f0.mp3","assets/music/1613_c1d5bc09.mp3","assets/music/1614_2c8edf2b.mp3","assets/music/1621_350a08c.mp3","assets/music/1622_da54e451.mp3","assets/music/1623_2d3e7402.mp3","assets/music/1633_6a400c5a.mp3","assets/music/1634_30182bc1.mp3","assets/music/1635_fe549c42.mp3","assets/music/1636_4c9a2cf7.mp3","assets/music/1637_efd4a7c6.mp3","assets/music/1641_7430ab88.mp3","assets/music/1642_4e57dfcd.mp3","assets/music/1645_d1179984.mp3","assets/music/1646_9589fbc1.mp3","assets/music/1647_3cd88c99.mp3","assets/music/ATT01_be61279e.mp3","assets/music/ATT02_2254007d.mp3","assets/music/ATT03_7f0716a.mp3","assets/music/baozha01_b351db81.mp3","assets/music/baozha02_6164a8c.mp3","assets/music/baozha03_3ab7f551.mp3","assets/music/battle1_9573c14f.mp3","assets/music/battle2_ff9ce624.mp3","assets/music/battle99_6ded9779.mp3","assets/music/battleLose_a8c60b92.mp3","assets/music/battleWin_b1cb5b22.mp3","assets/music/battle_BOSS01_2d2af843.mp3","assets/music/battle_BOSS02_3fe9f8f4.mp3","assets/music/bing01_8e3e9078.mp3","assets/music/bing_b8754a18.mp3","assets/music/boss_22d8706e.mp3","assets/music/dian01_14d26c21.mp3","assets/music/diditiaozhan_4a46523f.mp3","assets/music/dig_97d8edca.mp3","assets/music/feng01_98daf4d8.mp3","assets/music/getItem_97841d34.mp3","assets/music/huo01_524ded81.mp3","assets/music/huo02_4cc66a6c.mp3","assets/music/huo03_fc067417.mp3","assets/music/huo_21241001.mp3","assets/music/jiaxue_3ecf9104.mp3","assets/music/main1_a83235d1.mp3","assets/music/main2_2025864e.mp3","assets/music/main3_23d732b9.mp3","assets/music/main4_a94dc3d2.mp3","assets/music/main5_76da20aa.mp3","assets/music/main6_26d72bf0.mp3","assets/music/map_dalei_2e73cb4b.mp3","assets/music/map_shachenbao_61cb95d7.mp3","assets/music/map_xiayu_4a3c75f5.mp3","assets/music/mijing_1207ab9b.mp3","assets/music/open10_90efcb14.mp3","assets/music/open11_be870a5a.mp3","assets/music/open1_db118469.mp3","assets/music/open2_36b7eca4.mp3","assets/music/open3_ab8889f7.mp3","assets/music/open4_b7617290.mp3","assets/music/open5_9a85441c.mp3","assets/music/open6_8522931d.mp3","assets/music/open7_9bd8e1ba.mp3","assets/music/open8_fb5845f8.mp3","assets/music/open9_e559a0d2.mp3","assets/music/qian_dc7572ec.mp3","assets/music/shouji01_f833ecd.mp3","assets/music/shouji02_cf03e395.mp3","assets/music/shouji03_14d26c21.mp3","assets/music/shouji04_d1be9eeb.mp3","assets/music/shouji05_7cce6936.mp3","assets/music/shouliequ_f57023ce.mp3","assets/music/shui01_b5b3fe9e.mp3","assets/music/SkillATT01_be61279e.mp3","assets/music/SkillATT02_2254007d.mp3","assets/music/SkillATT03_7f0716a.mp3","assets/music/Skillbaozha01_b351db81.mp3","assets/music/Skillbaozha02_6164a8c.mp3","assets/music/Skillbaozha03_3ab7f551.mp3","assets/music/Skillbing01_14d26c21.mp3","assets/music/Skilldian01_2d57bc41.mp3","assets/music/Skillfeng01_98daf4d8.mp3","assets/music/Skillhuo01_524ded81.mp3","assets/music/Skillhuo02_4cc66a6c.mp3","assets/music/Skillhuo03_fc067417.mp3","assets/music/Skillshui01_b5b3fe9e.mp3","assets/music/Skillyao01_f01e287c.mp3","assets/music/Skillzhuangji01_4a5742c1.mp3","assets/music/teachhua4000_cab310fd.mp3","assets/music/teachhua5000_36bea95c.mp3","assets/music/teachhua5001_ee4cfcce.mp3","assets/music/teachhua5002_17a3eab8.mp3","assets/music/teachhua5003_d72a92c6.mp3","assets/music/teachhua5004_41eaeac9.mp3","assets/music/teachhua5005_c5621f41.mp3","assets/music/teachhua500_5e81ad8f.mp3","assets/music/teachhua501_34a95714.mp3","assets/music/teachhua502_49fad094.mp3","assets/music/teachhua503_edffd830.mp3","assets/music/teachhua504_4fead6f8.mp3","assets/music/teachhua505_35a6b739.mp3","assets/music/teachhua506_8a212f0a.mp3","assets/music/teachhua507_484a5808.mp3","assets/music/teachhua5100_8b64c583.mp3","assets/music/teachhua5101_910ba425.mp3","assets/music/teachhua5200_fd30bf76.mp3","assets/music/teachhua5201_6817c4e.mp3","assets/music/teachhua5202_5ed10826.mp3","assets/music/teachhua5203_7c7b0427.mp3","assets/music/teachhua5300_bf2d1d32.mp3","assets/music/teachhua5301_3ba12e6a.mp3","assets/music/teachhua5302_7ab62aed.mp3","assets/music/teachhua5400_7d52744b.mp3","assets/music/teachhua5401_59d1690c.mp3","assets/music/teachhua5402_9607f4b8.mp3","assets/music/teachhua5500_b0c82a10.mp3","assets/music/teachhua5501_d5c30d69.mp3","assets/music/teachhua5502_96fdc986.mp3","assets/music/teachhua5600_562b8377.mp3","assets/music/teachhua5601_f2f6761b.mp3","assets/music/teachhua5602_16ef4849.mp3","assets/music/teachhua5603_ecd3627c.mp3","assets/music/teachhua5700_7bcf23b5.mp3","assets/music/teachhua5701_ff30c295.mp3","assets/music/teachhua5702_bb65911a.mp3","assets/music/teachhua5800_85f80154.mp3","assets/music/teachhua5801_8f353822.mp3","assets/music/teachhua5802_b840e44c.mp3","assets/music/teachhua5803_4afda6f4.mp3","assets/music/teachhua5900_b3760608.mp3","assets/music/teachhua5901_69d21b85.mp3","assets/music/teachhua5902_92253818.mp3","assets/music/teachhua6000_ae8f85c9.mp3","assets/music/teachhua6001_4369bbc1.mp3","assets/music/teachhua6002_4350f598.mp3","assets/music/teachhua6003_ff9ac0a.mp3","assets/music/teachhua6004_bdd40d6b.mp3","assets/music/teachhua6005_5a7c6635.mp3","assets/music/teachhua6100_6c9fb036.mp3","assets/music/teachhua6101_4e7ed7ef.mp3","assets/music/teachhua6102_d6a59691.mp3","assets/music/teachhua6103_95a68a04.mp3","assets/music/teachhua6200_3f2bb203.mp3","assets/music/teachhua6201_f9fc16be.mp3","assets/music/teachhua6202_acef7737.mp3","assets/music/teachhua6300_779d9cbe.mp3","assets/music/teachhua6301_637674b.mp3","assets/music/teachhua6302_2da2ad98.mp3","assets/music/teachhua6303_dbeb901.mp3","assets/music/teachhua6401_136f9992.mp3","assets/music/teachhua6403_26d69af7.mp3","assets/music/teachhua6501_af762a36.mp3","assets/music/teachhua6503_1733d0c2.mp3","assets/music/teachhua6600_ad1dc696.mp3","assets/music/teachhua6601_2c32099d.mp3","assets/music/teachhua6602_349aad34.mp3","assets/music/teachhua6603_bf1eeb81.mp3","assets/music/teachhua6701_bab98c2b.mp3","assets/music/teachhua6703_3fccae19.mp3","assets/music/teachhua6800_daeb9543.mp3","assets/music/teachhua6801_3e9d2f0f.mp3","assets/music/teachhua6802_d68f8221.mp3","assets/music/teachhua6900_cb38d48d.mp3","assets/music/teachhua6901_5d9b1de8.mp3","assets/music/teachhua7000_84e82201.mp3","assets/music/teachhua7001_ace59841.mp3","assets/music/teachhua7002_5a80282f.mp3","assets/music/teachhua7100_e94986c5.mp3","assets/music/teachhua7101_59160529.mp3","assets/music/teachhua7200_7c261fdc.mp3","assets/music/teachhua7201_a5dd002f.mp3","assets/music/teachhua7202_f0e0391.mp3","assets/music/teachhua7203_5a5da023.mp3","assets/music/teachhua7300_816f085.mp3","assets/music/teachhua7301_5390597f.mp3","assets/music/teachhua7302_3e19dbb1.mp3","assets/music/teachhua7400_3c4a6c1a.mp3","assets/music/teachhua7401_80efb96b.mp3","assets/music/teachhua7402_c0c1f62e.mp3","assets/music/teachhua7403_45c36c2a.mp3","assets/music/teachhua7500_905fb945.mp3","assets/music/teachhua7501_2eed57e5.mp3","assets/music/teachhua7600_dcf29b13.mp3","assets/music/teachhua7601_ff148f20.mp3","assets/music/teachhua7602_e1d3dc3.mp3","assets/music/teachhua7603_dea0f7b6.mp3","assets/music/teachhua7700_b482f2c9.mp3","assets/music/teachhua7701_db3d9b25.mp3","assets/music/teachhua7800_cc3353e2.mp3","assets/music/teachhua7801_db625dd6.mp3","assets/music/teachhua7802_f3dc1083.mp3","assets/music/teachhua7900_589c271b.mp3","assets/music/teachhua7901_1fffeccb.mp3","assets/music/teachhua7902_3511c272.mp3","assets/music/teachhua8000_88a4fbdf.mp3","assets/music/teachhua8100_80059f9a.mp3","assets/music/teachhua8101_ca07f832.mp3","assets/music/teachhua8102_3ac94c90.mp3","assets/music/teachhua8200_5d95c1a3.mp3","assets/music/teachhua8201_d675e1fe.mp3","assets/music/teachhua8202_169b198d.mp3","assets/music/teachhua8203_96a981ad.mp3","assets/music/teachhua8204_2bc09041.mp3","assets/music/teachhua8205_5c8a78ab.mp3","assets/music/teachhua8206_e8311167.mp3","assets/music/teachhua8207_9d18fb31.mp3","assets/music/teachhua8208_9f1794d9.mp3","assets/music/teachhua8300_f5438268.mp3","assets/music/teachhua8301_d487d398.mp3","assets/music/teachhua8400_c2c6c83b.mp3","assets/music/teachhua8401_280819b.mp3","assets/music/teachhua8500_23ab55d5.mp3","assets/music/teachhua8501_4591f03a.mp3","assets/music/teachhua8600_ae730dec.mp3","assets/music/teachhua8601_6273e650.mp3","assets/music/teachhua8602_fc489ef9.mp3","assets/music/teachhua8603_fcdaa403.mp3","assets/music/teachhua8700_b9ce94ea.mp3","assets/music/teachhua8701_b8edff3d.mp3","assets/music/teachhua8702_fc713907.mp3","assets/music/teachhua8703_c22e0906.mp3","assets/music/teachtu10_8589e379.mp3","assets/music/teachtu11_bd88b63d.mp3","assets/music/teachtu12_bfd0ccee.mp3","assets/music/teachtu13_7e502cd9.mp3","assets/music/teachtu14_662e9d87.mp3","assets/music/teachtu15_6e353413.mp3","assets/music/teachtu17_659ab21.mp3","assets/music/teachtu1_cc11243f.mp3","assets/music/teachtu20_f9978012.mp3","assets/music/teachtu21_1372e53.mp3","assets/music/teachtu22_575b76dc.mp3","assets/music/teachtu2ba1_fd07e4e.mp3","assets/music/teachtu2ba2_b5a2f0a1.mp3","assets/music/teachtu2_cafbb6c7.mp3","assets/music/teachtu3ba1_ef5d8cca.mp3","assets/music/teachtu3ba2_357798f1.mp3","assets/music/teachtu3_f9407059.mp3","assets/music/teachtu4_b4e51939.mp3","assets/music/teachtu5_c3cb3cc1.mp3","assets/music/teachtu6_c6c73d5.mp3","assets/music/teachtu7_3e72a44f.mp3","assets/music/teachtu8_660743c1.mp3","assets/music/teachtu9_2d7b6988.mp3","assets/music/UI_boss_3bcba03f.mp3","assets/music/UI_dianji_b7be4424.mp3","assets/music/UI_gongxihuode_556e9eb8.mp3","assets/music/UI_guanbi_48d33bec.mp3","assets/music/UI_huodewupin_c1e1df6e.mp3","assets/music/UI_huodezuanshi_93fa5299.mp3","assets/music/UI_jinjichangshenli_c9630983.mp3","assets/music/UI_niudanjikaishi_7a4dcf44.mp3","assets/music/UI_niudanjipeiyue_a6d025d9.mp3","assets/music/UI_niudanjiyunxin_197004f8.mp3","assets/music/UI_renwuwanchen_8488a0dc.mp3","assets/music/UI_shenji_936d4195.mp3","assets/music/UI_youjiantishi_4afe6a1a.mp3","assets/music/yao01_f01e287c.mp3","assets/music/zhuangji01_4a5742c1.mp3","assets/teach/kaichangtu_5f56167f.png","assets/teach/teachhuakuang_4c88ae52.png","assets/ui/common/button/addBtn2_24c1236c.png","assets/ui/common/button/back_11d8a24c.png","assets/ui/common/button/book_select_a5da7ee8.png","assets/ui/common/button/book_unselect_544a9571.png","assets/ui/common/button/btn_01_d89f40f4.png","assets/ui/common/button/btn_02_7b87f9f5.png","assets/ui/common/button/btn_03_45ae8e2b.png","assets/ui/common/button/btn_07a_e8335b9e.png","assets/ui/common/button/btn_13_f93e6665.png","assets/ui/common/button/btn_13_select_7c126258.png","assets/ui/common/button/btn_gj_chongzhi_92b215f5.png","assets/ui/common/button/close2_992edcc6.png","assets/ui/common/button/green_8cd7c657.png","assets/ui/common/button/kuangbaibian_8e0f7bf.png","assets/ui/common/button/root_bottom_select_6334d78f.png","assets/ui/common/button/zhuzhen_6209bbdf.png","assets/ui/common/loading/circle_83843244.png","assets/ui/common/panel/Bg01_323ed5fe.png","assets/ui/common/panel/bottomBg_ce31f141.png","assets/ui/common/panel/dark_f92d8eda.png","assets/ui/common/panel/frame2_b787262c.png","assets/ui/common/panel/fsef_ea93088d.png","assets/ui/common/panel/grassBg_ccd35722.png","assets/ui/common/panel/greenBg_1b2f9410.png","assets/ui/common/panel/greenPanelBg_888511dc.png","assets/ui/common/panel/green_bg_9465e5bb.png","assets/ui/common/panel/hengtiao_d6432edc.png","assets/ui/common/panel/mat_1bf18664.png","assets/ui/common/panel/mat_select_e556437.png","assets/ui/common/panel/orange_ba0d5549.png","assets/ui/common/panel/orange_bg_a26e2b50.png","assets/ui/common/panel/shilianfuliItemBg_80da71af.png","assets/ui/common/panel/shopBg_d99b729a.png","assets/ui/common/panel/timeBg_40881b02.png","assets/ui/common/panel/tipBg_15efe4b.png","assets/ui/common/panel/title_red_9809b96.png","assets/ui/common/panel/UI_BG04_b860799e.png","assets/ui/common/panel/UI_BG06_9e734550.png","assets/ui/common/panel/UI_BG07_208a06be.png","assets/ui/common/panel/UI_BG08_3ee39af6.png","assets/ui/common/panel/UI_BGjinlin_d78a35d5.png","assets/ui/common/panel/UI_bgts_3d785f8c.png","assets/ui/common/panel/UI_bg_jlbg_b1a8415b.png","assets/ui/common/panel/UI_bg_meirifxshl_b4df5fe4.png","assets/ui/common/panel/UI_kuang01_fdba27d3.png","assets/ui/common/panel/UI_kuang03_4040676e.png","assets/ui/common/panel/white_bg_1c4e444c.png","assets/ui/common/panel/yellow_86aeb5de.png","assets/ui/common/progress/11_9ec58b96.png","assets/ui/common/progress/22_b00fca45.png","assets/ui/common/progress/egg_7a2287e0.png","assets/ui/common/progress/egg_bg_5d489276.png","assets/ui/common/progress/huodongLine_a5bf134b.png","assets/ui/common/progress/huodong_43624762.png","assets/ui/common/progress/rechargeBg_d0ca5c05.png","assets/ui/common/progress/recharge_c8f88f.png","assets/ui/common/progress/teamBar2_14f56f8a.png","assets/ui/common/progress/teamBar2_bg_f7ae281c.png","assets/ui/common/progress/wsj_bg_c7dd7966.png","assets/ui/common/progress/wsj_c3cc3d5d.png","assets/ui/common/util/checkBg_8a8e913f.png","assets/ui/common/util/greenArrow1_b4bcf7c6.png","assets/ui/common/util/jiantou_8e13fd53.png","assets/ui/common/util/talk_2498d02b.png","assets/ui/scene/activity/100_1f756aa8.png","assets/ui/scene/activity/100_icon_ios_9055781f.png","assets/ui/scene/activity/100_ios_1f756aa8.png","assets/ui/scene/activity/101_dbcb57c.png","assets/ui/scene/activity/102_e1f8e296.png","assets/ui/scene/activity/102_ios_4aba0ce6.png","assets/ui/scene/activity/103_20e15647.png","assets/ui/scene/activity/103_ios_34f453c5.png","assets/ui/scene/activity/104_340d591e.png","assets/ui/scene/activity/105_764e517a.png","assets/ui/scene/activity/106_b2baf2e2.png","assets/ui/scene/activity/107_7084502f.png","assets/ui/scene/activity/107_di_aafd158a.png","assets/ui/scene/activity/108_4090ef19.png","assets/ui/scene/activity/108_select_2a30848c.png","assets/ui/scene/activity/108_unselect_416c56b7.png","assets/ui/scene/activity/109_49618ae6.png","assets/ui/scene/activity/110_d3857bc6.png","assets/ui/scene/activity/110_info_bbe80b12.png","assets/ui/scene/activity/110_info_bg_11be62da.png","assets/ui/scene/activity/110_ios_45eb9767.png","assets/ui/scene/activity/111_20e875e1.png","assets/ui/scene/activity/112_2513957e.png","assets/ui/scene/activity/112_di_4738a3a0.png","assets/ui/scene/activity/112_duihuanhui_addf834b.png","assets/ui/scene/activity/112_duihuan_9c35283a.png","assets/ui/scene/activity/112_jiantou_e469e73b.png","assets/ui/scene/activity/113_3f1d2355.png","assets/ui/scene/activity/113_text_db9cb46a.png","assets/ui/scene/activity/114_365cf18e.png","assets/ui/scene/activity/114_info_a2605f1d.png","assets/ui/scene/activity/115_3af537e6.png","assets/ui/scene/activity/115_close_c10842cc.png","assets/ui/scene/activity/115_img1_e3255032.png","assets/ui/scene/activity/115_img2_c25d86e4.png","assets/ui/scene/activity/115_img3_c62b5f8c.png","assets/ui/scene/activity/115_open_a17c8e55.png","assets/ui/scene/activity/115_shadow_7bab0cf7.png","assets/ui/scene/activity/116_783a6ca2.png","assets/ui/scene/activity/117_6569b6b6.png","assets/ui/scene/activity/118_0_2cf67be4.png","assets/ui/scene/activity/118_1_7dac22b4.png","assets/ui/scene/activity/118_2_cfa49dfa.png","assets/ui/scene/activity/118_3_87d6f0ed.png","assets/ui/scene/activity/118_431bbb9d.png","assets/ui/scene/activity/118_5_8f9ce118.png","assets/ui/scene/activity/11_fc7f3612.png","assets/ui/scene/activity/122_10667507.png","assets/ui/scene/activity/123_6370ec80.png","assets/ui/scene/activity/123_info2_6f3fdc7d.png","assets/ui/scene/activity/123_info_5fbea8d0.png","assets/ui/scene/activity/124_bg1_e6283e62.png","assets/ui/scene/activity/124_bg2_b6005781.png","assets/ui/scene/activity/124_bg3_efbcf2e.png","assets/ui/scene/activity/125_bg_c243d5de.png","assets/ui/scene/activity/126_ea2da4ef.png","assets/ui/scene/activity/127_bg_b48b2806.png","assets/ui/scene/activity/128_info_33dd1455.png","assets/ui/scene/activity/129_bg_bd94be63.png","assets/ui/scene/activity/129_info_222cb6f.png","assets/ui/scene/activity/12_1_d3780426.png","assets/ui/scene/activity/12_2_6ac1e4d8.png","assets/ui/scene/activity/12_3_6aed8034.png","assets/ui/scene/activity/12_4_375f828b.png","assets/ui/scene/activity/12_5_260207a1.png","assets/ui/scene/activity/137_Bg_368b23ae.png","assets/ui/scene/activity/138_icon_349a40ec.png","assets/ui/scene/activity/140_icon_7a25e5c6.png","assets/ui/scene/activity/141_icon_52b8e614.png","assets/ui/scene/activity/142_icon_1d0f7f6c.png","assets/ui/scene/activity/143_icon_5bfad96b.png","assets/ui/scene/activity/144_icon_eea6be1d.png","assets/ui/scene/activity/145_icon_7463ab2e.png","assets/ui/scene/activity/146_icon_d99df688.png","assets/ui/scene/activity/147_icon_c3f9d89c.png","assets/ui/scene/activity/1_9acfb8de.png","assets/ui/scene/activity/2_e1068802.png","assets/ui/scene/activity/3_bb742778.png","assets/ui/scene/activity/4_c9589c4e.png","assets/ui/scene/activity/5_1ec8e606.png","assets/ui/scene/activity/6_85913004.png","assets/ui/scene/activity/7_777bc8c0.png","assets/ui/scene/activity/7_di_20aefb10.png","assets/ui/scene/activity/7_goumai_4d96604a.png","assets/ui/scene/activity/7_yigoumai_e0cb82d2.png","assets/ui/scene/activity/8_bf364366.png","assets/ui/scene/activity/9_6a4caa3c.png","assets/ui/scene/activity/9_info_c9841a3b.png","assets/ui/scene/activity/btn_11_4ceb50fb.png","assets/ui/scene/activity/btn_12_2d1cf57e.png","assets/ui/scene/activity/kaifudabipin/item_adc4c540.png","assets/ui/scene/activity/kaifudabipin/kfdbp_1_5b459db1.png","assets/ui/scene/activity/kaifudabipin/kfdbp_2_481efc60.png","assets/ui/scene/activity/kaifudabipin/kfdbp_3_ec2ea478.png","assets/ui/scene/activity/kaifudabipin/rank_1_b16e196b.png","assets/ui/scene/activity/kaifudabipin/rank_2_2b1176ca.png","assets/ui/scene/activity/kaifudabipin/rank_3_463aaa54.png","assets/ui/scene/activity/kaifudabipin/rank_4_32af021c.png","assets/ui/scene/activity/kaifudabipin/rank_5_75cc109e.png","assets/ui/scene/activity/kaifudabipin/rank_6_5f551ea7.png","assets/ui/scene/activity/kaifudabipin/rank_7_cc8f512c.png","assets/ui/scene/activity/kaifudabipin/rank_d45f487a.png","assets/ui/scene/activity/panel_572c5c35.png","assets/ui/scene/activity/qirichengzhang/b_1_714f5b30.png","assets/ui/scene/activity/qirichengzhang/b_2_69160b02.png","assets/ui/scene/activity/qirichengzhang/b_3_3f83e83.png","assets/ui/scene/activity/qirichengzhang/b_4_79297451.png","assets/ui/scene/activity/qirichengzhang/b_5_cb2b4b03.png","assets/ui/scene/activity/qirichengzhang/b_6_3e668893.png","assets/ui/scene/activity/qirichengzhang/b_7_cf398ea.png","assets/ui/scene/activity/qirichengzhang/di_f1d3fb8e.png","assets/ui/scene/activity/qirichengzhang/duihuanyulan_5b38a552.png","assets/ui/scene/activity/qirichengzhang/lananniu_536c9657.png","assets/ui/scene/activity/qirichengzhang/meixuanzhong_40f959cc.png","assets/ui/scene/activity/qirichengzhang/tuceng1_6a363f53.png","assets/ui/scene/activity/qirichengzhang/xuanzhong_e3f2943d.png","assets/ui/scene/activity/qirichengzhang/y_1_cd4d85e3.png","assets/ui/scene/activity/qirichengzhang/y_2_6d69bc2d.png","assets/ui/scene/activity/qirichengzhang/y_3_b703b005.png","assets/ui/scene/activity/qirichengzhang/y_4_f566433.png","assets/ui/scene/activity/qirichengzhang/y_5_a4d6eb2d.png","assets/ui/scene/activity/qirichengzhang/y_6_73818499.png","assets/ui/scene/activity/qirichengzhang/y_7_3efaf3ec.png","assets/ui/scene/activity/qiridenglu/1_74777343.png","assets/ui/scene/activity/qiridenglu/2_bb973953.png","assets/ui/scene/activity/qiridenglu/3_c9049a97.png","assets/ui/scene/activity/qiridenglu/4_289e37ce.png","assets/ui/scene/activity/qiridenglu/5_f9b951a.png","assets/ui/scene/activity/qiridenglu/6_ae27de60.png","assets/ui/scene/activity/qiridenglu/7_67e0a9d3.png","assets/ui/scene/activity/qiridenglu/8_776de47d.png","assets/ui/scene/activity/qiridenglu/9_4ea389b3.png","assets/ui/scene/activity/qiridenglu/bg_f0607c72.png","assets/ui/scene/activity/qirijinsai/Tx_btn_chongguandr_1f51e672.png","assets/ui/scene/activity/qirijinsai/Tx_btn_getixl_bf47d6f2.png","assets/ui/scene/activity/qirijinsai/Tx_btn_jinjiwz_f65a5abf.png","assets/ui/scene/activity/qirijinsai/Tx_btn_shenqidz_5f531350.png","assets/ui/scene/activity/qirijinsai/Tx_btn_zanzhupm_3b2370d8.png","assets/ui/scene/activity/qirijinsai/Tx_btn_zhanlibp_73fc3754.png","assets/ui/scene/activity/qirijinsai/Tx_btn_zuanshixf_274dec05.png","assets/ui/scene/activity/qirijinsai/Tx_chongguandr_c806b60f.png","assets/ui/scene/activity/qirijinsai/Tx_getixl_fab4be49.png","assets/ui/scene/activity/qirijinsai/Tx_jinjiwz_2b10b43f.png","assets/ui/scene/activity/qirijinsai/Tx_paiminjl_e6be1cb4.png","assets/ui/scene/activity/qirijinsai/Tx_shenqidz_e1c28a79.png","assets/ui/scene/activity/qirijinsai/Tx_wodepm_8c84f6.png","assets/ui/scene/activity/qirijinsai/Tx_zanzhupm_116b8e8d.png","assets/ui/scene/activity/qirijinsai/Tx_zhanlibp_52b427a4.png","assets/ui/scene/activity/qirijinsai/Tx_zuanshixf_ac70f7f7.png","assets/ui/scene/activity/qirijinsai/UI_bg_qirijs_cc0ea05d.png","assets/ui/scene/activity/qirijinsai/UI_kuang02_73e62666.png","assets/ui/scene/activity/qirijinsai/UI_paimin_3ec40e9.png","assets/ui/scene/activity/select_feb3162e.png","assets/ui/scene/activity/tiantianyouli_2e570616.png","assets/ui/scene/activity/top_4_be98a52.png","assets/ui/scene/activity/top_d085d1ab.png","assets/ui/scene/activity/Tx_6ysV17_296e5802.png","assets/ui/scene/activity/Tx_chongzhijb_871f5db1.png","assets/ui/scene/activity/Tx_chongzhi_75213fe.png","assets/ui/scene/activity/Tx_gaojind_20dcdacc.png","assets/ui/scene/activity/Tx_getizhixl_1a9e3852.png","assets/ui/scene/activity/Tx_goumai_f6e8a260.png","assets/ui/scene/activity/Tx_huanqu_3bd6d40d.png","assets/ui/scene/activity/Tx_jinglingds_2e658836.png","assets/ui/scene/activity/Tx_jinglinghq_ce537762.png","assets/ui/scene/activity/Tx_jinglingjh_545d8086.png","assets/ui/scene/activity/Tx_lingqu_c0b6b5.png","assets/ui/scene/activity/Tx_meirikehd_56a5890d.png","assets/ui/scene/activity/Tx_renyidangweidyc_7a6069c7.png","assets/ui/scene/activity/Tx_rmb_ef239040.png","assets/ui/scene/activity/Tx_weidacheng_934c5d9b.png","assets/ui/scene/activity/Tx_weigoum_8aa7a3b2.png","assets/ui/scene/activity/Tx_xiedaipinsj_124b7ae7.png","assets/ui/scene/activity/Tx_xuanzess_15bc13a2.png","assets/ui/scene/activity/Tx_xufei_d654f7bb.png","assets/ui/scene/activity/Tx_yilingqu_f1689436.png","assets/ui/scene/activity/Tx_zhiyouV4cky_d5e49046.png","assets/ui/scene/activity/UI_bg_6ysv17_19746545.png","assets/ui/scene/activity/UI_bg_meizhouxg_8c57f417.png","assets/ui/scene/activity/UI_bg_shenshoudh_18966865.png","assets/ui/scene/activity/UI_bg_shenshourw_f4d0123f.png","assets/ui/scene/activity/UI_bg_yuekaka_790b8798.png","assets/ui/scene/activity/UI_kuang_shenyusj_43bbf710.png","assets/ui/scene/activity/UI_qizhi_ce0c1c70.png","assets/ui/scene/activity/UI_tx_dacheng_f00d17c8.png","assets/ui/scene/activity/xingyunzhuanpan/10_a6e085f8.png","assets/ui/scene/activity/xingyunzhuanpan/12_1a329cf3.png","assets/ui/scene/activity/xingyunzhuanpan/13_5ade09d.png","assets/ui/scene/activity/xingyunzhuanpan/19_3b605a36.png","assets/ui/scene/activity/xingyunzhuanpan/1_7bed9569.png","assets/ui/scene/activity/xingyunzhuanpan/20_c0a3ac18.png","assets/ui/scene/activity/xingyunzhuanpan/21_e65df817.png","assets/ui/scene/activity/xingyunzhuanpan/22_2f34c9bf.png","assets/ui/scene/activity/xingyunzhuanpan/2_14485f4e.png","assets/ui/scene/activity/xingyunzhuanpan/3_d8871709.png","assets/ui/scene/activity/xingyunzhuanpan/4_af2d858e.png","assets/ui/scene/activity/xingyunzhuanpan/5_ecc4d7e7.png","assets/ui/scene/activity/xingyunzhuanpan/7_8eca28af.png","assets/ui/scene/activity/xingyunzhuanpan/8_94b5ce98.png","assets/ui/scene/activity/xingyunzhuanpan/9_67eff8db.png","assets/ui/scene/activity/xingyunzhuanpan/go1_9cb3b529.png","assets/ui/scene/activity/xingyunzhuanpan/go2_3dccfe0d.png","assets/ui/scene/activity/xingyunzhuanpan/go3_e2c088e3.png","assets/ui/scene/activity/xingyunzhuanpan/zhuanpan1_2ae9aaf0.png","assets/ui/scene/activity/xingyunzhuanpan/zhuanpan2_3555f2fe.png","assets/ui/scene/activity/xingyunzhuanpan/zhuanpan3_7691042a.png","assets/ui/scene/activity/yk_4f70abb8.png","assets/ui/scene/activity/yuandanrenwu/100l_1a5ba7fb.png","assets/ui/scene/activity/yuandanrenwu/100_d35991a5.png","assets/ui/scene/activity/yuandanrenwu/120l_c5fc659f.png","assets/ui/scene/activity/yuandanrenwu/120_92ccb17a.png","assets/ui/scene/activity/yuandanrenwu/1_431295d2.png","assets/ui/scene/activity/yuandanrenwu/20l_1f5232c3.png","assets/ui/scene/activity/yuandanrenwu/20_c130c4f3.png","assets/ui/scene/activity/yuandanrenwu/50l_da437576.png","assets/ui/scene/activity/yuandanrenwu/50_451ea1ec.png","assets/ui/scene/activity/yuandanrenwu/75l_1e1db19d.png","assets/ui/scene/activity/yuandanrenwu/75_740c7104.png","assets/ui/scene/activity/yuandanrenwu/beijing_584c697e.png","assets/ui/scene/activity/yuandanrenwu/denglouan_36540964.png","assets/ui/scene/activity/yuandanrenwu/denglouliang_723b74e3.png","assets/ui/scene/activity/yuandanrenwu/lingquhui_42296e9.png","assets/ui/scene/activity/yuandanrenwu/lingqu_537502f7.png","assets/ui/scene/activity/yuandanrenwu/qianwang_74e46987.png","assets/ui/scene/activity/yuandanrenwu/score_b14599.png","assets/ui/scene/activity/yuandanrenwu/yiwancheng_50665454.png","assets/ui/scene/activity/yuandanrukou/a1_9e047da.png","assets/ui/scene/activity/yuandanrukou/a2_296afa08.png","assets/ui/scene/activity/yuandanrukou/a3_9e08385b.png","assets/ui/scene/activity/yuandanrukou/a4_d732beea.png","assets/ui/scene/activity/yuandanrukou/a5_6ca5a7d0.png","assets/ui/scene/activity/yuandanrukou/a6_d66e6086.png","assets/ui/scene/activity/yuandanrukou/bg_9e835b5a.png","assets/ui/scene/activity/yuandanrukou/itembg_c4edf211.png","assets/ui/scene/activity/yuandanrukou/xing_d9116177.png","assets/ui/scene/activity/yuandanrukou/yuan_11ae049.png","assets/ui/scene/activity/zhongqiu/1_b4206070.png","assets/ui/scene/activity/zhongqiu/2_f935e3.png","assets/ui/scene/activity/zhongqiu/3_ed55cc68.png","assets/ui/scene/activity/zhongqiu/bg1_56612f7c.png","assets/ui/scene/activity/zhongqiu/bg_8d8b8d6e.png","assets/ui/scene/activity/zhongqiu/info_cd3ba5b3.png","assets/ui/scene/activity/zhongqiu/love_7b7b6ccc.png","assets/ui/scene/activity/zhongqiu/t1_6e08e701.png","assets/ui/scene/activity/zhongqiu/t2_ec7470e9.png","assets/ui/scene/activity/zhongqiu/xuxian_dc2d0a27.png","assets/ui/scene/activity/zhongqiu/yb1_b6fc7e02.png","assets/ui/scene/activity/zhongqiu/yb2_e340f368.png","assets/ui/scene/activity/zhongqiu/yb3_fa331239.png","assets/ui/scene/activity/zhongqiu/yb4_901dba95.png","assets/ui/scene/activity/zhongqiu/yb5_c41cb243.png","assets/ui/scene/activity/zhongqiu/yb6_2ad01d7c.png","assets/ui/scene/activity/zhongqiu/yb7_4b974042.png","assets/ui/scene/activity/zhongqiu/yb8_a1653bee.png","assets/ui/scene/activity/zhongqiu/yb9_756756aa.png","assets/ui/scene/activity/zzk_bcbbc1b6.png","assets/ui/scene/bag/cailiao_19cbd425.png","assets/ui/scene/bag/daoju_6c8755a.png","assets/ui/scene/bag/fangdajing_37e57b0f.png","assets/ui/scene/bag/qita_17cf19c4.png","assets/ui/scene/bag/select_a901cfb6.png","assets/ui/scene/bag/shenqi_8162fedb.png","assets/ui/scene/bag/unSelect_8041402e.png","assets/ui/scene/bag/xuexiji_1e308bf4.png","assets/ui/scene/battle/bg100_42cf7bfe.jpg","assets/ui/scene/battle/bg10_1717c5e0.jpg","assets/ui/scene/battle/bg11_7ebafa2c.jpg","assets/ui/scene/battle/bg12_b1cc278f.jpg","assets/ui/scene/battle/bg13_42a22547.jpg","assets/ui/scene/battle/bg14_918670af.jpg","assets/ui/scene/battle/bg15_4977a93d.jpg","assets/ui/scene/battle/bg16_d3b9b0a4.jpg","assets/ui/scene/battle/bg17_79c21108.jpg","assets/ui/scene/battle/bg1_11599c0f.jpg","assets/ui/scene/battle/bg2_7786bcb8.jpg","assets/ui/scene/battle/bg3_e41b48da.jpg","assets/ui/scene/battle/bg4_f1c30909.jpg","assets/ui/scene/battle/bg5_2e738504.jpg","assets/ui/scene/battle/bg6_33a94b4.jpg","assets/ui/scene/battle/bg7_3ab32a1b.jpg","assets/ui/scene/battle/bg8_2e66ce1f.jpg","assets/ui/scene/battle/bg99_aad023aa.jpg","assets/ui/scene/battle/bg9_d432f3d3.jpg","assets/ui/scene/battle/bossDi_118f184e.png","assets/ui/scene/battle/bossHong_5c27b934.png","assets/ui/scene/battle/boss_c1658401.png","assets/ui/scene/battle/lose_89c0208b.png","assets/ui/scene/battle/Tx_dangqianmwdj_b0f54522.png","assets/ui/scene/battle/Tx_dangqianmwjy_d99958f1.png","assets/ui/scene/battle/Tx_huodewp_a3cadf36.png","assets/ui/scene/battle/Tx_jichujl_485851a2.png","assets/ui/scene/battle/Tx_zaochensh_6eb24158.png","assets/ui/scene/battle/UI_bg_xingongnkq_82bb8fe5.png","assets/ui/scene/book/1_971365dd.png","assets/ui/scene/book/2_5f292019.png","assets/ui/scene/book/3_73ffd4f2.png","assets/ui/scene/book/4_bb20de03.png","assets/ui/scene/book/5_c6ace82.png","assets/ui/scene/book/bg_f63a6122.png","assets/ui/scene/book/btn_12L_cf395355.png","assets/ui/scene/book/btn_12R_7aa9ec1e.png","assets/ui/scene/book/iconbg_f44faac7.png","assets/ui/scene/book/iconkezhi_2c6f187f.png","assets/ui/scene/book/Icon_suipian_e405252e.png","assets/ui/scene/book/Icon_tianfu_db646df9.png","assets/ui/scene/book/Icon_wanneng_380b48fd.png","assets/ui/scene/book/Icon_xiangqin_a07bc48e.png","assets/ui/scene/book/shuxingkezhishuoming_49158a4f.png","assets/ui/scene/book/skill_bg_2a840254.png","assets/ui/scene/book/tianfu_817bc739.png","assets/ui/scene/book/tip_29ee6d4c.png","assets/ui/scene/book/Tx_manxincjL_ec86c49f.png","assets/ui/scene/book/Tx_manxincjR_32108fad.png","assets/ui/scene/book/xiyoudu_669d4c17.png","assets/ui/scene/cave/cave_0_b91380dd.png","assets/ui/scene/cave/cave_1_8bf48eea.png","assets/ui/scene/cave/cave_2_fe4b6d52.png","assets/ui/scene/changeName/1_46cde815.png","assets/ui/scene/changeName/2_2daf0556.png","assets/ui/scene/changeName/3_7498677e.png","assets/ui/scene/changeName/4_69c96c05.png","assets/ui/scene/changeName/5_ce8c141.png","assets/ui/scene/chat/bg_e79757a8.png","assets/ui/scene/chat/gonghui_9413238c.png","assets/ui/scene/chat/message_af79a893.png","assets/ui/scene/chat/shijie_eec9a9d2.png","assets/ui/scene/chat/Tx_dakaiwblt_b710a01a.png","assets/ui/scene/chat/Tx_fasong_b6512455.png","assets/ui/scene/chat/Tx_gonghui01_fe1d9e19.png","assets/ui/scene/chat/Tx_guanbiwblt_86ca912a.png","assets/ui/scene/chat/Tx_shijie_d0a2f3ad.png","assets/ui/scene/combo/bg_64c070cb.png","assets/ui/scene/create/1_b90ebd0d.png","assets/ui/scene/create/2_e894eb58.png","assets/ui/scene/create/3_79b5c2a6.png","assets/ui/scene/create/ball_f7e70df0.png","assets/ui/scene/create/beijing_4ed13fb7.png","assets/ui/scene/create/bg_764c0dfe.png","assets/ui/scene/create/blue_37f22a6a.png","assets/ui/scene/create/dangqian_25531509.png","assets/ui/scene/create/di_6e627f5e.png","assets/ui/scene/create/female_57bb4c54.png","assets/ui/scene/create/female_gray_b6eebe4b.png","assets/ui/scene/create/fix2_9f294bb7.png","assets/ui/scene/create/green_bb7d05eb.png","assets/ui/scene/create/ios_beijing_938e0948.png","assets/ui/scene/create/listBg_8909003c.png","assets/ui/scene/create/male_54f2ae03.png","assets/ui/scene/create/male_gray_1d12ae6f.png","assets/ui/scene/create/pmBg_d88fadf2.jpg","assets/ui/scene/create/red_ab7ae6e4.png","assets/ui/scene/create/roleBg_9a843880.png","assets/ui/scene/create/selectBg_343ee4de.png","assets/ui/scene/create/selectDi_505206b.png","assets/ui/scene/create/UI_creat_bg_f1b4a19d.png","assets/ui/scene/create/UI_creat_dizuo_a91d1149.png","assets/ui/scene/duihuan/bg_477a2c51.png","assets/ui/scene/dungeon/bg_75f2fe49.jpg","assets/ui/scene/dungeon/icon_61dcf8ed.png","assets/ui/scene/dungeon/itemBg_b78c609e.png","assets/ui/scene/egg/bg_7464aec7.png","assets/ui/scene/egg/egg1_27ca72ae.png","assets/ui/scene/egg/egg2_d456e07.png","assets/ui/scene/egg/egg3_6baee6a2.png","assets/ui/scene/egg/egg4_f0cb5b44.png","assets/ui/scene/egg/egg5_35673378.png","assets/ui/scene/egg/girl_21a87fb2.png","assets/ui/scene/egg/kaishifuhua_9f441a82.png","assets/ui/scene/egg/lay_bg_3255067e.png","assets/ui/scene/egg/lay_info_24ec79b5.png","assets/ui/scene/egg/lay_msg_0_230e4b.png","assets/ui/scene/egg/lay_msg_1_e8a65784.png","assets/ui/scene/egg/lay_msg_2_5f937dd.png","assets/ui/scene/egg/lay_msg_3_4fdf3ddd.png","assets/ui/scene/egg/lay_msg_4_a0ea84f3.png","assets/ui/scene/egg/lay_msg_5_34e640ad.png","assets/ui/scene/egg/lay_msg_6_4d727ff4.png","assets/ui/scene/egg/lay_msg_7_2e909fb9.png","assets/ui/scene/egg/lay_msg_egg_a6cda8c0.png","assets/ui/scene/egg/lay_msg_false_4eb99dc6.png","assets/ui/scene/egg/lay_tip_3dea32a1.png","assets/ui/scene/egg/slotBg_d1637abc.png","assets/ui/scene/equip/3_8fb2b00d.png","assets/ui/scene/equip/4_28d6c791.png","assets/ui/scene/equip/bagBg_4089b883.png","assets/ui/scene/equip/bg_da9d5dea.png","assets/ui/scene/equip/new/beibaodaoju_8d90af83.png","assets/ui/scene/equip/new/dengjipaixu_6bd0051a.png","assets/ui/scene/equip/new/fangdayibei_d5e9129d.png","assets/ui/scene/equip/new/jiantoushang_3b35fe52.png","assets/ui/scene/equip/new/leixingpaixu_32fb3eac.png","assets/ui/scene/equip/new/qianghua_b25b2463.png","assets/ui/scene/equip/new/tuceng16_b183b11c.png","assets/ui/scene/equip/new/tuceng21_6a66d2c8.png","assets/ui/scene/equip/new/tuceng4_c779018a.png","assets/ui/scene/equip/new/Tx_beibaodj_7137113a.png","assets/ui/scene/equip/new/Tx_qianghua_5a9e8a3d.png","assets/ui/scene/equip/new/Tx_taozhuangxg_7e17be05.png","assets/ui/scene/equip/new/Tx_yijianxx_3f1b728e.png","assets/ui/scene/equip/new/Tx_yijianzb_9ab7f096.png","assets/ui/scene/equip/new/Tx_zhuangbei4jtlx_c89c64fe.png","assets/ui/scene/equip/new/Tx_zhuangbei_ddeef041.png","assets/ui/scene/equip/new/UI_Bq_lx_88a1460c.png","assets/ui/scene/equip/new/xingzhuang_e3b88f2e.png","assets/ui/scene/equip/new/xinpinpaixu_5b8062aa.png","assets/ui/scene/equip/new/xiyoupaixu_9bb37135.png","assets/ui/scene/equip/new/yijianxiexia_cd249019.png","assets/ui/scene/equip/new/yijianzhuangbei_ebf875df.png","assets/ui/scene/equip/new/yulandi_acc62ac4.png","assets/ui/scene/equip/new/zhuangbeizongjiacheng_c9b06dc9.png","assets/ui/scene/equip/new/zhuangbei_8ec87e48.png","assets/ui/scene/equip/upBg_1e5db80.png","assets/ui/scene/fengyuandiqu/bg_35f2a70d.png","assets/ui/scene/formation/bg_da79baed.jpg","assets/ui/scene/gashapon/arrow_e16bbf39.png","assets/ui/scene/gashapon/bg02_fb632c24.png","assets/ui/scene/gashapon/bg_357cbe0e.png","assets/ui/scene/gashapon/continues_2452fa88.png","assets/ui/scene/gashapon/cost_a6d62846.png","assets/ui/scene/gashapon/danchou_3bbad1ea.png","assets/ui/scene/gashapon/danxuan01_a46e4ac4.png","assets/ui/scene/gashapon/danxuan02_edc76766.png","assets/ui/scene/gashapon/fuli_1af91ee9.png","assets/ui/scene/gashapon/infoButton_e5b69d64.png","assets/ui/scene/gashapon/niudan1_e0d18cee.png","assets/ui/scene/gashapon/niudan2_e34073d1.png","assets/ui/scene/gashapon/niudan3_c5350e51.png","assets/ui/scene/gashapon/niudaninfo_706b7c8d.png","assets/ui/scene/gashapon/niudantips1_140a9dad.png","assets/ui/scene/gashapon/niudantips2_13ef58a4.png","assets/ui/scene/gashapon/niudantips3_1d0158a3.png","assets/ui/scene/gashapon/now_401901d3.png","assets/ui/scene/gashapon/qiukunag_897372b1.png","assets/ui/scene/gashapon/rewardtitle_ac3b25c6.png","assets/ui/scene/gashapon/S2_421aa942.png","assets/ui/scene/gashapon/S3_381912e8.png","assets/ui/scene/gashapon/shichou_be2c8ea4.png","assets/ui/scene/gashapon/skip_ac834b97.png","assets/ui/scene/gashapon/status1_7138d882.png","assets/ui/scene/gashapon/status2_d8ec8f3e.png","assets/ui/scene/gashapon/status3_d1026ae7.png","assets/ui/scene/gashapon/tips1_4395f220.png","assets/ui/scene/gift/baocun_4320870d.png","assets/ui/scene/gift/beidong_1a2ef98f.png","assets/ui/scene/gift/bg_a5563545.png","assets/ui/scene/gift/chongzhi_557fb136.png","assets/ui/scene/gift/info_5b107342.png","assets/ui/scene/gift/itemBg_dc7af9e5.png","assets/ui/scene/gift/itemDetail_92a7bff3.png","assets/ui/scene/gift/lvBg_ffb53acd.png","assets/ui/scene/gift/lvBg_gray_59efee73.png","assets/ui/scene/gift/lv_20_9dffa34c.png","assets/ui/scene/gift/lv_25_cc308906.png","assets/ui/scene/gift/lv_30_e421b551.png","assets/ui/scene/gift/lv_35_db2d10e.png","assets/ui/scene/gift/lv_40_a1ef4bc5.png","assets/ui/scene/gift/lv_45_4e3a37c0.png","assets/ui/scene/gift/lv_50_4e8dcd15.png","assets/ui/scene/gift/lv_60_93c19e23.png","assets/ui/scene/gift/lv_70_784a8da1.png","assets/ui/scene/gift/lv_80_e0a76218.png","assets/ui/scene/gift/select_734a0d7c.png","assets/ui/scene/gift/xiangqing_faff1907.png","assets/ui/scene/guild/b3_2689d09.png","assets/ui/scene/guild/b4_7d56314b.png","assets/ui/scene/guild/b5_cb7394e9.png","assets/ui/scene/guild/b6_a24e3394.png","assets/ui/scene/guild/bg_dc289ac8.jpg","assets/ui/scene/guild/btn5_d1d0ef40.png","assets/ui/scene/gym/di_a544349d.png","assets/ui/scene/gym/gym1_a7be0a9a.png","assets/ui/scene/gym/gym2_c4da2a83.png","assets/ui/scene/gym/gym3_53179c1a.png","assets/ui/scene/gym/gym4_45971cea.png","assets/ui/scene/gym/gym5_c9c181d2.png","assets/ui/scene/gym/gym6_36ec4307.png","assets/ui/scene/gym/gym7_74954799.png","assets/ui/scene/gym/gym8_f4a5bf9e.png","assets/ui/scene/gym/gym9_4a832738.png","assets/ui/scene/home/bg_30699e42.png","assets/ui/scene/home/gonggaoBg_d83d803b.png","assets/ui/scene/home/soushenBg_dc088d0e.png","assets/ui/scene/home/tansuoBg_15c15459.png","assets/ui/scene/home/Tx_youxigg_62aa947a.png","assets/ui/scene/home/UI_BG08_5847524e.png","assets/ui/scene/home/xunbaoBg_428e9b05.png","assets/ui/scene/homeCity/bg1_d2412162.png","assets/ui/scene/homeCity/bg_e28ac063.png","assets/ui/scene/homeCity/daoguanzhan_f8fb27ce.png","assets/ui/scene/homeCity/ditaozhan_1ada4383.png","assets/ui/scene/homeCity/fudanxiaowu_f9f95ec4.png","assets/ui/scene/homeCity/jiayuan_fd784b5c.png","assets/ui/scene/homeCity/jia_f6968d.png","assets/ui/scene/homeCity/jingjichang_5d7373a6.png","assets/ui/scene/homeCity/jinglingdasai_91b46611.png","assets/ui/scene/homeCity/jinren_ca0e145d.png","assets/ui/scene/homeCity/jt_852504e7.png","assets/ui/scene/homeCity/midian_40966acc.png","assets/ui/scene/homeCity/mijing_4d4734ac.png","assets/ui/scene/homeCity/shangdian_3ffabaee.png","assets/ui/scene/homeCity/shouliechang_c081aa37.png","assets/ui/scene/homeCity/teshufuben_ba42b13b.png","assets/ui/scene/homeCity/wakuang_723511ef.png","assets/ui/scene/homeCity/youyiting_66553099.png","assets/ui/scene/homeCity/zhandouditie_45717d41.png","assets/ui/scene/homeCity/zhuachongdasai_fa47f29c.png","assets/ui/scene/homeCity/ziyuanzhan_f925f142.png","assets/ui/scene/hunt/1_2d12f34f.png","assets/ui/scene/hunt/2_af5b8493.png","assets/ui/scene/hunt/3_9ee7701a.png","assets/ui/scene/hunt/ball_13004_a0f7d049.png","assets/ui/scene/hunt/ball_13005_b1d11e7d.png","assets/ui/scene/hunt/ball_13006_fb2d879f.png","assets/ui/scene/hunt/ball_13007_daf39792.png","assets/ui/scene/hunt/bg_865be093.png","assets/ui/scene/hunt/neBg_3f0d36ef.png","assets/ui/scene/idle/001_1398f7c2.png","assets/ui/scene/idle/002_869d438.png","assets/ui/scene/idle/003_4f38a311.png","assets/ui/scene/idle/10_13850daf.png","assets/ui/scene/idle/10_info_8359dd77.png","assets/ui/scene/idle/11_e5e36c0b.png","assets/ui/scene/idle/11_info_e5d995f4.png","assets/ui/scene/idle/12_f15178c1.png","assets/ui/scene/idle/12_info_9b22abf5.png","assets/ui/scene/idle/13_9780d824.png","assets/ui/scene/idle/13_info_26687e14.png","assets/ui/scene/idle/14_1288c585.png","assets/ui/scene/idle/14_info_172c510a.png","assets/ui/scene/idle/15_a87fea48.png","assets/ui/scene/idle/15_info_dc73d564.png","assets/ui/scene/idle/16_1c787a8b.png","assets/ui/scene/idle/16_info_92baa25.png","assets/ui/scene/idle/17_e4e04a47.png","assets/ui/scene/idle/17_info_f8a0c289.png","assets/ui/scene/idle/18_34963c31.png","assets/ui/scene/idle/18_info_ecc2796e.png","assets/ui/scene/idle/19_befac288.png","assets/ui/scene/idle/19_info_9148fae8.png","assets/ui/scene/idle/1yuan_9660d7c8.png","assets/ui/scene/idle/1_e93b55e5.png","assets/ui/scene/idle/1_info_7d3fdb56.png","assets/ui/scene/idle/20_81d71b8c.png","assets/ui/scene/idle/20_info_d245599b.png","assets/ui/scene/idle/21_e18c3035.png","assets/ui/scene/idle/21_info_21617e46.png","assets/ui/scene/idle/22_69ba8949.png","assets/ui/scene/idle/22_info_174bfd16.png","assets/ui/scene/idle/23_209186c6.png","assets/ui/scene/idle/23_info_f90410d2.png","assets/ui/scene/idle/2_ca018e25.png","assets/ui/scene/idle/2_info_3ad96352.png","assets/ui/scene/idle/3_a16d7ee7.png","assets/ui/scene/idle/3_info_bf895bf4.png","assets/ui/scene/idle/4_8ac9f368.png","assets/ui/scene/idle/4_info_f13ea8ea.png","assets/ui/scene/idle/5_4bf882f1.png","assets/ui/scene/idle/5_info_ff517a4e.png","assets/ui/scene/idle/6yuanshen_2da494a5.png","assets/ui/scene/idle/6_200f1969.png","assets/ui/scene/idle/6_info_264c815a.png","assets/ui/scene/idle/7_2eeef317.png","assets/ui/scene/idle/7_info_b3b10d5c.png","assets/ui/scene/idle/8_1da98cdc.png","assets/ui/scene/idle/8_info_d536e96b.png","assets/ui/scene/idle/9_2d5e6627.png","assets/ui/scene/idle/9_info_eac0eb73.png","assets/ui/scene/idle/a1_e2123c8e.png","assets/ui/scene/idle/a2_fc2f6e78.png","assets/ui/scene/idle/a3_717f8658.png","assets/ui/scene/idle/a4_c89476cb.png","assets/ui/scene/idle/baoxiang00_656c7eb6.png","assets/ui/scene/idle/baoxiang01_a14afb21.png","assets/ui/scene/idle/baoxiang02_b7892ae9.png","assets/ui/scene/idle/baoxiang_jinzhi_da88ad09.png","assets/ui/scene/idle/btn_gj_chongzhi_e4d524ee.png","assets/ui/scene/idle/btn_gj_tisheng_581775f4.png","assets/ui/scene/idle/B_3328213f.png","assets/ui/scene/idle/catchBg_d27da902.png","assets/ui/scene/idle/cirilingqu_3338e5a4.png","assets/ui/scene/idle/daoguan_7b1f781f.png","assets/ui/scene/idle/duihuan_393edbfc.png","assets/ui/scene/idle/fenxiangyl_dcfa8404.png","assets/ui/scene/idle/fulidating_b1019c2b.png","assets/ui/scene/idle/gethit_690bdec2.png","assets/ui/scene/idle/gongceyuyue_f15af178.png","assets/ui/scene/idle/G_930d9db.png","assets/ui/scene/idle/help_a6682da9.png","assets/ui/scene/idle/hp_64f3955.png","assets/ui/scene/idle/huodongzhongxin_fd59df8.png","assets/ui/scene/idle/Icon_yiyuang_eac69e27.png","assets/ui/scene/idle/kaifubipin_2ef1ce16.png","assets/ui/scene/idle/lvfangkuang2_5d12648.png","assets/ui/scene/idle/mapData_87ca9a0a.json","assets/ui/scene/idle/meizhouxiangou_ca6aaae.png","assets/ui/scene/idle/qiyu_900c4156.png","assets/ui/scene/idle/quanminkuanghuan_6f1e0a68.png","assets/ui/scene/idle/r1_a845af3e.png","assets/ui/scene/idle/r2_2b415ae2.png","assets/ui/scene/idle/redianxinxi_84b3b4b3.png","assets/ui/scene/idle/reward_e3c18364.png","assets/ui/scene/idle/shangcheng_477db838.png","assets/ui/scene/idle/shaowgreen_d057d4fb.png","assets/ui/scene/idle/shenshouhuodong_d581f138.png","assets/ui/scene/idle/shoucangyl_5bdf3228.png","assets/ui/scene/idle/sishijiu_68f8c0f7.png","assets/ui/scene/idle/skill1_cf6d8686.png","assets/ui/scene/idle/skill2_58b6552a.png","assets/ui/scene/idle/skill3_9bea4737.png","assets/ui/scene/idle/skill4_206295d0.png","assets/ui/scene/idle/songmenghuan_b3977707.png","assets/ui/scene/idle/stone_a11aba3b.png","assets/ui/scene/idle/tanhao_boss_14bb5789.png","assets/ui/scene/idle/tianjia_d382b87b.png","assets/ui/scene/idle/tips1_3587dda9.png","assets/ui/scene/idle/tomorrow_f99de281.png","assets/ui/scene/idle/tuijian_8a7050ff.png","assets/ui/scene/idle/tujian_e800f508.png","assets/ui/scene/idle/Tx_anheiqiu_388ecc9c.png","assets/ui/scene/idle/Tx_boss_174b6705.png","assets/ui/scene/idle/Tx_chakan_9c627d65.png","assets/ui/scene/idle/Tx_chaojiqiu_b3fba9b.png","assets/ui/scene/idle/Tx_chongfuqiu_e6479413.png","assets/ui/scene/idle/Tx_dashiqiu_3dcd0e14.png","assets/ui/scene/idle/Tx_goumai_86b571e3.png","assets/ui/scene/idle/Tx_huangjinqiu_1eab4628.png","assets/ui/scene/idle/Tx_lianxufx7t_ee9a03ed.png","assets/ui/scene/idle/Tx_liketj_1fa2cf0f.png","assets/ui/scene/idle/Tx_meirifsdqq_78043ed7.png","assets/ui/scene/idle/Tx_meirifxjkhd02_5475f33.png","assets/ui/scene/idle/Tx_meirifxjkhd_6c994f09.png","assets/ui/scene/idle/Tx_meirifxshl_1846bc20.png","assets/ui/scene/idle/Tx_meirifx_9d55b980.png","assets/ui/scene/idle/Tx_putongqiu_196662c5.png","assets/ui/scene/idle/Tx_tianjiadzmshl_aea7b092.png","assets/ui/scene/idle/Tx_tianjiayxtbdsj_8c4f6bc7.png","assets/ui/scene/idle/Tx_tiaozhan_1b689594.png","assets/ui/scene/idle/Tx_yuanyeqiu_4946c783.png","assets/ui/scene/idle/Tx_zhandouli_282b08d0.png","assets/ui/scene/idle/Tx_zhenzhidl_f884056f.png","assets/ui/scene/idle/Tx_zhixuyy_84370dd6.png","assets/ui/scene/idle/UI_BG06jt_65ceef41.png","assets/ui/scene/idle/UI_JS_pkq_2d928638.png","assets/ui/scene/idle/wanshengjieBtn_cdeb83b8.png","assets/ui/scene/idle/wanshengjie_aec30b8e.png","assets/ui/scene/idle/wbgame/bg_f3a138b4.png","assets/ui/scene/idle/wbgame/Icon_tqVIP0_63968787.png","assets/ui/scene/idle/wbgame/Icon_tqVIP1_c6cb141a.png","assets/ui/scene/idle/wbgame/Icon_tqVIP2_bda8ba40.png","assets/ui/scene/idle/wbgame/Icon_tqVIP3_e9bf0258.png","assets/ui/scene/idle/wbgame/Icon_tqVIP4_5b35529f.png","assets/ui/scene/idle/wbgame/Icon_tqVIP5_b3fe5e1.png","assets/ui/scene/idle/wbgame/Icon_tqVIP6_8e711aae.png","assets/ui/scene/idle/wbgame/Tx_dangqianvipdjklqnr_cbf3bcd0.png","assets/ui/scene/idle/wbgame/Tx_title_xiaoyouxiviptqmrlb_a1c3fc39.png","assets/ui/scene/idle/wbgame/Tx_xiadangvipdjklqnr_c4af8331.png","assets/ui/scene/idle/xianshihaoli_6eb8f134.png","assets/ui/scene/idle/xiaoyouxtq_cec458d.png","assets/ui/scene/idle/xinfukuanghuan_7d8d6921.png","assets/ui/scene/idle/yudaoBOSS1_94ab522.png","assets/ui/scene/idle/yudaoBOSS2_1b07ce7e.png","assets/ui/scene/idle/yudaoBOSS3_79b8707.png","assets/ui/scene/idle/yudaoBOSS4_38492090.png","assets/ui/scene/idle/zhujue_d1de194b.png","assets/ui/scene/itemRecovery/type_01_fe02f465.png","assets/ui/scene/itemRecovery/type_02_6b702b11.png","assets/ui/scene/itemRecovery/type_03_5fe45e61.png","assets/ui/scene/itemRecovery/type_04_7b0edb91.png","assets/ui/scene/itemRecovery/type_05_7df8559f.png","assets/ui/scene/itemRecovery/type_06_7c5d3642.png","assets/ui/scene/itemRecovery/type_07_6299adfc.png","assets/ui/scene/itemRecovery/type_08_e3a03ac8.png","assets/ui/scene/itemRecovery/type_103_e55d5446.png","assets/ui/scene/itemRecovery/type_104_e9ed42de.png","assets/ui/scene/itemRecovery/type_106_f0e12666.png","assets/ui/scene/login/logo1_487d0fc.png","assets/ui/scene/login/Tx_dangqianfwq_46f2393f.png","assets/ui/scene/login/Tx_dengluyx_6cf498fa.png","assets/ui/scene/login/Tx_denglu_e74edb6c.png","assets/ui/scene/login/Tx_mima_d5898328.png","assets/ui/scene/login/Tx_pressstart_1196327c.png","assets/ui/scene/login/Tx_xxqu_1dd287b9.png","assets/ui/scene/login/Tx_yonghm_a7cf3fdd.png","assets/ui/scene/login/Tx_zhuce_46c41f46.png","assets/ui/scene/login/Tx_zuijindl_f4b792b4.png","assets/ui/scene/login/UI_denglubg_3a712f94.png","assets/ui/scene/login/UI_loginbg_66828814.png","assets/ui/scene/login/UI_loginbg_pkq_bd738f76.png","assets/ui/scene/login/UI_loginbtn_6ef310a.png","assets/ui/scene/mail/title_f382c849.png","assets/ui/scene/mail/Tx_chakan_2bffa5a1.png","assets/ui/scene/mail/Tx_shouqu_e2894ee8.png","assets/ui/scene/mail/Tx_title_youjian_ea4ba5cf.png","assets/ui/scene/mail/Tx_yijiansq_b9feeb72.png","assets/ui/scene/map/12_38b9b4ba.png","assets/ui/scene/map/13_8bf0b2f4.png","assets/ui/scene/map/14_b9e8b57f.png","assets/ui/scene/map/15_fc48365c.png","assets/ui/scene/map/16_af26a298.png","assets/ui/scene/map/17_90c785ab.png","assets/ui/scene/map/18_304640e2.png","assets/ui/scene/map/19_425a385a.png","assets/ui/scene/map/20_3146010.png","assets/ui/scene/map/21_5f3bc4b9.png","assets/ui/scene/map/22_8be77003.png","assets/ui/scene/map/23_704551db.png","assets/ui/scene/map/btn_jiasu_c3ce2769.png","assets/ui/scene/map/city10_587617e7.png","assets/ui/scene/map/city11_ac9bf39a.png","assets/ui/scene/map/city12_d993394b.png","assets/ui/scene/map/city13_1b320b7c.png","assets/ui/scene/map/city14_c4f14d5a.png","assets/ui/scene/map/city15_dc4d42a.png","assets/ui/scene/map/city16_86253a68.png","assets/ui/scene/map/city17_4ebf9092.png","assets/ui/scene/map/city18_9e6d1730.png","assets/ui/scene/map/city19_7cec8683.png","assets/ui/scene/map/city1_f9bf32ec.png","assets/ui/scene/map/city20_18307e7f.png","assets/ui/scene/map/city21_133d7d45.png","assets/ui/scene/map/city22_cec45bd0.png","assets/ui/scene/map/city23_b0351a2a.png","assets/ui/scene/map/city24_7635eb.png","assets/ui/scene/map/city25_b6f8360e.png","assets/ui/scene/map/city2_5801d5b6.png","assets/ui/scene/map/city3_63ff0cb3.png","assets/ui/scene/map/city4_decaf1e5.png","assets/ui/scene/map/city5_69d720ca.png","assets/ui/scene/map/city6_d1543ce6.png","assets/ui/scene/map/city7_383886f0.png","assets/ui/scene/map/city8_ab1707ae.png","assets/ui/scene/map/city9_4a3e25fa.png","assets/ui/scene/map/dialog_38ff94f5.png","assets/ui/scene/map/effect_cjbx_d4bb81d.png","assets/ui/scene/map/effect_cjc_ec1f2dfa.png","assets/ui/scene/map/effect_cjfd_fd33a6e2.png","assets/ui/scene/map/effect_cjry_4c43fcc3.png","assets/ui/scene/map/effect_cjsb_ab4eb19c.png","assets/ui/scene/map/effect_cjxk_ea2b863b.png","assets/ui/scene/map/effect_ship_73c53f79.png","assets/ui/scene/map/flytips_3f51e6.png","assets/ui/scene/map/iconmapinfo_31593ba9.png","assets/ui/scene/map/itemicon_b55ef0af.png","assets/ui/scene/map/jinru_5e2e57a2.png","assets/ui/scene/map/mapBg_38374961.jpg","assets/ui/scene/map/mapfly_13132642.png","assets/ui/scene/map/pmCenter0_bc140bf6.jpg","assets/ui/scene/map/pmCenter1_1742feff.jpg","assets/ui/scene/map/pmCenter2_e93990c4.png","assets/ui/scene/map/pmCenter3_28ad8c6f.png","assets/ui/scene/map/pmCenter4_40347a74.png","assets/ui/scene/map/pmctips_93295099.png","assets/ui/scene/map/pokemonicon_13d7502e.png","assets/ui/scene/map/qianwanglingqu_c34e560a.png","assets/ui/scene/mapCenter/Tx_buzhuorenwu_c1ab68a7.png","assets/ui/scene/mapCenter/Tx_keqianwanglinqu_d863d033.png","assets/ui/scene/mapCenter/Tx_kexuanbkm_bab080bc.png","assets/ui/scene/mapCenter/Tx_linqusj_bf37a39c.png","assets/ui/scene/mapCenter/Tx_meifzzj_66c4b162.png","assets/ui/scene/mapCenter/Tx_shenyucs_2119b0ab.png","assets/ui/scene/mapCenter/Tx_yixuanbkm_d08ab9ed.png","assets/ui/scene/mapCenter/Tx_zenjiasj_b065b9d.png","assets/ui/scene/mapCenter/UI_kuang_jinlingqiu_e478516b.png","assets/ui/scene/mining/bg_d2a6aa61.png","assets/ui/scene/missionReward/Tx_genduo_647c9f93.png","assets/ui/scene/mysteryShop/shenmishangcheng_5f7e97e5.png","assets/ui/scene/pieceShop/0001_a47310a9.png","assets/ui/scene/pieceShop/0002_72b27418.png","assets/ui/scene/pieceShop/beij_9857079e.jpg","assets/ui/scene/pieceShop/suipianshangcheng_b0779ee6.png","assets/ui/scene/pieceShop/Tx_qufangsheng_93d780d8.png","assets/ui/scene/pieceShop/Tx_title_jinlingspsc_241250fa.png","assets/ui/scene/pieceShop/UI_bg_jinlingsc_93f48a22.png","assets/ui/scene/player/1_d32a6515.png","assets/ui/scene/player/2_307ceccd.png","assets/ui/scene/player/3_d955715c.png","assets/ui/scene/player/4_195132ce.png","assets/ui/scene/player/5_56d31f50.png","assets/ui/scene/player/6_32588cc1.png","assets/ui/scene/player/7_8699d490.png","assets/ui/scene/player/8_2837e0c7.png","assets/ui/scene/player/bg_5e1a32cb.png","assets/ui/scene/player/dj1_140d5df6.png","assets/ui/scene/player/dj2_54209aeb.png","assets/ui/scene/player/dj3_cffae247.png","assets/ui/scene/player/dj4_361ab597.png","assets/ui/scene/player/djx10_bcaf1fe4.png","assets/ui/scene/player/djx2_d313d1d3.png","assets/ui/scene/player/djx3_7917bc3.png","assets/ui/scene/player/djx5_902010cb.png","assets/ui/scene/player/frame_306439db.png","assets/ui/scene/player/levelUp2_9edaede0.png","assets/ui/scene/player/levelUp3_366653fb.png","assets/ui/scene/player/room_33ba797.png","assets/ui/scene/player/Tx_gongxintsz_8a01c86f.png","assets/ui/scene/player/Tx_qingshouxndcz_faf079c.png","assets/ui/scene/player/vipmeirilibao_5f91de92.png","assets/ui/scene/preOrder/2_508184cc.png","assets/ui/scene/preOrder/3_4ac7c2b3.png","assets/ui/scene/preOrder/4_7f2f6036.png","assets/ui/scene/preOrder/5_7c7a7e17.png","assets/ui/scene/preOrder/6_8200093e.png","assets/ui/scene/preOrder/7_d0e40161.png","assets/ui/scene/pvp/bg1_c42d5b16.png","assets/ui/scene/pvp/bg2_5f625ebc.png","assets/ui/scene/pvp/bg3_452aebce.png","assets/ui/scene/pvp/bg_a86c7b8.jpg","assets/ui/scene/pvp/bottom_c99a48d2.png","assets/ui/scene/pvp/Icon_jiangbei_1_22e733e5.png","assets/ui/scene/pvp/Icon_jiangbei_2_7b08ebaa.png","assets/ui/scene/pvp/Icon_jiangbei_3_c0121f14.png","assets/ui/scene/pvp/Icon_jiangbei_4_4ccd1c02.png","assets/ui/scene/pvp/Icon_jiangbei_5_2ba0cf9f.png","assets/ui/scene/pvp/Icon_jiangbei_6_6b277679.png","assets/ui/scene/pvp/Icon_jiangbei_7_1086f8c3.png","assets/ui/scene/pvp/infoBg_a263da8b.png","assets/ui/scene/pvp/top_a352e8bc.png","assets/ui/scene/pvpRank/bg_609571c5.png","assets/ui/scene/rebirth/bg_1c158712.png","assets/ui/scene/rebirth/chongsheng_769b6678.png","assets/ui/scene/rebirth/chongshenhouhuode_f7cb116c.png","assets/ui/scene/rebirth/tip_7aa84a18.png","assets/ui/scene/rebirth/Tx_jinbics_d4a36d7e.png","assets/ui/scene/rebirth/Tx_zuanshics_3a8728ff.png","assets/ui/scene/recharge/bg_dc8fc3f5.png","assets/ui/scene/recharge/czjh_ea0da5b1.png","assets/ui/scene/recharge/shibai_62cbb24b.png","assets/ui/scene/recharge/songmenghuan_d87b2a98.png","assets/ui/scene/recharge/Tx_chakanvip_95375eb8.png","assets/ui/scene/recharge/Tx_chongzhi_1b4d6298.png","assets/ui/scene/recharge/Tx_huafei_a6d62846.png","assets/ui/scene/recharge/Tx_qianwangcz_86c65bd4.png","assets/ui/scene/recharge/Tx_shouchongsb_bc944907.png","assets/ui/scene/recharge/Tx_songmenghuan_72948683.png","assets/ui/scene/recharge/Tx_Vipmrlb_b59b0efc.png","assets/ui/scene/recharge/Tx_viptqjs_8c1bd89b.png","assets/ui/scene/recharge/Tx_viptq_8d6b5e6.png","assets/ui/scene/recharge/Tx_zhuanshuyhlb_71f04709.png","assets/ui/scene/recharge/UI_bg_Vip_7fdd4fbb.png","assets/ui/scene/recharge/v3_8583c5aa.png","assets/ui/scene/recharge/youhuiliwu_d40c15ef.png","assets/ui/scene/rift/10_38e4bb1e.png","assets/ui/scene/rift/11_21549ec3.png","assets/ui/scene/rift/12_83106da0.png","assets/ui/scene/rift/13_51a9f3a5.png","assets/ui/scene/rift/14_db2bfd0c.png","assets/ui/scene/rift/15_9303ee3e.png","assets/ui/scene/rift/16_ee76a72c.png","assets/ui/scene/rift/17_a57e40e0.png","assets/ui/scene/rift/18_d6bb6487.png","assets/ui/scene/rift/19_8689c8d3.png","assets/ui/scene/rift/1_9358177b.png","assets/ui/scene/rift/20_ac2e24e6.png","assets/ui/scene/rift/2_659a3378.png","assets/ui/scene/rift/3_e6a48fe7.png","assets/ui/scene/rift/4_7d60c244.png","assets/ui/scene/rift/5_f1973c2a.png","assets/ui/scene/rift/6_3e776c86.png","assets/ui/scene/rift/7_9c393b13.png","assets/ui/scene/rift/8_b0deab1b.png","assets/ui/scene/rift/9_c33ecc19.png","assets/ui/scene/rift/bg_830cfff5.png","assets/ui/scene/rift/dice_6c679aed.png","assets/ui/scene/shop/bg2_145e4d59.png","assets/ui/scene/shop/bg_a3301d36.png","assets/ui/scene/shop/d1_b019ecf.png","assets/ui/scene/shop/d2_1a8146a8.png","assets/ui/scene/shop/d3_139859a2.png","assets/ui/scene/shop/d4_cf97f017.png","assets/ui/scene/shop/d5_cf3a6266.png","assets/ui/scene/shop/huanying_36188690.png","assets/ui/scene/shop/icon_10d578d0.png","assets/ui/scene/shop/infoBg_696e4abe.png","assets/ui/scene/shop/itemBg_ead1911b.png","assets/ui/scene/shop/legendary_ee35e48c.png","assets/ui/scene/shop/pmBg_aa26de3c.png","assets/ui/scene/shop/preview_5dadccc0.png","assets/ui/scene/shop/recover_d5b548b1.png","assets/ui/scene/shop/top_63ab35e6.png","assets/ui/scene/sign/icon_15ca7184.png","assets/ui/scene/sign/icon_kuang01_a5809b9c.png","assets/ui/scene/sign/pm_4a497ce2.png","assets/ui/scene/sign/Tx_benyuewc_9f61e2af.png","assets/ui/scene/sign/Tx_buqian_cf4041aa.png","assets/ui/scene/sign/Tx_qiandao_a17d5c39.png","assets/ui/scene/sign/Tx_title_qiandao_6de42ac6.png","assets/ui/scene/sign/Tx_yiqiand_ff183d59.png","assets/ui/scene/skill/b2_71023df4.png","assets/ui/scene/skill/bg1_490660f3.png","assets/ui/scene/skill/bg2_1bb96f9a.png","assets/ui/scene/skill/btnbq02_d_8b3e2555.png","assets/ui/scene/skill/btnbq02_u_b4e6295c.png","assets/ui/scene/skill/skillIcon_6b7d401f.png","assets/ui/scene/skill/Tx_jinengyxj_e802bcac.png","assets/ui/scene/skill/Tx_kexuanjn_deacf6c2.png","assets/ui/scene/skill/Tx_xiaotis_2d02aa39.png","assets/ui/scene/skill/Tx_xuexij_d18299e3.png","assets/ui/scene/skill/Tx_zhongzujn_4511f4cc.png","assets/ui/scene/skill/UI_bq_shuom_5b438c1a.png","assets/ui/scene/skillBook/di_ca748e96.png","assets/ui/scene/skillBook/shape_725e5458.png","assets/ui/scene/story/bg_dd04e378.jpg","assets/ui/scene/story2/bg_f590365b.png","assets/ui/scene/story2/zhandouBg_32c680e0.png","assets/ui/scene/strengthTip/tanhao_thwj_5be6dbe2.png","assets/ui/scene/strengthTip/Tx_chongwujh_8361a3fe.png","assets/ui/scene/strengthTip/Tx_chongwusx_b7cb2415.png","assets/ui/scene/strengthTip/Tx_duiwusj_5e8e5d06.png","assets/ui/scene/strengthTip/Tx_gaojind_9a6e72db.png","assets/ui/scene/strengthTip/Tx_getizhixl_fa693725.png","assets/ui/scene/strengthTip/Tx_jinengxx_f33a523a.png","assets/ui/scene/strengthTip/Tx_nulizhits_b2652db3.png","assets/ui/scene/strengthTip/Tx_qinmidupy_4331b7ae.png","assets/ui/scene/strengthTip/Tx_shoucicz_4ed46ff2.png","assets/ui/scene/strengthTip/Tx_tianfuxx_3ae1c06.png","assets/ui/scene/strengthTip/Tx_woyaobianqiang_98dcfbb3.png","assets/ui/scene/strengthTip/Tx_xiedaizb_d765be34.png","assets/ui/scene/strengthTip/UI_star01_bf25469b.png","assets/ui/scene/subway/a1_fa21f83a.png","assets/ui/scene/subway/a2_24f8a06.png","assets/ui/scene/subway/a3_ec79acc3.png","assets/ui/scene/subway/a4_b349c869.png","assets/ui/scene/subway/arrowdown_4cd4cd77.png","assets/ui/scene/subway/biankuang_cd08e10c.png","assets/ui/scene/subway/di_1f207621.jpg","assets/ui/scene/subway/map1_e63544f2.png","assets/ui/scene/subway/map2_cc6874cf.png","assets/ui/scene/subway/riben_6e7ca388.jpg","assets/ui/scene/subway/shijie2_c4a96bc2.png","assets/ui/scene/subway/shijie_a172ce17.jpg","assets/ui/scene/subway/station1_9ea256f8.png","assets/ui/scene/subway/station2_6f880eec.png","assets/ui/scene/subway/subwaybattlebg1_fa7dfc9f.jpg","assets/ui/scene/subway/subwaybattlebg2_a7c82601.jpg","assets/ui/scene/subway/Tx_dongjingwan_d24b99a2.png","assets/ui/scene/subway/Tx_guojixian_3166f820.png","assets/ui/scene/subway/Tx_guoneixian_9621eb69.png","assets/ui/scene/subway/Tx_qianwang_fec281e6.png","assets/ui/scene/superGashapon/Tx_choujiang10cbc_903d985b.png","assets/ui/scene/superGashapon/Tx_title_chaojind_535b2771.png","assets/ui/scene/superGashapon/UI_bg_niudanchaoji_5362b98.png","assets/ui/scene/task/xindi_8a0fcb1e.png","assets/ui/scene/task/xinIcon_9ffc211c.png","assets/ui/scene/team/1_a134cfba.png","assets/ui/scene/team/2_7b8621cd.png","assets/ui/scene/team/3_3fbe3e67.png","assets/ui/scene/team/4_d78438b0.png","assets/ui/scene/team/5_80414e3e.png","assets/ui/scene/team/6_46567993.png","assets/ui/scene/team/7_f5cf6816.png","assets/ui/scene/team/8_911097e3.png","assets/ui/scene/team/9_5e62a521.png","assets/ui/scene/team/arrow1_64a43629.png","assets/ui/scene/team/arrow2_6be0117e.png","assets/ui/scene/team/bg_ca3d0ff8.png","assets/ui/scene/team/bookBg_329ed435.png","assets/ui/scene/team/btnbq01_d_765ccedb.png","assets/ui/scene/team/btnbq01_u_6bd1a24c.png","assets/ui/scene/team/Btn_05_26dafb84.png","assets/ui/scene/team/Btn_danx01_d_f3f5f54f.png","assets/ui/scene/team/Btn_danx01_u_3d6a5d59.png","assets/ui/scene/team/Btn_jiah01_24c1236c.png","assets/ui/scene/team/chongsheng_7563a76d.png","assets/ui/scene/team/duiwushengji_5fa450fd.png","assets/ui/scene/team/gsbg_afae4206.png","assets/ui/scene/team/icon_kuang_baf7619c.png","assets/ui/scene/team/Jdt01_bg_4c7a63e3.png","assets/ui/scene/team/Jdt01_ft_5a57f520.png","assets/ui/scene/team/Jdt02_bg_78837fad.png","assets/ui/scene/team/Jdt02_ft_c2f8056f.png","assets/ui/scene/team/Jdt03_bg_4c62d316.png","assets/ui/scene/team/Jdt03_ft_21650c94.png","assets/ui/scene/team/Jdt04_bg_a5eebd3e.png","assets/ui/scene/team/Jdt04_ft_ad4df8f3.png","assets/ui/scene/team/Jdt05_bg_c540cdb6.png","assets/ui/scene/team/Jdt05_ft_d3986d70.png","assets/ui/scene/team/Kuang_bai01_ced10135.png","assets/ui/scene/team/Kuang_lan01_1882b0df.png","assets/ui/scene/team/listBg_1a782af3.png","assets/ui/scene/team/newDi_da43364.png","assets/ui/scene/team/powerBg_70944192.png","assets/ui/scene/team/shengqi_712d04a2.png","assets/ui/scene/team/trainBg_e9b4786e.png","assets/ui/scene/team/Txshiyyc_b80ad2bc.png","assets/ui/scene/team/Tx_baojdj_67429b0e.png","assets/ui/scene/team/Tx_dangqdj_371c8da3.png","assets/ui/scene/team/Tx_dengj01_f952e860.png","assets/ui/scene/team/Tx_dengj_1f7a264c.png","assets/ui/scene/team/Tx_getzzh_50e8d863.png","assets/ui/scene/team/Tx_jief_1363a6d1.png","assets/ui/scene/team/Tx_jinh01_205a3de.png","assets/ui/scene/team/Tx_jinhtj_a5386a0a.png","assets/ui/scene/team/Tx_jinh_5a8d1a9a.png","assets/ui/scene/team/Tx_jinrsy_9bf329fa.png","assets/ui/scene/team/Tx_liketj_31abd0d9.png","assets/ui/scene/team/Tx_meirifxshl_6fd27b47.png","assets/ui/scene/team/Tx_meirifx_9d55b980.png","assets/ui/scene/team/Tx_mingzdj_e0b577ae.png","assets/ui/scene/team/Tx_nulz_bb0e6635.png","assets/ui/scene/team/Tx_putxl_3be1bbca.png","assets/ui/scene/team/Tx_qinmd01_f9dec3f8.png","assets/ui/scene/team/Tx_qinmd_53398bb5.png","assets/ui/scene/team/Tx_qinmidu_7fad5279.png","assets/ui/scene/team/Tx_shanbdj_9c6689ea.png","assets/ui/scene/team/Tx_shenjie_f115ea8.png","assets/ui/scene/team/Tx_shenjxh_9145e79e.png","assets/ui/scene/team/Tx_shenj_3ce6c9c0.png","assets/ui/scene/team/Tx_shenm_283d9dee.png","assets/ui/scene/team/Tx_shensj_2fd146c6.png","assets/ui/scene/team/Tx_shenxsx_80ce9d4.png","assets/ui/scene/team/Tx_shenx_c27ce7d3.png","assets/ui/scene/team/Tx_shiysc_3043eeb2.png","assets/ui/scene/team/Tx_shuguo_db23ffe7.png","assets/ui/scene/team/Tx_sm_meicxl_15bad017.png","assets/ui/scene/team/Tx_sm_qinltm_b7f10bf6.png","assets/ui/scene/team/Tx_sud_8729cbbb.png","assets/ui/scene/team/Tx_suivip_ef719c5d.png","assets/ui/scene/team/Tx_tef_a684a8c7.png","assets/ui/scene/team/Tx_teg_f6dc1569.png","assets/ui/scene/team/Tx_tianjiadaozmshl_b2226f62.png","assets/ui/scene/team/Tx_weiy_f5cd580e.png","assets/ui/scene/team/Tx_wuf_57166471.png","assets/ui/scene/team/Tx_wug_3867416c.png","assets/ui/scene/team/Tx_xinj01_d872dae9.png","assets/ui/scene/team/Tx_xinj_50e56df8.png","assets/ui/scene/team/Tx_yijtj_2f41c752.png","assets/ui/scene/team/Tx_yisml_a2bc5c3f.png","assets/ui/scene/team/Tx_zhandl_91f3cbdf.png","assets/ui/scene/team/Tx_zongqmd_32ffc5b2.png","assets/ui/scene/team/Tx_zuansxl_e74236d7.png","assets/ui/scene/team/UI_BG01_dfbac39.png","assets/ui/scene/team/UI_BG02_da05f3e8.png","assets/ui/scene/team/UI_BG03_483687ae.png","assets/ui/scene/team/UI_BG05_c58499c1.png","assets/ui/scene/team/UI_BG09_1b1766ab.png","assets/ui/scene/team/UI_BGjh_bcdbbfe0.png","assets/ui/scene/team/UI_bg_meirifxshl_b4df5fe4.png","assets/ui/scene/team/UI_bg_tianjiadaozmshl_97846690.png","assets/ui/scene/team/UI_Bq_tx_9413c9d0.png","assets/ui/scene/team/UI_icon_suo01_d52c06f7.png","assets/ui/scene/team/UI_icon_suo02_c0328e39.png","assets/ui/scene/team/zhu_acb8e51f.png","assets/ui/scene/updateTip/1_efa861e6.png","assets/ui/scene/updateTip/2_5a691c4f.png","assets/ui/scene/updateTip/3_a9b8edb0.png","assets/ui/scene/updateTip/4_822cc0e3.png","assets/ui/scene/updateTip/5_a76e7e37.png","assets/ui/scene/updateTip/6_f03284a8.png","assets/ui/scene/updateTip/btn_a79e93bc.png","assets/ui/scene/updateTip/btn_bg_4b1a2c44.png","assets/ui/scene/updateTip/gengxinneirong_355c6b61.png","assets/ui/scene/updateTip/lijiqianwang_b48acfa4.png","assets/ui/scene/updateTip/select_bg_ce5209db.png","assets/ui/scene/zhankuangzhan/01_3406d026.png","assets/ui/scene/zhankuangzhan/02_93a8fc56.png","assets/ui/scene/zhankuangzhan/03_30f2defd.png","assets/ui/scene/zhankuangzhan/04_45d19127.png","assets/ui/scene/zhankuangzhan/05_b9f7bad4.png","assets/ui/scene/zhankuangzhan/06_d3a114d2.png","assets/ui/scene/zhankuangzhan/07_50e49ea9.png","assets/ui/scene/zhankuangzhan/1_2dfa4c68.png","assets/ui/scene/zhankuangzhan/2_881e1d6.png","assets/ui/scene/zhankuangzhan/3_dbf7b2e6.png","assets/ui/scene/zhankuangzhan/4_a68c89a5.png","assets/ui/scene/zhankuangzhan/5_584c0dea.png","assets/ui/scene/zhankuangzhan/6_9801240e.png","assets/ui/scene/zhankuangzhan/7_d1e057cb.png","assets/ui/scene/zhankuangzhan/beijing_297c681c.png","assets/ui/scene/zhankuangzhan/choudi_a0d91123.png","assets/ui/scene/zhankuangzhan/fangshouchenggong_4a49ab00.png","assets/ui/scene/zhankuangzhan/gongjichenggong_ffe9a07d.png","assets/ui/scene/zhankuangzhan/huodele_c8015478.png","assets/ui/scene/zhankuangzhan/lueduochenggong_bb207b50.png","assets/ui/scene/zhankuangzhan/nibeiqiangle_ea5ccb.png","assets/ui/scene/zhankuangzhan/nigongjile2_dd36e3af.png","assets/ui/scene/zhankuangzhan/nigongjile_8e261ba4.png","assets/ui/scene/zhankuangzhan/select_b4524fac.png","assets/ui/scene/zhankuangzhan/Tx_yijianqc_c310478c.png","assets/ui/scene/zhankuangzhan/weijiesuo_f909ac6a.png","assets/ui/scene/zhankuangzhan/zhandoushibai_9733ef9f.png","assets/ui/scene/zhankuangzhan/zhanlingchenggong_ef655e44.png","bones/01_character_f/01_character_f_ske_6ad5a5a2.json","bones/01_character_f/01_character_f_tex_b96a095c.png","bones/01_character_f/01_character_f_tex_cc40bbbf.json","bones/01_character_m/01_character_m_ske_c30b2e4b.json","bones/01_character_m/01_character_m_tex_e34b05f7.png","bones/01_character_m/01_character_m_tex_eddf3e71.json","bones/1001jiagong/1001jiagong_ske_3d865d06.json","bones/1001jiagong/1001jiagong_tex_29ff0ed8.json","bones/1001jiagong/1001jiagong_tex_e24ae8d1.png","bones/1002jiafang/1002jiafang_ske_65e334df.json","bones/1002jiafang/1002jiafang_tex_55ee54d2.png","bones/1002jiafang/1002jiafang_tex_df69eff5.json","bones/1003jiabaoji/1003jiabaoji_ske_268b9ec1.json","bones/1003jiabaoji/1003jiabaoji_tex_6f9d952f.json","bones/1003jiabaoji/1003jiabaoji_tex_77bf59c9.png","bones/1004jiasu/1004jiasu_ske_6422976c.json","bones/1004jiasu/1004jiasu_tex_2f05d0e5.json","bones/1004jiasu/1004jiasu_tex_fd3ccb6c.png","bones/1101quchudunyu/1101quchudunyu_ske_f16c8d58.json","bones/1101quchudunyu/1101quchudunyu_tex_1a7d34ca.png","bones/1101quchudunyu/1101quchudunyu_tex_4bee173c.json","bones/1104haojiao/1104haojiao_ske_3a40f73e.json","bones/1104haojiao/1104haojiao_tex_2a9cbbfa.json","bones/1104haojiao/1104haojiao_tex_7618de66.png","bones/1201shuimianfen/1201shuimianfen_ske_931b9a06.json","bones/1201shuimianfen/1201shuimianfen_tex_613ede44.png","bones/1201shuimianfen/1201shuimianfen_tex_70cfaa41.json","bones/1202mabifen/1202mabifen_ske_5e6f62f9.json","bones/1202mabifen/1202mabifen_tex_3bd0e3bc.json","bones/1202mabifen/1202mabifen_tex_cca5a589.png","bones/1203dufen/1203dufen_ske_9a44a695.json","bones/1203dufen/1203dufen_tex_c6c4a9a5.json","bones/1203dufen/1203dufen_tex_f4833510.png","bones/1302guangqiang/1302guangqiang_ske_31af58ce.json","bones/1302guangqiang/1302guangqiang_tex_4be4a87b.png","bones/1302guangqiang/1302guangqiang_tex_a4d974c4.json","bones/141bingya/141bingya_ske_bf99d597.json","bones/141bingya/141bingya_tex_2f423f7b.json","bones/141bingya/141bingya_tex_5c1e480a.png","bones/1501shengzhang/1501shengzhang_ske_ad0a0bab.json","bones/1501shengzhang/1501shengzhang_tex_12d54377.json","bones/1501shengzhang/1501shengzhang_tex_5ece33b1.png","bones/1502yingzifenshen/1502yingzifenshen_ske_5cfab4ac.json","bones/1502yingzifenshen/1502yingzifenshen_tex_1e767790.png","bones/1502yingzifenshen/1502yingzifenshen_tex_e392c712.json","bones/241tengbian/241tengbian_ske_12686e66.json","bones/241tengbian/241tengbian_tex_17514514.png","bones/241tengbian/241tengbian_tex_40e5fe33.json","bones/42huoyanquan/42huoyanquan_ske_832616bd.json","bones/42huoyanquan/42huoyanquan_tex_af6becd5.json","bones/42huoyanquan/42huoyanquan_tex_ff92aa57.png","bones/43baoliequan/43baoliequan_ske_cd022105.json","bones/43baoliequan/43baoliequan_tex_1e821021.json","bones/43baoliequan/43baoliequan_tex_50d86d83.png","bones/61shiziqie/61shiziqie_ske_41ce44d8.json","bones/61shiziqie/61shiziqie_tex_512343f.png","bones/61shiziqie/61shiziqie_tex_5d3541ca.json","bones/62yanshifensui/62yanshifensui_ske_fa01ff79.json","bones/62yanshifensui/62yanshifensui_tex_1f5a71ef.png","bones/62yanshifensui/62yanshifensui_tex_5086a5ff.json","bones/63diyufeiti/63diyufeiti_ske_a2f6935a.json","bones/63diyufeiti/63diyufeiti_tex_62dc0e5c.png","bones/63diyufeiti/63diyufeiti_tex_f9c1729d.json","bones/66/66_ske_7996a1b1.json","bones/66/66_tex_aab76724.json","bones/66/66_tex_c616172c.png","bones/801/801_ske_a26d067c.json","bones/801/801_tex_4ae38abd.json","bones/801/801_tex_cb2fc0be.png","bones/802/802_ske_b6c0b8db.json","bones/802/802_tex_2d63356a.json","bones/802/802_tex_a8e10bf6.png","bones/803/803_ske_90fb335.json","bones/803/803_tex_4f1f3e24.json","bones/803/803_tex_d496fc2a.png","bones/804/804_ske_51dc76b2.json","bones/804/804_tex_6d27f1c1.png","bones/804/804_tex_c2a4087d.json","bones/805/805_ske_32eca27f.json","bones/805/805_tex_62a055e5.png","bones/805/805_tex_cdb203d9.json","bones/806/806_ske_ded90fe6.json","bones/806/806_tex_53955822.json","bones/806/806_tex_63141de0.png","bones/807/807_ske_306c9b78.json","bones/807/807_tex_131e3199.png","bones/807/807_tex_a1232a14.json","bones/808/808_ske_58bb5b3e.json","bones/808/808_tex_380937ac.json","bones/808/808_tex_4a4e86e1.png","bones/809/809_ske_fa6e9372.json","bones/809/809_tex_34a42a9f.json","bones/809/809_tex_fdea44bf.png","bones/810/810_ske_e405b0b6.json","bones/810/810_tex_3556b52d.png","bones/810/810_tex_e7da9049.json","bones/aerzhousi/aerzhousi_ske_bd92b61e.json","bones/aerzhousi/aerzhousi_tex_4f5b9e45.json","bones/aerzhousi/aerzhousi_tex_79b5caa8.png","bones/an01/an01_ske_2cf3b532.json","bones/an01/an01_tex_7db17b66.png","bones/an01/an01_tex_f7db84db.json","bones/anheibaopo/anheibaopo_ske_2597f7d4.json","bones/anheibaopo/anheibaopo_tex_3a4170ad.json","bones/anheibaopo/anheibaopo_tex_aa67559.png","bones/ani_zhandouks/ani_zhandouks_ske_bd9eddef.json","bones/ani_zhandouks/ani_zhandouks_tex_508a9aa0.png","bones/ani_zhandouks/ani_zhandouks_tex_bf3ba4a7.json","bones/bailong/bailong_ske_96f86e4c.json","bones/bailong/bailong_tex_74f15ac5.png","bones/bailong/bailong_tex_ff1175a3.json","bones/baiwandunzhongquan/baiwandunzhongquan_ske_171c4408.json","bones/baiwandunzhongquan/baiwandunzhongquan_tex_64405e1.json","bones/baiwandunzhongquan/baiwandunzhongquan_tex_bf324a62.png","bones/baoyinbo/baoyinbo_ske_db672f96.json","bones/baoyinbo/baoyinbo_tex_6a28889c.json","bones/baoyinbo/baoyinbo_tex_b98eb4d5.png","bones/baozha01/baozha01_ske_d622c680.json","bones/baozha01/baozha01_tex_bbf8822.json","bones/baozha01/baozha01_tex_f74a22f7.png","bones/baozuanshi/baozuanshi_ske_f55ac0fd.json","bones/baozuanshi/baozuanshi_tex_59950d68.json","bones/baozuanshi/baozuanshi_tex_a2169dd7.png","bones/bianfu/bianfu_ske_dae42e4e.json","bones/bianfu/bianfu_tex_3c28c3c7.json","bones/bianfu/bianfu_tex_f748693f.png","bones/binfengshijie/binfengshijie_ske_81c3b44d.json","bones/binfengshijie/binfengshijie_tex_209da630.png","bones/binfengshijie/binfengshijie_tex_d91db7cf.json","bones/bingbao/bingbao_ske_1cbc51ce.json","bones/bingbao/bingbao_tex_8313b925.json","bones/bingbao/bingbao_tex_c8eb6bcf.png","bones/bingbaoyu/bingbaoyu_ske_71359062.json","bones/bingbaoyu/bingbaoyu_tex_9b705e9f.png","bones/bingbaoyu/bingbaoyu_tex_9fab57a8.json","bones/bingchui/bingchui_ske_65ba07cf.json","bones/bingchui/bingchui_tex_3f1a9f3e.png","bones/bingchui/bingchui_tex_c1f3456b.json","bones/bingdongbaozha/bingdongbaozha_ske_4db3b5d1.json","bones/bingdongbaozha/bingdongbaozha_tex_ba3fa57c.json","bones/bingdongbaozha/bingdongbaozha_tex_c5289c1d.png","bones/bingzhua/bingzhua_ske_ab219603.json","bones/bingzhua/bingzhua_tex_332d861c.json","bones/bingzhua/bingzhua_tex_b779bc1e.png","bones/bodaodan/bodaodan_ske_b8c5a407.json","bones/bodaodan/bodaodan_tex_8c3faa6.png","bones/bodaodan/bodaodan_tex_ce19871d.json","bones/BOSStexiao/BOSStexiao_ske_7ba0989f.json","bones/BOSStexiao/BOSStexiao_tex_3697dcf1.json","bones/BOSStexiao/BOSStexiao_tex_5e9599d7.png","bones/BUFFbingdong/BUFFbingdong_ske_8d0eb5bf.json","bones/BUFFbingdong/BUFFbingdong_tex_ef69985c.json","bones/BUFFbingdong/BUFFbingdong_tex_f58924e3.png","bones/BUFFdu/BUFFdu_ske_f1a8a2a2.json","bones/BUFFdu/BUFFdu_tex_5f1b824a.png","bones/BUFFdu/BUFFdu_tex_b6be9f02.json","bones/BUFFhunluan/BUFFhunluan_ske_7fd63aaa.json","bones/BUFFhunluan/BUFFhunluan_tex_26a84ac5.png","bones/BUFFhunluan/BUFFhunluan_tex_818f1ca2.json","bones/BUFFmabi/BUFFmabi_ske_ca9379d5.json","bones/BUFFmabi/BUFFmabi_tex_4de82f1.json","bones/BUFFmabi/BUFFmabi_tex_afd1fc43.png","bones/BUFFshaoshang/BUFFshaoshang_ske_380a5841.json","bones/BUFFshaoshang/BUFFshaoshang_tex_9536bb55.png","bones/BUFFshaoshang/BUFFshaoshang_tex_b2a6b94b.json","bones/BUFFshuimian/BUFFshuimian_ske_7af6cc45.json","bones/BUFFshuimian/BUFFshuimian_tex_8595245e.json","bones/BUFFshuimian/BUFFshuimian_tex_dfdcb83.png","bones/caihongtian/caihongtian_ske_c40cc03a.json","bones/caihongtian/caihongtian_tex_6de4b875.png","bones/caihongtian/caihongtian_tex_89b887f2.json","bones/caoxibaozha01/caoxibaozha01_ske_4678838e.json","bones/caoxibaozha01/caoxibaozha01_tex_345d948b.png","bones/caoxibaozha01/caoxibaozha01_tex_5d1a3000.json","bones/caoxibaozha02/caoxibaozha02_ske_9187513e.json","bones/caoxibaozha02/caoxibaozha02_tex_1396b083.png","bones/caoxibaozha02/caoxibaozha02_tex_b73eb586.json","bones/caoxibaozha03/caoxibaozha03_ske_c26a9613.json","bones/caoxibaozha03/caoxibaozha03_tex_7851faeb.json","bones/caoxibaozha03/caoxibaozha03_tex_8992f586.png","bones/caoxibaozha04/caoxibaozha04_ske_1fd3276c.json","bones/caoxibaozha04/caoxibaozha04_tex_40e99249.json","bones/caoxibaozha04/caoxibaozha04_tex_ec06c77a.png","bones/changertu/changertu_ske_a3056b85.json","bones/changertu/changertu_tex_3233963e.png","bones/changertu/changertu_tex_48588e18.json","bones/changge/changge_ske_f697e064.json","bones/changge/changge_tex_5606b1cd.png","bones/changge/changge_tex_6a8e3cd.json","bones/chenglang/chenglang_ske_bd4d0a01.json","bones/chenglang/chenglang_tex_9a1083f8.png","bones/chenglang/chenglang_tex_ff89088.json","bones/chengse_bg/chengse_bg_ske_ae34d407.json","bones/chengse_bg/chengse_bg_tex_6402f4c7.json","bones/chengse_bg/chengse_bg_tex_c04b1ae1.png","bones/chongzhidikang/chongzhidikang_ske_4674cebb.json","bones/chongzhidikang/chongzhidikang_tex_aaab29a5.png","bones/chongzhidikang/chongzhidikang_tex_eb4e39c5.json","bones/chouqutexiao/chouqutexiao_ske_25b42904.json","bones/chouqutexiao/chouqutexiao_tex_2f965b97.json","bones/chouqutexiao/chouqutexiao_tex_e4980c7d.png","bones/chuqiyiji/chuqiyiji_ske_fbd8efbf.json","bones/chuqiyiji/chuqiyiji_tex_936cb1a5.json","bones/chuqiyiji/chuqiyiji_tex_be2e8bb4.png","bones/citiezhadan/citiezhadan_ske_2e1e3c3b.json","bones/citiezhadan/citiezhadan_tex_4afd1966.png","bones/citiezhadan/citiezhadan_tex_d42d04ec.json","bones/dadizhangkong/dadizhangkong_ske_d835100d.json","bones/dadizhangkong/dadizhangkong_tex_4aa51484.json","bones/dadizhangkong/dadizhangkong_tex_c66bf8a0.png","bones/daqintian/daqintian_ske_c64a5965.json","bones/daqintian/daqintian_tex_89cb170f.json","bones/daqintian/daqintian_tex_8e434f3a.png","bones/dawenzi/dawenzi_ske_a4d2a997.json","bones/dawenzi/dawenzi_tex_59afb5e4.png","bones/dawenzi/dawenzi_tex_a3d7b6ec.json","bones/dengta/dengta_ske_28a3152f.json","bones/dengta/dengta_tex_d89f23da.json","bones/dengta/dengta_tex_de645090.png","bones/diandao/diandao_ske_fe8d18f9.json","bones/diandao/diandao_tex_5bbaf373.png","bones/diandao/diandao_tex_922ddb0f.json","bones/dianguangyishan/dianguangyishan_ske_dbe78782.json","bones/dianguangyishan/dianguangyishan_tex_47161006.png","bones/dianguangyishan/dianguangyishan_tex_87dc2bb0.json","bones/dianji/dianji_ske_d55e18dc.json","bones/dianji/dianji_tex_284313da.json","bones/dianji/dianji_tex_df3a2816.png","bones/dianjidilie/dianjidilie_ske_9ee2ef9c.json","bones/dianjidilie/dianjidilie_tex_748b2900.png","bones/dianjidilie/dianjidilie_tex_7986f16f.json","bones/dianma/dianma_ske_9b1e03d1.json","bones/dianma/dianma_tex_593ecbd9.json","bones/dianma/dianma_tex_5e242b82.png","bones/diewu/diewu_ske_d1193e39.json","bones/diewu/diewu_tex_28f00dd.json","bones/diewu/diewu_tex_ddf74b2f.png","bones/dizhen/dizhen_ske_1de323.json","bones/dizhen/dizhen_tex_6022d29c.json","bones/dizhen/dizhen_tex_af1b0bda.png","bones/duanyazhijian_backup/duanyazhijian_backup_ske_196fc1a1.json","bones/duanyazhijian_backup/duanyazhijian_backup_tex_2d410d30.png","bones/duanyazhijian_backup/duanyazhijian_backup_tex_42ced47e.json","bones/duyexianjin/duyexianjin_ske_6fa09dda.json","bones/duyexianjin/duyexianjin_tex_bee29f62.png","bones/duyexianjin/duyexianjin_tex_c6393e62.json","bones/duyu/duyu_ske_1581a3ba.json","bones/duyu/duyu_tex_3f6fcc35.json","bones/duyu/duyu_tex_82b47ec.png","bones/effect_megajinhua/effect_megajinhua_ske_12413510.json","bones/effect_megajinhua/effect_megajinhua_tex_838941d6.json","bones/effect_megajinhua/effect_megajinhua_tex_e045e811.png","bones/eft_linqu/eft_linqu_ske_826e685d.json","bones/eft_linqu/eft_linqu_tex_3d761f8a.json","bones/eft_linqu/eft_linqu_tex_543c4318.png","bones/eft_liuguang01/eft_liuguang01_ske_4344c44a.json","bones/eft_liuguang01/eft_liuguang01_tex_60fa9ba.png","bones/eft_liuguang01/eft_liuguang01_tex_6cd595bc.json","bones/eft_starflash01/eft_starflash01_ske_ddf5e5f4.json","bones/eft_starflash01/eft_starflash01_tex_3de3d466.png","bones/eft_starflash01/eft_starflash01_tex_5265a2c2.json","bones/fadian/fadian_ske_16ce933e.json","bones/fadian/fadian_tex_12e2fe58.png","bones/fadian/fadian_tex_3ddf3f97.json","bones/fangxiangbowu/fangxiangbowu_ske_99946a90.json","bones/fangxiangbowu/fangxiangbowu_tex_38d1afaa.png","bones/fangxiangbowu/fangxiangbowu_tex_8b86f761.json","bones/feiyekuaidao/feiyekuaidao_ske_c38abfc0.json","bones/feiyekuaidao/feiyekuaidao_tex_ca2cc5d5.png","bones/feiyekuaidao/feiyekuaidao_tex_ff7ce1.json","bones/fendantongchu/fendantongchu_ske_5d710fb3.json","bones/fendantongchu/fendantongchu_tex_241e9484.png","bones/fendantongchu/fendantongchu_tex_f8fd6cae.json","bones/gangyi/gangyi_ske_b78a6853.json","bones/gangyi/gangyi_tex_83eb3e56.png","bones/gangyi/gangyi_tex_e48b5ff3.json","bones/gaowenzhongya/gaowenzhongya_ske_aa46aa36.json","bones/gaowenzhongya/gaowenzhongya_tex_17112f65.png","bones/gaowenzhongya/gaowenzhongya_tex_6b869108.json","bones/gongxihuode/gongxihuode_ske_ca88784e.json","bones/gongxihuode/gongxihuode_tex_4f852604.json","bones/gongxihuode/gongxihuode_tex_6eb70b49.png","bones/guaichuxianqian/guaichuxianqian_ske_a56e5258.json","bones/guaichuxianqian/guaichuxianqian_tex_13dbbc7c.png","bones/guaichuxianqian/guaichuxianqian_tex_ab44a733.json","bones/guaiyidianbo/guaiyidianbo_ske_8f881a2f.json","bones/guaiyidianbo/guaiyidianbo_tex_263382d.png","bones/guaiyidianbo/guaiyidianbo_tex_fab3d044.json","bones/guang01/guang01_ske_bb47e637.json","bones/guang01/guang01_tex_82daa886.png","bones/guang01/guang01_tex_a8a6f090.json","bones/guangqiu/guangqiu_ske_675e4b00.json","bones/guangqiu/guangqiu_tex_4fe63f10.png","bones/guangqiu/guangqiu_tex_cff04386.json","bones/guangzhu/guangzhu_ske_b0b8da3d.json","bones/guangzhu/guangzhu_tex_a28b4dcc.json","bones/guangzhu/guangzhu_tex_c16511d6.png","bones/guangzhua/guangzhua_ske_60019a1e.json","bones/guangzhua/guangzhua_tex_38c48582.png","bones/guangzhua/guangzhua_tex_8bb43ac8.json","bones/gubangluanda/gubangluanda_ske_ad4fbee7.json","bones/gubangluanda/gubangluanda_tex_6971f42.json","bones/gubangluanda/gubangluanda_tex_b81db959.png","bones/hanshuangbulv/hanshuangbulv_ske_724278a9.json","bones/hanshuangbulv/hanshuangbulv_tex_41a072c4.json","bones/hanshuangbulv/hanshuangbulv_tex_733c9c2.png","bones/heilong/heilong_ske_2be54df.json","bones/heilong/heilong_tex_4afbde37.json","bones/heilong/heilong_tex_7ed8b8ef.png","bones/heiselongjuan/heiselongjuan_ske_9da4827d.json","bones/heiselongjuan/heiselongjuan_tex_65e36cad.png","bones/heiselongjuan/heiselongjuan_tex_c05e86b8.json","bones/heiwu/heiwu_ske_78591d8.json","bones/heiwu/heiwu_tex_792baa74.json","bones/heiwu/heiwu_tex_d4646ecb.png","bones/huabanwu/huabanwu_ske_2db054b4.json","bones/huabanwu/huabanwu_tex_230c8fb9.png","bones/huabanwu/huabanwu_tex_aaa71ae.json","bones/huixinquan/huixinquan_ske_eabd6d2.json","bones/huixinquan/huixinquan_tex_b91dea7.json","bones/huixinquan/huixinquan_tex_e8e63f70.png","bones/huo01/huo01_ske_2a508a8e.json","bones/huo01/huo01_tex_b07b2344.json","bones/huo01/huo01_tex_e239ccdc.png","bones/huodongiconlight/huodongiconlight_ske_c2b77530.json","bones/huodongiconlight/huodongiconlight_tex_49ae4fcb.png","bones/huodongiconlight/huodongiconlight_tex_b2078bd9.json","bones/huoxiquntishouji001/huoxiquntishouji001_ske_86d4c70a.json","bones/huoxiquntishouji001/huoxiquntishouji001_tex_aa42b8ba.png","bones/huoxiquntishouji001/huoxiquntishouji001_tex_de5c23fc.json","bones/huoxiquntishouji002/huoxiquntishouji002_ske_62e768bd.json","bones/huoxiquntishouji002/huoxiquntishouji002_tex_1c958d41.png","bones/huoxiquntishouji002/huoxiquntishouji002_tex_26fb3f7d.json","bones/huoxiquntishouji003_all/huoxiquntishouji003_all_ske_938a983e.json","bones/huoxiquntishouji003_all/huoxiquntishouji003_all_tex_b4540845.json","bones/huoxiquntishouji003_all/huoxiquntishouji003_all_tex_f3a2d06b.png","bones/huoyanxuanwo/huoyanxuanwo_ske_767e2986.json","bones/huoyanxuanwo/huoyanxuanwo_tex_ae114758.png","bones/huoyanxuanwo/huoyanxuanwo_tex_fc5901ee.json","bones/jiancifangshou/jiancifangshou_ske_dedd854.json","bones/jiancifangshou/jiancifangshou_tex_2fcf9332.json","bones/jiancifangshou/jiancifangshou_tex_a2937865.png","bones/jianongguangpao/jianongguangpao_ske_ff3460e1.json","bones/jianongguangpao/jianongguangpao_tex_4e1be7d6.json","bones/jianongguangpao/jianongguangpao_tex_54aaab8a.png","bones/jianongshuipao/jianongshuipao_ske_94faf49.json","bones/jianongshuipao/jianongshuipao_tex_5b195480.json","bones/jianongshuipao/jianongshuipao_tex_a3c6e198.png","bones/jiaohuan/jiaohuan_ske_9be4b1f7.json","bones/jiaohuan/jiaohuan_tex_25615561.png","bones/jiaohuan/jiaohuan_tex_7520ad2c.json","bones/jiazhu/jiazhu_ske_6be7de82.json","bones/jiazhu/jiazhu_tex_411f8f5f.json","bones/jiazhu/jiazhu_tex_ba797da5.png","bones/jinhua/jinhua_ske_451e2866.json","bones/jinhua/jinhua_tex_3092f7d8.json","bones/jinhua/jinhua_tex_52a95dd1.png","bones/jinjichangshenli/jinjichangshenli_ske_e9c72ef4.json","bones/jinjichangshenli/jinjichangshenli_tex_71e0f5ec.json","bones/jinjichangshenli/jinjichangshenli_tex_83f2dafa.png","bones/jinlingqiudakai/jinlingqiudakai_ske_671b3065.json","bones/jinlingqiudakai/jinlingqiudakai_tex_29562f65.png","bones/jinlingqiudakai/jinlingqiudakai_tex_c43745ed.json","bones/jishengzhongzi/jishengzhongzi_ske_676f5cb8.json","bones/jishengzhongzi/jishengzhongzi_tex_541671c7.json","bones/jishengzhongzi/jishengzhongzi_tex_6e609df7.png","bones/juduya/juduya_ske_7ac53ee4.json","bones/juduya/juduya_tex_43c71386.png","bones/juduya/juduya_tex_a88f6740.json","bones/juqi/juqi_ske_ac16d058.json","bones/juqi/juqi_tex_2ecfb239.json","bones/juqi/juqi_tex_b240c85e.png","bones/JUQIshuixixuanwo/JUQIshuixixuanwo_ske_aac500c.json","bones/JUQIshuixixuanwo/JUQIshuixixuanwo_tex_427056f5.png","bones/JUQIshuixixuanwo/JUQIshuixixuanwo_tex_dd3d7371.json","bones/JUQIshuixixuanwo02/JUQIshuixixuanwo02_ske_1e953421.json","bones/JUQIshuixixuanwo02/JUQIshuixixuanwo02_tex_1db38c08.png","bones/JUQIshuixixuanwo02/JUQIshuixixuanwo02_tex_608debec.json","bones/JUQIshuixixuanwo03/JUQIshuixixuanwo03_ske_5bc8784a.json","bones/JUQIshuixixuanwo03/JUQIshuixixuanwo03_tex_3b868d66.png","bones/JUQIshuixixuanwo03/JUQIshuixixuanwo03_tex_6d715b29.json","bones/JUQIshuixixuanwo04/JUQIshuixixuanwo04_ske_711e1199.json","bones/JUQIshuixixuanwo04/JUQIshuixixuanwo04_tex_4b3faa79.png","bones/JUQIshuixixuanwo04/JUQIshuixixuanwo04_tex_8307a491.json","bones/JUQIshuixixuanwo05/JUQIshuixixuanwo05_ske_e0a54369.json","bones/JUQIshuixixuanwo05/JUQIshuixixuanwo05_tex_1d7d1b44.json","bones/JUQIshuixixuanwo05/JUQIshuixixuanwo05_tex_b4876853.png","bones/JUQIshuixixuanwo06/JUQIshuixixuanwo06_ske_c339e6c2.json","bones/JUQIshuixixuanwo06/JUQIshuixixuanwo06_tex_33c6a53f.png","bones/JUQIshuixixuanwo06/JUQIshuixixuanwo06_tex_e800b3aa.json","bones/kaichangjlq_ah/kaichangjlq_ah_ske_43683425.json","bones/kaichangjlq_ah/kaichangjlq_ah_tex_1013b21d.png","bones/kaichangjlq_ah/kaichangjlq_ah_tex_2ecf01d9.json","bones/kaichangjlq_cf/kaichangjlq_cf_ske_708f6d4.json","bones/kaichangjlq_cf/kaichangjlq_cf_tex_4066ff95.json","bones/kaichangjlq_cf/kaichangjlq_cf_tex_c746872c.png","bones/kaichangjlq_cj/kaichangjlq_cj_ske_1092fd7f.json","bones/kaichangjlq_cj/kaichangjlq_cj_tex_5d959aec.json","bones/kaichangjlq_cj/kaichangjlq_cj_tex_839550c9.png","bones/kaichangjlq_ds/kaichangjlq_ds_ske_c1cb18f7.json","bones/kaichangjlq_ds/kaichangjlq_ds_tex_670c33a5.json","bones/kaichangjlq_ds/kaichangjlq_ds_tex_7a7dfa05.png","bones/kaichangjlq_hj/kaichangjlq_hj_ske_47a7c869.json","bones/kaichangjlq_hj/kaichangjlq_hj_tex_86b0c9c6.json","bones/kaichangjlq_hj/kaichangjlq_hj_tex_d1aacf8.png","bones/kaichangjlq_yy/kaichangjlq_yy_ske_7d1f7beb.json","bones/kaichangjlq_yy/kaichangjlq_yy_tex_1e02b92b.json","bones/kaichangjlq_yy/kaichangjlq_yy_tex_d7d9f336.png","bones/kaishizhanouqiu/kaishizhanouqiu_ske_7c028749.json","bones/kaishizhanouqiu/kaishizhanouqiu_tex_f0173f2f.png","bones/kaishizhanouqiu/kaishizhanouqiu_tex_fe2fb867.json","bones/kejichong/kejichong_ske_2f138fee.json","bones/kejichong/kejichong_tex_9c0f3cd6.png","bones/kejichong/kejichong_tex_a2f82960.json","bones/kongqiliren/kongqiliren_ske_586804f0.json","bones/kongqiliren/kongqiliren_tex_57a79d49.png","bones/kongqiliren/kongqiliren_tex_bd53c37e.json","bones/kuaisuzhandou/kuaisuzhandou_ske_b0e5eeba.json","bones/kuaisuzhandou/kuaisuzhandou_tex_343bb261.json","bones/kuaisuzhandou/kuaisuzhandou_tex_97f56123.png","bones/kuanglongzhihun/kuanglongzhihun_ske_34d61577.json","bones/kuanglongzhihun/kuanglongzhihun_tex_471e3c45.json","bones/kuanglongzhihun/kuanglongzhihun_tex_7c04dafd.png","bones/langtou/langtou_ske_e7143fe3.json","bones/langtou/langtou_tex_6f0eb6d3.json","bones/langtou/langtou_tex_f2a8b95b.png","bones/leiji/leiji_ske_a2412b1e.json","bones/leiji/leiji_tex_6702ce44.json","bones/leiji/leiji_tex_80c26783.png","bones/leiji2/leiji2_ske_8c2ca4a4.json","bones/leiji2/leiji2_tex_105c5c60.png","bones/leiji2/leiji2_tex_97cb2f9.json","bones/leizhenyu/leizhenyu_ske_818c8435.json","bones/leizhenyu/leizhenyu_tex_b68245a6.json","bones/leizhenyu/leizhenyu_tex_d0986405.png","bones/lenjinleishe/lenjinleishe_ske_e941107f.json","bones/lenjinleishe/lenjinleishe_tex_783c93ce.png","bones/lenjinleishe/lenjinleishe_tex_a9de52bb.json","bones/lieyanjianshe/lieyanjianshe_ske_37b51d20.json","bones/lieyanjianshe/lieyanjianshe_tex_2bf81af.png","bones/lieyanjianshe/lieyanjianshe_tex_6860c13d.json","bones/liuxinghuoyu/liuxinghuoyu_ske_f5c2922c.json","bones/liuxinghuoyu/liuxinghuoyu_tex_3e440744.png","bones/liuxinghuoyu/liuxinghuoyu_tex_5cb5963e.json","bones/liuxinqun/liuxinqun_ske_6815eb7e.json","bones/liuxinqun/liuxinqun_tex_dcf452bb.json","bones/liuxinqun/liuxinqun_tex_e8b3b0b4.png","bones/loading/loading_ske_e55a12c4.json","bones/loading/loading_tex_508438a6.png","bones/loading/loading_tex_e563a8d.json","bones/longkoupenhuo/longkoupenhuo_ske_e8f67f82.json","bones/longkoupenhuo/longkoupenhuo_tex_225eee28.json","bones/longkoupenhuo/longkoupenhuo_tex_e272b6cb.png","bones/longzhibodong/longzhibodong_ske_913e8145.json","bones/longzhibodong/longzhibodong_tex_42fb8a53.json","bones/longzhibodong/longzhibodong_tex_e2b3a0a4.png","bones/longzhua/longzhua_ske_160b468e.json","bones/longzhua/longzhua_tex_18684378.json","bones/longzhua/longzhua_tex_6cbb1c08.png","bones/luoshi/luoshi_ske_c5432749.json","bones/luoshi/luoshi_tex_a4ad9f6b.json","bones/luoshi/luoshi_tex_ce57863.png","bones/luoyinbinfeng/luoyinbinfeng_ske_182a80c9.json","bones/luoyinbinfeng/luoyinbinfeng_tex_e1f6b4b6.png","bones/luoyinbinfeng/luoyinbinfeng_tex_f2e081a4.json","bones/lvshuteng/lvshuteng_ske_a154af05.json","bones/lvshuteng/lvshuteng_tex_de84dc71.json","bones/lvshuteng/lvshuteng_tex_f4dff112.png","bones/mamacici/mamacici_ske_dc16806e.json","bones/mamacici/mamacici_tex_e074db49.json","bones/mamacici/mamacici_tex_e6d40390.png","bones/meinasi/meinasi_ske_799a60fd.json","bones/meinasi/meinasi_tex_42cb1297.json","bones/meinasi/meinasi_tex_d04c0528.png","bones/meizhuadaoguai/meizhuadaoguai_ske_21052940.json","bones/meizhuadaoguai/meizhuadaoguai_tex_5f8bdd11.png","bones/meizhuadaoguai/meizhuadaoguai_tex_96b58e8.json","bones/mingxiang/mingxiang_ske_475cffef.json","bones/mingxiang/mingxiang_tex_8cf59696.json","bones/mingxiang/mingxiang_tex_b71bd2a8.png","bones/miyu/miyu_ske_cef3e813.json","bones/miyu/miyu_tex_dbf458c3.json","bones/miyu/miyu_tex_f92a24e5.png","bones/mofang/mofang_ske_5222a1c9.json","bones/mofang/mofang_tex_399dc240.json","bones/mofang/mofang_tex_d935e02c.png","bones/naojuzhongjie/naojuzhongjie_ske_9a9bc67f.json","bones/naojuzhongjie/naojuzhongjie_tex_a89204f4.png","bones/naojuzhongjie/naojuzhongjie_tex_b55ed7a5.json","bones/naoyang/naoyang_ske_c085b41f.json","bones/naoyang/naoyang_tex_9f5d0091.png","bones/naoyang/naoyang_tex_b848fa86.json","bones/niaozuijianongpao/niaozuijianongpao_ske_bf9d7a13.json","bones/niaozuijianongpao/niaozuijianongpao_tex_22f9ae7a.png","bones/niaozuijianongpao/niaozuijianongpao_tex_44a08f45.json","bones/nibazhadan/nibazhadan_ske_63df09ba.json","bones/nibazhadan/nibazhadan_tex_23aea543.png","bones/nibazhadan/nibazhadan_tex_c2b83e57.json","bones/niudanji/niudanji_ske_f3351eab.json","bones/niudanji/niudanji_tex_210d9a17.json","bones/niudanji/niudanji_tex_e8ee3de2.png","bones/niudanji_bg/niudanji_bg_ske_a03ee64a.json","bones/niudanji_bg/niudanji_bg_tex_aeac010b.json","bones/niudanji_bg/niudanji_bg_tex_b69594c7.png","bones/niudanpan/niudanpan_ske_cf85c375.json","bones/niudanpan/niudanpan_tex_bf6b683.json","bones/niudanpan/niudanpan_tex_c60c6218.png","bones/niudantitle/niudantitle_ske_6349e9be.json","bones/niudantitle/niudantitle_tex_71cc40e0.json","bones/niudantitle/niudantitle_tex_c9c44502.png","bones/paida/paida_ske_e24e18b0.json","bones/paida/paida_tex_850befd5.json","bones/paida/paida_tex_d75b72b.png","bones/paowumianchongdian/paowumianchongdian_ske_61e47def.json","bones/paowumianchongdian/paowumianchongdian_tex_136e2a73.json","bones/paowumianchongdian/paowumianchongdian_tex_39cbba81.png","bones/particle/qingtian/qingtian_7ba2d41c.json","bones/particle/qingtian/qingtian_d358c297.png","bones/particle/shachenbao/shachenbao_6b304538.json","bones/particle/shachenbao/shachenbao_b8db37d5.png","bones/particle/xuetian/xuetian_b888b578.json","bones/particle/xuetian/xuetian_f65c74e4.png","bones/particle/yintian/yintian_3bd02bf2.png","bones/particle/yintian/yintian_c11a4dc1.json","bones/particle/yutian/yutian_c094cd2b.png","bones/particle/yutian/yutian_f9074b0d.json","bones/pikaqiu/pikaqiu_ske_2fa64020.json","bones/pikaqiu/pikaqiu_tex_89ef92da.json","bones/pikaqiu/pikaqiu_tex_bf96c3ba.png","bones/pomiezhiyuan/pomiezhiyuan_ske_2ad0e9bf.json","bones/pomiezhiyuan/pomiezhiyuan_tex_75c08c97.png","bones/pomiezhiyuan/pomiezhiyuan_tex_c8093542.json","bones/qianlinqixi/qianlinqixi_ske_53bfcb.json","bones/qianlinqixi/qianlinqixi_tex_33f6d641.png","bones/qianlinqixi/qianlinqixi_tex_5649f7a4.json","bones/qianshui/qianshui_ske_ba18aa81.json","bones/qianshui/qianshui_tex_688848ec.png","bones/qianshui/qianshui_tex_7b5222db.json","bones/qiuyu/qiuyu_ske_318b629d.json","bones/qiuyu/qiuyu_tex_194f71c0.png","bones/qiuyu/qiuyu_tex_d5f077d8.json","bones/qiyizhifeng/qiyizhifeng_ske_a72a87bf.json","bones/qiyizhifeng/qiyizhifeng_tex_a49498fc.png","bones/qiyizhifeng/qiyizhifeng_tex_cb8555b5.json","bones/qiyizhihua/qiyizhihua_ske_8c08414f.json","bones/qiyizhihua/qiyizhihua_tex_d3f67f67.json","bones/qiyizhihua/qiyizhihua_tex_eb943e84.png","bones/riguangsu/riguangsu_ske_87fd69d1.json","bones/riguangsu/riguangsu_tex_9316133a.png","bones/riguangsu/riguangsu_tex_e08c9a7.json","bones/rushou/rushou_ske_dd43e485.json","bones/rushou/rushou_tex_19848a36.json","bones/rushou/rushou_tex_1da57b69.png","bones/sajinbi/sajinbi_ske_4a9bd76f.json","bones/sajinbi/sajinbi_tex_50eb1641.json","bones/sajinbi/sajinbi_tex_dfd24b32.png","bones/salin/salin_ske_ffb2595b.json","bones/salin/salin_tex_75751707.png","bones/salin/salin_tex_9019adeb.json","bones/shan/shan_ske_e1c789c7.json","bones/shan/shan_tex_28b0a004.json","bones/shan/shan_tex_a2477c0e.png","bones/shangchengjlsp/shangchengjlsp_ske_347398e.json","bones/shangchengjlsp/shangchengjlsp_tex_196b8a96.json","bones/shangchengjlsp/shangchengjlsp_tex_64e672bc.png","bones/shanyanchongfeng/shanyanchongfeng_ske_43a43532.json","bones/shanyanchongfeng/shanyanchongfeng_tex_28fe68d2.json","bones/shanyanchongfeng/shanyanchongfeng_tex_b9758e93.png","bones/shengji/shengji_ske_7133e83a.json","bones/shengji/shengji_tex_3f6bde40.json","bones/shengji/shengji_tex_b6b7942a.png","bones/shenmishouhu/shenmishouhu_ske_4212e081.json","bones/shenmishouhu/shenmishouhu_tex_479f2095.png","bones/shenmishouhu/shenmishouhu_tex_6706dd8d.json","bones/shenniaomengji/shenniaomengji_ske_195021dd.json","bones/shenniaomengji/shenniaomengji_tex_9dda044f.png","bones/shenniaomengji/shenniaomengji_tex_f26fae64.json","bones/shenqibg/shenqibg_ske_bdb2993e.json","bones/shenqibg/shenqibg_tex_8361157e.png","bones/shenqibg/shenqibg_tex_f36520bd.json","bones/shenshengzhihuo/shenshengzhihuo_ske_e394520b.json","bones/shenshengzhihuo/shenshengzhihuo_tex_ad6a6ad3.json","bones/shenshengzhihuo/shenshengzhihuo_tex_b2264bf6.png","bones/shiguangpaoxiao/shiguangpaoxiao_ske_235c74d2.json","bones/shiguangpaoxiao/shiguangpaoxiao_tex_1ad93820.png","bones/shiguangpaoxiao/shiguangpaoxiao_tex_fe36165.json","bones/shilitishen/shilitishen_ske_264381ed.json","bones/shilitishen/shilitishen_tex_a4bdd221.json","bones/shilitishen/shilitishen_tex_d42b5cd4.png","bones/shimen/shimen_ske_9db4d169.json","bones/shimen/shimen_tex_425cdbc8.png","bones/shimen/shimen_tex_54363fc9.json","bones/shiziduren/shiziduren_ske_b2749d1.json","bones/shiziduren/shiziduren_tex_1dd9f43a.png","bones/shiziduren/shiziduren_tex_9c18e493.json","bones/shui01/shui01_ske_ce6b179f.json","bones/shui01/shui01_tex_4f9757f4.png","bones/shui01/shui01_tex_ec73b179.json","bones/shuihua/shuihua_ske_2d610b5b.json","bones/shuihua/shuihua_tex_c0b83556.png","bones/shuihua/shuihua_tex_e14c991a.json","bones/shuiliuliepo/shuiliuliepo_ske_bb87a32f.json","bones/shuiliuliepo/shuiliuliepo_tex_97e20f2a.json","bones/shuiliuliepo/shuiliuliepo_tex_a83c411b.png","bones/shuiliuqiangxi/shuiliuqiangxi_ske_f18a0a47.json","bones/shuiliuqiangxi/shuiliuqiangxi_tex_acb6a58b.png","bones/shuiliuqiangxi/shuiliuqiangxi_tex_c42c07ce.json","bones/shuilongjuan/shuilongjuan_ske_247bd1f7.json","bones/shuilongjuan/shuilongjuan_tex_32c885cc.png","bones/shuilongjuan/shuilongjuan_tex_f61149e1.json","bones/shuixibaozha001/shuixibaozha001_ske_484e5d6d.json","bones/shuixibaozha001/shuixibaozha001_tex_1f72686e.png","bones/shuixibaozha001/shuixibaozha001_tex_922b6947.json","bones/shuixibaozha002/shuixibaozha002_ske_8794bbf9.json","bones/shuixibaozha002/shuixibaozha002_tex_b170dee8.json","bones/shuixibaozha002/shuixibaozha002_tex_dd5a445b.png","bones/shuixibaozha011/shuixibaozha011_ske_5bec0505.json","bones/shuixibaozha011/shuixibaozha011_tex_9d835484.json","bones/shuixibaozha011/shuixibaozha011_tex_f4da1ed9.png","bones/shuizhibodong/shuizhibodong_ske_c5c57608.json","bones/shuizhibodong/shuizhibodong_tex_633fc0d1.png","bones/shuizhibodong/shuizhibodong_tex_b709b933.json","bones/shuizhishiyue/shuizhishiyue_ske_e313464d.json","bones/shuizhishiyue/shuizhishiyue_tex_62114e7.png","bones/shuizhishiyue/shuizhishiyue_tex_83225679.json","bones/shuizhu/shuizhu_ske_78809f7b.json","bones/shuizhu/shuizhu_tex_8d949b0c.json","bones/shuizhu/shuizhu_tex_b391faac.png","bones/sihouxiaoguo/sihouxiaoguo_ske_9a2faac5.json","bones/sihouxiaoguo/sihouxiaoguo_tex_71150a9d.json","bones/sihouxiaoguo/sihouxiaoguo_tex_c789a19.png","bones/songmenhuan/songmenhuan_ske_8dbed24e.json","bones/songmenhuan/songmenhuan_tex_3a56d717.json","bones/songmenhuan/songmenhuan_tex_6cf562cb.png","bones/suanyezhadan/suanyezhadan_ske_4e58b6d1.json","bones/suanyezhadan/suanyezhadan_tex_b27ecf74.json","bones/suanyezhadan/suanyezhadan_tex_c383612c.png","bones/suishi/suishi_ske_a71fbc57.json","bones/suishi/suishi_tex_bc4a9cf4.json","bones/suishi/suishi_tex_cdef204d.png","bones/suiyan/suiyan_ske_6b834ff.json","bones/suiyan/suiyan_tex_2ea31182.json","bones/suiyan/suiyan_tex_4ecb54c.png","bones/taishanyading/taishanyading_ske_21f4a45a.json","bones/taishanyading/taishanyading_tex_11ac8926.png","bones/taishanyading/taishanyading_tex_c04c3c4b.json","bones/taiyang/taiyang_ske_3cda17fd.json","bones/taiyang/taiyang_tex_ddadfce9.json","bones/taiyang/taiyang_tex_eba6784.png","bones/tianshizhiwen/tianshizhiwen_ske_4461ebc6.json","bones/tianshizhiwen/tianshizhiwen_tex_6351bc0d.json","bones/tianshizhiwen/tianshizhiwen_tex_68bc8945.png","bones/tishen/tishen_ske_b8b34222.json","bones/tishen/tishen_tex_1d219cba.json","bones/tishen/tishen_tex_1fc7200.png","bones/tu01/tu01_ske_66bccb6.json","bones/tu01/tu01_tex_ad78d4ef.png","bones/tu01/tu01_tex_c6c8b853.json","bones/UI_jt01/UI_jt01_ske_31afb65c.json","bones/UI_jt01/UI_jt01_tex_2cec823.png","bones/UI_jt01/UI_jt01_tex_eb96667f.json","bones/Vreyan/Vreyan_ske_e9a1bf6f.json","bones/Vreyan/Vreyan_tex_21a068a4.json","bones/Vreyan/Vreyan_tex_7f99c4a4.png","bones/wanshenye/wanshenye_ske_798c514d.json","bones/wanshenye/wanshenye_tex_81ee82d1.png","bones/wanshenye/wanshenye_tex_f532a5e6.json","bones/wucaiguang/wucaiguang_ske_6178a4b7.json","bones/wucaiguang/wucaiguang_tex_6194e7bb.png","bones/wucaiguang/wucaiguang_tex_cda3b299.json","bones/wuqijiaocha/wuqijiaocha_ske_fddae3f6.json","bones/wuqijiaocha/wuqijiaocha_tex_12f5b338.png","bones/wuqijiaocha/wuqijiaocha_tex_9a037b88.json","bones/xianhuafangshou/xianhuafangshou_ske_795d7329.json","bones/xianhuafangshou/xianhuafangshou_tex_9e85b0da.json","bones/xianhuafangshou/xianhuafangshou_tex_e432083.png","bones/xiapanti/xiapanti_ske_1d04bc22.json","bones/xiapanti/xiapanti_tex_3415f3f9.json","bones/xiapanti/xiapanti_tex_4aef7d88.png","bones/xingongnkq/xingongnkq_ske_2571cf4b.json","bones/xingongnkq/xingongnkq_tex_2cac5bb2.json","bones/xingongnkq/xingongnkq_tex_b9d583f3.png","bones/xiquliliang/xiquliliang_ske_ff26be4f.json","bones/xiquliliang/xiquliliang_tex_cb6bdb7d.png","bones/xiquliliang/xiquliliang_tex_f88ab295.json","bones/xiququan/xiququan_ske_97434071.json","bones/xiququan/xiququan_tex_2e843a43.json","bones/xiququan/xiququan_tex_823f92f8.png","bones/xiquzhiwen/xiquzhiwen_ske_1cece513.json","bones/xiquzhiwen/xiquzhiwen_tex_7b8975e4.png","bones/xiquzhiwen/xiquzhiwen_tex_8864d6b3.json","bones/xuanfu/xuanfu_ske_8b6ab5e0.json","bones/xuanfu/xuanfu_tex_7bb73acf.png","bones/xuanfu/xuanfu_tex_ed567548.json","bones/xuanjue/xuanjue_ske_d89422f7.json","bones/xuanjue/xuanjue_tex_35cc2111.png","bones/xuanjue/xuanjue_tex_6c5a1051.json","bones/xunengbaofa/xunengbaofa_ske_6704a00d.json","bones/xunengbaofa/xunengbaofa_tex_5b1b3240.png","bones/xunengbaofa/xunengbaofa_tex_a52341f1.json","bones/xunengyanxi/xunengyanxi_ske_78f8be9.json","bones/xunengyanxi/xunengyanxi_tex_8ef5dafd.png","bones/xunengyanxi/xunengyanxi_tex_ac573a9.json","bones/xuzhangshenshi/xuzhangshenshi_ske_d5b9e78.json","bones/xuzhangshenshi/xuzhangshenshi_tex_284ac71.json","bones/xuzhangshenshi/xuzhangshenshi_tex_9b0a250e.png","bones/yanben/yanben_ske_3d2812ea.json","bones/yanben/yanben_tex_a0cfe3ee.json","bones/yanben/yanben_tex_daf3fbb1.png","bones/yanjing/yanjing_ske_c414260c.json","bones/yanjing/yanjing_tex_1b64b73e.json","bones/yanjing/yanjing_tex_394d217b.png","bones/yanshifengsuo/yanshifengsuo_ske_7f09242a.json","bones/yanshifengsuo/yanshifengsuo_tex_da1ec038.json","bones/yanshifengsuo/yanshifengsuo_tex_e6dbf032.png","bones/yanzhua/yanzhua_ske_165dc3ff.json","bones/yanzhua/yanzhua_tex_d962145e.json","bones/yanzhua/yanzhua_tex_de9b799e.png","bones/yao/yao_ske_cbab08e2.json","bones/yao/yao_tex_42b63131.png","bones/yao/yao_tex_6deeff5e.json","bones/yejl/yejl_ske_1abb1908.json","bones/yejl/yejl_tex_5d18f297.png","bones/yejl/yejl_tex_79fdb208.json","bones/yinbao/yinbao_ske_64b4921c.json","bones/yinbao/yinbao_tex_5af5d586.json","bones/yinbao/yinbao_tex_8038f8d1.png","bones/yiniantouchui/yiniantouchui_ske_4cf7b41e.json","bones/yiniantouchui/yiniantouchui_tex_6f750d0d.json","bones/yiniantouchui/yiniantouchui_tex_96eb9c3f.png","bones/yinsexuanfeng/yinsexuanfeng_ske_95cc60e2.json","bones/yinsexuanfeng/yinsexuanfeng_tex_729e2019.json","bones/yinsexuanfeng/yinsexuanfeng_tex_94df0b23.png","bones/yongniaomenggong/yongniaomenggong_ske_4c84327d.json","bones/yongniaomenggong/yongniaomenggong_tex_2b6241fa.png","bones/yongniaomenggong/yongniaomenggong_tex_3f768dbb.json","bones/yuanshizhili/yuanshizhili_ske_2720c8ca.json","bones/yuanshizhili/yuanshizhili_tex_6b0bb68c.json","bones/yuanshizhili/yuanshizhili_tex_cce54bd7.png","bones/yuantong/yuantong_ske_8ab98694.json","bones/yuantong/yuantong_tex_33b78e70.png","bones/yuantong/yuantong_tex_acaa7776.json","bones/yueliang/yueliang_ske_b05d4cfc.json","bones/yueliang/yueliang_tex_6eaa4a0.png","bones/yueliang/yueliang_tex_f1dcd2d2.json","bones/yueliangzhili/yueliangzhili_ske_3c5e1973.json","bones/yueliangzhili/yueliangzhili_tex_4bb4e199.json","bones/yueliangzhili/yueliangzhili_tex_8034a53a.png","bones/yumaobaozha/yumaobaozha_ske_58cecbca.json","bones/yumaobaozha/yumaobaozha_tex_7034fe61.json","bones/yumaobaozha/yumaobaozha_tex_ade73d0a.png","bones/yuqi/yuqi_ske_f027f86d.json","bones/yuqi/yuqi_tex_1395498a.json","bones/yuqi/yuqi_tex_24c86c0b.png","bones/yuzhiweilai/yuzhiweilai_ske_a172ce4e.json","bones/yuzhiweilai/yuzhiweilai_tex_66cdc15c.json","bones/yuzhiweilai/yuzhiweilai_tex_9ff0899.png","bones/zhandouguochang/zhandouguochang_ske_9b96d8a7.json","bones/zhandouguochang/zhandouguochang_tex_2d9dd317.json","bones/zhandouguochang/zhandouguochang_tex_40c703b8.png","bones/zhandoushengli/zhandoushengli_ske_26d660a1.json","bones/zhandoushengli/zhandoushengli_tex_3b107354.json","bones/zhandoushengli/zhandoushengli_tex_beaffcd3.png","bones/zhandoushibai/zhandoushibai_ske_57159503.json","bones/zhandoushibai/zhandoushibai_tex_66859b02.png","bones/zhandoushibai/zhandoushibai_tex_dab833c0.json","bones/zhanhou/zhanhou_ske_b25537e7.json","bones/zhanhou/zhanhou_tex_7763851b.json","bones/zhanhou/zhanhou_tex_c548824b.png","bones/zhendizhiwang/zhendizhiwang_ske_3436be73.json","bones/zhendizhiwang/zhendizhiwang_tex_372d16a0.json","bones/zhendizhiwang/zhendizhiwang_tex_ecc5dfd9.png","bones/zhenqibaozha/zhenqibaozha_ske_6299f37d.json","bones/zhenqibaozha/zhenqibaozha_tex_2fc551ad.png","bones/zhenqibaozha/zhenqibaozha_tex_3fa2f549.json","bones/zhenzha/zhenzha_ske_5e06b2d7.json","bones/zhenzha/zhenzha_tex_50922763.json","bones/zhenzha/zhenzha_tex_7198bda8.png","bones/zhiliao01/zhiliao01_ske_c2e09b0d.json","bones/zhiliao01/zhiliao01_tex_5d01fd38.png","bones/zhiliao01/zhiliao01_tex_8d5e8205.json","bones/zhiliao02/zhiliao02_ske_31d81b1b.json","bones/zhiliao02/zhiliao02_tex_4672efb.png","bones/zhiliao02/zhiliao02_tex_9afd3037.json","bones/zhiyulingsheng/zhiyulingsheng_ske_c71ebcb1.json","bones/zhiyulingsheng/zhiyulingsheng_tex_2e362f90.json","bones/zhiyulingsheng/zhiyulingsheng_tex_803cd773.png","bones/zhongta/zhongta_ske_fdddea4a.json","bones/zhongta/zhongta_tex_2a9c8426.json","bones/zhongta/zhongta_tex_6a9d33e3.png","bones/zhongta2/zhongta2_ske_6a772cd7.json","bones/zhongta2/zhongta2_tex_95fc2e0e.png","bones/zhongta2/zhongta2_tex_a1138cb.json","bones/zhongzijiguanqiang/zhongzijiguanqiang_ske_3d48dc93.json","bones/zhongzijiguanqiang/zhongzijiguanqiang_tex_af6c1107.png","bones/zhongzijiguanqiang/zhongzijiguanqiang_tex_b85119b.json","bones/zhuadaoguai/zhuadaoguai_ske_99e489e6.json","bones/zhuadaoguai/zhuadaoguai_tex_85109698.json","bones/zhuadaoguai/zhuadaoguai_tex_a244f534.png","bones/zhuazi/zhuazi_ske_292ae807.json","bones/zhuazi/zhuazi_tex_509f08c4.json","bones/zhuazi/zhuazi_tex_e8a7e210.png","bones/zhuwang/zhuwang_ske_8db8c179.json","bones/zhuwang/zhuwang_tex_187394bd.png","bones/zhuwang/zhuwang_tex_c699345a.json","bones/ziyouluoti/ziyouluoti_ske_df7ab053.json","bones/ziyouluoti/ziyouluoti_tex_25734c5e.png","bones/ziyouluoti/ziyouluoti_tex_f2ec21c1.json","bones/zuanshidianjin/zuanshidianjin_ske_19e26445.json","bones/zuanshidianjin/zuanshidianjin_tex_bc2176db.json","bones/zuanshidianjin/zuanshidianjin_tex_d2b27d87.png","packs/activityIcon1sheet_29118e30.png","packs/activityIcon1sheet_2adf7e89.json","packs/activityIcon2sheet_545dae1e.json","packs/activityIcon2sheet_84c4d6f2.png","packs/artsheet_68d99722.png","packs/artsheet_9609986c.json","packs/battlesheet_48747c53.json","packs/battlesheet_da5902df.png","packs/buffsheet_3038fbf.json","packs/buffsheet_946e7480.png","packs/buttonsheet_79ca585.json","packs/buttonsheet_9f629c66.png","packs/combosheet_2392727e.png","packs/combosheet_8eae0f32.json","packs/createsheet_41bc80cd.png","packs/createsheet_efafee4b.json","packs/detailsheet_72d2d844.png","packs/detailsheet_ce081687.json","packs/equipPanelsheet_7924a5c9.png","packs/equipPanelsheet_c5f2f089.json","packs/equipsheet_c7567149.png","packs/equipsheet_d8a6504f.json","packs/evaluationsheet_abf0be22.png","packs/evaluationsheet_c03da27f.json","packs/formationsheet_927c78e0.png","packs/formationsheet_f38d3059.json","packs/furnituresheet_41225e3e.png","packs/furnituresheet_7f7b3a73.json","packs/gashaponsheet_4ec3a964.json","packs/gashaponsheet_5caebe94.png","packs/guildIconsheet_2590122c.json","packs/guildIconsheet_2d3754e3.png","packs/guildsheet_af354485.png","packs/guildsheet_d62122e0.json","packs/gymsmallsheet_73daf549.json","packs/gymsmallsheet_f5ba7430.png","packs/homesheet_7b958dcf.png","packs/homesheet_e0fdc902.json","packs/huntsheet_c76549f.json","packs/huntsheet_f2650d28.png","packs/idlesheet_82ae5142.json","packs/idlesheet_b82c54d5.png","packs/item2sheet_33f61392.png","packs/item2sheet_a419701e.json","packs/itemRecoverysheet_33ab9345.json","packs/itemRecoverysheet_6dc564ed.png","packs/itemsheet_65f2ea05.png","packs/itemsheet_ff29e430.json","packs/jiuyisisheet_940961d8.png","packs/jiuyisisheet_ee2e00f3.json","packs/langsheet_c1d4c4a4.json","packs/langsheet_e9823d8a.png","packs/mapsheet_1d603fb1.png","packs/mapsheet_eaa28326.json","packs/miningsheet_6451a24.json","packs/miningsheet_8f2856de.png","packs/newGiftsheet_40a8490e.json","packs/newGiftsheet_d883f6a0.png","packs/newsheet_5cc29542.json","packs/newsheet_fb935ce2.png","packs/newSkillsheet_41ed41ec.png","packs/newSkillsheet_a360e295.json","packs/opensheet_87dc2840.png","packs/opensheet_c04fb29e.json","packs/panelsheet_be16f22c.png","packs/panelsheet_e5d5c617.json","packs/playersheet_cc304688.png","packs/playersheet_f70fef7a.json","packs/pokemonQsheet_1e95d0e0.png","packs/pokemonQsheet_732382bd.json","packs/projectilesheet_9c2ec79b.json","packs/projectilesheet_b9411730.png","packs/pvpRanksheet_6d63ea66.json","packs/pvpRanksheet_b9d1ecfa.png","packs/pvpsheet_473dfab0.png","packs/pvpsheet_bd0ab758.json","packs/ranksheet_959bbb2b.json","packs/ranksheet_9c026533.png","packs/rechargesheet_98484f72.png","packs/rechargesheet_98c16ff7.json","packs/riftsheet_1ce2eb09.png","packs/riftsheet_a9a7708f.json","packs/roleIconsheet_550f2e08.json","packs/roleIconsheet_9d941fcd.png","packs/sharesheet_215f12.png","packs/sharesheet_4ef0c805.json","packs/skill2sheet_80c79ab4.png","packs/skill2sheet_c008b2be.json","packs/skillsheet_b8b5f70a.png","packs/skillsheet_f888413d.json","packs/story2sheet_7fe121ee.png","packs/story2sheet_864b8dd2.json","packs/teachsheet_1bd2c3bd.json","packs/teachsheet_65228472.png","packs/teamsheet_58835a12.json","packs/teamsheet_693cf8e9.png","packs/tipssheet_45ce7250.json","packs/tipssheet_d6db313d.png","packs/titlesheet_ca2473cd.json","packs/titlesheet_e0a3913.png","packs/unlocksheet_3e81b3d.json","packs/unlocksheet_79a3af05.png","packs/utilsheet_1e28c9e9.json","packs/utilsheet_b957a8bf.png","packs/wingsheet_5d711b62.json","packs/wingsheet_81c48c17.png","packs/zhankuangzhansheet_6e6becd.json","packs/zhankuangzhansheet_880d9c4b.png"]
}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=BattleBossHpSkin,e.hpBar.maximum=100,e}return __extends(n,t),n.prototype.setPokemon=function(t){this.currentPokemon=t,this._pokemonIcon||(this._pokemonIcon=new e.PokemonIconAnim,this.pokemonGroup.addChild(this._pokemonIcon.display));var n=t.pokemonData.id;this._pokemonIcon.setPokemon(n,!0),this.nameLabel.text=e.Data.TElf[n].name},n.prototype.setMaxHp=function(e){this.maxHp=e},n.prototype.setCurHp=function(e){this.currentHp=e;var t=100*Math.min(this.currentHp/this.maxHp,1);this.hpBar.value=t,this.visible=t>0},n}(e.GameComponent);e.BattleBossHp=t,__reflect(t.prototype,"game.BattleBossHp")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._currentStep=0,e._comicPictureList=[],e._comicOnePosition=[,[25,60],[354,45],[10,290],[9,436],[365,580]],e._comicOneDirection=[,3,2,1,3,2],e._comicOneSize=[,[319,220],[366,253],[700,287],[342,664],[338,498]],e._comicTwoPosition=[,[22,24],[126,-15],[540,98],[16,270],[260,270],[10,534]],e._comicTwoDirection=[,3,2,1,2,3,3],e._comicTwoSize=[,[97,224],[594,263],[161,185],[292,396],[449,398],[701,479]],e._time=500,e._adjust=!0,e.skinName=BattleComicSkin,e.nextButton.icon="manhua/xiayibu",e.skipButton.icon="ui/scene/story2/tiaoguo",e.skipButton.addEventListener(egret.TouchEvent.TOUCH_TAP,e.skipHandle,e),e.nextButton.addEventListener(egret.TouchEvent.TOUCH_TAP,e.nextHandle,e),e.comicGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,e.nextHandle,e),e}return __extends(n,t),n.prototype.nextHandle=function(){this.nextStep()},n.prototype.skipHandle=function(){this.quit()},n.prototype.start=function(t){return this._d=e.defer(),this.runComic(t),this._d.promise()},n.prototype.runComic=function(e){switch(e){case 5:this.initComicOne();break;case 12:this.initComicTwo()}},n.prototype.initComicTwo=function(){Auth.uploadLog("剧情小漫画","2开始"),this._currentPosition=this._comicTwoPosition,this._currentDirection=this._comicTwoDirection,this._currentSize=this._comicTwoSize,this._currentStep=0,this._comicPictureList=[],this.comicGroup.removeChildren();for(var e=1;6>=e;e++){var t=new eui.Image("manhua/2/"+e);t.visible=!1;var n=this._currentPosition[e];t.x=n[0],t.y=n[1],this.comicGroup.addChild(t),this._comicPictureList.push(t)}this.nextStep()},n.prototype.initComicOne=function(){Auth.uploadLog("剧情小漫画","1开始"),this._currentPosition=this._comicOnePosition,this._currentDirection=this._comicOneDirection,this._currentSize=this._comicOneSize,this._currentStep=0,this._comicPictureList=[],this.comicGroup.removeChildren();for(var e=1;5>=e;e++){var t=new eui.Image("manhua/1/"+e);t.visible=!1;var n=this._currentPosition[e];t.x=n[0],t.y=n[1],this.comicGroup.addChild(t),this._comicPictureList.push(t)}this.nextStep()},n.prototype.nextStep=function(){var e=this;this.cleanTimeout(),this.nextButton.touchEnabled=this.comicGroup.touchEnabled=!1;var t=this._comicPictureList[this._currentStep];if(!t)return void this.quit();this._currentStep++,this._currentDirection==this._comicOneDirection?Auth.uploadLog("剧情小漫画","1第"+this._currentStep+"步"):Auth.uploadLog("剧情小漫画","2第"+this._currentStep+"步");var n=this._currentPosition[this._currentStep],i=this._currentDirection[this._currentStep],a=this._currentSize[this._currentStep];switch(i){case 2:t.x=720;break;case 3:t.x=-a[0];break;case 1:t.y=-a[1];break;case 4:t.y=1100}t.visible=!0,egret.Tween.get(t).to({x:n[0],y:n[1]},this._time).call(function(){e.nextButton.touchEnabled=e.comicGroup.touchEnabled=!0,e._timeOut=egret.setTimeout(function(){e._timeOut=null,e.nextStep()},e,5e3)})},n.prototype.quit=function(){this._currentDirection==this._comicOneDirection?Auth.uploadLog("剧情小漫画","1结束"):Auth.uploadLog("剧情小漫画","2结束"),this.cleanTimeout();for(var e=0;e<this._comicPictureList.length;e++)egret.Tween.removeTweens(this._comicPictureList[e]);this.stop()},n.prototype.cleanTimeout=function(){this._timeOut&&(egret.clearTimeout(this._timeOut),this._timeOut=null)},n.prototype.onHeightChange=function(){t.prototype.onHeightChange.call(this),this.bgRect.scaleX=this.bgRect.scaleY=this._heightScale},n.prototype.stop=function(){this._d&&(this._d.resolve(null),this._d=null),this.removeFromParent()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.GameComponent);e.BattleComic=t,__reflect(t.prototype,"game.BattleComic")}(game||(game={}));var game;!function(e){var t=function(){function e(){}return e.prototype.create=function(e,t,n){this.effectData=t,this.round=t.buffRound,this.originPokemon=e,this.damage=n},e.prototype.onCreate=function(){},e.prototype.onDestroy=function(){},e}();e.BattleEffect=t,__reflect(t.prototype,"game.BattleEffect",["game.PoolItem"])}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=BattleLoseSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.levelButton.icon="langs/qushengji",this.catchButton.icon="langs/quzhuaguai",this.gashaponButton.icon="langs/quniudan",this.shopButton.icon="langs/qumaimaimai",this.dungeonButton.icon="langs/qushuashuashua",this.taskButton.icon="langs/quzuorenwu",this.OneYuanGroup.visible=!1,this._adjust=!0,this._touchEvent=[{target:this.confirmButton,callBackFunc:this.closeHandle},{target:this.levelButton,callBackFunc:this.touchLevel},{target:this.catchButton,callBackFunc:this.touchCatch},{target:this.gashaponButton,callBackFunc:this.touchGashapon},{target:this.shopButton,callBackFunc:this.touchShop},{target:this.dungeonButton,callBackFunc:this.touchDungeon},{target:this.taskButton,callBackFunc:this.touchTask},{target:this.buyButton,callBackFunc:function(){e.ActivityPanel.openActivity(100),t.closeHandle()}}],this.buyButton.image="ui/scene/idle/Tx_goumai",this.buyButton.bg="ui/scene/activity/btn_12",this.addEventAndNotify(),this.confirmButton.image="langs/Tx_queding"},n.prototype.touchLevel=function(){this.closeHandle(),e.navPanel(2)},n.prototype.touchCatch=function(){this.closeHandle(),e.navPanel(8)},n.prototype.touchGashapon=function(){this.closeHandle(),e.navPanel(3)},n.prototype.touchShop=function(){this.closeHandle(),e.navPanel(7)},n.prototype.touchDungeon=function(){this.closeHandle(),e.navPanel(5)},n.prototype.touchTask=function(){this.closeHandle(),e.navPanel(16)},n.prototype.closeHandle=function(){egret.clearInterval(this._interval),this.removeFromParent(),e.NotificationCenter.getInstance().postNotification(e.BattleScene.RESULT_FINISH)},n.prototype.updateOneYuan=function(){var t=e.DataManager.playerModel.getActivityInfo();0!=t.oneYuanRecharge?this.OneYuanGroup.visible=!1:(this.OneYuanGroup.visible=!0,this.oneItem.item={type:2,count:t.ext.OneYuanDiamond}),e.DataManager.playerModel.GetOneYuanRecharge(1),t.ext.OneYuanDiamond+=Number(e.Constants.OneRewardSpace),t.ext.OneYuanDiamond>Number(e.Constants.OneRewardEnding)&&(t.ext.OneYuanDiamond=Number(e.Constants.OneRewardEnding))},n.prototype.show=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return 1==e.BattleScene.getInstance().battleType&&e.DataManager.playerModel.currentMission==Number(e.Constants.spcStage)?this.specialLose():0==e.DataManager.playerModel.extension.gotFailed?(Auth.uploadLog("首次战斗失败","第"+e.DataManager.playerModel.currentMission+"关"),this.closeHandle(),e.ZhanDouShiBai.getInstance().show()):(this.autoCloseTimeLabel.visible=!0,e.GameLayer.battleLayer.addChild(this),this._time=0,this.updateAutoClose(),this._interval=egret.setInterval(this.updateAutoClose,this,1e3)),this._textBone?[3,2]:(t=this,[4,e.getBone("zhandoushibai")]);case 1:t._textBone=n.sent(),n.label=2;case 2:return this.textDisplayGroup.addChild(this._textBone),this._textBone.play(null,1),[2]}})})},n.prototype.specialLose=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return Auth.uploadLog("伊布战斗","第一次失败"),e.GameLayer.battleLayer.addChild(this),this.autoCloseTimeLabel.visible=!1,t=e.BattleComic.getInstance(),this.stage.addChild(t),[4,t.start(12)];case 1:return n.sent(),e.NotificationCenter.getInstance().postNotification("enterScene","战斗失败"),[2]}})})},n.prototype.updateAutoClose=function(){var e=15-this._time;this.autoCloseTimeLabel.text="("+e+"s)",0==e&&this.closeHandle(),this._time++},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.GameComponent);e.BattleLose=t,__reflect(t.prototype,"game.BattleLose")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.startXiaoGuo=[],i.endXiaoGuo=[],i.hasShowAbility=!1,i.abilitySpeedAdd=0,i.hasDebuff=!1,i._oldScale=1,i._timeScale=1,i.isLive=!0,i.reviveCount=0,i.isBig=!1,i.round=1,i._effectList=[],i._effectDisplay=[],i._effectAttribute=new n,i.abilityHp=0,i.dieRound=0,i.megaID=0,i._attributeImagePool=new e.ObjectPool(e.BattleAttributeImage),i._baseCri=Number(e.Constants.baseCri),i._baseCriDamage=Number(e.Constants.baseCriDamage),i._spRoundRecover=Number(e.Constants.spRoundRecover),i}return __extends(i,t),Object.defineProperty(i.prototype,"hurtAdd",{get:function(){return this._pokemonData.equip.damageUpPer||0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hurtReduce",{get:function(){return this._pokemonData.equip.damageDownPer||0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"counter",{get:function(){return this._pokemonData.counter},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"effectAttribute",{get:function(){return this._effectAttribute},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"effectList",{get:function(){return this._effectList},enumerable:!0,configurable:!0}),i.prototype.setPokemon=function(t,i){return __awaiter(this,void 0,void 0,function(){var a,o,s,o,r,s,o,u,l,c,h,p,s;return __generator(this,function(g){switch(g.label){case 0:if(this.startXiaoGuo=[],this.endXiaoGuo=[],this.dieRound=0,this.lastTarget=null,this.abilityHp=0,this.reviveCount=0,this.inAngry=!1,this.abilitySpeedAdd=0,this.inFire=!1,this.width=this.height=97,this.anchorOffsetX=48.5,this.anchorOffsetY=97,this.touchEnabled=!1,this._pokemonAnim||(this._pokemonAnim=new e.SequenceImage,this._pokemonAnim.setDisplayPosition(48.5,97),this.addChild(this._pokemonAnim.display)),this._pokemonData=t,a=e.Data.TAbility[t.ability])for(this.abilityNumber=e.splitStringToNumberArray(a["star"+t.star],";"),o=0;o<this.abilityNumber.length;o++)a.isInt?this.abilityNumber[o]=this.abilityNumber[o]:this.abilityNumber[o]=.01*this.abilityNumber[o];return 4==t.ability&&(t.hp*=1+this.abilityNumber[0]),this.lastUseSkillId=this._pokemonData.skill[0],this._currentPokemonData=e.copyObject(t),[4,this._pokemonAnim.setData({delay:100,size:{col:8,row:1},resource:"anim/battlePokemon/"+t.id})];case 1:return g.sent(),[4,e.loadRes("anim/pokemon/"+t.id)];case 2:for(g.sent(),this.pokemonIcon||(this.pokemonIcon=new e.BattlePokemonIcon),this.pokemonIcon.pokemon=t.id,this.pokemonIcon.side=i,this.arrow||(this.arrow=new eui.Image("ui/scene/battle/greenArrow"),this.arrow.anchorOffsetX=19,this.arrow.anchorOffsetY=20,this.arrow.visible=!1),this._spBar||(this._spBar=new eui.ProgressBar,this._spBar.skinName=BattlePokemonSpBarSkin,this._spBar.touchEnabled=this._spBar.touchChildren=!1,this._spBar.horizontalCenter=0,this._spBar.bottom=-8,this.addChild(this._spBar)),this._hpBar||(this._hpBar=new e.BattlePokemonHpBar,this._hpBar.horizontalCenter=0,this._hpBar.bottom=-5,this.addChild(this._hpBar)),this._buffGroup||(this._buffGroup=new eui.Group,this.addChild(this._buffGroup)),this._buffGroup.removeChildren(),this._effectAttribute=new n,this._attributeGroup||(this._attributeGroup=new eui.Group,this._attributeGroup.right=0,this._attributeGroup.layout=new eui.VerticalLayout,this.addChild(this._attributeGroup)),-1==i?(this._attributeGroup.left=0,this._attributeGroup.right=void 0):(this._attributeGroup.left=void 0,this._attributeGroup.right=0),this._pokemonAnim.display.alpha=1,this._hpBar.visible=this._spBar.visible=!0,this._hpBar.init(this.maxHp,this.currentHp),this._hpBar.side=i,this._hpBar.type=t.type,this._hpBar.type2=t.type2,this._spBar.maximum=t.sp,this._spBar.value=t.sp,this.isLive=!0,this._oldScale=t.isBoss,this._pokemonAnim.setScale(this._oldScale),this.side=i,29==this.ability&&(e.showAbilityText(29,this),this.abilitySpeedAdd=this.abilityNumber[0]),this.superEquipData=null,t.superEquipInfo&&(s=e.Data.TEArtifact[t.superEquipInfo.type],t.superEquipInfo.star>=s.starOpen&&(this.superEquipData=e.Data.TEArtifactAbility[t.superEquipInfo.ability])),this.giftAbility=[],this.giftAbilityNumber=[],o=0;o<t.giftAbility.length;o++)r=t.giftAbility[o],this.giftAbility[o]=r.type,s=e.Data.TElfTalentAbility[r.type],s["star"+r.count]?this.giftAbilityNumber[o]=e.splitStringToNumberArray(s["star"+r.count],";"):this.giftAbilityNumber[o]=[];for(o=0;o<t.skill.length;o++)if(u=t.skill[o],u&&(l=e.Data.TElfSkill[u],l&&l.effect))for(c=e.splitStringToNumberArray(l.effect),h=0;h<c.length;h++)if(p=c[h],s=e.Data.TXiaoGuo[p])switch(s.timing){case 3:this.startXiaoGuo.push(s);break;case 4:this.endXiaoGuo.push(s)}return[2]}})})},Object.defineProperty(i.prototype,"starCount",{get:function(){return this._currentPokemonData.star},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pokemonType",{get:function(){return this._currentPokemonData.id},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"display",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"side",{get:function(){return this._side},set:function(e){this._side=e,this._pokemonAnim&&this._pokemonAnim.setScaleX(e*this._oldScale)},enumerable:!0,configurable:!0}),i.prototype.resetPosition=function(){var e=this.getGridPosition();this.x=e[0],this.y=e[1],this.arrow.x=e[0],this.arrow.y=e[1]-105},i.prototype.getGridPosition=function(){return-1==this._side?i.playerPosition[this._pokemonData.grid]:i.competitorPosition[this._pokemonData.grid]},Object.defineProperty(i.prototype,"skillList",{get:function(){return this._pokemonData.skill},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"skillSetting",{get:function(){return this._pokemonData.skillSetting},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxSp",{get:function(){return this._pokemonData.sp},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentSp",{get:function(){return this._currentPokemonData.sp},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentSpeed",{get:function(){return this._currentPokemonData.speed+this._effectAttribute.spe+this.abilitySpeedAdd},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentHp",{get:function(){return this._currentPokemonData.hp},set:function(e){this._currentPokemonData.hp=e,this._hpBar&&(this._hpBar.setMaxHp(this.maxHp),this._hpBar.setCurHp(e)),this.bossHpBar&&(this.bossHpBar.setMaxHp(this.maxHp),this.bossHpBar.setCurHp(e))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxHp",{get:function(){return this._pokemonData.hp*(1+this._effectAttribute.hp)*(1+this.abilityHp)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"level",{get:function(){return this._pokemonData.lv},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"atk",{get:function(){return this._pokemonData.atk*(1+this._effectAttribute.atk)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"def",{get:function(){return this._pokemonData.def*(1+this._effectAttribute.def)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"spAtk",{get:function(){return this._pokemonData.spAtk*(1+this._effectAttribute.atkSp)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"spDef",{get:function(){return this._pokemonData.spDef*(1+this._effectAttribute.defSp)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hit",{get:function(){return this._pokemonData.hit+this._effectAttribute.hit},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"evade",{get:function(){return this._pokemonData.evade+this._effectAttribute.evade},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cri",{get:function(){return this._baseCri+this._pokemonData.cri+this._effectAttribute.critChance},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"criDamage",{get:function(){return this._baseCriDamage+this._effectAttribute.critDamage},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemDamage",{get:function(){return this._effectAttribute.damage},enumerable:!0,configurable:!0}),i.prototype.getTypeDamage=function(e){var t=0,n=this._pokemonData.equip;switch(e){case 4:t=n.demonSkill;break;case 5:t=n.evilSkill;break;case 6:t=n.dragonSkill;break;case 2:t=n.waterSkill;break;case 1:t=n.fireSkill;break;case 3:t=n.grassSkill;break;case 7:t=n.iceSkill;break;case 8:t=n.ghostSkill;break;case 9:t=n.generalSkill;break;case 10:t=n.electricSkill;break;case 11:t=n.insectSkill;break;case 12:t=n.flightSkill;break;case 13:t=n.groundSkill;break;case 14:t=n.rockSkill;break;case 15:t=n.grappleSkill;break;case 16:t=n.superSkill;break;case 17:t=n.steelSkill;break;case 18:t=n.poisonSkill}return t},Object.defineProperty(i.prototype,"damageAdd",{get:function(){return this._effectAttribute.damage},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ability",{get:function(){return this._currentPokemonData.ability},enumerable:!0,configurable:!0}),i.prototype.getAttributeCount=function(t){var n=1,i=e.Data.TAttribute[t],a=e.Data.TAttribute[this._currentPokemonData.type],o=!1;if(i.Kezhi)for(var s=e.splitStringToNumberArray(i.Kezhi),r=0;r<s.length;r++)if(s[r][0]==a.Id){n*=1+s[r][1],o=!0;break}if(!o&&a.Kezhi)for(var s=e.splitStringToNumberArray(a.Kezhi),r=0;r<s.length;r++)if(s[r][0]==i.Id){n*=1-s[r][1];break}return n},i.prototype.showArrow=function(e){this.arrow.visible=!0;var t=this.display.y-105;this.arrow.y=t;var n=this.getAttributeCount(e);1>n?(this.arrow.source="ui/scene/battle/redArrow",egret.Tween.removeTweens(this.arrow)):1==n?(this.arrow.source="ui/scene/battle/redArrow",egret.Tween.removeTweens(this.arrow)):(this.arrow.source="ui/scene/battle/greenArrow",egret.Tween.get(this.arrow,{loop:!0}).to({y:t+10},150).to({y:t},150).to({y:t-10},150).to({y:t},150*this._timeScale)),this.canTouch=!0},i.prototype.hideArrow=function(){this.arrow.visible=!1,egret.Tween.removeTweens(this.arrow),this.canTouch=!1},i.prototype.checkHasPoint=function(e,t){return t<=this.display.y&&t>this.display.y-97&&e<=this.display.x+48.5&&e>this.display.x-48.5},i.prototype.moveTo=function(t,n,i){void 0===i&&(i=200);var a=e.defer();return i*=this._timeScale,egret.Tween.get(this.display).to({x:t,y:n},i).wait(100*this._timeScale).call(function(){a.resolve(null)}),a.promise()},i.prototype.changeBig=function(t,n){void 0===t&&(t=1.2),void 0===n&&(n=400),this.isBig=!0;var i=e.defer();return t=this._oldScale*t,n*=this._timeScale,egret.Tween.get(this.pokemonDisplay).to({scaleX:t*this._side,scaleY:t},n).wait(100*this._timeScale).call(function(){i.resolve(null)}),i.promise()},Object.defineProperty(i.prototype,"pokemonDisplay",{get:function(){return this._pokemonAnim.display},enumerable:!0,configurable:!0}),i.prototype.changeNormal=function(t,n){void 0===t&&(t=1),void 0===n&&(n=200),this.isBig=!1;var i=e.defer();return n*=this._timeScale,t=this._oldScale*t,egret.Tween.get(this.pokemonDisplay).to({scaleX:t*this._side,scaleY:t},n).wait(100*this._timeScale).call(function(){i.resolve(null)}),i.promise()},i.prototype.playAtk=function(t,n,i){var a=this;void 0===t&&(t=30),void 0===n&&(n=150),void 0===i&&(i=!1);var o=e.defer();if(i&&Math.random()<.4){var s=e.BeiSaiErPool.createObject();s.setObject(this.display);var r=this.display.x,u=this.display.y;-1==this._side?s.p1p2p3=[[r,u],[r+20,u+10],[r,u+20]]:s.p1p2p3=[[r,u],[r-20,u+10],[r,u+20]],s.play(1.5*n,function(){e.BeiSaiErPool.destroyObject(s),egret.Tween.get(a.display).to({x:r,y:u},n)}),egret.setTimeout(function(){o.resolve(null)},this,1.5*n*.5)}else{n*=this._timeScale;var l=-1==this._side?1:-1,c=this.display.x;egret.Tween.get(this.display).wait(100*this._timeScale).to({x:c-t*l},n).to({x:c+10*l},20*this._timeScale).to({x:c},20*this._timeScale).call(function(){o.resolve(null)})}return o.promise()},i.prototype.playHurt=function(){var t=e.defer(),n=-1==this._side?-10:10;return egret.Tween.get(this.display).to({x:this.display.x+n},100*this._timeScale).to({x:this.display.x},100*this._timeScale).call(function(){t.resolve(null)}),t.promise()},i.prototype.playDie=function(){var t=this,n=e.defer();egret.Tween.get(this._pokemonAnim.display).to({alpha:0},300*this._timeScale),egret.Tween.get(this.pokemonIcon).to({alpha:0},300*this._timeScale).call(function(){t.pokemonIcon.removeFromParent(),t.pokemonIcon.stop(),t.pokemonIcon.alpha=1});var i=function(){return __awaiter(t,void 0,void 0,function(){var t,i;return __generator(this,function(a){switch(a.label){case 0:return[4,e.loadRes("icon/ball/"+this._pokemonData.ballID)];case 1:return t=a.sent(),[4,e.getBone("sihouxiaoguo")];case 2:return i=a.sent(),i.setSlot("qiu",!0,t),i.setTimeScale(this._timeScale),i.x=48.5,i.y=97,i.stop(),this._buffGroup.addChild(i),[4,i.play(null,1)];case 3:return a.sent(),this._hpBar.visible=!1,this._spBar.visible=!1,n.resolve(null),[2]}})})};return i(),n.promise()},i.prototype.moveBack=function(t){void 0===t&&(t=150);var n=e.defer(),i=this.getGridPosition();return egret.Tween.get(this.display).wait(50*this._timeScale).to({x:i[0],y:i[1]},t*this._timeScale).call(function(){n.resolve(null)}),n.promise()},i.prototype.setIndex=function(e){this.display.parent&&this.display.parent.setChildIndex(this.display,e)},i.prototype.resetIndex=function(){this.display.parent&&this.display.parent.setChildIndex(this.display,this.oldIndex)},i.prototype.addEffect=function(t,n,i){if(t){if(n||(n=this),36==this.ability&&t.actNo)return void e.showAbilityText(36,this);if(156==this.ability&&t.actNo)return void e.showAbilityText(156,this);if(41==this.ability&&t.damage)return void e.showAbilityText(41,this);if(116==this.ability&&this.currentHp/this.maxHp<=this.abilityNumber[0])return void e.showAbilityText(116,this);if(127==this.ability&&6==t.resBuff)return e.showAbilityText(127,this),this._pokemonData.atk*=1+this.abilityNumber[0],this._pokemonData.speed*=1+this.abilityNumber[0],this._pokemonData.spAtk*=1+this.abilityNumber[0],this._pokemonData.def*=1+this.abilityNumber[0],void(this._pokemonData.spDef*=1+this.abilityNumber[0]);for(var a=0;a<this.giftAbility.length;a++){var o=this.giftAbility[a],s=this.giftAbilityNumber[a];switch(o){case 1002:if(6==t.resBuff&&100*Math.random()<s[0])return void e.showAbilityText(1002,this,!0);break;case 1003:if(4==t.resBuff&&100*Math.random()<s[0])return void e.showAbilityText(1003,this,!0);break;case 1015:4==t.resBuff&&100*Math.random()<s[0]&&(e.showAbilityText(1015,this,!0),e.BattleScene.getInstance().addGiftBuff(s[1],this._side,2));break;case 1017:if(2==t.resBuff)return e.showAbilityText(1017,this,!0),void this.addEffect(e.Data.TXiaoGuo[s[1]],null,null);break;case 1018:(2==t.resBuff||5==t.resBuff)&&(e.showAbilityText(1018,this,!0),this.addEffect(e.Data.TXiaoGuo[s[1]],null,null));break;case 1019:3==t.resBuff&&(e.showAbilityText(1019,this,!0),this.addEffect(e.Data.TXiaoGuo[s[1]],null,null));break;case 1048:(2==t.resBuff||1==t.resBuff||5==t.resBuff)&&(e.showAbilityText(1048,this,!0),this.addEffect(e.Data.TXiaoGuo[s[1]],null,null))}}var r=!1;switch(t.sameEffect){case 1:for(var a=0;a<this._effectList.length;a++)if(this._effectList[a].effectData==t){r=!0,this._effectList[a].round+=t.buffRound;break}break;case 2:for(var a=0;a<this._effectList.length;a++)if(this._effectList[a].effectData==t){r=!0;break}break;case 3:for(var a=0;a<this._effectList.length;a++)if(this._effectList[a].effectData==t){r=!0,this._effectList[a].create(n,t,i);break}break;case 4:for(var a=0;a<this._effectList.length;a++)if(this._effectList[a].effectData.typeid&&this._effectList[a].effectData.typeid==t.typeid){r=!0,this._effectList[a].round+=t.buffRound;break}break;case 5:for(var a=0;a<this._effectList.length;a++)if(this._effectList[a].effectData.typeid&&this._effectList[a].effectData.typeid==t.typeid){r=!0;break}break;case 6:for(var a=0;a<this._effectList.length;a++)if(this._effectList[a].effectData.typeid&&this._effectList[a].effectData.typeid==t.typeid){r=!0,this._effectList[a].create(n,t,i);break}}if(!r){var u=new e.BattleEffect;u.create(n,t,i),this._effectList.push(u);var l=u.effectData.resBuff;if(l){var c=e.Data.TTexiaoBuff[l];this.addNewBone(c,u)}}this.updateEffect(),this.hasDebuff=!1;for(var a in this.effectAttribute)this.effectAttribute.hasOwnProperty(a)&&this.effectAttribute[a]<0&&(this.hasDebuff=!0)}},i.prototype.addNewBone=function(t,n){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return[4,e.getBone(t.resource)];case 1:return i=a.sent(),n.bone=i,i.setTimeScale(this._timeScale),i.play(null,0),i.x=48.5,i.y=48.5,this._buffGroup.addChild(i),this._effectDisplay.push(i),[2]}})})},i.prototype.updateEffect=function(){this.updateEffectAttribute()},i.prototype.updateEffectAttribute=function(){this._effectAttribute=new n;for(var e=0;e<this._effectList.length;e++)this.parseEffectAttribute(this._effectList[e]);this.updateXiaoGuoIcon()},i.prototype.updateXiaoGuoIcon=function(){this._attributeImagePool.destroyAllObject();for(var e in this._effectAttribute)if(this._effectAttribute.hasOwnProperty(e)&&0!=this._effectAttribute[e]&&("atk"==e||"atkSp"==e||"def"==e||"defSp"==e||"evade"==e||"hit"==e||"spe"==e)){var t=this._attributeImagePool.createObject();t.setData(e,this._effectAttribute[e]),this._attributeGroup.addChild(t)}},i.prototype.parseEffectAttribute=function(e){var t=e.effectData;25!=this.ability&&(t.atk&&(this._effectAttribute.atk+=t.atk),t.def&&(this._effectAttribute.def+=t.def),t.atkSp&&(this._effectAttribute.atkSp+=t.atkSp),t.defSp&&(this._effectAttribute.defSp+=t.defSp),t.spe&&(this._effectAttribute.spe+=t.spe),t.hit&&(this._effectAttribute.hit+=t.hit),t.evade&&(this._effectAttribute.evade+=t.evade),t.critChance&&(this._effectAttribute.critChance+=t.critChance),t.critDamage&&(this._effectAttribute.critDamage+=t.critDamage)),t.healsAtk&&(this._effectAttribute.healsAtk+=t.healsAtk),t.healsAtkSp&&(this._effectAttribute.healsAtkSp+=t.healsAtkSp),t.healsHpCur&&(this._effectAttribute.healsHpCur+=t.healsHpCur),t.healsHpMax&&(this._effectAttribute.healsHpMax+=t.healsHpMax),t.damage&&(this._effectAttribute.damage+=t.damage),t.recoverAtk&&(this._effectAttribute.recoverAtk+=t.recoverAtk),t.recoverAtkSp&&(this._effectAttribute.recoverAtkSp+=t.recoverAtkSp),t.recoverHpMax&&(this._effectAttribute.recoverHpMax+=t.recoverHpMax),t.recoverHpCur&&(this._effectAttribute.recoverHpCur+=t.recoverHpCur),t.recoverDamage&&(this._effectAttribute.recoverDamage+=t.recoverDamage),t.skillRan&&(this._effectAttribute.skillRan+=t.skillRan),t.targetRan&&(this._effectAttribute.targetRan+=t.targetRan),t.actNo&&(this._effectAttribute.actNo+=t.actNo),t.clean&&(this._effectAttribute.clean+=t.clean),t.firePower&&(this._effectAttribute.firePower+=t.firePower),t.waterPower&&(this._effectAttribute.waterPower+=t.waterPower),t.grassPower&&(this._effectAttribute.grassPower+=t.grassPower),t.elePower&&(this._effectAttribute.elePower+=t.elePower),t.icePower&&(this._effectAttribute.icePower+=t.icePower),t.wrestlePower&&(this._effectAttribute.wrestlePower+=t.wrestlePower),t.atkPower&&(this._effectAttribute.atkPower+=t.atkPower),t.atkSpPower&&(this._effectAttribute.atkSpPower+=t.atkSpPower),t.recoverSpower&&(this._effectAttribute.recoverSpower+=t.recoverSpower)},i.prototype.updateEffectDisplay=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o;return __generator(this,function(s){switch(s.label){case 0:this.cleanEffectBone(),t=0,s.label=1;case 1:return t<this._effectList.length?(n=this._effectList[t],(i=n.effectData.resBuff)?(a=e.Data.TTexiaoBuff[i],[4,e.getBone(a.resource)]):[3,3]):[3,4];case 2:o=s.sent(),n.bone=o,o.setTimeScale(this._timeScale),o.play(null,0),o.x=48.5,o.y=48.5,this._buffGroup.addChild(o),this._effectDisplay.push(o),s.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},i.prototype.cleanEffectBone=function(){this._buffGroup.removeChildren();for(var t=0;t<this._effectDisplay.length;t++)e.destroyBone(this._effectDisplay[t]);this._effectDisplay=[]},Object.defineProperty(i.prototype,"displayPosition",{get:function(){return[this.x,this.y]},enumerable:!0,configurable:!0}),i.prototype.play=function(e,t){this._pokemonAnim&&this._pokemonAnim.play(e)},i.prototype.takeDamage=function(t){if(t.count=0|t.count,5==t.type){var n=this.currentHp+t.count;n=Math.min(n,this.maxHp),this.currentHp=n}else{var n=this.currentHp-t.count;n=Math.max(n,0),this.currentHp=n}this.currentHp<=0?26==this.ability&&Math.random()<this.abilityNumber[0]?(e.showAbilityText(26,this),this.takeDamage({type:5,count:this.maxHp*this.abilityNumber[1]}),this.isLive=!0):this.isLive=!1:this.isLive=!0,e.NotificationCenter.getInstance().postNotification(e.BattleScene.SHOW_DAMAGE_TEXT,{damage:t,target:this}),21==this.ability&&4==t.type&&(e.showAbilityText(21,this),this.inAngry=!0)},i.prototype.removeFromParent=function(){this.parent&&this.parent.removeChild(this)},i.prototype.parseEffect=function(t){var n=this;void 0===t&&(t=!1);var i=this,a=e.defer();t||this.updateEffectAttribute();for(var o=[],s=function(t,a){o.push({effectData:e.Data.TXiaoGuo[a],target:i,damage:t.damage,origin:t.originPokemon||n})},r=[],u=0;u<this._effectList.length;u++){var l=this._effectList[u];t?0==l.effectData.buffRound&&r.push(this.runEffect(l)):l.round>0?(r.push(this.runEffect(l)),l.round--,l.effectData.roundEffect&&s(l,l.effectData.roundEffect)):l.round<0&&r.push(this.runEffect(l))}return e.when(r).done(function(){for(var t=0;t<n._effectList.length;t++){var i=n._effectList[t];if(0==i.round){if(i.effectData.afterEffect&&s(i,i.effectData.afterEffect),i.bone){e.destroyBone(i.bone);var r=n._effectDisplay.indexOf(i.bone);r>-1&&n._effectDisplay.splice(r,1),i.bone=null}n._effectList.splice(t,1),t--}}a.resolve(o)}),a.promise()},i.prototype.runEffect=function(t){var n=e.defer(),i=[],a=t.effectData;switch(a.resBuff){case 1:this.showBuffImage(4);break;case 2:this.showBuffImage(3);break;case 5:this.showBuffImage(2);break;case 6:this.showBuffImage(6)}var o=!1;if(a.recoverAtk){var s=t.originPokemon.atk*a.recoverAtk;s>0?this.takeDamage({type:5,count:s}):(o=!0,this.takeDamage({type:3,count:-s}))}if(a.healsAtk){var s=this.atk*a.healsAtk;s>0?this.takeDamage({type:5,count:s}):(o=!0,this.takeDamage({type:3,count:-s}))}if(a.recoverAtkSp){var s=t.originPokemon.spAtk*a.recoverAtkSp;s>0?this.takeDamage({type:5,count:s}):(o=!0,this.takeDamage({type:3,count:-s}))}if(a.healsAtkSp){var s=this.spAtk*a.healsAtkSp;s>0?this.takeDamage({type:5,count:s}):(o=!0,this.takeDamage({type:3,count:-s}))}if(a.recoverSpower&&this.recoverSp(a.recoverSpower),a.recoverHpMax)if(a.recoverHpMax>0){var s=t.originPokemon.maxHp*a.recoverHpMax;this.takeDamage({type:5,count:s})}else{var s=t.originPokemon.maxHp*a.recoverHpMax;o=!0,this.takeDamage({type:3,count:-s})}if(a.healsHpMax)if(a.healsHpMax>0){var s=this.maxHp*a.healsHpMax;this.takeDamage({type:5,count:s})}else{var s=this.maxHp*a.healsHpMax;o=!0,this.takeDamage({type:3,count:-s})}if(a.healsHpCur)if(a.healsHpCur>0){var s=this.currentHp*a.healsHpCur;this.takeDamage({type:5,count:s})}else{var s=this.currentHp*a.healsHpCur;o=!0,this.takeDamage({type:3,count:-s})}if(a.recoverHpCur)if(a.recoverHpCur>0){var s=t.originPokemon.currentHp*a.recoverHpCur;this.takeDamage({type:5,count:s})}else{var s=t.originPokemon.currentHp*a.recoverHpCur;o=!0,this.takeDamage({type:3,count:-s})}if(a.recoverDamage){var s=t.damage.count*a.recoverDamage;s>0?this.takeDamage({type:5,count:s}):(o=!0,this.takeDamage({type:3,count:-s}))}return a.clean&&this.cleanDebuff(),o&&i.push(this.playHurt()),e.when(i).done(function(){n.resolve(null)
}),n.promise()},i.prototype.showBuffImage=function(e){var t=this;this.buffImage||(this.buffImage=new eui.Image,this.buffImage.scaleX=this.buffImage.scaleY=1.2,this.buffImage.touchEnabled=!1,this.buffImage.horizontalCenter=20,this.buffImage.top=-36),this.buffImage.parent||(this.buffImage.alpha=1,this.buffImage.source="ui/scene/battle/p"+e,this.addChild(this.buffImage),egret.Tween.get(this.buffImage,null,null,!0).to({alpha:0},1500).call(function(){t.buffImage.parent&&t.buffImage.parent.removeChild(t.buffImage)}))},i.prototype.cleanDebuff=function(){for(var t=0;t<this._effectList.length;t++){var n=this._effectList[t];if(2==n.effectData.DeBuff){if(n.bone){e.destroyBone(n.bone);var i=this._effectDisplay.indexOf(n.bone);i>-1&&this._effectDisplay.splice(i,1),n.bone=null}this._effectList.splice(t,1),t--}}this.updateEffect()},i.prototype.onDestroy=function(){this.removeFromParent(),this._attributeImagePool.destroyAllObject(),this.cleanEffectBone(),this._effectList=[],this.hideArrow()},i.prototype.battleBeginShow=function(){return __awaiter(this,void 0,void 0,function(){var t,n,a,o=this;return __generator(this,function(s){switch(s.label){case 0:return this.display.alpha=1,this.pokemonDisplay.alpha=0,[4,e.getBone(i.BallBones[this._pokemonData.ballID])];case 1:return t=s.sent(),t.setTimeScale(this._timeScale),t.x=48.5,t.y=97,this._buffGroup.addChild(t),[4,t.play(null,1)];case 2:return s.sent(),n=0,a=e.Data.TElf[this.pokemonData.id],5==a.quality&&a.downElf&&(n=a.downElf),0==n?[3,4]:[4,this._pokemonAnim.setData({delay:100,size:{col:8,row:1},resource:"anim/battlePokemon/"+n})];case 3:return s.sent(),egret.Tween.get(this.pokemonDisplay).to({alpha:1},300).call(function(){return __awaiter(o,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,e.getBone("effect_megajinhua")];case 1:return t=n.sent(),t.x=48.5,t.y=48.5,this._buffGroup.addChild(t),t.setTimeScale(this._timeScale),[4,t.play(null,1)];case 2:return n.sent(),[4,this._pokemonAnim.setData({delay:100,size:{col:8,row:1},resource:"anim/battlePokemon/"+this.pokemonData.id})];case 3:return n.sent(),[2]}})})}),[3,5];case 4:egret.Tween.get(this.pokemonDisplay).to({alpha:1},300*this._timeScale),s.label=5;case 5:return e.destroyBone(t),[2]}})})},i.prototype.recoverSp=function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=0),0!=e)this._currentPokemonData.sp+=e;else switch(this._currentPokemonData.ability){case 75:case 76:case 77:case 1078:case 79:case 80:case 85:case 86:case 87:case 88:case 121:case 122:case 123:case 144:case 145:case 146:case 147:case 148:case 149:case 150:case 151:case 155:case 156:case 159:this._currentPokemonData.sp+=50;break;default:this._currentPokemonData.sp+=this._spRoundRecover}this._currentPokemonData.sp+=t,this._currentPokemonData.sp=Math.min(this.maxSp,this._currentPokemonData.sp),this._spBar.value=this._currentPokemonData.sp},i.prototype.costSp=function(e){this._currentPokemonData.sp-=e,this._currentPokemonData.sp=Math.max(0,this._currentPokemonData.sp),this._spBar.value=this._currentPokemonData.sp},i.prototype.setTimeScale=function(e){this._timeScale=e,this._pokemonAnim&&this._pokemonAnim.setTimeScale(e),this.pokemonIcon&&this.pokemonIcon.setTimeScale(e);for(var t=0;t<this._effectDisplay.length;t++){var n=this._effectDisplay[t];n&&n.setTimeScale(this._timeScale)}this._hpBar.setTimeScale(e)},i.prototype.getAttributeType=function(){return this._currentPokemonData.type},i.prototype.setHpPercent=function(e){this.currentHp=this.maxHp*e},Object.defineProperty(i.prototype,"pokemonData",{get:function(){return this._pokemonData},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isFire",{get:function(){for(var e=0;e<this._effectList.length;e++){var t=this._effectList[e].effectData;if(5==t.resBuff)return!0}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isCold",{get:function(){for(var e=0;e<this._effectList.length;e++){var t=this._effectList[e].effectData;if(1==t.resBuff)return!0}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isPoison",{get:function(){for(var e=0;e<this._effectList.length;e++){var t=this._effectList[e].effectData;if(2==t.resBuff)return!0}return!1},enumerable:!0,configurable:!0}),i.BallBones={13001:"guaichuxianqian",13002:"kaichangjlq_cj",13003:"kaichangjlq_ds",13004:"kaichangjlq_yy",13005:"kaichangjlq_cf",13006:"kaichangjlq_ah",13007:"kaichangjlq_hj"},i.playerPosition=[[145.5,485],[48.5,291],[145.5,194],[145.5,291],[145.5,388],[242.5,97],[242.5,194],[242.5,291],[242.5,388],[242.5,485]],i.competitorPosition=[,[635,291],[538,194],[538,291],[538,388],[441,97],[441,194],[441,291],[441,388],[441,485]],i}(eui.Group);e.BattlePokemon=t,__reflect(t.prototype,"game.BattlePokemon",["game.PoolItem"]);var n=function(){function e(){this.hp=0,this.atk=0,this.def=0,this.atkSp=0,this.defSp=0,this.spe=0,this.hit=0,this.evade=0,this.critChance=0,this.critDamage=0,this.damage=0,this.healsAtk=0,this.healsAtkSp=0,this.healsHpMax=0,this.healsHpCur=0,this.recoverAtk=0,this.recoverAtkSp=0,this.recoverHpMax=0,this.recoverHpCur=0,this.recoverDamage=0,this.skillRan=0,this.targetRan=0,this.actNo=0,this.clean=0,this.firePower=0,this.waterPower=0,this.grassPower=0,this.elePower=0,this.icePower=0,this.wrestlePower=0,this.atkPower=0,this.atkSpPower=0,this.recoverSpower=0}return e}();e.BattleEffectAttribute=n,__reflect(n.prototype,"game.BattleEffectAttribute")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t._timeScale=1,t.skinName=BattlePokemonHpBarSkin,t.touchChildren=!1,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.init=function(e,t){egret.Tween.removeTweens(this),this.maxHp=e,this.setCurHp(t)},t.prototype.setCurHp=function(e){var t=this;this.progressImgBack.visible=!0,this.progressImgBack.scaleX=this.progressImg.scaleX,this.currentHp=Math.min(e,this.maxHp);var n=Math.max(this.currentHp/this.maxHp,0);this.progressImg.scaleX=n,egret.Tween.get(this.progressImgBack).to({scaleX:n},700*this._timeScale).call(function(){t.progressImgBack.visible=!1})},t.prototype.setTimeScale=function(e){this._timeScale=e},t.prototype.setMaxHp=function(e){this.maxHp=e},Object.defineProperty(t.prototype,"side",{set:function(e){this._side=e,this.progressImg.source=-1==e?"ui/common/progress/hpGreen":"ui/common/progress/hpRed"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{set:function(e){this.typeImage.source="icon/skillType/"+e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type2",{set:function(e){this.typeImage2.visible=!1,e&&(this.typeImage2.visible=!0,this.typeImage2.source="icon/skillType/"+e)},enumerable:!0,configurable:!0}),t}(e.GameComponent);e.BattlePokemonHpBar=t,__reflect(t.prototype,"game.BattlePokemonHpBar")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=BattlePokemonIconSkin,t}return __extends(t,e),Object.defineProperty(t.prototype,"select",{get:function(){return this.selectDisplay.visible},set:function(e){this.selectDisplay.visible=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"side",{set:function(e){this.sideDisplay.source=-1==e?"langs/wo":"langs/di"},enumerable:!0,configurable:!0}),t.prototype.setTimeScale=function(e){this._pokemonImage.setTimeScale(e)},t}(e.PokemonIcon);e.BattlePokemonIcon=t,__reflect(t.prototype,"game.BattlePokemonIcon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.touchEnabled=!1,e}return __extends(n,t),n.prototype.setData=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return this._data=t,n="anim/projectile/"+t.id,[4,e.loadRes(n)];case 1:return i=a.sent(),this.source=i,this.anchorOffsetX=i.textureWidth/2,this.anchorOffsetY=i.textureHeight/2,this.x=this.y=0,[2]}})})},n.prototype.run=function(t,n,i){void 0===i&&(i=250);var a=e.defer(),o=t.displayPosition,s=n.displayPosition;-1==t.side?this.scaleX=1:this.scaleX=-1,this.x=o[0]+(this._data.offsetX||0),this.y=o[1]-47.5+(this._data.offsetY||0);var r=s[0]+(this._data.offsetX||0),u=s[1]-47.5+(this._data.offsetY||0);return this.rotation=e.angle(this.x,this.y,r,u),egret.Tween.get(this).to({x:r,y:u},i).call(function(){a.resolve(null)}),a.promise()},n.prototype.onDestroy=function(){this.parent&&this.parent.removeChild(this)},n}(eui.Image);e.BattleProjectile=t,__reflect(t.prototype,"game.BattleProjectile",["game.PoolItem"])}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._battlePokemonPool=new e.ObjectPool(e.BattlePokemon),n._battleTextPool=new e.ObjectPool(e.BattleText),n._battleProjectilePool=new e.ObjectPool(e.BattleProjectile),n._diePokemon=[],n._battlePokemon=[],n._battleEnd=!1,n._auto=!1,n._win=!1,n._skipRound=!1,n._quitBattle=!1,n._timeScale=1,n._playerAbility={},n._competitorAbility={},n._showBossBone=!1,n._chainDamage=Number(e.Constants.EjectionDamageLoss)/100,n._playerNumber=0,n._competitorNumber=0,n._round=1,n._damageAddRound=Number(e.Constants.DamageUpRound),n._roundDamage=Number(e.Constants.RoundDamageUpPre),n._speedNormal=Number(e.Constants.battleSpeed1Num),n._speedFast=Number(e.Constants.battleSpeed2Num),n._speedFast2=Number(e.Constants.battleSpeed3Num),n.gymCureReduce=Number(e.Constants.GYMcureReduce),n.gymPokemonTeam=[],n.abilityRecoveryReduce=0,n.bossMission=!1,n._aoeTarget=[0,2,4,5,6,7,12],n.skinName=BattleSceneSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this._spendImage=new eui.Image,this._spendImage.x=110,this._spendImage.y=11,this.changeSpeedButton.typeImage.x=12,this.changeSpeedButton.typeImage.y=4,this.changeSpeedButton.typeImage.source="langs/Tx_jiasu",this.changeSpeedButton.countLabel.text="",this.changeSpeedButton.addChild(this._spendImage),this.quitButton.image="langs/Tx_chetui",this.skipButton.image="langs/Tx_tiaoguohh",this.roundDamageLabel.text="(所有伤害x"+this._roundDamage+")",this._playerAvatar=new e.BattleAvatar,this.playerAvatarGroup.addChild(this._playerAvatar.displayGroup),this._competitorAvatar=new e.BattleAvatar,this.competitorAvatarGroup.addChild(this._competitorAvatar.displayGroup),this._adjust=!0,this._skillIconList=[this.skillIcon1,this.skillIcon2,this.skillIcon3,this.skillIcon4],this._touchEvent=[{target:this.skillIcon1,callBackFunc:this.selectSkill},{target:this.skillIcon2,callBackFunc:this.selectSkill},{target:this.skillIcon3,callBackFunc:this.selectSkill},{target:this.skillIcon4,callBackFunc:this.selectSkill},{target:this.pokemonGroup,callBackFunc:this.touchPokemonStage},{target:this.autoButton,callBackFunc:this.changeAuto},{target:this.quitButton,callBackFunc:this.quitHandle},{target:this.skipButton,callBackFunc:this.skipRoundHandle},{target:this.changeSpeedButton,callBackFunc:this.changeSpeed}],this.addEventAndNotify();var t=egret.localStorage.getItem("auto");t?"on"==t?this._auto=!0:this._auto=!1:this._auto=!0,this.updateAuto();var n=egret.localStorage.getItem("speed");n?"3"==n?this._timeScale=this._speedFast2:"2"==n?this._timeScale=this._speedFast:this._timeScale=this._speedNormal:this._timeScale=this._speedNormal,this.updateSpeed()},Object.defineProperty(n.prototype,"battleType",{get:function(){return this._battleType},enumerable:!0,configurable:!0}),n.prototype.setAuto=function(){this._auto=!0,this.updateAuto()},n.prototype.skipRoundHandle=function(){this._playerSelectTargetPromise&&this._playerSelectTargetPromise.resolve(null)},n.prototype.quitHandle=function(){this._win=!1,this._battleEnd=!0,this.battleEnd()},n.prototype.changeAuto=function(){return!this._auto&&e.DataManager.playerModel.playerLevel<Number(e.Constants.autoAtk)?void e.showTips(e.formatString(e.Lang.dengjijiesuo,e.Constants.autoAtk)):(this._auto=!this._auto,this.updateAuto(),void e.NotificationCenter.getInstance().postNotification(n.CHANGE_AUTO))},n.prototype.updateAuto=function(){this._auto?(this.arrowGroup.visible=!1,egret.localStorage.setItem("auto","on"),this.autoButton.icon="ui/scene/idle/r2"):(this.arrowGroup.visible=!0,egret.localStorage.setItem("auto","off"),this.autoButton.icon="ui/scene/idle/r1")},n.prototype.changeSpeed=function(){this._timeScale==this._speedNormal?this._timeScale=this._speedFast:this._timeScale==this._speedFast2?this._timeScale=this._speedNormal:this._timeScale=this._speedFast2,this.updateSpeed();for(var e=0;e<this._battlePokemon.length;e++)this._battlePokemon[e].setTimeScale(this._timeScale);this._pokemonSelectAnim&&this._pokemonSelectAnim.setTimeScale(this._timeScale)},n.prototype.updateSpeed=function(){this._timeScale==this._speedNormal?(egret.localStorage.setItem("speed","1"),this._spendImage.source="langs/mult1"):this._timeScale==this._speedFast?(egret.localStorage.setItem("speed","2"),this._spendImage.source="langs/mult2"):(egret.localStorage.setItem("speed","3"),this._spendImage.source="langs/mult3")},n.prototype.selectSkill=function(t){for(var n=0;n<this._skillIconList.length;n++){var i=this._skillIconList[n];i==t?(i.select=!0,this._currentPokemon.lastUseSkillId=i.skillId,this._currentSkill=i):i.select=!1}if(this._targetList=this.getSkillTarget(this._currentSkill.targetType),-1==this._currentPokemon.side)for(var a=this._currentSkill.attributeType,n=0;n<this._battlePokemon.length;n++){var o=this._battlePokemon[n];this._targetList.indexOf(o)>-1?o.showArrow(a):o.hideArrow()}var s=this._currentSkill.skillData;if(s){var r=void 0;switch(s.target){case 1:case 3:case 8:case 9:case 10:case 22:case 13:case 14:r=e.Lang.danti;break;default:r=e.Lang.qunti}switch(this.typeLabel.text=e.Lang.fanwei+": "+r,s.damage?this.damageLabel.text=e.Lang.weili+": "+s.damage+" "+e.Lang.xiaohao+":"+s.ex+"SP":this.damageLabel.text=e.Lang.xiaohao+":"+s.ex+"SP",5==s.skillType?this.damageLabel.text=e.Lang.bianhuaxijineng+"  "+e.Lang.xiaohao+":"+s.ex+"SP":6==s.skillType?this.typeLabel.text=e.Lang.fanwei+": "+e.Lang.tanshe:7==s.skillType&&(this.typeLabel.text=e.Lang.fanwei+": "+e.Lang.lianji),s.skillType){case 3:case 4:this.skillTypeImage.source="ui/scene/skill/zhi";break;case 5:this.skillTypeImage.source="ui/scene/skill/bian";break;default:s.DamageType?this.skillTypeImage.source="ui/scene/skill/te":this.skillTypeImage.source="ui/scene/skill/wu"}this.skillDetailLabel.text=s.desc}},n.prototype.getSkillTarget=function(e,t){void 0===t&&(t=this._currentPokemon);var n=[],i=t.side;switch(e){case 0:for(var a=0;a<this._battlePokemon.length;a++){var o=this._battlePokemon[a];n.push(o)}break;case 1:for(var a=0;a<this._battlePokemon.length;a++){var o=this._battlePokemon[a];o.side!=i&&n.push(o)}break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:for(var a=0;a<this._battlePokemon.length;a++){var o=this._battlePokemon[a];o.side!=i&&n.push(o)}break;case 11:for(var a=0;a<this._battlePokemon.length;a++){var o=this._battlePokemon[a];o==this._currentPokemon&&n.push(o)}break;case 12:case 13:case 14:for(var a=0;a<this._battlePokemon.length;a++){var o=this._battlePokemon[a];o.side==i&&n.push(o)}}return n},n.prototype.getXiaoGuoTarget=function(e,t){var n=this.getSkillTarget(e,t);switch(e){case 11:n=[t];break;case 1:case 3:case 13:n=[n[Math.floor(Math.random()*n.length)]]}return n},n.prototype.playMusic=function(){this.bossMission?e.SoundManager.playBgSound("music/battle_BOSS0"+Math.ceil(2*Math.random()),!0,!1):e.SoundManager.playBgSound("music/battle"+[1,2,99][Math.floor(3*Math.random())],!0,!1)},n.prototype.pmListHPScale=function(e,t){for(var n in e)e[n].hp*=t;return e},n.prototype.initBattle=function(t,i){return void 0===t&&(t=1),void 0===i&&(i=null),__awaiter(this,void 0,void 0,function(){var a,o,s,r,u,l,u,c,h,p,g,d,m,f,_,y,v,b,w,u,k,I,T,P,L,D,x,C,B,S,E,A,M,u,k,I,T,P,G,N,R,q,j,H,O,F,z,U,W,V,u,Y,u,u,Y,u,X,K,x,u,u,Z,Q,J=this;return __generator(this,function($){switch($.label){case 0:if(this.quitButton.visible=!0,this.bossMission=!1,this.gymPokemonTeam=[],this.damageCount=0,this._round=1,this.updateRound(1),this.storyGroup.removeChildren(),this.storyGroup.visible=!1,this._storyLevelId=0,this.clean(),8!=t&&(e.IdleScene.getInstance().enterBattle=!0),this._battleType=t,this._competitorNumber=this._playerNumber=0,this._showBossBone=!1,this._quitBattle=!1,e.NotificationCenter.getInstance().addObserver(this,this.showDamageText,n.SHOW_DAMAGE_TEXT),this._pokemonSelectAnim||(this._pokemonSelectAnim=new e.SequenceImage,this._pokemonSelectAnim.setData({resource:"anim/effect/3",size:{col:5,row:1},delay:100})),this._pokemonSelectAnim.setTimeScale(this._timeScale),this._pokemonSelectAnim.play(1),this.orderGroup.removeChildren(),this.pokemonGroup.removeChildren(),this.skillGroup.visible=!1,this.autoButton.visible=!0,this.competitorAvatarGroup.visible=this.playerAvatarGroup.visible=!0,8!=t&&e.DataManager.playerModel.playerTitle?(this.playerTitle.visible=!0,this.playerTitle.source="langs/title/"+e.DataManager.playerModel.playerTitle):this.playerTitle.visible=!1,this.competitorTitle.visible=!1,a=!1,o=!1,3==t)s=this.pmListHPScale(this.pvpPlayerTeam,Number(e.Constants.PvpHp));else if(5==t)s=this.pmListHPScale(this.friendPokemonData,Number(e.Constants.PvpHp));else if(16==t)s=this.treasurePlayerTeam;else if(14==t)s=this.gymPlayerTeam;else if(8!=t&&15!==t){for(r=e.DataManager.playerModel.playerTeamPokemonList,this._playerTeamPokemonId=[],u=0;u<r.length;u++)r[u]&&this._playerTeamPokemonId.push(r[u].id);if(s=e.DataManager.playerModel.getPlayerBattlePokemonList(),17==t&&(l=s.length,l>3))for(u=3;l>u;u++)s.pop()}switch(this.helpGrid.visible=!0,e.DataManager.playerModel.currentMission<Number(e.Constants.autoAtk)?(this.autoButton.visible=!1,this._auto=!1,this.updateAuto()):this.autoButton.visible=!0,3==t&&(this.autoButton.visible=!1,this._auto=!0,this.updateAuto()),e.DataManager.playerModel.currentMission<Number(e.Constants.battleSpeed2OpenLv)?(this.changeSpeedButton.visible=!1,this._timeScale=this._speedNormal,this.updateSpeed()):this.changeSpeedButton.visible=!0,d=t){case 1:return[3,1];case 2:return[3,3];case 13:return[3,5];case 10:return[3,7];case 3:return[3,9];case 12:return[3,11];case 4:return[3,13];case 5:return[3,15];case 6:return[3,17];case 9:return[3,19];case 7:return[3,21];case 8:return[3,23];case 15:return[3,28];case 11:return[3,32];case 14:return[3,34];case 16:return[3,39];case 17:return[3,43];case 18:return[3,45]}return[3,48];case 1:return this._currentLevelId=e.DataManager.playerModel.currentMission,m=e.DataManager.playerModel.getDungeonData(this._currentLevelId),h="ui/scene/battle/bg"+m.bg,[4,e.PlayerModel.getMissionPokemonList(this._currentLevelId,m.Formation)];case 2:return c=$.sent(),this._storyLevelId=this._currentLevelId,[3,48];case 3:return this._currentLevelId=this.dungeonData.id,h="ui/scene/battle/bg"+this.dungeonData.bg,[4,e.PlayerModel.getMissionPokemonList(this._currentLevelId,this.dungeonData.Formation)];case 4:return c=$.sent(),[3,48];case 5:return this._currentLevelId=this.rankPvpMission,h="ui/scene/pvp/bg",[4,e.PlayerModel.getMissionPokemonList(this._currentLevelId,1)];case 6:return c=$.sent(),[3,48];case 7:return this._currentLevelId=this.activityBossData.id,h="ui/scene/battle/bg99",[4,e.PlayerModel.getMissionPokemonList(this._currentLevelId,1)];case 8:return c=$.sent(),[3,48];case 9:return this.helpGrid.visible=!1,this._currentLevelId=null,h="ui/scene/pvp/bg",c=this.pmListHPScale(this.competitorPokemonData,Number(e.Constants.PvpHp)),o=!0,this.competitorInfo&&this.competitorInfo.player?(f=this.competitorInfo.player.playerInfo,this._competitorAvatar.setAvatar(f.gender),this._competitorAvatar.setWing(f.wing,1),this._competitorAvatar.setDecoration(f.orna,1),f.title&&(this.competitorTitle.visible=!0,this.competitorTitle.source="langs/title/"+f.title),[4,e.loadRes("art/battle/player_front_"+e.Data.TPlayerRole[f.gender].roleResours)]):[3,48];case 10:return p=$.sent(),[3,48];case 11:for(c=[],_=this.rankPvpInfo.playerInfo,y=this.rankPvpInfo.battlePms,v=this.rankPvpInfo.team,b=v.formation,w=v.gridConfig,u=0;u<y.length;u++){for(k=y[u],I=void 0,T=0;T<w.length;T++)w[T].id==k.id&&(I=w[T].grid);P=e.parseBattlePokemonData(k,b,I,!1,!1,v.titles,v.badges,v.roles,1,!1,e.getVipLevelByRecharge(_.vipExp),v,null,null,v.artifacts,null),c.push(P)}return this.helpGrid.visible=!1,this._currentLevelId=null,h="ui/scene/pvp/bg",o=!0,this._competitorAvatar.setAvatar(_.gender),this._competitorAvatar.setWing(_.wing,1),this._competitorAvatar.setDecoration(_.orna,1),_.title&&(this.competitorTitle.visible=!0,this.competitorTitle.source="langs/title/"+_.title),[4,e.loadRes("art/battle/player_front_"+e.Data.TPlayerRole[_.gender].roleResours)];case 12:return p=$.sent(),[3,48];case 13:return this.helpGrid.visible=!1,L=e.Data.TTower[this.caveId],h="ui/scene/battle/bg100",[4,e.PlayerModel.getMissionPokemonList(L.DungeonsID,L.formation)];case 14:return c=$.sent(),[3,48];case 15:return this.helpGrid.visible=!1,this._currentLevelId=null,c=this.pmListHPScale(this.friendData,Number(e.Constants.PvpHp)),o=!0,this._competitorAvatar.setAvatar(this.friendInfo.gender),this._competitorAvatar.setWing(this.friendInfo.wing,1),this._competitorAvatar.setDecoration(this.friendInfo.orna,1),this.friendInfo.title&&(this.competitorTitle.visible=!0,this.competitorTitle.source="langs/title/"+this.friendInfo.title),[4,e.loadRes("art/battle/player_front_"+e.Data.TPlayerRole[this.friendInfo.gender].roleResours)];case 16:return p=$.sent(),h="ui/scene/pvp/bg",[3,48];case 17:return this.helpGrid.visible=!0,[4,e.PlayerModel.getMissionPokemonList(this.legendaryMission,this.legendaryFormation)];case 18:return c=$.sent(),h="ui/scene/battle/bg99",[3,48];case 19:return this.helpGrid.visible=!0,[4,e.PlayerModel.getMissionPokemonList(this.riftId,this.riftFormation)];case 20:return c=$.sent(),h="ui/scene/battle/bg9",[3,48];case 21:return this.helpGrid.visible=!0,D=e.Data.TGuildBoss[this.guildBossInfo.bossId],[4,e.PlayerModel.getMissionPokemonList(D.missionId,D.formation)];case 22:return c=$.sent(),h="ui/scene/battle/bg100",[3,48];case 23:return this.helpGrid.visible=!1,[4,e.PlayerModel.getMissionPokemonList(this.storyInfo.leftMission,this.storyInfo.leftFormation)];case 24:return s=$.sent(),[4,e.PlayerModel.getMissionPokemonList(this.storyInfo.rightMission,this.storyInfo.rightFormation)];case 25:return c=$.sent(),o=!0,a=!0,this._competitorAvatar.setAvatar(this.storyInfo.rightRole),this._playerAvatar.setAvatar(this.storyInfo.leftRole),this.autoButton.visible=!1,this._auto=!0,this.updateAuto(),x=e.Data.TPlayerRole[this.storyInfo.leftRole],[4,e.loadRes("ui/scene/story/xiluona")];case 26:return p=$.sent(),[4,e.loadRes("art/battle/player_1")];case 27:return g=$.sent(),h="ui/scene/pvp/bg",[3,48];case 28:return this.autoButton.visible=!1,this._auto=!0,this.updateAuto(),this.helpGrid.visible=!1,[4,e.PlayerModel.getMissionPokemonList(5e6,101)];case 29:return s=$.sent(),[4,e.PlayerModel.getMissionPokemonList(51e5,101)];case 30:return c=$.sent(),o=!0,this.competitorAvatarGroup.visible=!1,[4,e.loadRes("ui/scene/story2/haihuangya")];case 31:return p=$.sent(),h="ui/scene/story2/zhandouBg",this.quitButton.visible=!1,[3,48];case 32:return this.helpGrid.visible=!1,C=Math.min(e.DataManager.playerModel.MiningData.level,200)+4e6,h="ui/scene/battle/bg100",[4,e.PlayerModel.getMissionPokemonList(C,1)];case 33:return c=$.sent(),[3,48];case 34:if(this.helpGrid.visible=!1,this._currentLevelId=this.gymData.bossID,h="ui/scene/pvp/bg",!this.gymData.isBoss||!this.gymInfo.bossInfo)return[3,36];for(c=[],B=this.gymInfo.bossInfo.playerInfo,S=this.gymInfo.bossInfo.battlePms,E=this.gymInfo.bossInfo.team,A=E.formation,M=E.gridConfig,u=0;u<S.length;u++){for(k=S[u],I=void 0,T=0;T<M.length;T++)M[T].id==k.id&&(I=M[T].grid);P=e.parseBattlePokemonData(k,A,I,!1,!1,E.titles,E.badges,E.roles,1,!1,e.getVipLevelByRecharge(B.vipExp),E,null,null,E.artifacts,null),P.speed=1,c.push(P)}return o=!0,this._competitorAvatar.setAvatar(B.gender),this._competitorAvatar.setWing(B.wing,1),this._competitorAvatar.setDecoration(B.orna,1),B.title&&(this.competitorTitle.visible=!0,this.competitorTitle.source="langs/title/"+B.title),[4,e.loadRes("art/battle/player_front_"+e.Data.TPlayerRole[B.gender].roleResours)];case 35:return p=$.sent(),[3,38];case 36:return[4,e.PlayerModel.getMissionPokemonList(this._currentLevelId,this.gymData.bossFormation)];case 37:c=$.sent(),o=!0,G=!1,this.gymData.isBoss&&(G=!0),this._competitorAvatar.setGymAvatar(this.gymData.npcShow,G,!1,1),$.label=38;case 38:return[3,48];case 39:return this.quitButton.visible=!1,this.helpGrid.visible=!1,h="ui/scene/battle/bg100",c=this.treasureMissionTeam,this.treasureItem.treasurePlayerInfo?(this.competitorAvatarGroup.visible=!1,N=this.treasureItem.treasurePlayerInfo.player,o=!0,this._competitorAvatar.setAvatar(N.gender),this._competitorAvatar.setWing(N.wing,1),this._competitorAvatar.setDecoration(N.orna,1),[4,e.loadRes("art/battle/player_front_"+e.Data.TPlayerRole[N.gender].roleResours)]):[3,41];case 40:return p=$.sent(),[3,42];case 41:this.competitorAvatarGroup.visible=!0,$.label=42;case 42:return[3,48];case 43:return null==i&&(i=1001),this.subwayId=i,R=Math.floor(this.subwayId/1e3),h=null==R?"ui/scene/subway/subwaybattlebg1":"ui/scene/subway/subwaybattlebg"+R,[4,e.PlayerModel.getMissionPokemonList(e.Data.TBattleMetro[this.subwayId].LevelMonster,1)];case 44:return c=$.sent(),[3,48];case 45:return this.maxChallengePlayerInfo?[4,e.loadRes("art/battle/player_front_"+e.Data.TPlayerRole[this.maxChallengePlayerInfo.gender].roleResours)]:[3,47];case 46:p=$.sent(),$.label=47;case 47:return h="ui/scene/subway/subwaybattlebg1",c=this.competitorPokemonData,[3,48];case 48:return this.helpGrid.visible&&(this.helpGrid.visible=!1,q=e.DataManager.playerModel.getHelpFriend(),q&&q.assist&&(j=e.DataManager.playerModel.sid+"_"+e.DataManager.playerModel.pid,H=Number(egret.localStorage.getItem("helpTime"+j)),e.getNowTime().getTime()-H>=6e4*Number(e.Constants.AssistantCD)&&(this.helpGrid.visible=!0,e.DataManager.playerModel.useAssistPokemon(q),O=e.parseBattlePokemonData(q.assist,0,0,!1,!1,[],[],[],1,!1,0,null,null,null,null,null),s.push(O)))),Math.random()<.5?(F=Math.round(8*Math.random())+100,[4,e.loadRes("art/battle/competitor_"+(Math.floor(5*Math.random())+101))]):[3,50];case 49:return p=$.sent(),[3,52];case 50:return F=Math.round(19*Math.random()),[4,e.loadRes("art/battle/competitor_"+(Math.floor(5*Math.random())+1))];case 51:p=$.sent(),$.label=52;case 52:this.bgDisplay.source=h,z=[],U=function(t){return __awaiter(J,void 0,void 0,function(){var n,i,a,o,s,s,s,s,r,u,l,s;return __generator(this,function(c){switch(c.label){case 0:n=t.skill,i=0,c.label=1;case 1:return i<n.length?(a=n[i])?(o=e.Data.TElfSkill[a])?(o.resGather&&(s=e.Data.TTexiaoGather[o.resGather],s&&z.push(s.resource)),o.resBoom&&(s=e.Data.TTexiaoBoom[o.resBoom],s&&z.push(s.resource)),o.resFire&&(s=e.Data.TTexiaoFire[o.resFire],s&&z.push(s.resource)),o.resFly?(s=e.Data.TTexiaoFly[o.resFly],s?[4,e.loadRes("anim/projectile/"+s.id)]:[3,3]):[3,3]):(egret.log(a),[3,4]):[3,4]:[3,5];case 2:c.sent(),c.label=3;case 3:for(r=e.splitStringToNumberArray(o.effect),u=0;u<r.length;u++)l=e.Data.TXiaoGuo[r[u]],l.resBuff&&(s=e.Data.TTexiaoBuff[l.resBuff],z.push(s.resource));c.label=4;case 4:return i++,[3,1];case 5:return[2]}})})},this._playerAbility=[],this._competitorAbility=[],this.bossHpBar.visible=!1,this.bossHpBar.currentPokemon=null,W=function(e,t,n){return void 0===n&&(n=1),__awaiter(J,void 0,void 0,function(){var i,a,a,o,s;return __generator(this,function(r){switch(r.label){case 0:return 1==this._battleType&&1==t&&e.isBoss>1&&(this._showBossBone=!0),i=this._battlePokemonPool.createObject(),i.bossHpBar=null,[4,i.setPokemon(e,t)];case 1:return r.sent(),e.isBoss>1&&!this.bossHpBar.currentPokemon&&(this.bossHpBar.visible=!0,this.bossHpBar.setPokemon(i),i.bossHpBar=this.bossHpBar,this.bossMission=!0),-1==t?this._playerNumber++:this._competitorNumber++,i.display.alpha=0,i.round=1,i.setTimeScale(this._timeScale),i.play(1),i.resetPosition(),i.setHpPercent(n),n>0?(this._battlePokemon.push(i),this.orderGroup.addChild(i.pokemonIcon),this.arrowGroup.addChild(i.arrow),[4,U(e)]):[3,3];case 2:r.sent(),r.label=3;case 3:switch(e.ability){case 46:case 54:case 55:case 59:case 60:case 61:case 62:case 63:case 64:case 65:case 72:case 87:case 88:case 103:case 104:case 105:case 107:case 120:case 122:case 135:case 136:case 137:case 139:case 141:case 143:case 144:case 155:case 156:case 159:-1==t?(87==i.ability?(this._playerAdd.atk=Math.max(i.atk*i.abilityNumber[0],this._playerAdd.atk),this._playerAdd.atkSp=Math.max(i.spAtk*i.abilityNumber[0],this._playerAdd.atkSp)):105==i.ability&&(this._playerAdd.def=Math.max(this._playerAdd.def,i.def*i.abilityNumber[0]),this._playerAdd.defSp=Math.max(this._playerAdd.defSp,i.spDef*i.abilityNumber[0])),a=0,this._playerAbility[e.ability]&&(a=this._playerAbility[e.ability][998]),this._playerAbility[e.ability]=i.abilityNumber,this._playerAbility[e.ability][999]=i,this._playerAbility[e.ability][998]=a+1):(87==i.ability?(this._competitorAdd.atk=Math.max(i.atk*i.abilityNumber[0],this._competitorAdd.atk),this._competitorAdd.atkSp=Math.max(i.spAtk*i.abilityNumber[0],this._competitorAdd.atkSp)):105==i.ability&&(this._competitorAdd.def=Math.max(this._competitorAdd.def,i.def*i.abilityNumber[0]),this._competitorAdd.defSp=Math.max(this._competitorAdd.defSp,i.spDef*i.abilityNumber[0])),a=0,this._competitorAbility[e.ability]&&(a=this._competitorAbility[e.ability][998]),this._competitorAbility[e.ability]=i.abilityNumber,this._competitorAbility[e.ability][999]=i,this._competitorAbility[e.ability][998]=a+1)}for(o=0;o<i.giftAbility.length;o++)switch(s=i.giftAbility[o]){case 1008:case 1011:case 1053:-1==t?(this._playerAbility[s]=i.giftAbilityNumber[o],this._playerAbility[s][999]=i):(this._competitorAbility[s]=i.giftAbilityNumber[o],this._competitorAbility[s][999]=i)}return[2,i]}})})},V=1,9==t&&(V=this.riftHpPercent),u=0,$.label=53;case 53:return u<s.length?14!=this._battleType?[3,55]:[4,W(s[u],-1,.01*this.gymPlayerHp[u])]:[3,58];case 54:return Y=$.sent(),this.gymPokemonTeam.push(Y),[3,57];case 55:return[4,W(s[u],-1,V)];case 56:$.sent(),$.label=57;case 57:return u++,[3,53];case 58:if(7==t&&(this.guildBossPokemon=[],0==this.guildBossInfo.bossHpPercent.length))for(u=0;u<c.length;u++)this.guildBossInfo.bossHpPercent.push(1);u=0,$.label=59;case 59:return u<c.length?7!=t?[3,61]:[4,W(c[u],1,this.guildBossInfo.bossHpPercent[u])]:[3,64];case 60:return Y=$.sent(),this.guildBossPokemon.push(Y),[3,63];case 61:return[4,W(c[u],1)];case 62:$.sent(),$.label=63;case 63:return u++,[3,59];case 64:for(this._battlePokemon=this._battlePokemon.sort(function(e,t){return e.displayPosition[1]>t.displayPosition[1]?1:-1}),u=0;u<this._battlePokemon.length;u++)X=this._battlePokemon[u],X.oldIndex=u,this.pokemonGroup.addChildAt(X.display,u);return this.orderPokemon(),this.resetPokemonIconPosition(),this._openBones?[3,66]:(this._openBones=new e.SkeletonBase,[4,this._openBones.createBones("ani_zhandouks")]);case 65:$.sent(),$.label=66;case 66:return this._openBones.setSlot("difang",!0,p),[4,this.loadBones(z)];case 67:return $.sent(),[4,e.loadBones("sihouxiaoguo")];case 68:return $.sent(),[4,e.loadBones("guaichuxianqian")];case 69:return $.sent(),!this._showBossBone||this._bossBone?[3,71]:(K=this,[4,e.getBone("BOSStexiao")]);case 70:K._bossBone=$.sent(),$.label=71;case 71:return a||(this._playerAvatar.setAvatar(e.DataManager.playerModel.playerRole),this._playerAvatar.setWing(e.DataManager.playerModel.playerWing,1),this._playerAvatar.setDecoration(e.DataManager.playerModel.playerDecoration,1)),o||this._competitorAvatar.setAvatar(F,!1,!0),this._playerAvatar.play(1),this._competitorAvatar.play(1),g?[3,73]:(x=e.Data.TPlayerRole[e.DataManager.playerModel.playerRole],[4,e.loadRes("art/battle/player_"+x.roleResours)]);case 72:g=$.sent(),$.label=73;case 73:for(u=1;6>=u;u++)this._openBones.setSlot("di0"+u,u<=c.length);for(u=1;6>=u;u++)this._openBones.setSlot("wo0"+u,u<=s.length);return this._openBones.alpha=1,this._openBones.x=gameConfig.curWidth()/2,this._openBones.y=gameConfig.curHeight()/2,Z=e.Data.TGridType[s[0].formation],Z?(this.playerFormationTypeImage.visible=!0,this.playerFormationTypeImage.source="ui/scene/formation/"+Z.typeid):this.playerFormationTypeImage.visible=!1,Q=e.Data.TGridType[c[0].formation],Q?(this.competitorFormationTypeImage.visible=!0,this.competitorFormationTypeImage.source="ui/scene/formation/"+Q.typeid):this.competitorFormationTypeImage.visible=!1,this.initWeather(),[2]
}})})},n.prototype.updateRound=function(t){return this._round=Math.max(t,this._round),this.roundLabel.text=e.Lang.huihe+": "+this._round,14==this._battleType&&this.gymData.bossBattleRound&&(this.roundLabel.text+="(回合限制:"+this.gymData.bossBattleRound+")",this._round>this.gymData.bossBattleRound)?!0:void(this.roundDamageLabel.visible=this._round>=this._damageAddRound)},n.prototype.initWeather=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,u,l;return __generator(this,function(c){switch(c.label){case 0:if(t=15==this._battleType?2:8==this._battleType?1:e.DataManager.playerModel.currentWeather,n=e.Data.TWeather[t],!n)return[2];for(i=n.resource,this.weatherLabel.source="langs/tianqi_"+n.Id,this._weatherEffect=e.Data.TEffect[n.effectWeather],a=new e.EquipAttribute,o=e.getAttributeTextList(e.parseEquipAttribute(a,this._weatherEffect)),s="",r=0;r<o.length;r++)s+=o[r]+" ";return this.weatherEffectLabel.text=s,this._weatherBone&&e.destroyBone(this._weatherBone),this._weatherParticle&&e.destroyParticle(this._weatherParticle),4!=n.Id&&7!=n.Id?[3,2]:(u=this,[4,e.getBone(i)]);case 1:return u._weatherBone=c.sent(),this._weatherBone.play(null,0),this._weatherBone.setScale(this._heightScale),this.weatherBoneGroup.addChild(this._weatherBone),[3,4];case 2:return l=this,[4,e.getParticle(i)];case 3:l._weatherParticle=c.sent(),this._weatherParticle.start(),this._weatherParticle.scale=this._heightScale,this.particleGroup.addChild(this._weatherParticle),c.label=4;case 4:return egret.clearTimeout(this._loadTimeout),[2]}})})},n.prototype.loadBones=function(t){for(var n=this,i=e.defer(),a=[],o=0;o<t.length;o++){var s=t[o];a.concat([e.loadRes(s+"/"+s+"_ske_json"),e.loadRes(s+"/"+s+"_tex_json"),e.loadRes(s+"/"+s+"_tex_image")])}return e.when(a).done(function(){return __awaiter(n,void 0,void 0,function(){var n,a;return __generator(this,function(o){switch(o.label){case 0:n=0,o.label=1;case 1:return n<t.length?(a=t[n],[4,e.loadBones(a)]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return i.resolve(null),[2]}})})}),i.promise()},n.prototype.orderPokemon=function(){this._battlePokemon=this._battlePokemon.sort(function(e,t){return e.round==t.round?e.currentSpeed>t.currentSpeed?-1:1:e.round<t.round?-1:1})},n.prototype.resetPokemonIconPosition=function(){for(var e=0;e<this._battlePokemon.length;e++){var t=this._battlePokemon[e].pokemonIcon;0==e?(t.scale=.8,t.setPosition(292,0),t.select=!0,t.play()):(t.scale=.6,t.setPosition(219-75*(e-1),14),t.select=!1,t.stop())}},n.prototype.runPokemonIconPosition=function(t){void 0===t&&(t=300);for(var n=e.defer(),i=0;i<this._battlePokemon.length;i++){var a=this._battlePokemon[i],o=a.pokemonIcon,s=219-75*(i-1);0==i?(egret.Tween.get(o).to({scaleX:.8,scaleY:.8,y:0,x:292},t*this._timeScale),o.select=!0,o.play()):1==o.select?(egret.Tween.get(o).to({scaleX:.6,scaleY:.6,y:14,x:407},t*this._timeScale),o.select=!1,o.stop()):(egret.Tween.get(o).to({scaleX:.6,scaleY:.6,y:14,x:s},t*this._timeScale),o.select=!1)}return egret.setTimeout(function(){n.resolve(null)},this,t*this._timeScale),n.promise()},n.prototype.setCurrentPokemon=function(){if(this._currentPokemon){for(var e=this._currentPokemon.skillList,t=this._currentPokemon.skillSetting,n=0;n<this._skillIconList.length;n++){var i=this._skillIconList[n],a=e[n];i.skill=a,i.side=this._currentPokemon.side,i.pokemon=this._currentPokemon;for(var o=1,s=0;s<t.length;s++)if(t[s].slot==n){o=t[s].sort;break}i.sort=o,a||(i.sort=5),this._currentPokemon.lastUseSkillId==a&&this.selectSkill(i)}this.spBar.slideDuration=0,this.spBar.maximum=this._currentPokemon.maxSp,this.spBar.value=this._currentPokemon.currentSp,this.spBar.slideDuration=500,this._currentPokemon.addChildAt(this._pokemonSelectAnim.display,0),this._pokemonSelectAnim.setDisplayPosition(this._currentPokemon.display.width/2,this._currentPokemon.display.height+25),this._auto?this.skillGroup.visible=!1:this.skillGroup.visible=-1==this._currentPokemon.side}},n.prototype.run=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,t,n,s,t,n,s,n,r,o,n,r,o,n,u,r,t,l,n,u,r,t,c,n,u,r,t,h,n,u,r,t,p,g,d,m,f,_,y,v,b,w,k,I,T,P,L,D,x,t,C,B,S,E,A,s,M,t,n,G,N,t,n,t,n,t,n,A,B,R,q,G,t,n,A,B,R,q,G,t,n,A,j,t,H,t,C,O,F=this;return __generator(this,function(z){switch(z.label){case 0:return e.updateTeach(39),this._battleEnd=!1,this.playMusic(),this.addChild(this._openBones),5001!=e.DataManager.playerModel.getPlayerInfo().gender?[3,2]:[4,this._openBones.play("boyattack",1)];case 1:return z.sent(),[3,4];case 2:return[4,this._openBones.play("girlattack",1)];case 3:z.sent(),z.label=4;case 4:return[4,this._openBones.hide()];case 5:return z.sent(),this._openBones.removeFromParent(),this._showBossBone?(this._bossBone.x=360,this._bossBone.y=470,this.addChild(this._bossBone),[4,this._bossBone.play(null,1)]):[3,7];case 6:z.sent(),this._bossBone.removeFromParent(),z.label=7;case 7:return[4,this.showPokemon()];case 8:for(z.sent(),t=0;t<this._battlePokemon.length;t++)if(n=this._battlePokemon[t],n.startXiaoGuo.length>0)for(i=0;i<n.startXiaoGuo.length;i++)a=n.startXiaoGuo[i],o=this.getXiaoGuoTarget(a.target,n),this.addSkillEffect(a,null,null,n,o);if(this._playerAbility[88])for(t=0;t<this._battlePokemon.length;t++)n=this._battlePokemon[t],-1==n.side&&(s=n.currentHp/n.maxHp,n.abilityHp=this._playerAbility[88][0],n.currentHp=n.maxHp*s);if(this._competitorAbility[88])for(t=0;t<this._battlePokemon.length;t++)n=this._battlePokemon[t],1==n.side&&(s=n.currentHp/n.maxHp,n.abilityHp=this._competitorAbility[88][0],n.currentHp=n.maxHp*s);if(this._playerAbility[137]&&(n=this._playerAbility[137][999],r=this.getSkillTarget(2,n),o=r[Math.floor(r.length*Math.random())],o&&(e.showAbilityText(137,n),o.def<o.spDef?n.pokemonData.atk*=1+this._playerAbility[137][0]:n.pokemonData.spAtk*=1+this._playerAbility[137][1])),this._competitorAbility[137]&&(n=this._competitorAbility[137][999],r=this.getSkillTarget(2,n),o=r[Math.floor(r.length*Math.random())],o&&(e.showAbilityText(137,n),o.def<o.spDef?n.pokemonData.atk*=1+this._competitorAbility[137][0]:n.pokemonData.spAtk*=1+this._competitorAbility[137][1])),this._playerAbility[143]&&(n=this._playerAbility[143][999],u=this._playerAbility[143][998]*this._playerAbility[143][0],r=this.getSkillTarget(12,n),r&&r.length>0))for(e.showAbilityText(143,n),t=0;t<r.length;t++)l=r[t],l.pokemonData.atk*=1+u,l.pokemonData.spAtk*=1+u,l.pokemonData.def*=1+u,l.pokemonData.spDef*=1+u,l.pokemonData.speed*=1+u;if(this._competitorAbility[143]&&(n=this._competitorAbility[143][999],u=this._competitorAbility[143][998]*this._competitorAbility[143][0],r=this.getSkillTarget(12,n),r&&r.length>0))for(e.showAbilityText(143,n),t=0;t<r.length;t++)c=r[t],c.pokemonData.atk*=1+u,c.pokemonData.spAtk*=1+u,c.pokemonData.def*=1+u,c.pokemonData.spDef*=1+u,c.pokemonData.speed*=1+u;if(this._playerAbility[156]&&(n=this._playerAbility[156][999],u=this._playerAbility[156][0],u>1&&(u=1),r=this.getSkillTarget(12,n),r&&r.length>0))for(e.showAbilityText(156,n),t=0;t<r.length;t++)h=r[t],h.pokemonData.atk*=1+u,h.pokemonData.spAtk*=1+u,h.pokemonData.def*=1+u,h.pokemonData.spDef*=1+u,h.pokemonData.speed*=1+u;if(this._competitorAbility[156]&&(n=this._competitorAbility[156][999],u=this._competitorAbility[156][0],u>1&&(u=1),r=this.getSkillTarget(12,n),r&&r.length>0))for(e.showAbilityText(156,n),t=0;t<r.length;t++)p=r[t],p.pokemonData.atk*=1+u,p.pokemonData.spAtk*=1+u,p.pokemonData.def*=1+u,p.pokemonData.spDef*=1+u,p.pokemonData.speed*=1+u;for(g=[],d=[],m=[],f=[],_=[],y=[],v={},b={},w=[],k=[],I=[],T=[],P=[],L=[],D=[],x=[],t=0;t<this._battlePokemon.length;t++)for(C=this._battlePokemon[t],B=C.getAttributeType(),v[B]||(v[B]=0),b[B]||(b[B]=0),-1==C.side?v[B]++:b[B]++,S=0;S<C.giftAbility.length;S++)switch(E=C.giftAbility[S],A=C.giftAbilityNumber[S],E){case 1001:g.push(C),d.push(A);break;case 1020:-1==C.side?(m.push(C),f.push(A[1])):(_.push(C),y.push(A[1]));break;case 1021:-1==C.side?(m.push(C),f.push(-A[1])):(_.push(C),y.push(-A[1]));break;case 1028:-1==C.side?(w.push(C),k.push(A)):(I.push(C),T.push(A));break;case 1014:P.push(C),L.push(A);break;case 1030:e.showAbilityText(1030,C,!0),s=C.currentHp/C.maxHp,C.abilityHp=.01*A[1],C.currentHp=C.maxHp*s;break;case 1036:e.showAbilityText(1036,C,!0),D.push(C),x.push(A[1]);break;case 1047:e.showAbilityText(1047,C,!0),C.addEffect(e.Data.TXiaoGuo[A[1]],null,null);break;case 1049:e.showAbilityText(1049,C,!0),C.addEffect(e.Data.TXiaoGuo[A[2]],null,null)}if(g.length>0)for(M=Math.min(g.length,5),t=0;t<g.length;t++)n=g[t],G=1+M*d[t][0]*.01,N=1-M*d[t][1]*.01,n.pokemonData.atk*=G,n.pokemonData.spAtk*=G,n.pokemonData.def*=G,n.pokemonData.spDef*=G,n.pokemonData.speed*=N,e.showAbilityText(1001,n,!0);if(m.length>1)for(t=0;t<m.length;t++)n=m[t],f[t]>0?(n.addEffect(e.Data.TXiaoGuo[f[t]],null,null),e.showAbilityText(1020,n,!0)):(n.addEffect(e.Data.TXiaoGuo[-f[t]],null,null),e.showAbilityText(1021,n,!0));if(_.length>1)for(t=0;t<_.length;t++)n=_[t],y[t]>0?(n.addEffect(e.Data.TXiaoGuo[y[t]],null,null),e.showAbilityText(1020,n,!0)):(n.addEffect(e.Data.TXiaoGuo[-y[t]],null,null),e.showAbilityText(1021,n,!0));if(w.length>0)for(t=0;t<w.length;t++)n=w[t],e.showAbilityText(1028,n,!0),A=k[t],B=n.getAttributeType(),R=v[B],q=b[B],G=1+(R*A[0]*.01-q*A[1]*.01),n.pokemonData.atk*=G,n.pokemonData.spAtk*=G;if(I.length>0)for(t=0;t<I.length;t++)n=I[t],e.showAbilityText(1028,n,!0),A=T[t],B=n.getAttributeType(),R=b[B],q=v[B],G=1+(R*A[0]*.01-q*A[1]*.01),n.pokemonData.atk*=G,n.pokemonData.spAtk*=G;if(P.length>0){for(t=0;t<P.length;t++)n=P[t],e.showAbilityText(1014,n,!0),A=L[t],n.addEffect(e.Data.TXiaoGuo[A[1]],null,null);for(j=e.Data.TXiaoGuo[L[0][2]],t=0;t<this._battlePokemon.length;t++)this._battlePokemon[t].addEffect(j,null,null)}if(D.length>0)for(H=e.Data.TXiaoGuo[x[0]],t=0;t<this._battlePokemon.length;t++)C=this._battlePokemon[t],17==C.getAttributeType()&&C.addEffect(H,null,null);return this.parseOpenSuperEquip(),1==this._battleType?(O=e.BattleStory.getInstance(),this.storyGroup.addChild(O),this.storyGroup.visible=!0,O.setDataAndCallBack(function(){F.storyGroup.visible=!1,F.startBattle(),e.NotificationCenter.getInstance().postNotification("enterScene","战斗")},this._storyLevelId,1)):(this.startBattle(),e.NotificationCenter.getInstance().postNotification("enterScene","战斗")),[2]}})})},n.prototype.parseOpenSuperEquip=function(){for(var e=function(e,t,n,i){switch(void 0===i&&(i=null),t){case 1:e.pokemonData.atk=e.pokemonData.atk*(1+n)|0;break;case 2:e.pokemonData.spAtk=e.pokemonData.atk*(1+n)|0;break;case 3:e.pokemonData.def=e.pokemonData.atk*(1+n)|0;break;case 4:e.pokemonData.spDef=e.pokemonData.atk*(1+n)|0}},t=0;t<this._battlePokemon.length;t++){var n=this._battlePokemon[t],i=n.superEquipData;if(i&&5==i.openCondition)for(var a=this.getSuperEquipTarget(i.xiaoGuotarget,n),o=0;o<a.length;o++){var s=a[o];i.xiaoGuoType1&&e(s,i.xiaoGuoType1,i.xiaoGuoNum1),i.xiaoGuoType2&&e(s,i.xiaoGuoType2,i.xiaoGuoNum2)}}},n.prototype.getSuperEquipTarget=function(e,t){var n=[];switch(e){case 1:n.push(t);break;case 2:for(var i=[],a=0;a<this._battlePokemon.length;a++)this._battlePokemon[a].isLive&&this._battlePokemon[a].side==t.side&&i.push(this._battlePokemon[a]);var o=i[Math.floor(Math.random()*i.length)];o&&n.push(o);break;case 3:for(var a=0;a<this._battlePokemon.length;a++)this._battlePokemon[a].isLive&&this._battlePokemon[a].side==t.side&&n.push(this._battlePokemon[a]);break;case 4:for(var i=[],a=0;a<this._battlePokemon.length;a++)this._battlePokemon[a].isLive&&this._battlePokemon[a].side!=t.side&&i.push(this._battlePokemon[a]);var o=i[Math.floor(Math.random()*i.length)];o&&n.push(o);break;case 5:for(var a=0;a<this._battlePokemon.length;a++)this._battlePokemon[a].isLive&&this._battlePokemon[a].side!=t.side&&n.push(this._battlePokemon[a])}return n},n.prototype.showPokemon=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:for(t=0;t<this._battlePokemon.length;t++)this._battlePokemon[t].battleBeginShow();return[4,e.delay(1500*this._timeScale)];case 1:return n.sent(),[2]}})})},n.prototype.startBattle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,t,n,i;return __generator(this,function(a){switch(a.label){case 0:if(this._battleEnd)return[3,7];if(this._playerAbility[122]&&(t=void 0,this._playerNumber<this._competitorNumber?(t=this._playerAbility[122][3],this._playerAbility[122][3]=0):this._playerNumber>this._competitorNumber&&(t=this._playerAbility[122][2],this._playerAbility[122][2]=0),t))for(e.showAbilityText(122,this._playerAbility[122][999]),n=0;n<this._battlePokemon.length;n++)i=this._battlePokemon[n],-1==i.side&&i.isLive&&i.addEffect(e.Data.TXiaoGuo[t],this._playerAbility[122][999],null);if(this._competitorAbility[122]&&(t=void 0,this._playerNumber>this._competitorNumber?(t=this._competitorAbility[122][3],this._competitorAbility[122][3]=0):this._playerNumber<this._competitorNumber&&(t=this._competitorAbility[122][2],this._competitorAbility[122][2]=0),t))for(e.showAbilityText(122,this._competitorAbility[122][999]),n=0;n<this._battlePokemon.length;n++)i=this._battlePokemon[n],1==i.side&&i.isLive&&i.addEffect(e.Data.TXiaoGuo[t],this._competitorAbility[122][999],null);return this.abilityRecoveryReduce=0,this._playerAbility[141]&&Math.random()<this._playerAbility[141][0]&&(e.showAbilityText(141,this._playerAbility[141][999]),this.abilityRecoveryReduce=this._playerAbility[141][1]),this._competitorAbility[141]&&Math.random()<this._competitorAbility[141][0]&&(e.showAbilityText(141,this._competitorAbility[141][999]),this.abilityRecoveryReduce=this._competitorAbility[141][1]),[4,this.roundBegin()];case 1:return a.sent(),this._skipRound?[3,5]:[4,this.selectSkillAndTarget()];case 2:return a.sent(),this._targetList&&this._targetList[0]?[4,this.runSkillEffect()]:[3,5];case 3:return a.sent(),[4,this.useSkill()];case 4:a.sent(),a.label=5;case 5:return[4,this.roundEnd()];case 6:return a.sent(),[3,0];case 7:return this._quitBattle?[2]:(this.battleEnd(),[2])}})})},n.prototype.addGiftBuff=function(t,n,i){void 0===i&&(i=1);var a=e.Data.TXiaoGuo[t];if(1==i)for(var o=0;o<this._battlePokemon.length;o++){var s=this._battlePokemon[o];s.isLive&&s.addEffect(a,null,null)}else if(2==i){for(var r=[],o=0;o<this._battlePokemon.length;o++){var s=this._battlePokemon[o];s.isLive&&s.side!=n&&r.push(s)}r=r.sort(function(e,t){return e.currentSpeed>t.currentSpeed?-1:1}),r[0]&&r[0].addEffect(a,null,null),r[1]&&r[1].addEffect(a,null,null)}},n.prototype.runBgEffect=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return n=e.Data.TTexiaoBg[t],n?[4,e.getBone(n.resource)]:[2];case 1:return i=a.sent(),i.setScale(this._heightScale),this.topPokemonEffect.addChild(i),i.play(null,1),egret.setTimeout(function(){i.stop(),e.destroyBone(i)},this,1e3),[2]}})})},n.prototype.runSkillEffect=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,u,l=this;return __generator(this,function(c){return t=e.defer(),n=this._currentSkill,(i=n.skillData)&&(i.blackBg||i.showBg)?(a=this._currentPokemon,i.blackBg&&(this.topPokemonGroup.visible=!0,o=a.parent,this.topPokemonGroup.addChild(a),this.topPokemonDark.alpha=0,egret.Tween.get(this.topPokemonDark).to({alpha:.8},150).wait(550).to({alpha:0},300).call(function(){o.addChildAt(a,9999),l.topPokemonGroup.visible=!1}),this.runBgEffect(i.blackBg)),s=a.x+19,r=a.y+396-70,-1==a.side?(u=this.leftSkillGroup,this.leftSkillGroup.visible=!0,this.leftSkillLabel.text=i.name):(u=this.rightSkillGroup,this.rightSkillGroup.visible=!0,this.rightSkillLabel.text=i.name),u.scaleX=u.scaleY=0,u.alpha=0,u.x=s,u.y=r,egret.Tween.get(u).to({scaleX:1,scaleY:1,alpha:1},150).wait(550).call(function(){t.resolve(null)}).to({alpha:0},300).call(function(){l.leftSkillGroup.visible=l.rightSkillGroup.visible=!1}),[2,t.promise()]):[2]})})},n.prototype.battleEnd=function(){return __awaiter(this,void 0,void 0,function(){var t,i,a,o,s,r,u,l,c,h,p,g,d,m,f,_,d,y,v,b,w,k,I,T,P=this;return __generator(this,function(L){switch(L.label){case 0:return this._quitBattle=!0,8==this._battleType||15==this._battleType?(this.quitBattle(),[2]):(e.showWaitPanel(),[4,e.DataManager.playerModel.checkPokemon()]);case 1:return t=L.sent(),t||(this._win=!1,this.damageCount=0),16!=this._battleType?[3,3]:[4,e.DataManager.playerModel.endTreasureBattle(this.treasureItem,this._win)];case 2:return c=L.sent(),[3,30];case 3:if(7!=this._battleType)return[3,5];for(g=[],d=0;d<this.guildBossPokemon.length;d++)m=this.guildBossPokemon[d],f=m.currentHp/m.maxHp,g.push(this.guildBossInfo.bossHpPercent[d]-f);return[4,e.DataManager.playerModel.endGuildBoss(this.guildBossInfo,g)];case 4:return r=L.sent(),[3,30];case 5:return 6!=this._battleType?[3,7]:[4,e.DataManager.playerModel.endLegendary(this._win,this.legendaryID)];case 6:return s=L.sent(),[3,30];case 7:return 3!=this._battleType?[3,12]:3!=this.pvpType?[3,9]:[4,e.DataManager.playerModel.endThroneBattle(this._win,this.pvpThroneID,this.pvpThroneRank)];case 8:return a=L.sent(),[3,11];case 9:return o=e.copyObject(e.DataManager.playerModel.getPvpInfoByType(this.pvpType)),[4,e.DataManager.playerModel.endPvpBattle(this._win,this.competitorInfo,this.pvpType)];case 10:a=L.sent(),L.label=11;case 11:return[3,30];case 12:return 12!=this._battleType?[3,14]:(u=e.copyObject(e.DataManager.playerModel.getMyPvpRankInfo()),[4,e.DataManager.playerModel.endRankPvpBattle(this._win,this.rankPvpInfo)]);case 13:return l=L.sent(),[3,30];case 14:return 13!=this._battleType?[3,19]:(u=e.copyObject(e.DataManager.playerModel.getMyPvpRankInfo()),this.rankPvpIsRobot?[4,e.DataManager.playerModel.endRankPvpBattle(this._win,null)]:[3,16]);case 15:return l=L.sent(),[3,18];case 16:return[4,e.DataManager.playerModel.endRankPvpMission(this._win)];case 17:l=L.sent(),L.label=18;case 18:return[3,30];case 19:return 9!=this._battleType?[3,21]:[4,e.DataManager.playerModel.endRiftEvent(0,this._win)];case 20:return i=L.sent(),i&&this._win&&e.DataManager.playerModel.addRiftReward(i),[3,30];case 21:return 5!=this._battleType?[3,23]:[4,e.DataManager.playerModel.endBattle(this._battleType,this._playerTeamPokemonId,this._currentLevelId,this._win,this.friendInfo.id)];case 22:return i=L.sent(),i&&e.DataManager.playerModel.extension.dEngagedCount++,[3,30];case 23:if(14!=this._battleType)return[3,25];for(_=[],d=0;d<this.gymPokemonTeam.length;d++)y=this.gymPokemonTeam[d],v=0,this._win&&(v=Math.floor(y.currentHp/y.maxHp*100)),_.push(v);return[4,e.DataManager.playerModel.endGymBattle(this.gymTeamInfo,this.gymInfo,_,this.damageCount,this._win)];case 24:return h=L.sent(),[3,30];case 25:return 17!=this._battleType?[3,28]:this._win?[4,e.DataManager.playerModel.EndBattleSubway(this.subwayId)]:[3,27];case 26:p=L.sent(),L.label=27;case 27:return[3,30];case 28:return[4,e.DataManager.playerModel.endBattle(this._battleType,this._playerTeamPokemonId,this._currentLevelId,this._win)];case 29:i=L.sent(),L.label=30;case 30:return e.SoundManager.resumeBgSound(),e.NotificationCenter.getInstance().addObserver(this,this.quitBattle,n.RESULT_FINISH),this._win?(a?e.SoundManager.playEffect("music/UI_jinjichangshenli"):e.SoundManager.playEffect("music/battleWin"),b=e.BattleWin.getInstance(),s?b.setLegendaryReward():r?b.setGuildBossReward():a?b.setPvpReward(o,this.pvpType):i?b.setReward(i):l?b.setRankPvpReward(u):h?b.setGymReward(h,this.damageCount):c?b.setTreasure(c):p&&(w={},w.items=p.gets.items,w.gold=0,w.exp=0,b.setReward(w)),1==this._battleType?(k=e.BattleStory.getInstance(),this.storyGroup.removeChildren(),this.storyGroup.addChild(k),this.storyGroup.visible=!0,k.setDataAndCallBack(function(){P.storyGroup.visible=!1,b.show()},this._storyLevelId,2)):b.show()):(e.SoundManager.playEffect("music/battleLose"),I=e.BattleLose.getInstance(),I.show(),1==this._battleType&&e.IdleScene.getInstance().closeAutoBattle()),this.helpGrid.visible&&(T=e.DataManager.playerModel.sid+"_"+e.DataManager.playerModel.pid,egret.localStorage.setItem("helpTime"+T,(new Date).getTime().toString())),e.hideWaitPanel(),[2]}})})},n.prototype.quitBattle=function(){var t=this,i=function(){e.NotificationCenter.getInstance().removeAllObservers(t),t.clean(),t.removeFromParent(),t._playerAvatar.stop(),t._playerAvatar.removeWing(),t._competitorAvatar&&(t._competitorAvatar.stop(),t._competitorAvatar.removeWing()),t.topPokemonGroup.visible=t.leftSkillGroup.visible=t.rightSkillGroup.visible=!1,e.NotificationCenter.getInstance().postNotification(n.QUIT_BATTLE,t._win),e.IdleScene.getInstance().enterBattle=!1};if(this._win&&1==this._battleType){var a=e.BattleStory.getInstance();this.storyGroup.removeChildren(),this.storyGroup.addChild(a),this.storyGroup.visible=!0,a.setDataAndCallBack(function(){t.storyGroup.visible=!1,i()},this._storyLevelId,3)}else i()},n.prototype.clean=function(){this._battlePokemonPool.destroyAllObject(),this._battleProjectilePool.destroyAllObject(),this._battleTextPool.destroyAllObject(),this._battlePokemon=[],this._diePokemon=[],this.orderGroup.removeChildren(),this.topBoneGroup.removeChildren(),this.floorBoneGroup.removeChildren(),this.topEffectGroup.removeChildren(),this.pokemonGroup.removeChildren(),this._playerAdd=new e.BattleEffectAttribute,this._competitorAdd=new e.BattleEffectAttribute},n.prototype.updateSkillCost=function(){for(var e=0;e<this._skillIconList.length;e++){var t=this._skillIconList[e];t.costSp&&(t.canUse=this._currentPokemon.currentSp>=t.costSp)}},n.prototype.roundBegin=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,s,r,u,s,r,u,s,r,s,l,c,h,p,g,d,m,f,_,g,y,s,v,b,w,s,k,I;return __generator(this,function(T){switch(T.label){case 0:if(this._skipRound=!1,this._currentPokemon=this._battlePokemon[0],!this._currentPokemon)return this._skipRound=!0,[2];if(t=this.updateRound(this._currentPokemon.round))return this._battleEnd=!0,this._skipRound=!0,this._win=!0,[2];switch(this._currentPokemon.round++,this.setCurrentPokemon(),n=0,-1==this._currentPokemon.side&&this._playerAbility[107]?n=this._playerAbility[107][0]:1==this._currentPokemon.side&&this._competitorAbility[107]&&(n=this._competitorAbility[107][0]),-1==this._currentPokemon.side&&this._playerAbility[144]?n+=this._playerAbility[144][0]:1==this._currentPokemon.side&&this._competitorAbility[144]&&(n+=this._competitorAbility[144][0]),this._currentPokemon.recoverSp(0,n),this.updateSkillCost(),this.spBar.maximum=this._currentPokemon.maxSp,this.spBar.value=this._currentPokemon.currentSp,o=this._currentPokemon.ability){case 42:return[3,1];case 5:return[3,2];case 27:return[3,3];case 67:return[3,4];case 106:return[3,5];case 25:return[3,6];case 80:return[3,7];case 128:return[3,9];case 145:return[3,10]}return[3,12];case 1:return i=Math.random(),i<=this._currentPokemon.abilityNumber[0]&&(e.showAbilityText(42,this._currentPokemon),this._currentPokemon.cleanDebuff()),[3,12];case 2:return i=Math.random(),i<=this._currentPokemon.abilityNumber[0]&&(e.showAbilityText(5,this._currentPokemon),this._currentPokemon.cleanDebuff()),[3,12];case 3:return e.showAbilityText(27,this._currentPokemon),this._currentPokemon.takeDamage({type:5,count:this._currentPokemon.maxHp*this._currentPokemon.abilityNumber[0]|0}),[3,12];case 4:for(a=this._currentPokemon.side,e.showAbilityText(67,this._currentPokemon),s=0;s<this._battlePokemon.length;s++)r=this._battlePokemon[s],r.isLive&&r.side==a&&r.takeDamage({type:5,count:r.maxHp*this._currentPokemon.abilityNumber[0]|0});return[3,12];case 5:for(a=this._currentPokemon.side,e.showAbilityText(106,this._currentPokemon),s=0;s<this._battlePokemon.length;s++)r=this._battlePokemon[s],r.isLive&&r.side==a&&r.takeDamage({type:5,count:this._currentPokemon.abilityNumber[0]*this._currentPokemon.spAtk});return[3,12];case 6:return this._currentPokemon.currentHp/this._currentPokemon.maxHp<this._currentPokemon.abilityNumber[0]&&(e.showAbilityText(25,this._currentPokemon),this._currentPokemon.takeDamage({type:5,count:this._currentPokemon.maxHp*this._currentPokemon.abilityNumber[1]|0})),[3,12];case 7:return a=this._currentPokemon.side,e.showAbilityText(80,this._currentPokemon),u=e.Data.TTexiaoFire[1],this.lunchFireEffect(u),[4,e.delay((u.delay||80)*this._timeScale)];case 8:for(T.sent(),s=0;s<this._battlePokemon.length;s++)r=this._battlePokemon[s],r.isLive&&r.side!=a&&r.takeDamage({type:3,count:this._currentPokemon.atk*(this._currentPokemon.abilityNumber[0]+this._currentPokemon.round*this._currentPokemon.abilityNumber[1])|0});return[3,12];case 9:return e.showAbilityText(128,this._currentPokemon),this._currentPokemon.takeDamage({type:3,count:this._currentPokemon.maxHp*this._currentPokemon.abilityNumber[1]}),[3,12];case 10:return e.showAbilityText(145,this._currentPokemon),u=e.Data.TTexiaoFire[6],this.lunchFireEffect(u),[4,e.delay((u.delay||80)*this._timeScale)];case 11:for(T.sent(),s=0;s<this._battlePokemon.length;s++)r=this._battlePokemon[s],r.isLive&&r.side!=a&&r.takeDamage({type:3,count:this._currentPokemon.spAtk*(this._currentPokemon.abilityNumber[0]+this._currentPokemon.round*this._currentPokemon.abilityNumber[1])|0});return[3,12];case 12:for(s=0;s<this._currentPokemon.giftAbility.length;s++)switch(l=this._currentPokemon.giftAbility[s],c=this._currentPokemon.giftAbilityNumber[s],l){case 1022:if(100*Math.random()<c[0])for(e.showAbilityText(1022,this._currentPokemon,!0),h=this._currentPokemon.side,p=0;p<this._battlePokemon.length;p++)g=this._battlePokemon[p],g.side==h&&11==g.getAttributeType()&&g.addEffect(e.Data.TXiaoGuo[c[3]],null,null);break;case 1035:this._round<3&&(e.showAbilityText(1035,this._currentPokemon,!0),this._currentPokemon.addEffect(e.Data.TXiaoGuo[c[2]],null,null));break;case 1037:100*Math.random()<c[0]&&(d=this.getSkillTarget(1,this._currentPokemon),m=this.randomTarget(d,this._currentPokemon,1),m.length>0&&(e.showAbilityText(1037,this._currentPokemon,!0),m[0].addEffect(e.Data.TXiaoGuo[c[1]],null,null)));break;case 1038:this._currentPokemon.hasDebuff&&(e.showAbilityText(1038,this._currentPokemon,!0),this._currentPokemon.addEffect(e.Data.TXiaoGuo[c[1]],null,null));break;case 1050:for(f=!1,_=0;_<this._battlePokemon.length;_++)if(g=this._battlePokemon[_],g.isLive&&g.side==this._currentPokemon.side){f=!0;break}f&&(e.showAbilityText(1050,this._currentPokemon,!0),this._currentPokemon.addEffect(e.Data.TXiaoGuo[c[1]],null,null))}return[4,this._currentPokemon.parseEffect()];case 13:for(y=T.sent(),s=0;s<y.length;s++)v=y[s],this.addSkillEffect(v.effectData,v.target,v.damage,v.origin);return[4,this.runImmediatelyBuff()];case 14:return T.sent(),[4,this.parseDie()];case 15:if(T.sent(),this.checkBattleEnd())return this._skipRound=!0,[2];if(this._currentPokemon.isLive)if(this._currentPokemon.effectAttribute.actNo)this._currentPokemon.showBuffImage(1),this._skipRound=!0;else{for(b=!1,w=this._currentPokemon.currentSp,s=0;s<this._currentPokemon.skillList.length;s++)if(k=this._currentPokemon.skillList[s],k&&(I=e.Data.TElfSkill[k],w>=I.ex)){b=!0;break}b||(this._skipRound=!0,e.showTips(e.Lang.spbuzu,!0))}else this._skipRound=!0;return[2]}})})},n.prototype.parseDie=function(){for(var t=this,n=e.defer(),i=[],a=0;a<t._battlePokemon.length;a++){var o=t._battlePokemon[a];if(121==this._currentPokemon.ability&&this._currentPokemon.dieRound&&this._currentPokemon.round-this._currentPokemon.dieRound>=this._currentPokemon.abilityNumber[0]&&(this._currentPokemon.isLive=!1),!o.isLive){if(o.superEquipData&&6==o.superEquipData.openCondition){var s=Math.random();if(s<o.superEquipData.xiaoGuopro){var r=o.superEquipData;if(13==r.xiaoGuoType1&&7==r.xiaoGuoType2){o.takeDamage({type:5,count:o.maxHp*r.xiaoGuoNum2});continue}if(13==r.xiaoGuoType2&&7==r.xiaoGuoType1){o.takeDamage({type:5,count:o.maxHp*r.xiaoGuoNum1});continue}}}if(o.endXiaoGuo.length>0)for(var u=0;u<o.endXiaoGuo.length;u++){var l=o.endXiaoGuo[u],c=this.getXiaoGuoTarget(l.target,o);this.addSkillEffect(l,null,null,o,c)}if(86==o.ability&&o.reviveCount<o.abilityNumber[1]){e.showAbilityText(86,o),o.reviveCount++,o.takeDamage({type:5,count:o.maxHp*o.abilityNumber[0]*.01});for(var h=0;h<t._battlePokemon.length;h++){var p=t._battlePokemon[h];p.side==o.side&&p!=o&&p.isLive&&p.takeDamage({type:5,count:p.maxHp*o.abilityNumber[0]*.01})}continue}if(117==o.ability){e.showAbilityText(117,o);for(var g=0;g<t._battlePokemon.length;g++){var p=t._battlePokemon[g];p.side==o.side&&p!=o&&p.isLive&&p.recoverSp(o.abilityNumber[0])}}else if(118==o.ability){e.showAbilityText(118,o);for(var d=0;d<t._battlePokemon.length;d++){var p=t._battlePokemon[d];p.side!=o.side&&p.isLive&&p.recoverSp(-o.abilityNumber[0])}}else if(121==o.ability){if(o.dieRound||(o.dieRound=o.round),o.round-o.dieRound<o.abilityNumber[0]){o.takeDamage({type:5,count:1}),e.showAbilityText(121,o);continue}}else if(140==o.ability){var m=this.getSkillTarget(12,o),c=this.randomTarget(m,null,o.abilityNumber[0]);if(c&&c.length>0){e.showAbilityText(140,o);for(var f=0;f<c.length;f++){var p=c[f];p.takeDamage({type:5,count:p.maxHp*o.abilityNumber[1]})}}}for(var _=0;_<o.giftAbility.length;_++){var y=o.giftAbility[_],v=o.giftAbilityNumber[_];switch(y){case 1051:e.showAbilityText(1051,o,!0);for(var l=e.Data.TXiaoGuo[v[1]],b=0;b<this._battlePokemon.length;b++){var c=this._battlePokemon[b];c.isLive&&c.side==o.side&&c.addEffect(l,null,null)}}}-1==o.side?t._playerAbility[o.ability]&&(t._playerAbility[o.ability]=null):t._competitorAbility[o.ability]&&(t._competitorAbility[o.ability]=null);for(var w=0;w<o.giftAbility.length;w++)-1==o.side?t._playerAbility[o.giftAbility[w]]=null:t._competitorAbility[o.giftAbility[w]]=null;t._battlePokemon.splice(a,1),t._diePokemon.push(o),a--,i.push(o.playDie());for(var k=0;k<this._battlePokemon.length;k++){var p=this._battlePokemon[k];if(p.isLive){switch(p.ability){case 110:p.side==o.side&&(e.showAbilityText(110,p),p.addEffect(e.Data.TXiaoGuo[p.abilityNumber[1]],p,null));break;case 111:e.showAbilityText(111,p),p.takeDamage({type:5,count:p.maxHp*p.abilityNumber[1]*.01}),p.addEffect(e.Data.TXiaoGuo[p.abilityNumber[2]],p,null)}for(var I=p.giftAbility,T=p.giftAbilityNumber,P=0;P<I.length;P++){var y=I[P],v=T[P];switch(y){case 1009:if(p.side!=o.side){e.showAbilityText(1009,p,!0);var L=1+.01*v[0],D=p.pokemonData.speed,x=1;switch(p.pokemonData.atk>D&&(D=p.pokemonData.atk,x=2),p.pokemonData.spAtk>D&&(D=p.pokemonData.spAtk,x=3),p.pokemonData.def>D&&(D=p.pokemonData.def,x=4),p.pokemonData.spDef>D&&(D=p.pokemonData.spDef,x=5),x){case 1:p.pokemonData.speed*=L;break;case 2:p.pokemonData.atk*=L;break;case 3:p.pokemonData.spAtk*=L;break;case 4:p.pokemonData.def*=L;break;case 5:p.pokemonData.spDef*=L}}break;case 1012:p.side!=o.side&&(e.showAbilityText(1012,p,!0),p.addEffect(e.Data.TXiaoGuo[v[1]],null,null));break;case 1052:p.side!=o.side&&100*Math.random()<v[0]&&(e.showAbilityText(1052,p,!0),p.addEffect(e.Data.TXiaoGuo[v[2]],null,null))}}}}}}return e.when(i).done(function(e){n.resolve(null)}),n.promise()},n.prototype.runImmediatelyBuff=function(){var t=this,n=this,i=e.defer(),a=function(){for(var o=[],s=0;s<n._battlePokemon.length;s++){var r=n._battlePokemon[s];r.isLive&&o.push(r.parseEffect(!0))}e.when(o).done(function(e){for(var n=!0,o=0;o<e.length;o++)for(var s=e[o],r=0;r<s.length;r++){n=!1;var u=s[o];t.addSkillEffect(u.effectData,u.target,u.damage,u.origin)}n?i.resolve(null):a()})};return a(),i.promise()},n.prototype.selectSkillAndTarget=function(){return __awaiter(this,void 0,void 0,function(){function t(){return a._playerSelectTargetPromise=e.defer(),a.pokemonGroup.touchEnabled=!0,a._playerSelectTargetPromise.promise()}function i(e){void 0===e&&(e=!1),a.skillGroup.visible=!1;for(var t=[],n=0;n<a._skillIconList.length;n++){var i=a._skillIconList[n];if(i.costSp<=a._currentPokemon.currentSp){var o=a.getSkillTarget(i.targetType);t.push({skill:i,target:o})}}if(0==t.length)return null;var s;if(e?(a._currentPokemon.showBuffImage(5),s=t[Math.floor(Math.random()*t.length)]):(t=t.sort(function(e,t){if(e.skill.sort==t.skill.sort){var n=e.skill.damage||0,i=t.skill.damage||0,a=e.skill.skillType;(3==a||4==a||5==a)&&(n=0);var o=t.skill.skillType;if((3==o||4==o||5==o)&&(i=0),n&&2==a&&(n*=e.target.length),i&&2==o&&(i*=t.target.length),n&&6==a){var s=1,r=e.skill.targetType;
switch(r){case 4:s=1.8;break;case 5:s=2.6;break;case 6:s=3.4;break;case 7:s=4.2}n*=s}if(i&&6==o){var s=1,r=t.skill.targetType;switch(r){case 4:s=2;break;case 5:s=3;break;case 6:s=4;break;case 7:s=5}i*=s}if(n&&7==a){var s=1,r=e.skill.targetType;switch(r){case 8:s=2;break;case 9:s=3;break;case 10:s=4}n*=s}if(i&&7==o){var s=1,r=t.skill.targetType;switch(r){case 8:s=2;break;case 9:s=3;break;case 10:s=4}i*=s}return i-n}return e.skill.sort-t.skill.sort}),s=t[0]),5==s.skill.sort)return null;a._currentSkill=s.skill,a._targetList=s.target;var r,u=s.skill.attributeType;if(a._currentPokemon.effectAttribute.targetRan)r=a._battlePokemon[Math.floor(Math.random()*a._battlePokemon.length)];else if(r=s.target[0]){var l=s.skill.skillData;if(3==l.skillType||4==l.skillType)for(var c=r.currentHp/r.maxHp,n=0;n<s.target.length;n++){var h=s.target[n],p=h.currentHp/h.maxHp;c>p&&(r=h,c=p)}else if(5==l.skillType){var g=s.target.length;g>1&&(r=s.target[Math.floor(Math.random()*g)])}else for(var d=r.getAttributeCount(u),n=0;n<s.target.length;n++){var h=s.target[n],m=h.getAttributeCount(u);m>d&&(r=h,d=m)}}return r}var a,o,s,r;return __generator(this,function(u){switch(u.label){case 0:return a=this,s=a._currentPokemon.side,-1!=s?[3,4]:a._auto||a._currentPokemon.effectAttribute.skillRan?[3,2]:(e.NotificationCenter.getInstance().addObserver(a,function(){if(a._auto){e.NotificationCenter.getInstance().removeObserver(a,n.CHANGE_AUTO);var t=i();a._playerSelectTargetPromise.resolve(t)}return!0},n.CHANGE_AUTO),[4,t()]);case 1:return o=u.sent(),e.NotificationCenter.getInstance().removeObserver(a,n.CHANGE_AUTO),a.skillGroup.visible=!1,[3,3];case 2:o=i(0!=a._currentPokemon.effectAttribute.skillRan),u.label=3;case 3:return[3,5];case 4:o=i(),u.label=5;case 5:if(a.pokemonGroup.touchEnabled=!1,!o)return a._targetList=[],[2];switch(r=a._currentSkill.targetType){case 1:case 11:case 14:case 8:case 9:case 10:a._targetList=[o];break;case 3:case 13:a._targetList=[a._targetList[Math.floor(Math.random()*a._targetList.length)]];break;case 4:a._targetList=a.randomTarget(a._targetList,o,1);break;case 5:a._targetList=a.randomTarget(a._targetList,o,2);break;case 6:a._targetList=a.randomTarget(a._targetList,o,3);break;case 7:a._targetList=a.randomTarget(a._targetList,o,4)}return this.hideAllArrow(),[2]}})})},n.prototype.randomTarget=function(e,t,n){for(var i=[],a=0;a<e.length;a++)e[a]!=t&&i.push(e[a]);if(i.length>=n){var o=[];t&&o.push(t);for(var a=0;n>a;a++){var s=Math.floor(Math.random()*i.length),r=i[s];o.push(r),i.splice(s,1)}return o}return e},n.prototype.hideAllArrow=function(){for(var e=0;e<this._battlePokemon.length;e++)this._battlePokemon[e].hideArrow()},n.prototype.touchPokemonStage=function(t,n){if(this._currentSkill){if(this._currentSkill.costSp>this._currentPokemon.currentSp)return e.showTips(e.Lang.baokemengdenenglingbuzu,!0);for(var i=n.localX,a=n.localY,o=0;o<this._battlePokemon.length;o++){var s=this._battlePokemon[o];if(s.canTouch&&s.checkHasPoint(i,a)){this._playerSelectTargetPromise.resolve(s);break}}}},n.prototype.useSkill=function(){return __awaiter(this,void 0,void 0,function(){function t(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:return(t=s._currentSkill.gatherResource)?(n=e.Data.TTexiaoGather[t],s.lunchGatherEffect(n),[4,e.delay((n.delay||80)*s._timeScale)]):[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}function n(){return __awaiter(this,void 0,void 0,function(){var e,t,n,i,a;return __generator(this,function(o){switch(o.label){case 0:switch(e=s._currentSkill.flyResource,t=s._currentSkill.targetType,n=t){case 0:return[3,1];case 1:return[3,3];case 3:return[3,3];case 2:return[3,8];case 12:return[3,8];case 11:return[3,8];case 13:return[3,8];case 14:return[3,8]}return[3,10];case 1:return[4,s._currentPokemon.moveTo(342,291)];case 2:return o.sent(),[3,10];case 3:return i=s._targetList[0],a=i.displayPosition,e?[4,s._currentPokemon.changeBig()]:[3,5];case 4:return o.sent(),[3,7];case 5:return r=!0,[4,s._currentPokemon.moveTo(a[0]-80*i.side,a[1])];case 6:o.sent(),o.label=7;case 7:return[3,10];case 8:return[4,s._currentPokemon.changeBig()];case 9:return o.sent(),[3,10];case 10:return[2]}})})}function i(){return __awaiter(this,void 0,void 0,function(){var t,n,i,i;return __generator(this,function(a){switch(a.label){case 0:return t=s._currentSkill.fireResource,n=s._currentSkill.flyResource,[4,s._currentPokemon.playAtk(10,100,r)];case 1:return a.sent(),t?(i=e.Data.TTexiaoFire[t],s.lunchFireEffect(i,s._currentSkill.targetType),[4,e.delay((i.delay||80)*s._timeScale)]):[3,3];case 2:return a.sent(),[3,5];case 3:return n?(i=e.Data.TTexiaoFly[n],i&&6!=s._currentSkill.skillType?(s.lunchFlyEffect(i),[4,e.delay((i.delay||350)*s._timeScale)]):[3,5]):[3,5];case 4:a.sent(),a.label=5;case 5:return s._currentSkill.ShakeBg||s.shakeBg(),[2]}})})}function a(t,n,i,a){return void 0===n&&(n=0),void 0===i&&(i=0),void 0===a&&(a=0),__awaiter(this,void 0,void 0,function(){var o,r,u,l,c,h,p,g,d,p,m,f,p,g,_,c,h,p,g,d,p,g,y,v,b,w,k,I,p,T,P,L,D,_,x,g,C,g,c,h,B,g,d,S,g,E,A,M,g,G,g,N,g,c,h,R,g,d,q,g,c,h,j,g,d,H,g,O,g,F,g,z,U,W,c,p,g,c,h,p,g,d,p,g,V;return __generator(this,function(Y){switch(Y.label){case 0:return o=e.defer(),r=s._currentSkill.boomResource,r&&6!=s._currentSkill.skillType?(u=e.Data.TTexiaoBoom[r],s.lunchBoomEffect(u),[4,e.delay((u.delay||80)*s._timeScale)]):[3,2];case 1:Y.sent(),Y.label=2;case 2:switch(s._currentSkill.voice&&e.SoundManager.playEffect("music/"+s._currentSkill.voice),s._currentPokemon.ability){case 24:e.showAbilityText(24,s._currentPokemon),s._currentPokemon.abilitySpeedAdd+=s._currentPokemon.abilityNumber[0];break;case 17:e.showAbilityText(17,s._currentPokemon),s._currentPokemon.abilitySpeedAdd=s._currentPokemon.abilityNumber[0];break;case 19:s._currentSkill.damage<=60&&e.showAbilityText(19,s._currentPokemon);break;case 37:l=Math.random(),l<=s._currentPokemon.abilityNumber[1]&&(e.showAbilityText(37,s._currentPokemon),s._currentPokemon.takeDamage({type:3,count:s._currentPokemon.maxHp*s._currentPokemon.abilityNumber[2]|0}));break;case 45:2==s._currentSkill.attributeType&&(e.showAbilityText(45,s._currentPokemon),s._currentPokemon.abilitySpeedAdd=s._currentPokemon.abilityNumber[0]);break;case 9:s._currentPokemon.hasDebuff&&e.showAbilityText(9,s._currentPokemon);break;case 76:if(l=100*Math.random(),l<=s._currentPokemon.abilityNumber[0]){for(e.showAbilityText(76,s._currentPokemon),c=s._currentPokemon.side,h=[],p=0;p<s._battlePokemon.length;p++)g=s._battlePokemon[p],g.side!=c&&h.push(g);for(d=s.randomTarget(h,null,s._currentPokemon.abilityNumber[1]),p=0;p<d.length;p++)d[p].addEffect(e.Data.TXiaoGuo[10571],s._currentPokemon,null)}break;case 98:if(l=Math.random(),l<=s._currentPokemon.abilityNumber[0])for(e.showAbilityText(98,s._currentPokemon),m=e.Data.TElfSkill[562],f=e.Data.TTexiaoBoom[18],p=0;p<s._battlePokemon.length;p++)g=s._battlePokemon[p],g.side!=s._currentPokemon.side&&(s.lunchChainBoom(f,g),_=s.countSkillDamage(m,g,0),g.takeDamage(_));break;case 99:if(l=Math.random(),l<=s._currentPokemon.abilityNumber[0]){for(e.showAbilityText(99,s._currentPokemon),c=s._currentPokemon.side,h=[],p=0;p<s._battlePokemon.length;p++)g=s._battlePokemon[p],g.side!=c&&h.push(g);for(d=s.randomTarget(h,null,2),p=0;p<d.length;p++)g=d[p],s.lunchChainEffect(e.Data.TTexiaoFly[3],s._currentPokemon,g),g.takeDamage({type:3,count:s._currentPokemon.atk*s._currentPokemon.abilityNumber[1]})}}y=[],v=s._currentSkill.flyResource,v&&(b=e.Data.TTexiaoFly[v]),r&&(w=e.Data.TTexiaoBoom[r]),k=s._currentSkill.skillType,I=!1,p=0,Y.label=3;case 3:if(!(p<s._targetList.length))return[3,9];if(T=s._targetList[p],T.currentHp<=0)return[3,8];if(78==s._currentPokemon.ability)for(P=0;P<T.effectList.length;P++)5==T.effectList[P].effectData.resBuff&&(e.showAbilityText(78,s._currentPokemon),s._currentPokemon.addEffect(e.Data.TXiaoGuo[s._currentPokemon.abilityNumber[1]],s._currentPokemon,null));return L=void 0,L=0==p?s._currentPokemon:s._targetList[p-1],D=t,6!=k?[3,7]:(D=p,b?(s.lunchChainEffect(b,L,T),[4,e.delay((b.delay||350)*s._timeScale)]):[3,5]);case 4:Y.sent(),Y.label=5;case 5:return w?(s.lunchChainBoom(w,T),[4,e.delay((w.delay||80)*s._timeScale)]):[3,7];case 6:Y.sent(),Y.label=7;case 7:if(_=s.countSkillDamage(s._currentSkill.skillData,T,D,n,i,a),4==_.type&&(I=!0),T.takeDamage(_),5!==_.type&&y.push(T.playHurt()),T.side!==s._currentPokemon.side){switch(s._currentPokemon.ability){case 150:1==k&&(l=100*Math.random(),l<s._currentPokemon.abilityNumber[0]&&(e.showAbilityText(150,s._currentPokemon),s._currentPokemon.addEffect(e.Data.TXiaoGuo[s._currentPokemon.abilityNumber[2]],s._currentPokemon,_),s._currentPokemon.addEffect(e.Data.TXiaoGuo[s._currentPokemon.abilityNumber[3]],s._currentPokemon,_),T.addEffect(e.Data.TXiaoGuo[s._currentPokemon.abilityNumber[3]],s._currentPokemon,_)));case 148:l=100*Math.random(),l<s._currentPokemon.abilityNumber[0]&&(e.showAbilityText(148,s._currentPokemon),T.takeDamage({type:3,count:_.count*s._currentPokemon.abilityNumber[1]*.01}),s._currentPokemon.addEffect(e.Data.TXiaoGuo[s._currentPokemon.abilityNumber[3]],s._currentPokemon,_));break;case 147:l=100*Math.random(),l<s._currentPokemon.abilityNumber[0]&&(e.showAbilityText(147,s._currentPokemon),T.recoverSp(-s._currentPokemon.abilityNumber[1])),l<s._currentPokemon.abilityNumber[2]&&(e.showAbilityText(147,s._currentPokemon),T.recoverSp(-T.currentSp));break;case 146:l=100*Math.random(),l<s._currentPokemon.abilityNumber[0]&&(e.showAbilityText(146,s._currentPokemon),T.addEffect(e.Data.TXiaoGuo[s._currentPokemon.abilityNumber[2]],s._currentPokemon,_));break;case 100:l=100*Math.random(),l<=s._currentPokemon.abilityNumber[0]&&(e.showAbilityText(100,s._currentPokemon),T.addEffect(e.Data.TXiaoGuo[s._currentPokemon.abilityNumber[2]],s._currentPokemon,_));break;case 31:l=Math.random(),l<=s._currentPokemon.abilityNumber[0]&&(e.showAbilityText(31,s._currentPokemon),T.addEffect(e.Data.TXiaoGuo[10001],s._currentPokemon,_));break;case 36:l=Math.random(),l<=s._currentPokemon.abilityNumber[0]&&(e.showAbilityText(36,s._currentPokemon),s._currentPokemon.takeDamage({type:5,count:_.count*s._currentPokemon.abilityNumber[1]}));break;case 81:T.currentHp<=0&&(e.showAbilityText(81,s._currentPokemon),s._currentPokemon.takeDamage({type:5,count:s._currentPokemon.maxHp*s._currentPokemon.abilityNumber[0]}));break;case 155:if(T.currentHp<=0)for(e.showAbilityText(155,s._currentPokemon),s._currentPokemon.takeDamage({type:5,count:s._currentPokemon.maxHp*s._currentPokemon.abilityNumber[1]}),x=0;x<s._battlePokemon.length;x++)g=s._battlePokemon[x],g.side==s._currentPokemon.side&&g.currentHp>0&&g!=s._currentPokemon&&g.takeDamage({type:5,count:100*s._currentPokemon.abilityNumber[0]});break;case 91:if(!T.isLive)for(e.showAbilityText(91,s._currentPokemon),C=0;C<s._battlePokemon.length;C++)g=s._battlePokemon[C],g.side==s._currentPokemon.side&&g.currentHp>0&&g.takeDamage({type:5,count:s._currentPokemon.abilityNumber[0]});break;case 83:l=100*Math.random(),l<=s._currentPokemon.abilityNumber[0]&&(e.showAbilityText(83,s._currentPokemon),T.costSp(s._currentPokemon.abilityNumber[1]),s._currentPokemon.takeDamage({type:5,count:s._currentPokemon.abilityNumber[1]*s._currentPokemon.abilityNumber[2]}));break;case 93:4==_.type&&(l=100*Math.random(),l<=s._currentPokemon.abilityNumber[1]&&(e.showAbilityText(93,s._currentPokemon),T.addEffect(e.Data.TXiaoGuo[10400],s._currentPokemon,_)));break;case 96:e.showAbilityText(96,s._currentPokemon),s._currentPokemon.takeDamage({type:5,count:_.count*s._currentPokemon.abilityNumber[0]});break;case 119:if(l=Math.random(),l<=s._currentPokemon.abilityNumber[0]){for(e.showAbilityText(119,s._currentPokemon),c=s._currentPokemon.side,h=[],B=0;B<s._battlePokemon.length;B++)g=s._battlePokemon[B],g.side!=c&&h.push(g);for(d=s.randomTarget(h,null,1),S=0;S<d.length;S++)g=d[S],s.lunchChainEffect(e.Data.TTexiaoFly[8],s._currentPokemon,g),g.takeDamage({type:3,count:_.count*s._currentPokemon.abilityNumber[1]})}break;case 123:l=100*Math.random(),l<=s._currentPokemon.abilityNumber[0]&&(e.showAbilityText(123,s._currentPokemon),T.cleanDebuff(),T.takeDamage({type:3,count:s._currentPokemon.spAtk*s._currentPokemon.abilityNumber[1]*.01}))}switch(T.ability){case 151:l=100*Math.random(),l<=T.abilityNumber[0]&&(e.showAbilityText(151,T),s._currentPokemon.addEffect(e.Data.TXiaoGuo[T.abilityNumber[2]],T,_),T.addEffect(e.Data.TXiaoGuo[T.abilityNumber[3]],T,_));break;case 11:l=Math.random(),l<=T.abilityNumber[0]&&(e.showAbilityText(11,T),s._currentPokemon.addEffect(e.Data.TXiaoGuo[10401],T,_));break;case 13:l=Math.random(),l<=T.abilityNumber[0]&&(e.showAbilityText(13,T),s._currentPokemon.addEffect(e.Data.TXiaoGuo[10001],T,_));break;case 18:l=Math.random(),l<=T.abilityNumber[0]&&(e.showAbilityText(18,T),.1>l?s._currentPokemon.addEffect(e.Data.TXiaoGuo[10401],T,_):s._currentPokemon.addEffect(e.Data.TXiaoGuo[10001],T,_));break;case 35:if(!T.isLive){for(E=!0,A=0;A<s._battlePokemon.length;A++)if(20==s._battlePokemon[A].ability){e.showAbilityText(29,s._battlePokemon[A]),E=!1;break}E&&(e.showAbilityText(35,T),s._currentPokemon.takeDamage({type:3,count:s._currentPokemon.maxHp*T.abilityNumber[0]|0}))}break;case 89:e.showAbilityText(89,T),s.lunchChainBoom(e.Data.TTexiaoBoom[2],s._currentPokemon),s._currentPokemon.takeDamage({type:3,count:_.count*T.abilityNumber[0]});break;case 44:l=Math.random(),l<=T.abilityNumber[0]&&(e.showAbilityText(44,T),s._currentPokemon.addEffect(e.Data.TXiaoGuo[10101],T,_));break;case 38:l=Math.random(),l<=T.abilityNumber[0]&&(e.showAbilityText(38,T),s._currentPokemon.addEffect(e.Data.TXiaoGuo[10301],T,_));break;case 41:l=Math.random(),l<=T.abilityNumber[0]&&(e.showAbilityText(41,T),s._currentPokemon.addEffect(e.Data.TXiaoGuo[10201],T,_));break;case 90:l=Math.random(),l<=T.abilityNumber[1]&&(e.showAbilityText(90,T),s._currentPokemon.addEffect(e.Data.TXiaoGuo[10400],T,_));break;case 73:l=Math.random(),l<=T.abilityNumber[0]&&(e.showAbilityText(73,T),T.takeDamage({type:5,count:T.maxHp*T.abilityNumber[1]}));break;case 47:l=Math.random(),l<=T.abilityNumber[0]&&(e.showAbilityText(47,T),T.takeDamage({type:5,count:_.count*T.abilityNumber[1]}));break;case 74:if(l=Math.random(),l<=T.abilityNumber[0])for(e.showAbilityText(74,T),M=0;M<s._battlePokemon.length;M++)g=s._battlePokemon[M],g.side==T.side&&g.currentHp>0&&g.takeDamage({type:5,count:g.maxHp*T.abilityNumber[1]});break;case 82:if(!T.isLive)for(e.showAbilityText(82,T),G=0;G<s._battlePokemon.length;G++)g=s._battlePokemon[G],g.side!=T.side&&g.currentHp>0&&g.takeDamage({type:3,count:T.maxHp*T.abilityNumber[0]});break;case 85:if(_.count>0&&5!=_.type)for(e.showAbilityText(85,T),N=0;N<s._battlePokemon.length;N++)g=s._battlePokemon[N],g.side!=T.side&&g.currentHp>0&&(s.lunchChainEffect(e.Data.TTexiaoFly[14],T,g),g.takeDamage({type:3,count:Math.min(_.count,g.maxHp)*T.abilityNumber[1]}));break;case 92:if(l=Math.random(),l<=T.abilityNumber[0]){for(e.showAbilityText(92,T),c=T.side,h=[],R=0;R<s._battlePokemon.length;R++)g=s._battlePokemon[R],g.side!=c&&h.push(g);for(d=s.randomTarget(h,null,3),q=0;q<d.length;q++)g=d[q],s.lunchChainEffect(e.Data.TTexiaoFly[9],T,g),g.takeDamage({type:3,count:T.spAtk*T.abilityNumber[1]})}break;case 94:if(_.type){for(e.showAbilityText(94,T),c=T.side,h=[],j=0;j<s._battlePokemon.length;j++)g=s._battlePokemon[j],g.side!=c&&h.push(g);for(d=s.randomTarget(h,null,3),H=0;H<d.length;H++)g=d[H],s.lunchChainEffect(e.Data.TTexiaoFly[7],T,g),g.takeDamage({type:3,count:T.spAtk*T.abilityNumber[0]})}break;case 101:if(_.count>0&&5!=_.type)for(e.showAbilityText(101,T),O=0;O<s._battlePokemon.length;O++)g=s._battlePokemon[O],g.side==T.side&&g.isLive&&g.takeDamage({type:5,count:_.count*T.abilityNumber[0]});break;case 102:if(l=Math.random(),l<=T.abilityNumber[0])for(e.showAbilityText(102,T),F=0;F<s._battlePokemon.length;F++)g=s._battlePokemon[F],g.side==T.side&&g.addEffect(e.Data.TXiaoGuo[T.abilityNumber[2]],T,_);break;case 108:T.addEffect(e.Data.TXiaoGuo[T.abilityNumber[2]],T,_);break;case 114:T.currentHp/T.maxHp*100<=T.abilityNumber[0]&&(e.showAbilityText(114,T),T.addEffect(e.Data.TXiaoGuo[T.abilityNumber[3]],T,null))}}for(z=0;z<s._currentSkill.effectList.length;z++)U=s._currentSkill.effectList[z],2==U.timing&&s.addSkillEffect(U,T,_);Y.label=8;case 8:return p++,[3,3];case 9:if(149==s._currentPokemon.ability&&(W=100*Math.random(),W<s._currentPokemon.abilityNumber[0]))for(e.showAbilityText(149,s._currentPokemon),c=s._currentPokemon.side,p=0;p<s._battlePokemon.length;p++)g=s._battlePokemon[p],g.side!=c?g.addEffect(e.Data.TXiaoGuo[s._currentPokemon.abilityNumber[1]],s._currentPokemon,null):g.addEffect(e.Data.TXiaoGuo[s._currentPokemon.abilityNumber[2]],s._currentPokemon,null);if(95==s._currentPokemon.ability&&I){for(e.showAbilityText(95,s._currentPokemon),c=s._currentPokemon.side,h=[],p=0;p<s._battlePokemon.length;p++)g=s._battlePokemon[p],g.side!=c&&h.push(g);for(d=s.randomTarget(h,null,2),p=0;p<d.length;p++)g=d[p],s.lunchChainBoom(e.Data.TTexiaoBoom[5],g),g.takeDamage({type:3,count:s._currentPokemon.spAtk*s._currentPokemon.abilityNumber[0]})}return-1==s._currentPokemon.side&&s._competitorAbility[159]?(e.showAbilityText(159,s._currentPokemon),s._currentPokemon.takeDamage({type:3,count:s._currentPokemon.maxHp*s._currentPokemon.abilityNumber[1]})):1==s._currentPokemon.side&&s._playerAbility[159]&&(e.showAbilityText(159,s._currentPokemon),V=s._currentPokemon.maxHp*s._currentPokemon.abilityNumber[1],s._currentPokemon.takeDamage({type:3,count:s._currentPokemon.maxHp*s._currentPokemon.abilityNumber[1]})),e.when(y).done(function(){o.resolve(null)}),[2,o.promise()]}})})}function o(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return s._currentPokemon.isBig?[4,s._currentPokemon.changeNormal()]:[3,2];case 1:return e.sent(),[3,4];case 2:return[4,s._currentPokemon.moveBack()];case 3:e.sent(),e.label=4;case 4:return s._currentPokemon.resetIndex(),[2]}})})}var s,r,u,l,c,h,p,g,d,u,m,f,_,y,v,b,w,k,I,T,u,P,L,u,P,k,I,T,u,P,L,u,P,D=this;return __generator(this,function(x){switch(x.label){case 0:return s=this,r=!1,this._currentPokemon.costSp(this._currentSkill.costSp),this.spBar.value=this._currentPokemon.currentSp,[4,t()];case 1:return x.sent(),[4,n()];case 2:for(x.sent(),u=0;u<s._currentSkill.effectList.length;u++)l=s._currentSkill.effectList[u],1==l.timing&&s.addSkillEffect(l,null,null);return[4,s.runImmediatelyBuff()];case 3:if(x.sent(),c=1,7==this._currentSkill.skillType)switch(this._currentSkill.targetType){case 8:c=2;break;case 9:c=3;break;case 10:c=4}h=0,p=0,this._round>=this._damageAddRound&&(p=this._roundDamage),p+=this._currentPokemon.hurtAdd,g=0,d=0,u=0,x.label=4;case 4:return c>u?[4,i()]:[3,8];case 5:if(x.sent(),m=this._currentPokemon.superEquipData,m&&1==m.openCondition&&(f=Math.random(),f<=m.xiaoGuopro)){if(_=!0,m.openCondition2)switch(m.openCondition2){case 1:this._currentPokemon.currentHp/this._currentPokemon.maxHp*100<m.openNumber2&&(_=!1);break;case 2:this._currentPokemon.currentHp/this._currentPokemon.maxHp*100>m.openNumber2&&(_=!1)}if(_)for(y=function(t,n,i){switch(n){case 1:g+=i;break;case 2:d+=i;break;case 5:p+=i;break;case 6:t.recoverSp(i);break;case 7:t.takeDamage({type:5,count:t.maxHp*i|0});break;case 8:break;case 9:t.atk>t.spAtk?t.takeDamage({type:5,count:t.atk*i|0}):t.takeDamage({type:5,count:t.spAtk*i|0});break;case 10:t.def>t.spDef?t.takeDamage({type:5,count:t.def*i|0}):t.takeDamage({type:5,count:t.spDef*i|0});break;case 11:t.maxHp>t.currentSpeed?t.takeDamage({type:5,count:t.maxHp*i|0}):t.takeDamage({type:5,count:t.currentSpeed*i|0});break;case 12:t.cleanDebuff();break;case 14:e.Data.TXiaoGuo[i]&&t.addEffect(e.Data.TXiaoGuo[i],D._currentPokemon,null);break;case 15:t.takeDamage({type:5,count:t.currentHp*i|0});break;case 16:}},v=this.getSuperEquipTarget(m.xiaoGuotarget,this._currentPokemon),b=0;b<v.length;b++)m.xiaoGuoType1&&y(v[b],m.xiaoGuoType1,m.xiaoGuoNum1),m.xiaoGuoType2&&y(v[b],m.xiaoGuoType2,m.xiaoGuoNum2)}return 115==this._currentPokemon.ability?(this._currentPokemon.lastTarget==this._targetList[0]&&(e.showAbilityText(115,this._currentPokemon),p+=.01*this._currentPokemon.abilityNumber[0]),this._currentPokemon.lastTarget=this._targetList[0]):116==this._currentPokemon.ability&&this._currentPokemon.currentHp/this._currentPokemon.maxHp<this._currentPokemon.abilityNumber[0]&&(e.showAbilityText(116,this._currentPokemon),p+=this._currentPokemon.abilityNumber[1]),[4,a(h,p,g,d)];case 6:x.sent(),75==this._currentPokemon.ability&&3>h?(w=Math.random(),w<this._currentPokemon.abilityNumber[0]&&(u--,h++,e.showAbilityText(75,this._currentPokemon))):126==this._currentPokemon.ability&&1>h&&(u--,h++,e.showAbilityText(126,this._currentPokemon)),x.label=7;case 7:return u++,[3,4];case 8:if(-1==this._currentPokemon.side&&this._competitorAbility[120]){if(this._currentSkill.costSp>=this._competitorAbility[120][0]){for(k=this._competitorAbility[120][999],e.showAbilityText(120,k),I=k.side,T=[],u=0;u<s._battlePokemon.length;u++)P=s._battlePokemon[u],P.side!=I&&T.push(P);for(L=s.randomTarget(T,null,1),u=0;u<L.length;u++)P=L[u],s.lunchChainEffect(e.Data.TTexiaoFly[13],k,P),P.addEffect(e.Data.TXiaoGuo[this._competitorAbility[120][2]],k,null)}}else if(1==this._currentPokemon.side&&this._playerAbility[120]&&this._currentSkill.costSp>=this._playerAbility[120][0]){for(k=this._playerAbility[120][999],e.showAbilityText(120,k),I=k.side,T=[],u=0;u<s._battlePokemon.length;u++)P=s._battlePokemon[u],P.side!=I&&T.push(P);for(L=s.randomTarget(T,null,1),u=0;u<L.length;u++)P=L[u],s.lunchChainEffect(e.Data.TTexiaoFly[13],k,P),P.addEffect(e.Data.TXiaoGuo[this._playerAbility[120][2]],k,null)}return[4,s.runImmediatelyBuff()];case 9:return x.sent(),[4,s.parseDie()];case 10:return x.sent(),s._currentPokemon.isLive?[4,o()]:[3,12];case 11:x.sent(),x.label=12;case 12:return[2]}})})},n.prototype.addSkillEffect=function(t,n,i,a,o){void 0===a&&(a=this._currentPokemon),void 0===o&&(o=null);var s=!0,r=t.condition;if(-1==r)0!=i.type&&(s=!1);else if(-2==r)0==i.type&&(s=!1);else if(0==r)s=!1;else{var u=100*Math.random();39==a.ability&&(e.showAbilityText(39,a),r*=1+a.abilityNumber[0]),r>=u&&(s=!1)}if(!s){if(!o)switch(o=this.getSkillTarget(t.target,a),t.target){case 1:o=[n];break;case 11:o=[a];break;case 3:case 13:o=[o[Math.floor(Math.random()*o.length)]]}for(var l=0;l<o.length;l++){var c=o[l];4!=c.ability||6==i.type||5==i.type?c.addEffect(t,a,i):e.showAbilityText(4,c)}}},n.prototype.countSkillDamage=function(t,n,i,a,o,s){void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=0);var r=this._currentPokemon,u=Math.random(),l=r.hit,c=t.hit,h=n.evade;if(n.side!=r.side){switch(n.ability){case 12:e.showAbilityText(12,n),h*=1+n.abilityNumber[0];break;case 28:e.showAbilityText(28,n),h*=1+n.abilityNumber[0];break;case 84:h+=n.abilityNumber[0]}var p=n.giftAbility.indexOf(1031);p>-1&&(h*=1+.01*n.giftAbilityNumber[p][1]),p=n.giftAbility.indexOf(1041),p>-1&&(h*=1+.01*n.giftAbilityNumber[p][0])}var g,d,m,f,_=Number(e.Constants.baseHit)+l*c-(Number(e.Constants.baseEvade)+h);if(-1==r.side?(d=this._playerAbility,g=this._competitorAbility,m=this._playerAdd,f=this._competitorAdd):(d=this._competitorAbility,g=this._playerAbility,m=this._competitorAdd,f=this._playerAdd),n.side!=r.side){switch(n.ability){case 24:e.showAbilityText(24,n),_=1}switch(r.ability){case 6:e.showAbilityText(6,r),_*=1+r.abilityNumber[0];break;case 24:e.showAbilityText(24,r),_=1;break;case 28:e.showAbilityText(28,r),_*=1+r.abilityNumber[0];break;case 124:0==t.DamageType&&(e.showAbilityText(124,r),_*=1+r.abilityNumber[1])}d[1011]&&(_*=1+.01*d[1011][0])}if(_>u){var y=0,v=0,b=0;if(n.side!=r.side&&n.superEquipData&&2==n.superEquipData.openCondition){var w=n.superEquipData,k=Math.random();if(k<=w.xiaoGuopro){var I=!0;if(w.openCondition2)switch(w.openCondition2){case 1:n.currentHp/n.maxHp*100<w.openNumber2&&(I=!1);break;case 2:n.currentHp/n.maxHp*100>w.openNumber2&&(I=!1)}if(I){var T=function(e,t){switch(e){case 3:v+=t;break;case 4:b+=t;break;case 16:y+=t}};w.xiaoGuoType1&&T(w.xiaoGuoType1,w.xiaoGuoNum1),w.xiaoGuoType2&&T(w.xiaoGuoType2,w.xiaoGuoNum2)}}}var P=r.level,L=t.damage||0;i>0&&(75==r.ability?L*=Math.pow(1-r.abilityNumber[1],i):126==r.ability&&(L*=Math.pow(r.abilityNumber[0],i)),6==t.skillType&&(L*=Math.pow(1-this._chainDamage,i)));var D=void 0,x=void 0;t.DamageType?(D=r.spAtk,x=n.spDef,d[87]&&(D+=m.atkSp),g[105]&&(x+=f.defSp),x*=1+b,D*=1+s):(D=r.atk,x=n.def,d[87]&&(D+=m.atk),g[105]&&(x+=f.def),x*=1+v,D*=1+o),32==n.ability&&n.side!=r.side&&n.currentHp/n.maxHp<n.abilityNumber[0]&&(e.showAbilityText(32,n),x*=1+n.abilityNumber[1]);var C=r.itemDamage,B=t.attribute;if(130==r.ability)switch(B){case 8:case 5:case 4:e.showAbilityText(130,r),B=4}var S=r.getTypeDamage(B),E=n.getAttributeCount(B);n.side!=r.side&&(47==r.ability?(E=1,e.showAbilityText(47,r)):40==r.ability&&1>E&&(e.showAbilityText(40,r),E=1));var A=void 0;E>1?(E+=r.counter,A=1):A=1==E?3:2;var M=1,G=Math.random(),N=r.cri;if(r.side!=n.side){8==r.ability&&(e.showAbilityText(8,r),N*=1+r.abilityNumber[0]),93==r.ability&&(N*=1+.01*r.abilityNumber[0]),32==n.ability&&(e.showAbilityText(32,n),N=0),89==n.ability&&(N=0),112==r.ability&&n.currentHp/n.maxHp<=r.abilityNumber[0]&&(e.showAbilityText(112,r),N=1);var p=r.giftAbility.indexOf(1029);p>-1&&(N*=1+.01*r.giftAbilityNumber[p][0])}if(N>G&&(A=4,M=r.criDamage,n.side!=r.side)){7==r.ability?(e.showAbilityText(7,r),M=r.abilityNumber[0]):77==r.ability?(e.showAbilityText(77,r),r.addEffect(e.Data.TXiaoGuo[r.abilityNumber[2]],r,null)):79==r.ability?(e.showAbilityText(79,r),n.addEffect(e.Data.TXiaoGuo[r.abilityNumber[2]],r,null)):1078==r.ability&&(e.showAbilityText(1078,r),n.addEffect(e.Data.TXiaoGuo[r.abilityNumber[2]],r,null));var p=r.giftAbility.indexOf(1029);p>-1&&(M*=1+.01*r.giftAbilityNumber[p][1],e.showAbilityText(1029,r,!0))}var R=n.level,q=D*D/(D+x)*L*.01*(1+.01*P)/(1+.01*R)*(1+C+S)*E*M;q*=1+r.damageAdd;var j=0;switch(t.attribute){case 1:r.effectAttribute.firePower&&(j=r.effectAttribute.firePower);break;case 2:r.effectAttribute.waterPower&&(j=r.effectAttribute.waterPower);break;case 3:r.effectAttribute.grassPower&&(j=r.effectAttribute.grassPower);break;case 4:r.effectAttribute.elePower&&(j=r.effectAttribute.elePower);break;case 5:r.effectAttribute.icePower&&(j=r.effectAttribute.icePower);break;case 6:r.effectAttribute.wrestlePower&&(j=r.effectAttribute.wrestlePower)}switch(t.DamageType){case 0:r.effectAttribute.atkPower&&(j+=r.effectAttribute.atkPower);break;case 1:r.effectAttribute.atkSpPower&&(j+=r.effectAttribute.atkSpPower)}if(q*=1+j,3==t.skillType||4==t.skillType?A=5:5==t.skillType&&(A=6),r.side!=n.side){switch(r.ability){case 1:r.currentHp/r.maxHp<=r.abilityNumber[0]&&3==t.attribute&&(q*=1+r.abilityNumber[1],e.showAbilityText(1,r));break;case 2:r.currentHp/r.maxHp<=r.abilityNumber[0]&&1==t.attribute&&(q*=1+r.abilityNumber[1],e.showAbilityText(2,r));break;case 3:r.currentHp/r.maxHp<=r.abilityNumber[0]&&2==t.attribute&&(q*=1+r.abilityNumber[1],e.showAbilityText(3,r));break;case 69:r.currentHp/r.maxHp<=r.abilityNumber[0]&&6==t.attribute&&(q*=1+r.abilityNumber[1],e.showAbilityText(69,r));break;case 70:r.currentHp/r.maxHp<=r.abilityNumber[0]&&7==t.attribute&&(q*=1+r.abilityNumber[1],e.showAbilityText(70,r));break;case 9:r.hasDebuff&&(q*=1+r.abilityNumber[0]);break;case 15:r.inFire&&(q*=1+r.abilityNumber[0],r.inFire=!1,e.showAbilityText(15,r));break;case 68:r.inFire&&(q*=1+r.abilityNumber[0],r.inFire=!1,e.showAbilityText(68,r));break;case 19:t.damage<=60&&(q*=1+r.abilityNumber[0]);break;case 20:if(2==t.attribute){q*=1+r.abilityNumber[0],e.showAbilityText(20,r);break}break;case 23:r.currentHp/r.maxHp<=r.abilityNumber[0]&&4==t.attribute&&(q*=1+r.abilityNumber[1],e.showAbilityText(23,r));break;case 33:r.currentHp/r.maxHp<=r.abilityNumber[0]&&5==t.attribute&&(q*=1+r.abilityNumber[1],e.showAbilityText(33,r));break;case 34:0==t.DamageType&&(q*=1+r.abilityNumber[0],e.showAbilityText(34,r));break;case 37:q*=1+r.abilityNumber[0];break;case 97:e.showAbilityText(97,r);var H=Math.floor(10*(1-n.currentHp/n.maxHp))*r.abilityNumber[0];q*=1+H;break;case 48:var O=r.getAttributeType();O==t.attribute&&(e.showAbilityText(48,r),q*=1+r.abilityNumber[0]);break;case 49:n.def<n.spDef?0==t.DamageType&&(e.showAbilityText(49,r),q*=1+r.abilityNumber[0]):1==t.DamageType&&(e.showAbilityText(49,r),q*=1+r.abilityNumber[1]);break;case 50:2==t.attribute&&(e.showAbilityText(50,r),q*=1+r.abilityNumber[0]);break;case 51:4==t.attribute&&(e.showAbilityText(50,r),q*=1+r.abilityNumber[0]);break;case 52:1==t.attribute&&(e.showAbilityText(50,r),q*=1+r.abilityNumber[0]);break;case 56:2==t.attribute&&(e.showAbilityText(56,r),q*=1+r.abilityNumber[0]);break;case 57:5==t.attribute&&(e.showAbilityText(57,r),q*=1+r.abilityNumber[0]);break;case 58:1==t.attribute&&(e.showAbilityText(58,r),q*=1+r.abilityNumber[0]);break;case 71:7==t.attribute&&(e.showAbilityText(71,r),q*=1+r.abilityNumber[0]);break;case 16:t.damage>=60&&(e.showAbilityText(16,r),q*=1+r.abilityNumber[0]);break;case 40:E>1&&(q*=1+r.abilityNumber[0]);break;case 113:r.currentSp+t.ex>r.abilityNumber[0]&&(e.showAbilityText(113,r),q*=1+.01*r.abilityNumber[1]);break;case 124:0==t.DamageType&&(q*=1+r.abilityNumber[0]);break;case 125:0==t.DamageType&&this.checkSkillIsSinger(t)&&(e.showAbilityText(125,r),q*=1+r.abilityNumber[0]);break;case 128:1==t.DamageType&&(q*=1+r.abilityNumber[0]);break;case 130:4==t.attribute&&(q*=1+r.abilityNumber[0]);break;case 132:7==t.attribute&&(e.showAbilityText(132,r),q*=1+r.abilityNumber[1]);break;case 138:0==t.DamageType&&(r.isFire||r.isCold||r.isPoison)&&(e.showAbilityText(138,r),q*=1+r.abilityNumber[0])}var F=function(t){return 16==r.ability?void e.showAbilityText(16,r):void(q*=t)};switch(n.ability){case 10:0==t.DamageType&&(F(1-n.abilityNumber[0]),e.showAbilityText(10,n));break;case 14:1==t.DamageType&&(F(1-n.abilityNumber[0]),e.showAbilityText(14,n));break;case 15:1==t.attribute&&(e.showAbilityText(15,n),n.inFire=!0);break;case 22:if(2==t.attribute){e.showAbilityText(22,n),n.takeDamage({type:5,count:n.maxHp*n.abilityNumber[0]|0});break}break;case 30:if(2==t.attribute||1==t.attribute){e.showAbilityText(30,n),F(1-n.abilityNumber[0]);break}break;case 43:1==A&&(e.showAbilityText(43,n),F(1-n.abilityNumber[0]));break;case 53:n.currentHp>=n.maxHp&&(e.showAbilityText(53,n),F(1-n.abilityNumber[0]));break;case 68:4==t.attribute&&(e.showAbilityText(68,n),n.inFire=!0);break;case 84:F(1-n.abilityNumber[0]);break;case 90:F(1-n.abilityNumber[0]);break;case 131:if(1==t.DamageType){var z=Math.random();if(z<n.abilityNumber[0]){e.showAbilityText(131,n);var U=q;F(1-n.abilityNumber[1]);var W=U-q;this.lunchChainBoom(e.Data.TTexiaoBoom[1],r),r.takeDamage({type:3,count:W})}}break;case 132:7==t.attribute&&(e.showAbilityText(132,n),F(1-n.abilityNumber[1]));break;case 134:0==t.DamageType&&(e.showAbilityText(134,n),F(1-n.abilityNumber[0]))}d[1053]&&10==t.attribute&&(q*=1+.01*d[1053][0],100*Math.random()<d[1053][1]&&(e.showAbilityText(1053,d[1053][999],!0),this._currentPokemon.addEffect(e.Data.TXiaoGuo[d[1053][2]],null,null))),d[1008]&&10==t.attribute&&(q*=1+.01*d[1008][0]),g[46]&&F(1-g[46][0]),d[54]&&5==t.attribute&&(q*=1+d[54][0]),d[159]&&5==t.attribute&&(q*=1+d[159][0]),d[55]&&4==t.attribute&&(q*=1+d[55][0]),d[61]&&3==t.attribute&&(q*=1+d[61][0]),d[64]&&2==t.attribute&&(q*=1+d[64][0]),d[65]&&1==t.attribute&&(q*=1+d[65][0]),d[66]&&6==t.attribute&&(q*=1+d[66][0]),d[72]&&7==t.attribute&&(q*=1+d[72][0]),g[103]&&5!=A&&(1==t.attribute||5==t.attribute)&&(e.showAbilityText(103,n),n.takeDamage({type:5,count:n.maxHp*g[103][0]})),g[104]&&5!=A&&(2==t.attribute||4==t.attribute)&&(e.showAbilityText(104,n),n.takeDamage({type:5,count:n.maxHp*g[104][0]})),g[135]&&5!=A&&4==t.attribute&&(e.showAbilityText(135,n),F(1-g[135][0])),5==A&&(g[136]||d[136])&&(e.showAbilityText(136,r),F(d[136]?1-d[136][0]:1-g[136][0])),5==t.attribute&&(g[139]||d[139])&&(e.showAbilityText(139,r),q*=d[139]?1+d[139][0]:1+g[139][0]),g[59]&&0==t.DamageType&&F(1-g[59][0]),g[60]&&1==t.DamageType&&F(1-g[60][0]),62==r.ability&&d[63]&&(q*=1+d[62][1]),63==r.ability&&d[62]&&(q*=1+d[63][1]),62==n.ability&&g[63]&&(e.showAbilityText(62,n),F(1-g[62][0])),63==n.ability&&g[62]&&(e.showAbilityText(63,n),F(1-g[63][0])),r.inAngry&&(q*=1+r.abilityNumber[0],r.inAngry=!1)
}if(this._weatherEffect&&(this._weatherEffect.dragonSkill&&6==t.attribute&&(q*=1+this._weatherEffect.dragonSkill),this._weatherEffect.fireSkill&&1==t.attribute&&(q*=1+this._weatherEffect.fireSkill),this._weatherEffect.waterSkill&&2==t.attribute&&(q*=1+this._weatherEffect.waterSkill),this._weatherEffect.grassSkill&&3==t.attribute&&(q*=1+this._weatherEffect.grassSkill),this._weatherEffect.demonSkill&&4==t.attribute&&(q*=1+this._weatherEffect.demonSkill),this._weatherEffect.evilSkill&&5==t.attribute&&(q*=1+this._weatherEffect.evilSkill),this._weatherEffect.iceSkill&&7==t.attribute&&(q*=1+this._weatherEffect.iceSkill),this._weatherEffect.ghostSkill&&8==t.attribute&&(q*=1+this._weatherEffect.ghostSkill)),5!=A){q*=1+a,q*=1-n.hurtReduce,q*=1-y;for(var V=0;V<n.giftAbility.length;V++){var Y=n.giftAbility[V],X=n.giftAbilityNumber[V];switch(Y){case 1004:0==t.DamageType&&(r.takeDamage({type:3,count:.01*q*X[0]}),e.showAbilityText(1004,n,!0));break;case 1005:2==t.attribute&&(n.addEffect(e.Data.TXiaoGuo[X[1]],null,null),e.showAbilityText(1005,n,!0));break;case 1010:0==t.DamageType&&(r.addEffect(e.Data.TXiaoGuo[X[1]],null,null),e.showAbilityText(1010,n,!0));break;case 1016:4==A&&(e.showAbilityText(1016,n,!0),n.addEffect(e.Data.TXiaoGuo[X[1]],null,null));break;case 1023:0==t.DamageType&&100*Math.random()<X[0]&&(e.showAbilityText(1023,n,!0),n.addEffect(e.Data.TXiaoGuo[X[2]],null,null));break;case 1025:if(0==t.DamageType&&100*Math.random()<X[0]){var K=Math.random();.5>K?r.addEffect(e.Data.TXiaoGuo[10401],null,null):r.addEffect(e.Data.TXiaoGuo[10001],null,null)}break;case 1026:13==t.attribute&&(e.showAbilityText(1026,n,!0),q*=1-.01*X[0]);break;case 1027:10==t.attribute&&(e.showAbilityText(1027,n,!0),q*=1-.01*X[0],n.addEffect(e.Data.TXiaoGuo[X[2]],null,null));break;case 1031:e.showAbilityText(1031,r,!0),r.addEffect(e.Data.TXiaoGuo[X[2]],null,null);break;case 1033:1==t.attribute&&(e.showAbilityText(1033,n,!0),q*=1-.01*X[0],n.addEffect(e.Data.TXiaoGuo[X[2]],null,null));break;case 1034:2==t.attribute&&(e.showAbilityText(1034,n,!0),q*=1-.01*X[0],n.addEffect(e.Data.TXiaoGuo[X[2]],null,null));break;case 1035:4==A&&(q*=1-.01*X[0]);break;case 1040:Math.random()<X[0]&&n.addEffect(e.Data.TXiaoGuo[X[3]],null,null);break;case 1042:(8==t.attribute||5==t.attribute||11==t.attribute)&&n.addEffect(e.Data.TXiaoGuo[X[1]],null,null);break;case 1046:n.maxHp==n.currentHp&&(q*=1-.01*X[0],e.showAbilityText(1046,n,!0))}}for(var V=0;V<r.giftAbility.length;V++){var Z=r.giftAbility[V],X=r.giftAbilityNumber[V];switch(Z){case 1006:n.isPoison&&100*Math.random()<X[0]&&(n.addEffect(e.Data.TXiaoGuo[X[1]],null,null),e.showAbilityText(1006,r,!0));break;case 1007:17==t.attribute&&(q*=1+.01*X[0],e.showAbilityText(1007,r,!0));break;case 1013:r.isFire&&1==t.DamageType&&(q*=1+.01*X[0],e.showAbilityText(1013,r,!0));break;case 1024:0==t.DamageType&&this.checkSkillIsAoe(t)&&(q*=1+.01*X[0],e.showAbilityText(1024,r,!0));break;case 1030:8!=n.getAttributeType()||9!=t.attribute&&15!=t.attribute||(q*=1+.01*X[0],e.showAbilityText(1030,r,!0));break;case 1032:(9==t.attribute||12==t.attribute)&&(e.showAbilityText(1032,r,!0),r.addEffect(e.Data.TXiaoGuo[X[1]],null,null));break;case 1039:18==t.attribute&&100*Math.random()<X[0]&&(e.showAbilityText(1039,r,!0),r.addEffect(e.Data.TXiaoGuo[X[2]],null,null));break;case 1043:(17==n.getAttributeType()||18==n.getAttributeType())&&100*Math.random()<X[0]&&(e.showAbilityText(1043,r,!0),r.addEffect(e.Data.TXiaoGuo[X[2]],null,null));break;case 1045:100*Math.random()<X[0]&&(e.showAbilityText(1045,r,!0),n.addEffect(e.Data.TXiaoGuo[X[2]],null,null));break;case 1054:(8==t.attribute||5==t.attribute)&&100*Math.random()<X[0]&&(e.showAbilityText(1054,r,!0),r.addEffect(e.Data.TXiaoGuo[X[2]],null,null));break;case 1055:n.isPoison&&(e.showAbilityText(1055,r,!0),q*=1+.01*X[0])}}}else 14==this._battleType&&(q*=this.gymCureReduce),q*=1-this.abilityRecoveryReduce;return{count:0|q,type:A}}var p=n.giftAbility.indexOf(1041);if(p>-1&&(e.showAbilityText(1041,n,!0),n.addEffect(e.Data.TXiaoGuo[n.giftAbilityNumber[p][2]],null,null)),84==n.ability&&r.side!=n.side){e.showAbilityText(84,n);var Q=e.Data.TElfSkill[791];this.lunchChainBoom(e.Data.TTexiaoBoom[22],r);var J=this.countSkillDamage(Q,r,0);J.count/=2,r.takeDamage(J)}return{count:0,type:0}},n.prototype.checkSkillIsAoe=function(e){return this._aoeTarget.indexOf(e.target)>-1},n.prototype.showDamageText=function(e){var t=this,n=e.damage;if(!(n.count<=0&&0!==n.type)){var i=e.target;5!=n.type&&-1!=i.side&&(this.damageCount+=n.count);var a=this._battleTextPool.createObject();this.topEffectGroup.addChild(a),a.setText(n);var o=i.displayPosition,s=o[0],r=o[1]-80;a.alpha=1,a.x=s-a.width/2,a.y=r;var u=1.2,l=1.2;4==n.type&&(u=l=1.5),a.scaleX=a.scaleY=.7;var c=1;egret.Tween.get(a).to({scaleX:u,scaleY:l},100*c).wait(150*c).to({y:r-50,alpha:0},500*c).call(function(){t._battleTextPool.destroyObject(a)})}},n.prototype.checkSkillIsSinger=function(e){var t=!1;switch(e.target){case 1:case 3:case 8:case 9:case 10:case 11:case 13:case 14:t=!0}return t},n.prototype.shakeBg=function(){var e=this,t=this.bgDisplay.horizontalCenter,n=this.bgDisplay.verticalCenter,i=function(e){var t=0;return t=Math.random()>.5?10*Math.random():-10*Math.random(),e+t},a=50;a*=this._timeScale,egret.Tween.get(this.bgDisplay).to({horizontalCenter:i(t),verticalCenter:i(n)},a).to({horizontalCenter:i(t),verticalCenter:i(n)},a).to({horizontalCenter:i(t),verticalCenter:i(n)},a).to({horizontalCenter:i(t),verticalCenter:i(n)},a).to({horizontalCenter:i(t),verticalCenter:i(n)},a).to({horizontalCenter:i(t),verticalCenter:i(n)},a).to({horizontalCenter:i(t),verticalCenter:i(n)},a).to({horizontalCenter:i(t),verticalCenter:i(n)},a).to({horizontalCenter:i(t),verticalCenter:i(n)},a).to({horizontalCenter:i(t),verticalCenter:i(n)},a).to({horizontalCenter:i(t),verticalCenter:i(n)},a).call(function(){e.bgDisplay.horizontalCenter=t,e.bgDisplay.verticalCenter=n})},n.prototype.lunchGatherEffect=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return[4,e.getBone(t.resource)];case 1:return n=a.sent(),-1==this._currentPokemon.side?n.scaleX=1:n.scaleX=-1,i=this._currentPokemon.displayPosition,n.x=i[0]+(t.offsetX||0),n.y=i[1]+(t.offsetY||0),this.topBoneGroup.addChild(n),n.setTimeScale(this._timeScale),[4,n.play(null,1)];case 2:return a.sent(),e.destroyBone(n),[2]}})})},n.prototype.lunchFireEffect=function(t,n){return void 0===n&&(n=0),__awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return[4,e.getBone(t.resource)];case 1:switch(i=a.sent(),n){case 11:case 12:case 13:case 14:-1==this._currentPokemon.side?(i.x=145+(t.offsetX||0),i.scaleX=1):(i.scaleX=-1,i.x=535+(t.offsetX||0));break;default:-1==this._currentPokemon.side?(i.scaleX=1,i.x=535+(t.offsetX||0)):(i.x=145+(t.offsetX||0),i.scaleX=-1)}return i.y=245+(t.offsetY||0),this.topBoneGroup.addChild(i),i.setTimeScale(this._timeScale),t.delay*this._timeScale?(i.play(null,1).done(function(){e.destroyBone(i)}),[3,4]):[3,2];case 2:return[4,i.play(null,1)];case 3:a.sent(),e.destroyBone(i),a.label=4;case 4:return[2]}})})},n.prototype.lunchFlyEffect=function(e){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o=this;return __generator(this,function(s){switch(s.label){case 0:t=e.delay||350,n=function(n){var a;return __generator(this,function(s){switch(s.label){case 0:return a=i._battleProjectilePool.createObject(),[4,a.setData(e)];case 1:return s.sent(),i.topBoneGroup.addChild(a),a.run(i._currentPokemon,i._targetList[n],t*i._timeScale).done(function(){o._battleProjectilePool.destroyObject(a)}),[2]}})},i=this,a=0,s.label=1;case 1:return a<this._targetList.length?[5,n(a)]:[3,4];case 2:s.sent(),s.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},n.prototype.lunchChainEffect=function(e,t,n){return __awaiter(this,void 0,void 0,function(){var i,a,o=this;return __generator(this,function(s){switch(s.label){case 0:return i=e.delay||350,a=this._battleProjectilePool.createObject(),[4,a.setData(e)];case 1:return s.sent(),this.topBoneGroup.addChild(a),a.run(t,n,i*this._timeScale).done(function(){o._battleProjectilePool.destroyObject(a)}),[2]}})})},n.prototype.lunchBoomEffect=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:n=[],i=[],a=0,r.label=1;case 1:return a<this._targetList.length?[4,e.getBone(t.resource)]:[3,4];case 2:o=r.sent(),i.push(o),-1==this._currentPokemon.side?o.scaleX=1:o.scaleX=-1,s=this._targetList[a].displayPosition,o.x=s[0]+(t.offsetX||0),o.y=s[1]+(t.offsetY||0),this.topBoneGroup.addChild(o),n.push(o.play(null,1)),o.setTimeScale(this._timeScale),r.label=3;case 3:return a++,[3,1];case 4:return e.when(n).done(function(){for(var t=0;t<i.length;t++)e.destroyBone(i[t])}),[2]}})})},n.prototype.lunchChainBoom=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a;return __generator(this,function(o){switch(o.label){case 0:return[4,e.getBone(t.resource)];case 1:return i=o.sent(),-1==this._currentPokemon.side?i.scaleX=1:i.scaleX=-1,a=n.displayPosition,i.x=a[0]+(t.offsetX||0),i.y=a[1]+(t.offsetY||0),this.topBoneGroup.addChild(i),i.setTimeScale(this._timeScale),[4,i.play(null,1)];case 2:return o.sent(),e.destroyBone(i),[2]}})})},n.prototype.roundEnd=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,u;return __generator(this,function(l){switch(l.label){case 0:if(this.checkBattleEnd())return[3,2];switch(this._currentPokemon.updateEffectAttribute(),this._currentPokemon.ability){case 129:this._currentPokemon.abilityNumber[99]||(this._currentPokemon.abilityNumber[99]=0),this._currentPokemon.abilityNumber[99]<100*this._currentPokemon.abilityNumber[2]&&(e.showAbilityText(129,this._currentPokemon),this._currentPokemon.abilityNumber[99]++,this._currentPokemon.pokemonData.speed*=1+this._currentPokemon.abilityNumber[0],this._currentPokemon.pokemonData.def*=1+this._currentPokemon.abilityNumber[1]);break;case 133:if(Math.random()<this._currentPokemon.abilityNumber[0])for(e.showAbilityText(133,this._currentPokemon),t=this.getSkillTarget(12,this._currentPokemon),n=this.randomTarget(t,null,this._currentPokemon.abilityNumber[1]),i=0;i<n.length;i++)n[i].takeDamage({type:5,count:n[i].maxHp*this._currentPokemon.abilityNumber[2]});break;case 142:if(this._currentPokemon.abilityNumber[99]||(this._currentPokemon.abilityNumber[99]=0),this._currentPokemon.abilityNumber[99]<this._currentPokemon.abilityNumber[2]){for(e.showAbilityText(142,this._currentPokemon),a=Math.floor(5*Math.random()),o=Math.floor(5*Math.random());a==o;)o=Math.floor(5*Math.random());switch(s=this._currentPokemon.pokemonData,r=this._currentPokemon.abilityNumber[0],u=this._currentPokemon.abilityNumber[1],a){case 0:s.atk*=1+r;break;case 1:s.def*=1+r;break;case 2:s.speed*=1+r;break;case 3:s.spAtk*=1+r;break;case 4:s.spDef*=1+r}switch(o){case 0:s.atk*=1-u;break;case 1:s.def*=1-u;break;case 2:s.speed*=1-u;break;case 3:s.spAtk*=1-u;break;case 4:s.spDef*=1-u}break}}return this.orderPokemon(),[4,this.runPokemonIconPosition()];case 1:return l.sent(),this._currentPokemon&&this._currentPokemon.isLive&&this._currentPokemon.resetPosition(),this.resetPokemonIconPosition(),this.skillGroup.visible=!1,[3,3];case 2:this._battleEnd=!0,l.label=3;case 3:return[2]}})})},n.prototype.checkBattleEnd=function(){for(var e=0,t=0,n=0;n<this._battlePokemon.length;n++){var i=this._battlePokemon[n];-1==i.side?e++:t++}return this._playerNumber=e,this._competitorNumber=t,0==t?(this._win=!0,!0):0==e?(this._win=!1,!0):!1},n.prototype.onHeightChange=function(){t.prototype.onHeightChange.call(this),this.bgDisplay.scaleX=this.bgDisplay.scaleY=this._heightScale,this._weatherBone&&this._weatherBone.setScale(this._heightScale),this._openBones&&(this._openBones.scaleX=this._openBones.scaleY=this._heightScale)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.QUIT_BATTLE="BattleScene_QUIT_BATTLE",n.RESULT_FINISH="BattleScene_RESULT_FINISH",n.SHOW_DAMAGE_TEXT="BattleScene_SHOW_DAMAGE_TEXT",n.CHANGE_AUTO="BattleScene_CHANGE_AUTO",n}(e.SceneComponent);e.BattleScene=t,__reflect(t.prototype,"game.BattleScene")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=BattleSkillSkin,e.touchChildren=!1,e}return __extends(n,t),Object.defineProperty(n.prototype,"skill",{set:function(t){if(t){if(this._skillData=e.Data.TElfSkill[t],this.effectList=[],this._skillData.effect)for(var n=e.splitStringToNumberArray(this._skillData.effect),i=0;i<n.length;i++)this.effectList.push(e.Data.TXiaoGuo[n[i]]);this.skillDisplay.source="icon/skill/"+this._skillData.Icon,this.attributeDisplay.source="icon/skillType/"+this._skillData.attribute,this.attributeDisplay.visible=!0,this.touchEnabled=!0,this.skillNameLabel.visible=!0,this.skillNameLabel.text=this._skillData.name}else this._skillData=null,this.effectList=[],this.skillDisplay.source="icon/skill/lock",this.attributeDisplay.visible=!1,this.skillNameLabel.visible=!1,this.touchEnabled=!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"select",{set:function(e){this.selectDisplay.visible=e,this.scaleX=this.scaleY=e?1.2:1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"side",{set:function(e){this._side=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"targetType",{get:function(){return this._skillData?this._skillData.target:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pokemon",{get:function(){return this._battlePokemon},set:function(e){this._battlePokemon=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"costSp",{get:function(){return this._skillData?this._skillData.ex:0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skillId",{get:function(){return this._skillData?this._skillData.id:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"attributeType",{get:function(){return this._skillData?this._skillData.attribute:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"gatherResource",{get:function(){return this._skillData?this._skillData.resGather:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fireResource",{get:function(){return this._skillData?this._skillData.resFire:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"flyResource",{get:function(){return this._skillData?this._skillData.resFly:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"boomResource",{get:function(){return this._skillData?this._skillData.resBoom:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"voice",{get:function(){return this._skillData?this._skillData.voice:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"damage",{get:function(){return this._skillData?this._skillData.damage:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"damageType",{get:function(){return this._skillData?this._skillData.DamageType:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hit",{get:function(){return this._skillData?this._skillData.hit:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skillType",{get:function(){return this._skillData?this._skillData.skillType:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ShakeBg",{get:function(){return this._skillData?this._skillData.shakeBg||0:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canUse",{set:function(e){this.skillNameLabel.textColor=e?gameConfig.TextColors.orangeYellow:gameConfig.TextColors.red},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skillData",{get:function(){return this._skillData},enumerable:!0,configurable:!0}),n}(e.GameComponent);e.BattleSkill=t,__reflect(t.prototype,"game.BattleSkill")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._smallPokemon=new e.PokemonIconAnim,n._battlePokemon=new e.PokemonIconArtAnim,n.skinName=BattleStorySkin,n.smallPokemonGroup.addChild(n._smallPokemon.display),n.battlePokemonGroup.addChild(n._battlePokemon.display),n._adjust=!0,n._touchEvent=[{target:n.nextGroup,callBackFunc:n.touchHandle}],n.addEventAndNotify(),n}return __extends(n,t),n.prototype.setDataAndCallBack=function(e,t,n){this._call=e,this._timing=n,this._progress=t,this._next=1,egret.Tween.get(this.arrowImage,{loop:!0}).to({bottom:130},200).to({bottom:135},200),this.touchHandle()},n.prototype.touchHandle=function(){var t=this;this._timeout&&egret.clearInterval(this._timeout),this._timeout=egret.setInterval(function(){t.nextHandle()},this,1e3*Number(e.Constants.DDialogPassTime)),this.nextHandle()},n.prototype.closeHandle=function(){this._bossProgress&&(Auth.uploadLog("boss预告",this._bossProgress+"结束"),this._bossProgress=null),this._smallPokemon.stop(),this._battlePokemon.stop(),egret.Tween.removeTweens(this.arrowImage),egret.clearInterval(this._timeout),this.parent&&this.parent.removeChild(this),this._call&&this._call()},n.prototype.nextHandle=function(){var t;for(var n in e.Data.TDDialog)if(e.Data.TDDialog.hasOwnProperty(n)){var i=e.Data.TDDialog[n];if(i.sort==this._next&&i.progress==this._progress&&i.timing==this._timing){t=i;break}}if(t){if(this.battlePokemonGroup.visible=this.smallPokemonGroup.visible=!1,this._bossProgress=null,t.pokemonId&&(Auth.uploadLog("boss预告",t.progress+"开始"),this._bossProgress=t.progress,this.battlePokemonGroup.visible=this.smallPokemonGroup.visible=!0,this._smallPokemon.setPokemon(t.pokemonId,!1),this._battlePokemon.setPokemon(t.pokemonId,!1)),t.backgroundRe?this.storyBg.visible=!0:this.storyBg.visible=!1,t.boolPlayer){var a=Number(e.Data.TPlayerRole[e.DataManager.playerModel.playerRole].roleResours);this.personImg.source="art/story/player_"+a}else this.personImg.source="art/story/"+t.resource;1==t.side?(this.personGroup.x=2,this.bgImage.skewY=180):(this.personGroup.x=448,this.bgImage.skewY=0),t.name?(this.nameLabel.text=t.name,this.nameGroup.visible=!0):this.nameGroup.visible=!1,this.talkGroup.removeChildren(),this.talkText=e.createColorText(t.dialog),this.talkText.textColor=0,this.talkText.width=560,this.talkText.x=0,this.talkText.y=0,this.talkText.size=25,this.talkGroup.addChildAt(this.talkText,1),this._next++}else this.closeHandle()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.BattleStory=t,__reflect(t.prototype,"game.BattleStory")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=BattleTextSkin,t}return __extends(t,e),t.prototype.setText=function(e){var t=e.type,n=e.count;switch(t){case 0:this.textImg.visible=!0,this.textImg.source="ui/scene/battle/miss",this.textImg.x=this.textImg.y=0,this.countLabel.visible=!1,this.width=101;break;case 1:this.textImg.visible=!0,this.textImg.source="langs/kezhi",this.textImg.x=10,this.textImg.y=7,this.countLabel.visible=!0,this.countLabel.font="font/font_number_red",this.countLabel.text="-"+n,this.countLabel.x=72,this.width=72+this.countLabel.width;break;case 2:this.textImg.visible=!1,this.countLabel.visible=!0,this.countLabel.font="font/font_number_gray",this.countLabel.text="-"+n,this.countLabel.x=0,this.width=this.countLabel.width;break;case 3:this.textImg.visible=!1,this.countLabel.visible=!0,this.countLabel.font="font/font_number_red",this.countLabel.text="-"+n,this.countLabel.x=0,this.width=this.countLabel.width;break;case 6:this.textImg.visible=!1,this.countLabel.visible=!1,this.width=this.countLabel.width;break;case 4:this.textImg.visible=!0,this.textImg.source="langs/baoji",this.textImg.x=0,this.textImg.y=2,this.countLabel.visible=!0,this.countLabel.font="font/font_number_red",this.countLabel.text="-"+n,this.countLabel.x=72,this.width=72+this.countLabel.width;break;case 5:this.textImg.visible=!1,this.countLabel.visible=!0,this.countLabel.font="font/font_number_green",this.countLabel.text="+"+n,this.countLabel.x=0,this.width=this.countLabel.width}this.textImg.visible?this.width=this.textImg.width+this.countLabel.width:this.width=this.countLabel.width},t.prototype.onDestroy=function(){this.parent&&this.parent.removeChild(this)},t}(eui.Component);e.BattleText=t,__reflect(t.prototype,"game.BattleText",["game.PoolItem"])}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=BattleUnLockPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.goButton.image="langs/Tx_qianwang",this.closeButton.image="langs/Tx_guanbick",this.goButton.bg="ui/common/button/blue",this.closeButton.bg="ui/common/button/btn_07a",this._touchEvent=[{target:this.goButton,callBackFunc:this.goHandle},{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},n.prototype.goHandle=function(){this.closeHandle(),this._currentData.panel&&e.navPanel(this._currentData.panel),e.functionID=this._currentData.id},n.prototype.closeHandle=function(){e.removePopUp(this),this._bone&&this._bone.stop()},n.prototype.firstShow=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.boneGroup.removeChildren(),t=this,[4,e.getBone("xingongnkq")];case 1:return t._bone=n.sent(),this.boneGroup.addChild(this._bone),[2]}})})},n.prototype.onShow=function(){this._bone.play(null,1)},n.prototype.setData=function(e){this._currentData=e,this.detailLabel.text=e.text},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.BattleUnLockPanel=t,__reflect(t.prototype,"game.BattleUnLockPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemIconList=[],e.skinName=BattleWinSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this._adjust=!0,this._touchEvent=[{target:this.confirmButton,callBackFunc:this.closeHandle},{target:this.buyButton,callBackFunc:function(){e.ActivityPanel.openActivity(100),t.closeHandle()}}],this.addEventAndNotify(),this.OneYuanGroup.visible=!1,this.buyButton.image="ui/scene/idle/Tx_goumai",this.buyButton.bg="ui/scene/activity/btn_12",this.confirmButton.image="langs/queding"},n.prototype.closeHandle=function(){egret.clearInterval(this._interval),this.itemIconGroup.removeChildren(),this.removeFromParent(),effectUtils.removeRotationEffect(this.flashDisplay),this._textBone&&this._textBone.stop(),this._pvpBone&&this._pvpBone.stop(),this.textDisplayGroup.removeChildren(),e.NotificationCenter.getInstance().postNotification(e.BattleScene.RESULT_FINISH)},n.prototype.setReward=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:for(this.hideAllGroup(),this.normalGroup.visible=!0,effectUtils.rotationEffect(this.flashDisplay,5e3),this.goldLabel.text=t.gold.toString(),this.expLabel.text=t.exp.toString(),this.itemIconGroup.removeChildren(),n=0;n<t.items.length;n++)this._itemIconList[n]||(this._itemIconList[n]=new e.ItemIcon),i=this._itemIconList[n],i.item=t.items[n],this.itemIconGroup.addChild(i);return this._textBone?[3,2]:(a=this,[4,e.getBone("zhandoushengli")]);case 1:a._textBone=o.sent(),o.label=2;case 2:return this.textDisplayGroup.addChild(this._textBone),this._textBone.play(null,1),[2]}})})},n.prototype.setPvpReward=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a;return __generator(this,function(o){switch(o.label){case 0:return this.hideAllGroup(),this.pvpGroup.visible=!0,3!=n?(this.throneTipLabel.visible=!1,this.pvpNormalGroup.visible=!0,effectUtils.rotationEffect(this.flashDisplay,5e3),i=e.DataManager.playerModel.getPvpInfoByType(n),this.oldRankLabel.text=e.formatString(e.Lang.dijiming,t.rank),this.newRankLabel.text=e.formatString(e.Lang.dijiming,i.rank),this.oldScoreLabel.text=""+t.score,this.newScoreLabel.text=""+e.DataManager.playerModel.pvpScore):(this.throneTipLabel.visible=!0,this.pvpNormalGroup.visible=!1),this._pvpBone?[3,2]:(a=this,[4,e.getBone("jinjichangshenli")]);case 1:a._pvpBone=o.sent(),o.label=2;case 2:return this.textDisplayGroup.addChild(this._pvpBone),this._pvpBone.play(null,1),[2]}})})},n.prototype.show=function(){e.GameLayer.battleLayer.addChild(this),this._time=0,this.updateAutoClose(),this._interval=egret.setInterval(this.updateAutoClose,this,1e3)},n.prototype.updateOneYuan=function(){e.DataManager.playerModel.GetOneYuanRecharge(1);var t=e.DataManager.playerModel.getActivityInfo();0!=t.oneYuanRecharge?this.OneYuanGroup.visible=!1:(this.OneYuanGroup.visible=!0,this.oneItem.item={type:2,count:t.ext.OneYuanDiamond}),t.ext.OneYuanDiamond+=Number(e.Constants.OneRewardSpace),t.ext.OneYuanDiamond>Number(e.Constants.OneRewardEnding)&&(t.ext.OneYuanDiamond=Number(e.Constants.OneRewardEnding))},n.prototype.updateAutoClose=function(){var e=10-this._time;this.autoCloseTimeLabel.text="("+e+"s)",0==e&&this.closeHandle(),this._time++},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.prototype.setGuildBossReward=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.hideAllGroup(),this._textBone?[3,2]:(t=this,[4,e.getBone("zhandoushengli")]);case 1:t._textBone=n.sent(),n.label=2;case 2:return this.textDisplayGroup.addChild(this._textBone),effectUtils.rotationEffect(this.flashDisplay,5e3),this._textBone.play(null,1),[2]}})})},n.prototype.setRankPvpReward=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return this.hideAllGroup(),this.rankPvpGroup.visible=!0,effectUtils.rotationEffect(this.flashDisplay,5e3),n=e.DataManager.playerModel.getMyPvpRankInfo(),this.rankPvpLabel.text=e.Lang.shengchang+": "+t.victory+" -> "+n.victory,this.rankPvpScoreLabel.text=e.Lang.shengdian+": "+t.victoryCount+" -> "+n.victoryCount,t.honor&&n.honor?(this.rankPvpDivisionLabel.visible=!0,this.rankPvpDivisionLabel.text=e.Lang.duanwei+": "+e.Data.TRankHonorLv[t.honor].dec+" -> "+e.Data.TRankHonorLv[n.honor].dec):this.rankPvpDivisionLabel.visible=!1,this._pvpBone?[3,2]:(i=this,[4,e.getBone("jinjichangshenli")]);case 1:i._pvpBone=a.sent(),a.label=2;case 2:return this.textDisplayGroup.addChild(this._pvpBone),this._pvpBone.play(null,1),[2]}})})},n.prototype.hideAllGroup=function(){this.legendaryGroup.visible=this.normalGroup.visible=this.pvpGroup.visible=this.rankPvpGroup.visible=this.gymGroup.visible=!1},n.prototype.setGymReward=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:for(this.hideAllGroup(),this.gymGroup.visible=!0,effectUtils.rotationEffect(this.flashDisplay,5e3),this.gymDamageLabel.text=""+e.setNumber(n),this.gymHonorLabel.text=""+e.setNumber(t.gold),this.gymHonorexe.text=""+e.setNumber(t.exp),this.gymItemGroup.removeChildren(),i=0;i<t.items.length;i++)this._itemIconList[i]||(this._itemIconList[i]=new e.ItemIcon),a=this._itemIconList[i],a.item=t.items[i],this.gymItemGroup.addChild(a);return this._textBone?[3,2]:(o=this,[4,e.getBone("zhandoushengli")]);case 1:o._textBone=s.sent(),s.label=2;case 2:return this.textDisplayGroup.addChild(this._textBone),this._textBone.play(null,1),[2]}})})},n.prototype.setTreasure=function(t){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.hideAllGroup(),this._textBone?[3,2]:(t=this,[4,e.getBone("zhandoushengli")]);case 1:t._textBone=n.sent(),n.label=2;case 2:return this.textDisplayGroup.addChild(this._textBone),effectUtils.rotationEffect(this.flashDisplay,5e3),this._textBone.play(null,1),[2]}})})},n.prototype.setLegendaryReward=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.hideAllGroup(),this._textBone?[3,2]:(t=this,[4,e.getBone("zhandoushengli")]);case 1:t._textBone=n.sent(),n.label=2;case 2:return this.legendaryGroup.visible=!0,this.textDisplayGroup.addChild(this._textBone),effectUtils.rotationEffect(this.flashDisplay,5e3),this._textBone.play(null,1),[2]}})})},n}(e.GameComponent);e.BattleWin=t,__reflect(t.prototype,"game.BattleWin")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;n._backCount=0,n._levelCount=0,n._MaxLevel=1,n._gradeCombat=500,n._rewardCount=50,n._challengeCount=0,n._animList=[],n._animList2=[],n._itmeList=[],n._speed=.6,n.skinName=CavePanelSkin,n._adjust=!0;for(var i in e.Data.TVip)if(e.Data.TVip[i].autoChangeTime){n._autoLimitVip=e.Data.TVip[i].level;break}return n.init(),n}return __extends(n,t),n.prototype.init=function(){this.initLabel(),this.initButton(),this.initItem(),this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.okButton,callBackFunc:this.challengeHandle},{target:this.backButton,callBackFunc:this.backHandle},{target:this.shopButton,callBackFunc:this.shopHandle},{target:this.addCountButton,callBackFunc:this.addCountHandle},{target:this.rankButton,callBackFunc:this.rankHandle},{target:this.sweepButton,callBackFunc:this.sweepHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateInfo,notifyName:e.PlayerModel.CAVE_INFO_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.update,notifyName:e.PlayerModel.CAVE_UPDATE,execute:!1}],this.addEventAndNotify(),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){var n=t.target,i=e.ItemInfoPanel.getInstance();i.setData(n.itemData),i.show()},this)},n.prototype.sweepHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=e.Data.TVip[e.DataManager.playerModel.playerVip],!t.autoChangeTime&&e.DataManager.playerModel.playerLevel<Number(e.Constants.autoSweepTowerLever)?(e.showTips(e.formatString(e.Lang.vipduoshaohuodengjiduoshaojiesuo,this._autoLimitVip,e.Constants.autoSweepTowerLever),!0),[2]):t.spChangeBuyCount+this._dailyTowerBuyCount-this._challengeCount<=0?(e.showTips(e.Lang.tiaozhancishubuzu,!0),[2]):this._levelCount<this._MaxLevel?[4,e.DataManager.playerModel.sweepTower()]:[3,2];case 1:return n.sent(),[3,3];case 2:e.showTips(e.Lang.ninyizaizuigaoceng,!0),n.label=3;case 3:return[2]}})})},n.prototype.updateUser=function(){this.user&&this.user.setData({delay:200,size:{row:4,col:4},resource:"anim/role/"+e.DataManager.playerModel.playerRole})},n.prototype.initLabel=function(){var t=e.DataManager.playerModel.battleProgress;this._levelCount=t.towerLv,this._backCount=t.towerBackCount,this._MaxLevel=t.maxTowerLv,this._challengeCount=t.towerCount,this._dailyTowerBuyCount=t.dailyTowerBuyCount,this._rewardCount=e.Data.TTower[this._levelCount].expElf,this._gradeCombat=e.Data.TTower[this._levelCount].gradeCombat;var n=e.Data.TVip[e.DataManager.playerModel.playerVip];this.levelLabel.text="当前层数："+this._levelCount,this.countLabel.text="剩余次数："+(n.spChangeAgainCount-this._backCount),this.jiangliLabel.text="获胜可得奖励：       X"+this._rewardCount,this.maxLevelLabel.text="历史层数："+this._MaxLevel,this.nextZhanliLabel.text="下一守层者战力："+this._gradeCombat,this.challengeCount.text="剩余次数："+(n.spChangeBuyCount+this._dailyTowerBuyCount-this._challengeCount)},n.prototype.initButton=function(){this.okButton.bg="ui/common/button/greenBtn",this.okButton.image="langs/tiaozhan",this.shopButton.bg="icon/item/19001",this.backButton.bg="ui/scene/cave/cave_2",this.rankButton.bg="ui/scene/cave/cave_1",this.sweepButton.image="langs/yijiansaodang"},n.prototype.initItem=function(){if(0!=this._levelCount){this.itemGroup.removeChildren();var t=e.Data.TTower[this._levelCount].lootPreview.split(";");this.listScroller.scrollPolicyH=this.listScroller.scrollPolicyV="off";for(var n=this._itmeList,i=0;i<t.length;i++){var a=e.splitStringToNumberArray(t[i],",");
n[i]||(n[i]=new e.ItemIcon),n[i].item={type:a[0],count:a[1]},n[i].scaleX=n[i].scaleY=.75,this.itemGroup.addChild(n[i])}}},n.prototype.closeHandle=function(){e.IdleScene.getInstance().playMusic(),e.removePopUp(this),this.stopAnimation()},n.prototype.challengeHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i=this;return __generator(this,function(a){return 0==this._levelCount?(t=e.CheckPanel.getInstance(),t.setData(e.Lang.ninquedingyaotiaozhankabixiongma,function(e){e&&i.startBattle()}),t.show(),[2]):(n=e.Data.TVip[e.DataManager.playerModel.playerVip],n.spChangeBuyCount+this._dailyTowerBuyCount-this._challengeCount<=0?(e.showTips(e.Lang.tiaozhancishubuzu,!0),[2]):(this.startBattle(),[2]))})})},n.prototype.startBattle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),t=e.BattleScene.getInstance(),t.caveId=this._levelCount,[4,t.initBattle(4)];case 1:return n.sent(),e.hideWaitPanel(),e.GameLayer.battleLayer.addChild(t),t.run(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),[2]}})})},n.prototype.endBattle=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){return e.SoundManager.playBgSound("music/diditiaozhan"),t?(this.touchChildren=!1,this.nextAnimation(t)):0!=this._levelCount&&(e.DataManager.playerModel.setTowerCount(1),e.DataManager.playerModel.postNotification(e.PlayerModel.CAVE_INFO_UPDATE)),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!0,e.NotificationCenter.getInstance().removeObserver(this,e.BattleScene.QUIT_BATTLE),[2]})})},n.prototype.update=function(){this.updateInfo(),this.initItem(),this.resetAnim()},n.prototype.updateInfo=function(){this.initItem(),this.initLabel()},n.prototype.backHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i=this;return __generator(this,function(a){return t=this,n=e.CheckPanel.getInstance(),n.setData(e.Lang.niquedingyaohuidaodiyicengma,function(n){return __awaiter(i,void 0,void 0,function(){var i;return __generator(this,function(a){return n&&(i=e.Data.TVip[e.DataManager.playerModel.playerVip],i.spChangeAgainCount-t._backCount>0?e.DataManager.playerModel.backTower():e.showTips(e.Lang.queshaochongzhijihui,!0)),[2]})})}),n.show(),[2]})})},n.prototype.onShow=function(){e.SoundManager.playBgSound("music/diditiaozhan"),this.updateUser(),this.update()},n.prototype.shopHandle=function(){e.CaveShop.getInstance().show()},n.prototype.addCountHandle=function(){var t=this,n=this,i=e.CheckPanel.getInstance(),a=Number(e.Constants.towerCountBasePrice),o=Number(e.Constants.towerCountAddPrice),s=a+this._dailyTowerBuyCount*o,r=e.DataManager.playerModel.diamond;i.setData(e.formatString(e.Lang.quedinghuafeishengmegoumaishenm,s+"钻石","挑战次数"),function(i){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){return i&&(10!=n._challengeCount&&r>=s?e.DataManager.playerModel.buyTowerBattleCount(s):s>r?e.showTips(e.Lang.nindedaojubuzu,!0):e.showTips(e.Lang.tiaozhanjihuiyidadaozuidazhi,!0)),[2]})})}),i.show()},n.prototype.rankHandle=function(){e.RankPanel.getInstance().show()},n.prototype.firstShow=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.huo_1?[3,2]:(this.huo_1=new e.SequenceImage,this._animList.push(this.huo_1),[4,this.huo_1.setData({delay:100,size:{row:1,col:3},resource:"anim/huo_1"})]);case 1:t.sent(),this.huoGroup_1.addChild(this.huo_1.display),t.label=2;case 2:return this.huo_2?[3,4]:(this.huo_2=new e.SequenceImage,this._animList.push(this.huo_2),[4,this.huo_2.setData({delay:100,size:{row:1,col:3},resource:"anim/huo_2"})]);case 3:t.sent(),this.huoGroup_2.addChild(this.huo_2.display),t.label=4;case 4:return this.huo_3?[3,6]:(this.huo_3=new e.SequenceImage,this._animList.push(this.huo_3),[4,this.huo_3.setData({delay:100,size:{row:1,col:3},resource:"anim/huo_3"})]);case 5:t.sent(),this.huoGroup_3.addChild(this.huo_3.display),t.label=6;case 6:return this.huo_4?[3,8]:(this.huo_4=new e.SequenceImage,this._animList.push(this.huo_4),[4,this.huo_4.setData({delay:100,size:{row:1,col:3},resource:"anim/huo_4"})]);case 7:t.sent(),this.huoGroup_4.addChild(this.huo_4.display),t.label=8;case 8:return this.huo_5?[3,10]:(this.huo_5=new e.SequenceImage,this._animList.push(this.huo_5),[4,this.huo_5.setData({delay:100,size:{row:1,col:3},resource:"anim/huo_5"})]);case 9:t.sent(),this.huoGroup_5.addChild(this.huo_5.display),t.label=10;case 10:return this.user?[3,12]:(this.user=new e.SequenceImage,[4,this.user.setData({delay:200,size:{row:4,col:4},resource:"anim/role/"+e.DataManager.playerModel.playerRole})]);case 11:t.sent(),this._animList2.push(this.user),t.label=12;case 12:return this.guard||(this.guard=new e.SequenceImage,this._animList2.push(this.guard)),[2]}})})},n.prototype.resetAnim=function(){this.stopAnimation();for(var e=0;e<this._animList.length;e++)this._animList[e].play(1,0);this.userAnimation(),this.guardAnimation()},n.prototype.userAnimation=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){return this.user.setScale(.8),this.userGroup.addChild(this.user.display),this.user.play(4),this.userGroup.visible=!0,this.userGroup.x=362,this.userGroup.y=558,egret.Tween.get(this.userGroup).to({y:344},1500*this._speed).call(function(){e.user.play(2)}).to({x:257},1e3*this._speed).call(function(){e.user.play(3)}),[2]})})},n.prototype.guardAnimation=function(){return __awaiter(this,void 0,void 0,function(){var e,t,n=this;return __generator(this,function(i){switch(i.label){case 0:return e=[2,3,4,7,8,9,15,16],t=Math.floor(Math.random()*e.length),this.guard.setScale(.8),[4,this.guard.setData({delay:200,size:{row:4,col:4},resource:"anim/human/"+e[t]})];case 1:return i.sent(),this.guardGroup.addChild(this.guard.display),this.guard.play(1),this.guardGroup.visible=!1,this.guardGroup.y=221,egret.Tween.get(this.guardGroup).to({},2e3*this._speed).call(function(){n.guardGroup.visible=!0}).to({y:344},1200*this._speed).call(function(){n.guard.stop(),n.guard.play(2,0)}),[2]}})})},n.prototype.stopAnimation=function(){for(var e=0;e<this._animList.length;e++)this._animList[e].stop();for(var e=0;e<this._animList2.length;e++)this._animList2[e].stop()},n.prototype.nextAnimation=function(t){var n=this;return 0==this._levelCount?(this.touchChildren=!0,void e.DataManager.playerModel.postNotification(e.PlayerModel.CAVE_INFO_UPDATE)):void(t&&(this.guardGroup.visible=!1,this.user.play(3),egret.Tween.get(this.userGroup).to({x:465},1e3*this._speed).call(function(){n.user.play(4)}).to({y:221},800*this._speed).call(function(){n.userGroup.visible=!1,e.DataManager.playerModel.postNotification(e.PlayerModel.CAVE_INFO_UPDATE),e.showWaitPanel(),n.touchChildren=!0}).to({},500*this._speed).call(function(){e.hideWaitPanel(),n.update()})))},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.CavePanel=t,__reflect(t.prototype,"game.CavePanel")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var n=t.call(this)||this;return n._itemList=[],n.skinName=CaveShopSkin,n.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removePopUp(n)},n),n._notify=[{source:e.DataManager.playerModel,target:n,callBackFunc:n.init,notifyName:e.PlayerModel.CAVE_SHOP_UPDATE,execute:!1}],n.addEventAndNotify(),n}return __extends(i,t),i.prototype.show=function(){return t.prototype.show.call(this)},i.prototype.init=function(){this._caveScore=e.DataManager.playerModel.getItemCount(19001),this.jiangliLabel.text=this._caveScore.toString(),this.initItem()},i.prototype.initItem=function(){this.itemGroup.removeChildren();var t=e.Data.TTowerShop,i=this._itemList;this.listScroller.scrollPolicyH="off";var a=0;for(var o in t){var s=e.splitStringToNumberArray(t[o].goods,";"),r=e.splitStringToNumberArray(t[o].price,";"),u={goods:[s[0],s[1]],price:[r[0],r[1]],id:o};i[a]||(i[a]=new n),i[a].caveItemInfo=u,this.itemGroup.addChild(i[a]),a++}},i.prototype.onShow=function(){this.init()},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.PanelComponent);e.CaveShop=t,__reflect(t.prototype,"game.CaveShop");var n=function(t){function n(){var e=t.call(this)||this;return e._starList=[],e.skinName=CaveItemSkin,e.touchChildren=!0,e.itemIcon.touchChildren=!1,e.init(),e}return __extends(n,t),Object.defineProperty(n.prototype,"caveItemInfo",{set:function(t){if(t){this._itemId=t.id;var n=t.goods,i=t.price;if(this._bringData=e.Data.TElfBring[n[0]],this._itemData=e.Data.TItem[n[0]],this.pieceImage.visible=this._itemData&&11==this._itemData.type,this.itemIcon.item={type:n[0],count:n[1]},this.caveCostIcon.source="icon/item/"+i[0],this.costLabel.text=i[1].toString(),this.slotIcon.visible=this.starGroup.visible=!1,this.itemIcon.newEquipData){this.slotIcon.visible=this.starGroup.visible=!0,this.slotIcon.source="ui/scene/equip/"+this.itemIcon.newEquipData.position,this.starGroup.removeChildren();for(var a=0;a<this.itemIcon.newEquipData.rare;a++){var o=this._starList[a];o||(o=new eui.Image("ui/scene/team/star"),this._starList[a]=o),this.starGroup.addChild(o)}}}},enumerable:!0,configurable:!0}),n.prototype.init=function(){var t=this;this.okButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){var n=Number(t.costLabel.text),i=Number(t._itemId);e.DataManager.playerModel.BuyTowerShopItem(i,n)},this),this.itemIcon.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.itemIcon.showDetail()},this)},n}(e.GameComponent);e.CaveItem=n,__reflect(n.prototype,"game.CaveItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.state="other",n.donateInfo=null,n.skinName=ChatItemSkin,n.fragButton.label=e.Lang.tijiao,n.touchGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.DataManager.playerModel.showPlayerDetail(n.message.sender.id)},n),n.fragButton.addEventListener(egret.TouchEvent.TOUCH_TAP,n.touchDonate,n),n}return __extends(n,t),n.prototype.setData=function(t,i){this.message=t,this.avatar||(this.avatar=new e.BattleAvatar,this.animGroup.addChild(this.avatar.displayGroup));var a=t.sender;0==a.id.pid?(this.nameLabel.text=a.name,this.textLabel.textFlow=e.parseColorText(t.content),this.avatar.setAvatar(Number(e.Constants.GMImage))):(this.nameLabel.text="s"+a.id.sid+" "+a.name,this.textLabel.text=t.content,this.avatar.setAvatar(a.gender)),this.avatar.setWing(a.wing,1),this.avatar.setDecoration(a.orna,1),a.title?(this.titleImage.visible=!0,this.titleImage.source="langs/title/"+a.title):this.titleImage.visible=!1,0==t.type?(this.textLabel.width=void 0,this.textLabel.width=Math.min(this.textLabel.width,n.labelMaxWidth),this.bg.width=Math.max(this.textLabel.width+60,n.minBgWidth),this.bg.height=Math.max(this.textLabel.height+40,n.minBgHeight),this.height=this.bg.height+40,this.fragGroup.visible=!1,this.textLabel.visible=!0):this.updateDonateInfo(),this.vipLabel.text=e.getVipLevelByRecharge(a.vipExp).toString(),a.id.sid==e.DataManager.playerModel.sid&&a.id.pid==e.DataManager.playerModel.pid?this.state="self":this.state="other",this.invalidateState(),this.textLabel.textColor=2==i?gameConfig.TextColors.green:gameConfig.TextColors.white},n.prototype.updateDonateInfo=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){return t=JSON.parse(this.message.content),this.fragItem.item={type:t.demandItem.type,count:0},this.needFragLabel.text=t.demandItem.count-t.quantity+"/"+t.demandItem.count,this.donateInfo=t,this.fragLabel.text=e.Lang.woxuyao,this.bg.width=450,this.fragGroup.visible=!0,this.textLabel.visible=!1,this.fragButton.visible=this.donateInfo.player.sid!=e.DataManager.playerModel.sid||this.donateInfo.player.pid!=e.DataManager.playerModel.pid,n=e.DataManager.playerModel.getDonateByPlayer(this.donateInfo.player),0!=this.donateInfo.quantity&&n&&this.donateInfo.demandItem.type==n.demandItem.type||(this.fragButton.filters=[gameConfig.ColorMatrix.gray],this.fragButton.lock=!0),[2]})})},n.prototype.touchDonate=function(){if(e.DataManager.playerModel.getItemCount(this.donateInfo.demandItem.type)<=0)return e.showTips(e.Lang.nindedaojubuzu);var t=e.DataManager.playerModel.getDonateByPlayer(this.donateInfo.player);return 0!=this.donateInfo.quantity&&t&&this.donateInfo.demandItem.type==t.demandItem.type?void e.DataManager.playerModel.donateOther(this.donateInfo.player,{type:this.donateInfo.demandItem.type,count:1}):e.showTips(e.Lang.yiguoqi)},n.prototype.getCurrentState=function(){return this.state},n.prototype.stop=function(){this.avatar&&this.avatar.stop()},n.labelMaxWidth=500,n.minBgWidth=148,n.minBgHeight=80,n}(e.GameComponent);e.ChatItem=t,__reflect(t.prototype,"game.ChatItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.skinName=ChatNoticeSkin,n.touchChildren=!1,n.touchGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){if(n.notice&&n.notice.id&&e.Data.TElf[n.notice.id]){var t=e.PokemonDetail.getInstance();t.setCurrentPokemon(n.notice.id),t.show()}},n),n}return __extends(n,t),n.prototype.setData=function(t){this.notice=t,this.detailLabel.textFlow=e.parseColorText(t.content),t.id?this.touchChildren=!0:this.touchChildren=!1},n}(e.GameComponent);e.ChatNotice=t,__reflect(t.prototype,"game.ChatNotice")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._messageList=[],n._noticeList=[],n._canSend=!0,n._interval=null,n._time=0,n.limit=Number(e.Constants.Chatbox),n._type=1,n.skinName=ChatPanelSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.updateChangeButton(),this.worldButton.image="ui/scene/chat/Tx_shijie",this.guildButton.image="ui/scene/chat/Tx_gonghui01",this.guildButton.bgDisplay.filters=[gameConfig.ColorMatrix.gray],this.worldButton.imageScale=this.guildButton.imageScale=1,this.sendButton.image="ui/scene/chat/Tx_fasong",this._touchEvent=[{target:this.sendButton,callBackFunc:this.sendMail},{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.changeButton,callBackFunc:this.changeHandle},{target:this.worldButton,callBackFunc:this.touchTypeButton},{target:this.guildButton,callBackFunc:this.touchTypeButton}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateMessageList,notifyName:e.PlayerModel.MESSAGE_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateMessageList,notifyName:e.PlayerModel.PLAYER_NOTICE_UPDATE,execute:!1}],this.addEventAndNotify()},n.prototype.touchTypeButton=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return t!=this.guildButton||e.DataManager.playerModel.getMyGuildInfo().guildId?t!=this.guildButton?[3,2]:(this._type=2,[4,e.DataManager.playerModel.getOwnGuildInfo()]):(e.showTips("您还没有加入公会哦!",!0),[2]);case 1:return n.sent(),[3,3];case 2:this._type=1,n.label=3;case 3:return this.guildButton.bgDisplay.filters=2==this._type?[]:[gameConfig.ColorMatrix.gray],this.worldButton.bgDisplay.filters=1==this._type?[]:[gameConfig.ColorMatrix.gray],this.updateMessageList(),[2]}})})},n.prototype.changeHandle=function(){e.ShowOutsideChat=!e.ShowOutsideChat,this.updateChangeButton()},n.prototype.updateChangeButton=function(){e.ShowOutsideChat?(this.changeButton.image="ui/scene/chat/Tx_guanbiwblt",egret.localStorage.setItem("outsideChat","on")):(this.changeButton.image="ui/scene/chat/Tx_dakaiwblt",egret.localStorage.setItem("outsideChat","off")),this.updateMessageList()},n.prototype.updateMessageList=function(){this.itemGroup.removeChildren();for(var t=[],n=e.DataManager.playerModel.getMessageList(this._type),i=0;i<n.length;i++)!e.ShowOutsideChat&&n[i].sender&&n[i].sender.id&&n[i].sender.id.sid!=e.DataManager.playerModel.sid||t.push({message:n[i],time:n[i].time});t=t.sort(function(e,t){return t.time.getTime()-e.time.getTime()});for(var a=0,o=0,i=0;i<t.length;i++){var s=t[i];if(s.notice){var r=this._noticeList[o];r||(r=new e.ChatNotice,this._noticeList[o]=r),r.setData(s.notice),this.itemGroup.addChild(r),o++}else if(s.message){var u=this._messageList[a];u||(u=new e.ChatItem,this._messageList[a]=u),u.setData(s.message,this._type),this.itemGroup.addChild(u),a++}}},n.prototype.closeHandle=function(){for(var t=0;t<this._messageList.length;t++)this._messageList[t].stop();e.removePopUp(this),e.IdleScene.getInstance().chatButton.point=!1},n.prototype.sendMail=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:if(!(e.DataManager.playerModel.playerLevel>=this.limit))return[3,2];if(!this._canSend)return e.showTips(e.Lang.ninshuohuataikuaile,!0),[2];if(t=this.messageLabel.text.replace(/\s+/g,""),""==t)return e.showTips(e.Lang.qingshuruninyaofasongdeneirong,!0),[2];if(n=0,2==this._type&&e.DataManager.playerModel.getMyGuildInfo().guildId)n=e.DataManager.playerModel.getMyGuildInfo().guildId;else if(e.DataManager.playerModel.playerVip<Number(e.Constants.VipLvAfterRecharge))return[2,e.showTips(e.formatString(e.Lang.xuyaovipdengjiduoshao,Number(e.Constants.VipLvAfterRecharge)))];return[4,e.DataManager.playerModel.sendMessage(n,this.messageLabel.text)];case 1:return i.sent(),this.messageLabel.text="",this._time=0,this.updateTime(),this._interval=egret.setInterval(this.updateTime,this,1e3),[3,3];case 2:e.showTips(e.formatString(e.Lang.duoshaoguanjiesuo,this.limit),!0),i.label=3;case 3:return[2]}})})},n.prototype.updateTime=function(){var e=n.delay-this._time;e>=0?(this._time++,this.timeLabel.visible=!0,this._canSend=!1,this.timeLabel.text="("+e+"s)"):(egret.clearInterval(this._interval),this.timeLabel.visible=!1,this._canSend=!0)},n.prototype.onShow=function(){this.messageLabel.text="",this.updateMessageList()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.delay=Number(e.Constants.chatInterval),n}(e.PanelComponent);e.ChatPanel=t,__reflect(t.prototype,"game.ChatPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._pokemon=[],e._labelList=[],e.skinName=ComboItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.pokemonGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){var n=t.target,i=e.PokemonDetail.getInstance();i.setCurrentPokemon(n.pokemonType),i.show()},this)},n.prototype.setData=function(t,n){this.comboData=t,this.nameLabel.text=t.comboName+":",this.attributeGroup.x=this.nameLabel.x+this.nameLabel.width+10,this._attribute=new e.EquipAttribute;var i=e.Data.TEffect[t.effectId];e.parseEquipAttribute(this._attribute,i),e.createAttributeLabel(this.attributeGroup,this._attribute,this._labelList),this.pokemonGroup.removeChildren();for(var a=e.splitStringToNumberArray(t.elfId,";"),o=0;o<a.length;o++){var s=this._pokemon[o];s||(s=new e.ComboPokemon,this._pokemon[o]=s),s.setPokemon(a[o]),this.pokemonGroup.addChild(s)}this.getImage.visible=-1!=n.indexOf(t.id)},n.prototype.stop=function(){for(var e=0;e<this._pokemon.length;e++)this._pokemon[e].stop()},n}(e.GameComponent);e.ComboItem=t,__reflect(t.prototype,"game.ComboItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.comboItem=[],e.skinName=ComboPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},n.prototype.closeHandle=function(){for(var t=0;t<this.comboItem.length;t++)this.comboItem[t].stop();e.removePopUp(this)},n.prototype.onShow=function(){this.comboGroup.removeChildren();var t=e.DataManager.playerModel.pokemonCombo,n=0;for(var i in e.Data.TElfCombo){var a=this.comboItem[n];a||(a=new e.ComboItem,this.comboItem[n]=a),a.setData(e.Data.TElfCombo[i],t),this.comboGroup.addChild(a),n++}},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.ComboPanel=t,__reflect(t.prototype,"game.ComboPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.skinName=ComboPokemonSkin,n.touchChildren=!1,n.touchEnabled=!0,n.artPokemon=new e.TeamArtPokemon,n.pokemonGroup.addChild(n.artPokemon.display),n}return __extends(n,t),n.prototype.setPokemon=function(t){this.pokemonType=t;var n=e.Data.TElf[t];this.nameLabel.text=n.name,this.artPokemon.setPokemon(t,!1)},n.prototype.stop=function(){this.artPokemon.stop()},n}(e.GameComponent);e.ComboPokemon=t,__reflect(t.prototype,"game.ComboPokemon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._starImages=[],n.skinName=ArtPokemonWithStarSkin,n.anchorOffsetX=60,n.anchorOffsetY=120,n._artPokemon=new e.TeamArtPokemon,n.animGroup.addChild(n._artPokemon.display),n.addEventListener(egret.TouchEvent.TOUCH_TAP,n.showPmDetail,n),n}return __extends(n,t),n.prototype.setPokemonInfo=function(e){this._artPokemon.setPokemon(e.type,!1),this.starGroup.removeChildren(),this._pmId=e.id;for(var t=e.star||0,n=Math.floor(t/5),i=t%5,a=0,o=0;n>o;o++){var s=this._starImages[a];s||(s=new eui.Image,this._starImages[a]=s),s.source="ui/scene/team/star1",this.starGroup.addChild(s),a++}for(var o=0;i>o;o++){var s=this._starImages[a];s||(s=new eui.Image,this._starImages[a]=s),s.source="ui/scene/team/star",s.scaleX=s.scaleY=1,this.starGroup.addChild(s),a++}},n.prototype.stop=function(){this._artPokemon.stop()},n.prototype.setScaleX=function(e){this._artPokemon.setScaleX(e)},n.prototype.setScale=function(e,t){this._artPokemon.setScaleX(e),this._artPokemon.setScaleY(t)},n.prototype.setDisplayPosition=function(e,t){this.x=e,this.y=t},n.prototype.setPlayerDetail=function(e){this._playerDetail=e},n.prototype.showPmDetail=function(){this._playerDetail&&(e.PokemonDetailInfo.getInstance().show(),e.PokemonDetailInfo.getInstance().setData(this._playerDetail,this._pmId))},n}(e.GameComponent);e.ArtPokemonWithStar=t,__reflect(t.prototype,"game.ArtPokemonWithStar")}(game||(game={}));var game;!function(e){var t=function(){function t(){this._currentDirection=1,this.displayGroup=new eui.Group,this.displayGroup.width=this.displayGroup.height=100,this.displayGroup.touchChildren=this.displayGroup.touchEnabled=!1,this._decorationImage=new eui.Image,this.displayGroup.addChild(this._decorationImage)}return t.prototype.setDecoration=function(t){var n=e.Data.TOrna[t];n&&(this.type=n.type,this._decorationImage.horizontalCenter=0,this._decorationImage.top=0,this.setDirection(this._currentDirection))},t.prototype.setDirection=function(e){this._currentDirection=e,this._decorationImage.source="anim/decoration/"+this.type+"_"+e},t.prototype.removeFromParent=function(){this.displayGroup.parent&&this.displayGroup.parent.removeChild(this.displayGroup)},t}();e.AvatarDecoration=t,__reflect(t.prototype,"game.AvatarDecoration")}(game||(game={}));var game;!function(e){var t=function(){function t(){this.displayGroup=new eui.Group,this.displayGroup.width=this.displayGroup.height=100,this.displayGroup.touchChildren=this.displayGroup.touchEnabled=!1,this._leftWing=new eui.Image,this._rightWing=new eui.Image,this.displayGroup.addChild(this._leftWing),this.displayGroup.addChild(this._rightWing)}return t.prototype.setWing=function(t){var n=e.Data.TWing[t];if(n){this.type=n.type,this._rightWing.source=this._leftWing.source="anim/wing/"+n.type,this._leftWing.scaleX=-1,this._rightWing.anchorOffsetX=this._leftWing.anchorOffsetX=36,this._rightWing.anchorOffsetY=this._leftWing.anchorOffsetY=83,this._rightWing.y=this._leftWing.y=69,this._rightWing.x=53,this._leftWing.x=47,this._leftWing.rotation=0,this._rightWing.rotation=0;var i=1e3;egret.Tween.get(this._leftWing,{loop:!0},null,!0).to({rotation:-80},i).to({rotation:0},i),egret.Tween.get(this._rightWing,{loop:!0},null,!0).to({rotation:80},i).to({rotation:0},i)}},t.prototype.setDirection=function(e){switch(e){case 4:this._rightWing.visible=this._leftWing.visible=!0;break;case 1:this._rightWing.visible=this._leftWing.visible=!0;break;case 2:this._leftWing.visible=!1,this._rightWing.visible=!0;break;case 3:this._leftWing.visible=!0,this._rightWing.visible=!1}},t.prototype.removeFromParent=function(){this.displayGroup.parent&&(this.displayGroup.parent.removeChild(this.displayGroup),egret.Tween.removeTweens(this._leftWing),egret.Tween.removeTweens(this._rightWing))},t}();e.AvatarWing=t,__reflect(t.prototype,"game.AvatarWing")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._costList=[],e.skinName=CheckPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.resetText(),this._touchEvent=[{target:this.confirmButton,callBackFunc:this.buttonHandle},{target:this.cancelButton,callBackFunc:this.buttonHandle},{target:this.closeButton,callBackFunc:this.removeHandle}],this.addEventAndNotify()},n.prototype.resetText=function(){this.confirmButton.label=e.Lang.queding,this.cancelButton.label=e.Lang.quxiao},n.prototype.buttonHandle=function(e){e==this.confirmButton?this._handle(!0):this._handle(!1),this.removeHandle()},n.prototype.removeHandle=function(){e.removePopUp(this),this.resetText()},n.prototype.setData=function(t,n,i){if(this.checkText.text=t,this._handle=n,this.costGroup.removeChildren(),this.costGroup.visible=!1,this.checkText.y=315,i){this.costGroup.visible=!0,this.checkText.y=250;for(var a=0;a<i.length;a++)this._costList[a]||(this._costList[a]=new e.ItemIcon),this._costList[a].item=i[a],this.costGroup.addChild(this._costList[a])}},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.CheckPanel=t,__reflect(t.prototype,"game.CheckPanel")}(game||(game={}));var loadFinish=!1,LocalResDict,gameEnter=!1,LogProtocol,dataFinish=!1,logo_bg,iosToken,iosUserId,iosID,channelType,Main=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.resLoaded=!1,t.themeLoaded=!1,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.InitGame()},t.prototype.InitGame=function(){if(document.body.clientWidth<=720&&(this.stage.scaleMode=egret.StageScaleMode.FIXED_WIDTH),loadFinish=!1,5!=SDK.$platformType&&6!=SDK.$platformType?sdkFinish=!0:(5==SDK.$platformType&&"true"==egret.localStorage.getItem("skipSdk")&&(sdkFinish=!0,egret.localStorage.setItem("skipSdk","false")),6==SDK.$platformType&&"true"==egret.localStorage.getItem("skipSdk")&&(sdkFinish=!0,egret.localStorage.setItem("skipSdk","false"))),10==SDK.$platformType){setLocalResList("file:///storage/emulated/0/Android/data/nlqygp/res/",host.getResList().split("\n"));var e=new RES.VersionController;e.getVirtualUrl=function(e){return"http"==e.substring(0,4)?e:(e=e.replace("resource/",""),LocalResDict&&LocalResDict[e]?LocalResDict[e]:cdnUrl+"resource/"+e)},RES.registerVersionController(e)}else if(13==SDK.$platformType){setLocalResList("file:///android_asset/res/",host.getResList().split("\n"));var e=new RES.VersionController;e.getVirtualUrl=function(e){return"http"==e.substring(0,4)?e:(e=e.replace("resource/",""),LocalResDict&&LocalResDict[e]?LocalResDict[e]:cdnUrl+"resource/"+e)},RES.registerVersionController(e)}else if(6==SDK.$platformType||14==SDK.$platformType){0==version&&(game.LocalFileList=[]),setLocalResList("",game.LocalFileList);var e=new RES.VersionController;e.getVirtualUrl=function(e){var t="";return"http"==e.substring(0,4)||"resource/default.res.json"==e||"resource/default.thm.json"==e?t=e:(e=e.replace("resource/",""),t=LocalResDict[e]?"resource/"+LocalResDict[e]:cdnUrl+"resource/"+e),t},RES.registerVersionController(e)}RES.setMaxLoadingThread(6);var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),this.addChild(new game.GameLayer),game.themeUrl||(game.themeUrl="resource/default.thm.json"),game.resUrl||(game.resUrl="resource/default.res.json"),game.dataUrl||(game.dataUrl="CsvData.json"),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig(game.resUrl,"resource/")},t.prototype.onConfigComplete=function(e){var t=new eui.Theme(game.themeUrl,this.stage);t.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onGroupError,this),RES.loadGroup("loading",1),RES.loadGroup("mainCity")},t.prototype.onGroupError=function(e){},t.prototype.onThemeLoadComplete=function(){this.themeLoaded=!0,this.onLoadComplete()},t.prototype.onResourceLoadComplete=function(e){"loading"==e.groupName?(document&&document.getElementById("preloading")&&(document.getElementById("preloading").style.display="none"),game.GameLayer.loadLayer.addChild(game.LoadingScene.getInstance()),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this)):"mainCity"==e.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),this.resLoaded=!0,this.onLoadComplete())},t.prototype.onResourceProgress=function(e){game.LoadingScene.getInstance().setProgress(e.itemsLoaded,e.itemsTotal)},t.prototype.onLoadComplete=function(){this.resLoaded&&(this.themeLoaded?(loadFinish=!0,sdkFinish&&(dataFinish?(game.GameLayer.loadLayer.removeChild(game.LoadingScene.getInstance()),createGameScene()):loadCsvData())):game.LoadingScene.getInstance().showWait())},t.INITGAME="MAIN_INIT_GAME",t}(eui.UILayer);__reflect(Main.prototype,"Main");var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=ItemIconWithCountSkin,e}return __extends(n,t),n.prototype.setInfo=function(e,t){this.itemInfo=e,this.itemIcon.item={type:e[0],count:e[1]},null==t?this.countLabel.visible=!1:(this._endtime=t,this.startUpdateTime())},n.prototype.updateTime=function(){var t=e.getNowTime().getTime()/1e3,n=this._endtime.getTime()/1e3;t>n?(this.stopUpdateTime(),this.countLabel.visible=!1):this.countLabel.text=e.s2hms(n-t)},n.prototype.startUpdateTime=function(){var e=this;this.countLabel.visible=!0;var t=function(){e.updateTime()};this._interval=egret.setInterval(function(){t()},this,1e3),t()},n.prototype.stopUpdateTime=function(){egret.clearInterval(this._interval)},n}(e.GameComponent);e.ItemIconWithCount=t,__reflect(t.prototype,"game.ItemIconWithCount")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=PlayerIconSkin,t.touchChildren=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"icon",{set:function(e){this._icon=e,this.iconDisplay&&(this.iconDisplay.source="icon/player/"+this._icon)},enumerable:!0,configurable:!0}),t}(e.EffectButton);e.PlayerIcon=t,__reflect(t.prototype,"game.PlayerIcon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=PokemonDetailSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},n.prototype.setData=function(t,n){for(var i=0,a=0;a<t.battlePms.length;++a)if(t.battlePms[a].id==n){i=a;break}var o=t.battlePms[i],s=e.Data.TElf[o.type];this.typeIcon.source="ui/scene/itemRecovery/type_"+s.attribute,s.attribute2?(this.typeIcon0.source="ui/scene/itemRecovery/type_"+s.attribute2,this.typeIcon0.visible=!0):this.typeIcon0.visible=!1,this.pmName.text=s.name,this.pmLV.text="LV."+o.lv,this.genderIcon.source=1==o.gender?"ui/scene/team/male":"ui/scene/team/female";var r={grid:0,formation:0};if(0==o.slot){for(var a in t.team.gridConfig)if(t.team.gridConfig[a].id==o.id){r.grid=t.team.gridConfig[a].grid;break}r.formation=t.team.formation
}var u=e.parseBattlePokemonData(o,r.formation,r.grid);this.battleLabel.text=""+e.setNumber(e.countPokemonBattleCount(u)),this._artPokemon||(this._artPokemon=new e.TeamArtPokemon,this._artPokemon.setScale(1),this.artPokemonGroup.addChild(this._artPokemon.display)),this._artPokemon.play(1,0),this._artPokemon.setPokemon(o.type,!1),this.hpLabel.text=""+u.hp,this.atkLabel.text=""+u.atk,this.spAtkLabel.text=""+u.spAtk,this.speedLabel.text=""+u.speed,this.defLabel.text=""+u.def,this.spDefLabel.text=""+u.spDef,this.qinmi.text=""+o.intimacyLv,this.geti.text=""+(o.iv.atk+o.iv.def+o.iv.hp+o.iv.spAtk+o.iv.spDef+o.iv.speed),this.nuli.text=""+(o.effort.atk+o.effort.def+o.effort.hp+o.effort.spAtk+o.effort.spDef+o.effort.speed);var l=0;for(var a in o.isUnlock)o.isUnlock[a]&&++l;this.tianfu.text=""+(5*(l-1)+20)},n.prototype.closeHandle=function(){this._artPokemon&&this._artPokemon.stop(),e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.PokemonDetailInfo=t,__reflect(t.prototype,"game.PokemonDetailInfo")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._used=!0,t}return __extends(t,e),Object.defineProperty(t.prototype,"used",{get:function(){return this._used},set:function(e){this._used=e},enumerable:!0,configurable:!0}),t.prototype.removeFromParent=function(){this.parent&&this.parent.removeChild(this)},Object.defineProperty(t.prototype,"scale",{set:function(e){this.setCurrentParticles},enumerable:!0,configurable:!0}),t}(particle.GravityParticleSystem);e.ParticleBase=t,__reflect(t.prototype,"game.ParticleBase")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.setPokemon=function(e,t){return void 0===t&&(t=!0),__awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,this.setData({delay:150,size:{col:4,row:4},resource:"anim/pokemon/"+e})];case 1:return n.sent(),t?this.stay():this.play(1),[2]}})})},t.prototype.stay=function(){this.updateTexture(1,1)},t}(e.SequenceImage);e.PokemonIconAnim=t,__reflect(t.prototype,"game.PokemonIconAnim");var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.setPokemon=function(e,t){return void 0===t&&(t=!0),__awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,this.setData({delay:100,size:{col:8,row:1},resource:"anim/battlePokemon/"+e})];case 1:return n.sent(),t?this.stay():this.play(1),[2]}})})},t.prototype.stay=function(){this.updateTexture(1,1)},t}(e.SequenceImage);e.PokemonIconArtAnim=n,__reflect(n.prototype,"game.PokemonIconArtAnim")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=PokemonPowerStarSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.spDefLabel.text=e.Lang.tefang,this.speedLabel.text=e.Lang.sudu,this.hpLabel.text=e.Lang.shengming,this.defLabel.text=e.Lang.wufang,this.atkLabel.text=e.Lang.wugong,this.spAtkLabel.text=e.Lang.tegong,this._shape=new egret.Shape,this._shape.width=this.polygonGroup.width,this._shape.height=this.polygonGroup.height,this.polygonGroup.addChild(this._shape)},n.prototype.setData=function(e,t){var n=this._shape.graphics;n.clear(),n.beginFill(9755598);var i=this._shape.width,a=this._shape.height,o=6,s=.5*i,r=.5*a,u=.5*i,l=2*Math.PI/o,c=[e.spDef/t,e.spAtk/t,e.atk/t,e.def/t,e.hp/t,e.speed/t];n.beginFill(16776686);for(var h=0;o>=h;h++){var p=Math.cos(h*l)*u*c[h%o]+s,g=-Math.sin(h*l)*u*c[h%o]+r;n.lineTo(p,g)}n.lineStyle(4,0),n.endFill()},n}(e.GameComponent);e.PokemonPowerStar=t,__reflect(t.prototype,"game.PokemonPowerStar")}(game||(game={}));var game;!function(e){function t(t){e.rewardItemPool||(e.rewardItemPool=new e.ObjectPool(n));var i=e.rewardItemPool.createObject(),a=i.setItem(t);if(!a)return void e.rewardItemPool.destroyObject(i);e.rewardItemCount++,e.rewardItemCount<2&&(2==t.type?e.SoundManager.playEffect("music/UI_huodezuanshi"):e.SoundManager.playEffect("music/UI_huodewupin")),i.touchEnabled=i.touchChildren=!1,i.x=180,i.y=550,i.alpha=.3;var o=0,s=8;o=e.rewardItemCount<s?365-65*(e.rewardItemCount-1):365+65*(e.rewardItemCount-(s-1)),e.GameLayer.effectLayer.addChild(i),egret.Tween.get(i).to({y:o,alpha:1},300).wait(100).call(function(){e.rewardItemCount--}).wait(1200).to({y:o-100,alpha:.3},300).call(function(){i.removeFromParent(),e.rewardItemPool.destroyObject(i)})}var n=function(t){function n(){var e=t.call(this)||this;return e.skinName=RewardItemSkin,e}return __extends(n,t),n.prototype.setItem=function(t){if(e.Data.TItem[t.type]){if(8==e.Data.TItem[t.type].type){var n=e.Data.TElfSkill[e.Data.TItem[t.type].number1];n&&(this.itemIcon.source="icon/skill/"+n.Icon)}else 16==e.Data.TItem[t.type].type?this.itemIcon.source="icon/item/piece":this.itemIcon.source="icon/item/"+t.type;var i=e.Data.TItem[t.type];return this.infoLabel.text=i.name+"x"+e.setNumber(t.count),!0}if(e.Data.TElfBring[t.type]){this.itemIcon.source="icon/equip/"+t.type;var a=e.Data.TElfBring[t.type];return this.infoLabel.text=a.name+"x"+e.setNumber(t.count),!0}if(e.Data.Tequip[t.type]){var o=e.Data.Tequip[t.type];return this.itemIcon.source="icon/equip/"+o.icon,this.infoLabel.text=""+o.name,!0}return!1},n}(e.GameComponent);e.RewardItem=n,__reflect(n.prototype,"game.RewardItem"),e.rewardItemCount=0,e.createRewardItem=t}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=SkillInfoIconSkin,t}return __extends(t,e),t.prototype.setSkill=function(e){this.icon.item=e;var t=this.icon.itemData;this.nameLabel.text=t.name,this.detailLabel.text=t.desc},t}(e.GameComponent);e.SkillInfoIcon=t,__reflect(t.prototype,"game.SkillInfoIcon")}(game||(game={}));var game;!function(e){function t(){return new d}function n(e){return t().resolve(e).promise()}function i(e){return t().reject(e).promise()}function a(e,n){var i=t(),a=new Array;return o(a,i,e,n),i.promise()}function o(t,n,i,a){var s=i(a);if(!s)return void n.resolve(t);for(;s.next&&s.promise.status==e.Status.Resolved;)if(t.push(s.promise.result),s=i(s.next),!s)return void n.resolve(t);s.promise.done(function(e){t.push(e),s.next?o(t,n,i,s.next):n.resolve(t)}).fail(function(e){n.reject(e)})}function s(e){var n=t();if(!e.length)return n.resolve([]),n.promise();var i=0,a=[];return e.forEach(function(t,o){t.done(function(t){a[o]=t,++i,i===e.length&&n.status!==p.Rejected&&n.resolve(a)}).fail(function(e){n.status!==p.Rejected&&n.reject(new Error("when: one or more promises were rejected"))})}),n.promise()}function r(e){return function(){return u(e())}}function u(e){return new m(e)}function l(e,n){var i=t();return c(i,e(),n),i.promise()}function c(e,t,n){t.advance().done(function(i){return i?(n(t.current),void c(e,t,n)):void e.resolve({})}).fail(function(t){return e.reject(t)})}function h(e){return"undefined"==typeof e}e.defer=t,e.resolve=n,e.reject=i,e.unfold=a;var p;!function(e){e[e.Unfulfilled=0]="Unfulfilled",e[e.Rejected=1]="Rejected",e[e.Resolved=2]="Resolved"}(p=e.Status||(e.Status={})),e.when=s;var g=function(){function e(e){this.deferred=e}return Object.defineProperty(e.prototype,"status",{get:function(){return this.deferred.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"result",{get:function(){return this.deferred.result},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this.deferred.error},enumerable:!0,configurable:!0}),e.prototype.done=function(e){return this.deferred.done(e),this},e.prototype.fail=function(e){return this.deferred.fail(e),this},e.prototype.always=function(e){return this.deferred.always(e),this},e.prototype.then=function(e){return this.deferred.then(e)},e.prototype.when=function(e){var t=this;return e.length?(e.forEach(function(e,n){e.done(function(e){t.status!==p.Rejected&&t.deferred.resolve(e)}).fail(function(e){t.status!==p.Rejected&&t.deferred.reject(new Error("when: one or more promises were rejected"))})},this),this):(this.deferred.resolve(void 0),this)},e}();__reflect(g.prototype,"PromiseI",["game.Promise","game.PromiseState"]);var d=function(){function e(){this._resolved=function(e){},this._rejected=function(e){},this._status=p.Unfulfilled,this._error={message:""},this._promise=new g(this)}return e.prototype.promise=function(){return this._promise},Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"result",{get:function(){if(this._status!=p.Resolved)throw new Error("Promise: result not available");return this._result},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){if(this._status!=p.Rejected)throw new Error("Promise: rejection reason not available");return this._error},enumerable:!0,configurable:!0}),e.prototype.then=function(e){var n=t();return this.done(function(t){var i=e(t);if(i instanceof g){var a=i;return a.done(function(e){return n.resolve(e)}).fail(function(e){return n.reject(e)}),a}n.resolve(i)}).fail(function(e){return n.reject(e)}),n.promise()},e.prototype.done=function(e){if(this.status===p.Resolved)return e(this._result),this;if(this.status!==p.Unfulfilled)return this;var t=this._resolved;return this._resolved=function(n){t(n),e(n)},this},e.prototype.fail=function(e){if(this.status===p.Rejected)return e(this._error),this;if(this.status!==p.Unfulfilled)return this;var t=this._rejected;return this._rejected=function(n){t(n),e(n)},this},e.prototype.always=function(e){return this.done(function(t){return e(t)}).fail(function(t){return e(null,t)}),this},e.prototype.resolve=function(e){return this._status!==p.Unfulfilled?this:(this._result=e,this._status=p.Resolved,this._resolved(e),this.detach(),this)},e.prototype.delayResolve=function(e,t){return setTimeout(this.resolve,this,t,e),this},e.prototype.reject=function(e){return this._status!==p.Unfulfilled?this:(this._error=e,this._status=p.Rejected,this._rejected(e),this.detach(),this)},e.prototype.detach=function(){this._resolved=function(){},this._rejected=function(){}},e}();__reflect(d.prototype,"DeferredI",["game.Deferred","game.PromiseState"]),e.generator=r,e.iterator=u;var m=function(){function e(e){this.f=e,this.current=void 0}return e.prototype.advance=function(){var e=this,t=this.f();return t.then(function(t){return h(t)?!1:(e.current=t,!0)})},e}();__reflect(m.prototype,"IteratorI",["game.Iterator"]),e.each=l,e.isUndefined=h}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.isUsed=!1,e._isPlay=!1,e._timeScale=1,e.touchEnabled=!1,e.touchChildren=!1,e}return __extends(n,t),n.prototype.createBones=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.bonesName=e,[4,this.loadBones()];case 1:return t.sent(),[2]}})})},n.prototype.loadBones=function(){var t=this,n=e.defer();if(this._dragonbonesFactory||(this._dragonbonesFactory=dragonBones.EgretFactory.factory),this._dragonbonesFactory.getDragonBonesData(this.bonesName))this.armatureDisplay=this._dragonbonesFactory.buildArmatureDisplay(this.bonesName),this.initArmature(),n.resolve(null);else{var i=[e.loadRes(this.bonesName+"/"+this.bonesName+"_ske_json"),e.loadRes(this.bonesName+"/"+this.bonesName+"_tex_json"),e.loadRes(this.bonesName+"/"+this.bonesName+"_tex_image")];e.when(i).always(function(e){if(e){var i=e[0],a=e[1],o=e[2];i.armature&&i.armature[0]&&(i.armature[0].name=t.bonesName),i.name=a.name=t.bonesName,t._dragonbonesFactory.parseDragonBonesData(i),t._dragonbonesFactory.parseTextureAtlasData(a,o),t.armatureDisplay=t._dragonbonesFactory.buildArmatureDisplay(t.bonesName),t.initArmature()}n.resolve(null)})}return n.promise()},n.prototype.initArmature=function(){this.armatureDisplay.animation.timeScale=this._timeScale,this.addChild(this.armatureDisplay),this._isPlay&&this.play(this._currentAction,this._currentPlayTime)},n.prototype.setScale=function(e){this.armatureDisplay&&(this.armatureDisplay.scaleX=this.armatureDisplay.scaleY=e)},n.prototype.setScaleX=function(e){this.armatureDisplay&&(this.armatureDisplay.scaleX=e)},n.prototype.play=function(t,n){var i=e.defer();return this._currentAction=t,this._currentPlayTime=n,this._isPlay=!0,this.armatureDisplay&&(this.armatureDisplay.animation.reset(),this.armatureDisplay.animation.play(t,n),this.armatureDisplay.once(egret.Event.LOOP_COMPLETE,function(){i.resolve(null)},this)),i.promise()},n.prototype.stop=function(){this._isPlay&&(this._isPlay=!1,this.armatureDisplay&&this.armatureDisplay.animation.stop())},n.prototype.removeFromParent=function(){this.stop(),this.parent&&this.parent.removeChild(this)},n.prototype.setTimeScale=function(e){e=1/e,this._timeScale=e,this.armatureDisplay&&(this.armatureDisplay.animation.timeScale=e)},n.prototype.hide=function(){var t=e.defer();return egret.Tween.get(this).to({alpha:0},500).call(function(){t.resolve(null)}),t.promise()},n.prototype.setSlot=function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=null),this.armatureDisplay){var i=this.armatureDisplay.armature.getSlot(e);if(null==i)return;if(n){var a=new egret.Bitmap;a.texture=n,a.x=i._pivotX,a.y=i._pivotY,a.anchorOffsetX=a.width/2,a.anchorOffsetY=a.height/2,i.display=a}i.visible=t,i.invalidUpdate()}},n}(eui.Group);e.SkeletonBase=t,__reflect(t.prototype,"game.SkeletonBase")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=DragonBoneButtonSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,e.getBone("eft_liuguang01")];case 1:return t=n.sent(),this.boneGroup.addChild(t),t.play(null,0),t.visible=!0,this.isEffect=!0,[2]}})})},Object.defineProperty(n.prototype,"image",{set:function(e){this.imageButton.image=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bg",{set:function(e){this.imageButton.bg=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEffect",{set:function(e){this.imageButton.visible=!e,this.boneGroup.visible=e},enumerable:!0,configurable:!0}),n}(e.EffectButton);e.DragonBoneButton=t,__reflect(t.prototype,"game.DragonBoneButton")}(game||(game={}));var game;!function(e){var t=function(){function t(){}return t.init=function(){var t=this;e.BINDING_EXEC(e.DataManager.playerModel,this,function(){var n=e.DataManager.playerModel.musicState;t.playMusic="on"==n,!t.playMusic||t.back?(t.stopBgSound(),t.stopWeather()):(t.resumeBgSound(),t.resumeWeather())},e.PlayerModel.MUSIC_CHANGE)},t.playEffect=function(t,n,i){var a=this;if(void 0===n&&(n=1),void 0===i&&(i=!0),!e.isGaveIOS&&this.playMusic&&!this.back)if("undefined"!=typeof host&&host.playEffect){var o=e.getHostMusicName(t);if(!o)return void egret.error('playEffect error: name "'+t+'" is not exist');host.playEffect(o,n)}else this.currentSound=t,RES.getResAsync(t,function(e){if(!e)return void egret.error('playEffect error: name "'+t+'" is not exist');if(!i||a.currentSound==t){var o=e;o.type=egret.Sound.EFFECT;var s=o.play(0,1);s.volume=n}},this)},t.playBgSound=function(t,n,i){var a=this;if(void 0===n&&(n=!0),void 0===i&&(i=!0),!e.isGaveIOS&&(i&&(this.currentMusic=t,this.currentLoop=n),this.playMusic&&!this.back))if("undefined"!=typeof host&&host.playBgSound){var o=e.getHostMusicName(t);if(!o)return void egret.error('playBgSound error: name "'+t+'" is not exist');this.stopBgSound(),host.playBgSound(o,n)}else RES.getResAsync(t,function(e){return e?void(i&&a.currentMusic!=t||(a.stopBgSound(),a.sdbg=e,a.sdbg.type=egret.Sound.MUSIC,n?(a.channelBG=a.sdbg.play(0,0),a.channelBG.removeEventListener(egret.Event.SOUND_COMPLETE,a.musicLoopFinish,a)):(a.channelBG=a.sdbg.play(0,1),a.channelBG.addEventListener(egret.Event.SOUND_COMPLETE,a.musicLoopFinish,a)),a.channelBG.volume=.5)):void egret.error('playBgSound error: name "'+t+'" is not exist')},this)},t.playTech=function(t){var n=this;if(!e.isGaveIOS&&(this.currentTeach=t,this.playMusic&&!this.back))if("undefined"!=typeof host&&host.playTeach){var i=e.getHostMusicName("music/"+t);if(!i)return;host.playTeach(i,1)}else this.stopTeach(),RES.getResAsync("music/"+t,function(e){if(n.currentTeach==t){if(!e)return;var i=e;i.type=egret.Sound.MUSIC,n.channelTeach=i.play(0,1)}},this)},t.playWeather=function(t,n){var i=this;if(void 0===n&&(n=!0),!e.isGaveIOS&&(this.currentWeather=t,this.currentWeatherLoop=n,this.playMusic&&!this.back))if("undefined"!=typeof host&&host.playWeather){var a=e.getHostMusicName(t);if(!a)return void egret.error('playWeather error: name "'+t+'" is not exist');this.stopWeather(),host.playWeather(a,n)}else RES.getResAsync(t,function(e){if(i.currentWeather==t){if(!e)return void egret.error('playWeather error: name "'+t+'" is not exist');i.stopWeather(),i.sdWeather=e,i.sdWeather.type=egret.Sound.MUSIC,i.changeWeatherVolume()}},this)},t.changeWeatherVolume=function(){this.channelWeather=this.sdWeather.play(0,1),this.channelWeather.volume=this._weatehrRand[Math.floor(Math.random()*this._weatehrRand.length)],this.currentWeatherLoop&&this.channelWeather.once(egret.Event.SOUND_COMPLETE,this.changeWeatherVolume,this)},t.musicLoopFinish=function(){},t.stopBgSound=function(){"undefined"!=typeof host&&host.stopBgSound?host.stopBgSound():this.channelBG&&this.channelBG.stop()},t.stopTeach=function(){"undefined"!=typeof host&&host.stopTeach?host.stopTeach():this.channelTeach&&this.channelTeach.stop()},t.stopWeather=function(e){void 0===e&&(e=!0),"undefined"!=typeof host&&host.stopWeather?host.stopWeather():this.channelWeather&&this.channelWeather.stop(),e||this.currentWeather&&(this.currentWeather=null)},t.resumeWeather=function(){this.currentWeather&&this.playWeather(this.currentWeather,this.currentWeatherLoop)},t.resumeTeach=function(){this.currentTeach&&this.playTech(this.currentTeach)},t.resumeBgSound=function(){this.currentMusic&&this.playBgSound(this.currentMusic,this.currentLoop)},t.setBgVolume=function(e){this.channelBG&&(this.channelBG.volume=e)},t.playMusic=!0,t.back=!1,t._weatehrRand=[1,.4,.2,.7,.2,.2,0,.4,0,.4],t}();e.SoundManager=t,__reflect(t.prototype,"game.SoundManager")}(game||(game={}));var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,n){function i(i){t.call(n,i,e)}if(RES.hasRes(e)){var a=RES.getRes(e);a?i(a):RES.getResAsync(e,i,this)}else RES.getResByUrl(e,i,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"icon",{set:function(e){this._icon=e,this.iconDisplay&&(this.iconDisplay.source=e)},enumerable:!0,configurable:!0}),t}(e.EffectButton);e.IconButton=t,__reflect(t.prototype,"game.IconButton")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.bg=this._bg,this.image=this._image,this.imageScale=this._imageScale},Object.defineProperty(t.prototype,"bg",{set:function(e){this._bg=e,e&&this.bgDisplay&&(this.bgDisplay.source=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"image",{set:function(e){this._image=e,e&&this.imageDisplay&&(this.imageDisplay.source=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageScale",{set:function(e){this._imageScale=e,e&&this.imageDisplay&&(this.imageDisplay.scaleY=this.imageDisplay.scaleX=e)},enumerable:!0,configurable:!0}),t}(e.EffectButton);e.ImageButton=t,__reflect(t.prototype,"game.ImageButton")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"bg",{set:function(e){this._bg=e,this.bgDisplay&&(this.bgDisplay.source=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{set:function(e){this._label=e,this.labelDisplay&&(this.labelDisplay.text=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelScale",{set:function(e){this.labelDisplay&&(this.labelDisplay.scaleX=this.labelDisplay.scaleY=e)},enumerable:!0,configurable:!0}),t}(e.EffectButton);e.LabelButton=t,__reflect(t.prototype,"game.LabelButton")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.skinName=MoneyButtonSkin,t}return __extends(t,e),Object.defineProperty(t.prototype,"item",{set:function(e){this.itemInfo=e,this.costItemIcon.source="icon/item/"+e.type,this.costItemCountLabel.text=e.count.toString()},enumerable:!0,configurable:!0}),t}(e.EffectButton);e.MoneyButton=t,__reflect(t.prototype,"game.MoneyButton")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.messageList=[],n.guildMessageList=[],n.playerNoticeList=[],n.friendList=[],n.friendNotice=[],n.iAssist=[],n.guildApplyList=[],n.plunderList=[],n.miningOccupyData=[],n.miningCollectData=[],n.miningDigData=[],n.mysteryShopInfo=null,n.pokemonCombo=[],n.settingFurniture=[],n.gymList=[],n.huntLootData=[],n.PmCenterData=[],n.legendaryInfo={},n.superGashponInfo=null,n._diamondBoneShow=!1,n._levelShow=!1,n._maxBagPokemonCount=Number(e.Constants.ElfBagMaxCount),n._maxItemCount=Number(e.Constants.WaitItemsCount),n._pokemonLevelAdd=Number(e.Constants.ElfLVUp),n._riftFreeCount=Number(e.Constants.Famtruns),n}return __extends(n,t),n.prototype.setLoginInfo=function(t){this.newEquips=t.newEquips,this.banType=t.banType,this.banReason=t.banReason,this.releaseTime=t.releaseTime,this.playerInfo=t.playerInfo,this.team=t.team,this.pmList=t.pmList,this.items=t.items,this.ext=t.ext,this.mails=t.mails,this.equips=t.equips,this.activityInfo=t.activityInfo,this.pvpInfoData=t.pvpData,this.friendList=t.friends,this.friendNotice=t.friendNotices,this.iAssist=t.iAssist,this.dailyQuests=t.dailyQuests,this.wizardQuests=t.wizardQuests,this.achieveQuests=t.achieveQuests,this.myGuildInfo=t.myGuildInfo,this.systemNotice=t.systemNotices,this.battleProgress=t.battleProgress,this.missionQuests=t.missionQuests,this.playerVipLevel=e.getVipLevelByRecharge(this.playerRecharge+this.playerInfo.vip),this.homeInfo=t.home,this.updateSettingFurniture(),this.sortFurniture(),this.setNotify(),this.initWeather(),this.miningAutoData={count:t.autoDigCount,startDate:t.autoDigStart},n.missionPokemonData[t.dungeon.id]=t.monsters,this.dungeonData=t.dungeon,this.sEventData=t.sEventData,this.updatePokemonCombo(),this.playerGymInfo=t.battleProgress.gymInfo.info,this.initGMShow();for(var i=0;i<t.cachedMsgs.length;i++){var a=t.cachedMsgs[i];0==a.id?this.messageList.push(a):a.id==this.getMyGuildInfo().guildId&&this.guildMessageList.push(a)}if(this.initLegendaryInfo(),this.updateMySteryShopInfo(t.MagicShopDataRet),t.BeastShopData){for(var o={},i=0;i<t.BeastShopData.items.length;i++)o[t.BeastShopData.items[i].item.type]=t.BeastShopData.items[i].item.count;this.superGashponInfo={group:t.BeastShopData.freshCount,counts:o}}},n.prototype.updateHomeAttribute=function(){this.homeAttribute=e.getHomeAttribute(this.homeInfo.level,this.settingFurniture),this.postNotification(n.POKEMON_TEAM_UPDATE)},n.prototype.updateSettingFurniture=function(){if(this.homeInfo){this.settingFurniture.splice(0);for(var e=0;e<this.homeInfo.furnitures.length;e++){var t=this.homeInfo.furnitures[e];t.placed&&this.settingFurniture.push(t)}this.updateHomeAttribute()}},n.prototype.initGMShow=function(){this.gmShowInfo={money:null,exp:null,gem:null,recharge:7777777,title:null,wing:null,orna:null,newGuidNumber:null,vipExp:7777777,id:{sid:null,pid:0},name:"GM",icon:"",gender:Number(e.Constants.GMImage),level:null,camp:null,vip:null,fight:null}},n.prototype.initWeather=function(){var t=this,i=egret.localStorage.getItem("weather");i?this.currentWeather=Number(i):(this.currentWeather=Math.ceil(7*Math.random()),egret.localStorage.setItem("weather",this.currentWeather.toString()));var a=function(){7==t.currentWeather?e.SoundManager.playWeather("music/map_dalei"):3==t.currentWeather?e.SoundManager.playWeather("music/map_shachenbao"):2==t.currentWeather?e.SoundManager.playWeather("music/map_xiayu"):e.SoundManager.stopWeather(!1)},o=6e4*Number(e.Constants.WeatherRef);egret.setInterval(function(){t.currentWeather=Math.ceil(7*Math.random()),egret.localStorage.setItem("weather",t.currentWeather.toString()),t.postNotification(n.WEATHER_UPDATE),e.IdleScene.getInstance().showWeatherChange(t.currentWeather),a()},this,o),a()},n.prototype.addGMNotifyMessage=function(e,t){var n=this,i=function(e){for(var t in n.messageList)if(n.messageList[t].content==e)return!0;return!1};i(e)||this.messageList.push({id:0,sender:this.gmShowInfo,content:e,time:t,type:0})},n.prototype.setNotify=function(){var t=this;e.HttpNotify={OnCrossElfContestNotify:function(e){},OnDonateInfo:function(i){var a=-1;if(t.guildInfo.donate)for(var o=0;o<t.guildInfo.donate.length;++o)if(i.player.sid==t.guildInfo.donate[o].player.sid&&i.player.pid==t.guildInfo.donate[o].player.pid){a=o;break}-1!=a?0==i.quantity?t.guildInfo.donate.splice(a,1):t.guildInfo.donate[a]=i:t.guildInfo.donate.push(i);var s=t.guildMessageList;for(var o in s)if(s[o].sender.id.sid==i.player.sid&&s[o].sender.id.pid==i.player.pid){t.guildMessageList[o].content=JSON.stringify(i);break}e.GuildFragmentExchange.Instance.updateDemandList(),t.postNotification(n.MESSAGE_UPDATE)},OnElfTaskInfo:function(n){t.extension.ElfTaskState=n,e.MapPmCenterPanel.getInstance().UpdateData()},OnMagicShopInfo:function(e){t.updateMySteryShopInfo(e)},OnShowSdkString:function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){return e.CommonTipsPanel.getInstance().setText(n).show(),[2]})})},OnDayOrNight:function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.IdleScene.getInstance().updateMapInfo()];case 1:return t.sent(),[2]}})})},OnMessage:function(i,a){0==i?(t.messageList.length>=40&&t.messageList.splice(0,1),t.messageList.push(a),t.playerLevel>=Number(e.Constants.Chatbox)&&(e.IdleScene.getInstance().chatButton.point=!0),t.postNotification(n.MESSAGE_UPDATE),e.ShowOutsideChat&&e.IdleScene.getInstance().setOutsideChat(a.content)):e.DataManager.playerModel.getMyGuildInfo().guildId==a.id&&(t.guildMessageList.length>=40&&t.guildMessageList.splice(0,1),t.guildMessageList.push(a),t.playerLevel>=Number(e.Constants.Chatbox)&&(e.IdleScene.getInstance().chatButton.point=!0),t.postNotification(n.MESSAGE_UPDATE),e.ShowOutsideChat&&e.IdleScene.getInstance().setOutsideChat(a.content,!0))},OnNewMail:function(){t.postNotification(n.MAIL_UPDATE),e.SoundManager.playEffect("music/UI_youjiantishi")},OnTitles:function(e){t.updateTitle(e)},OnRecharge:function(i,a,o,s){console.log("recharge = ",i,a,o,s),e.showTips(e.Lang.chongzhichenggong),t.setPlayerRecharge(o),t.setDiamond(s),t.playDiamondBone();for(var r=!1,u=0;u<t.activityInfo.recharges.length;u++){var l=t.activityInfo.recharges[u];if(l.type==i){l.count++,r=!0;break}}r||t.activityInfo.recharges.push({type:i,count:1}),t.postNotification(n.PLAYER_RECHARGE),(5==SDK.$platformType||7==SDK.$platformType||8==SDK.$platformType)&&e.RechargeResult.getInstance().parent&&e.removePopUp(e.RechargeResult.getInstance())},OnLoseFriend:function(e){},OnNewApplyFriendNotice:function(){e.IdleScene.getInstance().friendButton.point=!0},OnNewFriend:function(){},OnAssistFriend:function(e,n,i){t.activityInfo.assists=n,t.setFriendPoint(e);for(var a=i.id,o=0;o<t.iAssist.length;o++){var s=t.iAssist[o].id;if(s.sid==a.sid&&s.pid==a.pid)return}5==t.iAssist.length&&t.iAssist.splice(0,1),t.iAssist.push(i)},OnActivityInfo:function(n){t.activityInfo.dailyRecharge=n.dailyRecharge,t.activityInfo.recharged=n.recharged,t.activityInfo.oneYuanRecharge=n.oneYuanRecharge,t.activityInfo.monthEnd=n.monthEnd,t.activityInfo.monthCount=n.monthCount,t.activityInfo.superCard=n.superCard,t.activityInfo.eventInfo=n.eventInfo,t.activityInfo.ext=n.ext,e.IdleScene.getInstance().updatePoint()},OnQuest:function(e,i){switch(e){case 2:t.achieveQuests=i,t.postNotification(n.ACHIEVE_TASK_UPDATE);break;case 3:t.wizardQuests=i,t.postNotification(n.WIZARD_TASK_UPDATE);break;case 1:t.dailyQuests=i,t.postNotification(n.DAILY_TASK_UPDATE)}},OnApproveJoinGuild:function(i){t.myGuildInfo.guildId=i.id,t.myGuildInfo.position=1,t.postNotification(n.MY_GUILD_INFO_UPDATE,i),e.showTips(e.Lang.gongxininchenggongjiarugonghui)},OnKickOut:function(){t.myGuildInfo.guildId=0,t.postNotification(n.MY_GUILD_INFO_UPDATE,t.myGuildInfo)},OnPositionChange:function(i){t.myGuildInfo.position=i,0==i&&(t.myGuildInfo.guildId=0,e.showTips(e.Lang.ninyibeiqingchugonghui)),t.postNotification(n.MY_GUILD_INFO_UPDATE,t.myGuildInfo)},OnSetDeclaration:function(e){t.guildInfo&&(t.guildInfo.declaration=e,t.postNotification(n.GUILD_INFO_UPDATE,t.guildInfo))},OnSetNotice:function(e){t.guildInfo&&(t.guildInfo.notice=e,t.postNotification(n.GUILD_INFO_UPDATE,t.guildInfo))},OnLegendaryOnhook:function(e,t,n){},OnKickout:function(){e.GameLayer.maskLayer.addChild(e.KickoutPanel.getInstance())},OnSystemNotice:function(n,i,a,o,s){e.RootTop.getInstance().addNotice(i,a,o,s),t.addGMNotifyMessage(i,s)},OnPlunder:function(i){(i.Enemy.id.sid!=t.sid||i.Enemy.id.pid!=t.pid)&&(e.IdleScene.getInstance().revengeButton.point=!0,e.IdleScene.getInstance().updateArrowPoint(),t.plunderList.push(i),t.postNotification(n.PLUNDER_UPDATE,!0),i.Money>0?(t.costGold(i.Money),e.showTips(e.formatString(e.Lang.ninbeisheilueduosunshiduoshaojinbi,i.Enemy.name,e.setNumber(i.Money)),!0)):e.showTips(e.formatString(e.Lang.ninbeisheilueduodanshitashibaile,i.Enemy.name),!0))},OnGetHighQualityPet:function(n,i,a,o,s,r){e.RootTop.getInstance().addNotice(i,a,o,r),t.addGMNotifyMessage(i,r)},OnPlayerLevel:function(i,a){var o=!1;t.playerInfo.level!=i&&(o=!0),t.playerInfo.level=i,t.playerInfo.exp=a,t.postNotification(n.PLAYER_LEVEL_UPDATE),o&&(t.postNotification(n.LOCK_UPDATE),5==SDK.$platformType&&e.sendAYUserInfo("2"),e.userLevelUp(t.pid,i))},OnHelpPokemonStats:function(e){},OnGuildScience:function(e){var i=t.getScienceInfo(e.id);i.lv=e.lv,i.exp=e.exp,t.postNotification(n.GUILD_GUILDTECHNOLOGY_UPDATE)},OnSubwayInfo:function(n){if(t.battleProgress.BattleSubway=n,t.newDayUpdate(),e.navPanel(37),5==SDK.$platformType){e.sendAYUserInfo("0");try{host.loginUpdate()}catch(i){}}},OnSFirstGroupon:function(e){t.sEventData.firstGroupon=e},OnVipExp:function(i){t.playerInfo.vipExp=i,t.playerVipLevel=e.getVipLevelByRecharge(t.playerInfo.vipExp+t.playerInfo.vip),t.postNotification(n.RECHARGE_UPDATE)},OnPlayerBan:function(t,n){var i=e.BanPanel.getInstance();i.setBanLabel(t,n),e.GameLayer.maskLayer.addChild(i),e.GameLayer.maskLayer.stage.touchChildren=!1},OnYuandanRewardProgress:function(e){if(t.activityInfo){for(var n=t.activityInfo.eventInfo.yuandanReward,i=n.states,a=!1,o=0;o<i.length;o++)if(i[o].item.type==e.item.type){i[o]=e,a=!0;break}a||i.push(e)}},OnSevendaysProgress:function(e,n,i){t.activityInfo.eventInfo.sevendays.day=e,t.activityInfo.eventInfo.sevendays.finish=n;for(var a=0;a<t.activityInfo.eventInfo.sevendays.items.length;a++){var o=t.activityInfo.eventInfo.sevendays.items[a];if(o.day==e){for(var s=0;s<o.tasks.length;s++)if(o.tasks[s].type==i.type){o.tasks[s].count=i.count,o.tasks[s].state=i.state;break}break}}},OnTreasureReport:function(n){t.treasurePlayer&&t.treasurePlayer.reports&&(t.treasurePlayer.reports.push(n),e.showZhanKuang=!0)},OnTreasureData:function(e){if(t.treasureInfo)for(var n=0;n<t.treasureInfo.length;n++)for(var i=t.treasureInfo[n],a=0;a<i.treasures.length;a++)if(i.treasures[a].tID==e.tID){i.treasures[a]=e,console.log("treasure change");break}},OnTeasureRevenge:function(e){t.treasurePlayer&&t.treasurePlayer.revenges&&t.treasurePlayer.revenges.push(e)
},OnTreasureTeamChange:function(e){if(t.treasurePlayer&&t.treasurePlayer.team)for(var n=0;n<t.treasurePlayer.team.length;n++)if(t.treasurePlayer.team[n].teamId==e.teamId){t.treasurePlayer.team[n]=e;break}},OnRemoveMythicalPm:function(e){t.extension.onHookPms=e}},Auth.addNotifyListener(new Pokemon.IGameNotifyStub(e.HttpNotify))},n.prototype.newDayUpdate=function(){for(var t=this.ext,n=0,i=t.gashapon.length;i>n;n++){var a=t.gashapon[n];if(6!=a.id){var o=e.Data.TGashapon[a.id];null!=o&&1==o.reset&&(a.remainCount=Math.max(a.remainCount,o.freeCount))}}for(var s=this.activityInfo.shops,n=0;n<s.length;n++){var r=s[n],u=e.Data.TShopType[r.type];r&&u&&u.recoveTime<=0&&5!=u.typeid&&r.items.splice(0)}for(var l=e.Data.TVip[this.playerVip],c=e.getNowTime(),h=this.battleProgress.special.counts,p=""+c.getDay(),n=0,g=h.length;g>n;n++){var d=h[n],m=e.Data.TSpecialDungeonsType[n+1];null!=m&&(d.bought=0,d.recovered=0,d.reusable=0,m.openWeek.indexOf(p)>-1?d.used=0:d.used=m.countBegin+l.spDunBuyCount+l.spDunRecover)}t.quickBattleBuyCount=0,t.quickBattleCount=0,t.debrisSwap=0,t.itemReCount=0,t.dpms=0,t.ditems=0,t.dEngagedCount=0,t.getOnline=0,t.lastGetOnline=c,t.dIVCount=0,t.buyBombCount=0,t.buyTansuoliCount=0,t.universalBell=0,t.dVipGift.splice(0),this.pvpInfoData&&(this.pvpInfoData.pvpInfo.dailyBuyCount=0,this.pvpInfoData.petPvpInfo.dailyBuyCount=0,this.pvpInfoData.pvpInfo.remainCount=Math.max(this.pvpInfoData.pvpInfo.remainCount,l.pvpBuyCount),this.pvpInfoData.petPvpInfo.remainCount=Math.max(this.pvpInfoData.petPvpInfo.remainCount,l.pvpBuyCount));var f=this.activityInfo;f.dailyRecharge=0,f.assisted.splice(0),f.ext.signState=0,f.ext.guildBossBuyCount=0,f.eventInfo.zp.mammonRabbit=0;var _=f.ext.famInfo;_.count=0,_.buyCount=0,f.eventInfo.timing.list=[];var y=this.homeInfo;y.search=0;for(var n=0,v=y.fgashapon.length;v>n;n++){var a=y.fgashapon[n],o=e.Data.TFGashapon[a.id];null!=o&&1==o.reset&&(a.remainCount=Math.max(a.remainCount,o.freeCount))}this.battleProgress.towerCount=0,this.battleProgress.towerBackCount=0,this.battleProgress.dailyTowerBuyCount=0;var b=this.battleProgress.gymInfo;b.info.resetCount>0&&(b.info.resetCount=0),b.info.buyCount=0,this.battleProgress.gmHelped=0},Object.defineProperty(n.prototype,"playerLevel",{get:function(){return this.playerInfo.level},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"playerExp",{get:function(){return EasyGame.Int64ToNumber(this.playerInfo.exp)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sid",{get:function(){return this.playerInfo.id.sid},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pid",{get:function(){return this.playerInfo.id.pid},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"playerName",{get:function(){return this.playerInfo.name},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exp",{get:function(){return this.ext.expPool},enumerable:!0,configurable:!0}),n.prototype.getActivityInfo=function(){return this.activityInfo},n.prototype.setTowerCount=function(e){switch(e){case 1:this.battleProgress.towerCount++;break;case 2:this.battleProgress.towerCount--}},n.prototype.addExp=function(e){this.ext.expPool+=e,this.postNotification(n.EXP_UPDATE)},n.prototype.costExp=function(e){this.ext.expPool-=e,this.postNotification(n.EXP_UPDATE)},n.prototype.setExp=function(e){this.ext.expPool=e,this.postNotification(n.EXP_UPDATE)},Object.defineProperty(n.prototype,"gold",{get:function(){return EasyGame.Int64ToNumber(this.playerInfo.money)},set:function(e){this.playerInfo.money=EasyGame.NumberToInt64(e),this.postNotification(n.GOLD_UPDATE)},enumerable:!0,configurable:!0}),n.prototype.addGold=function(e){var t=EasyGame.Int64ToNumber(this.playerInfo.money);t+=e,this.playerInfo.money=EasyGame.NumberToInt64(t),this.postNotification(n.GOLD_UPDATE)},n.prototype.costGold=function(e){var t=EasyGame.Int64ToNumber(this.playerInfo.money);t-=e,this.playerInfo.money=EasyGame.NumberToInt64(t),this.postNotification(n.GOLD_UPDATE)},Object.defineProperty(n.prototype,"diamond",{get:function(){return this.playerInfo.gem},enumerable:!0,configurable:!0}),n.prototype.addDiamond=function(e){this.playerInfo.gem+=e,this.postNotification(n.DIAMOND_UPDATE),this.playDiamondBone()},n.prototype.playDiamondBone=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._diamondBoneShow?[3,4]:(this._diamondBoneShow=!0,this._diamondBone?[3,2]:(t=this,[4,e.getBone("baozuanshi")]));case 1:t._diamondBone=n.sent(),this._diamondBone.x=360,this._diamondBone.y=550,n.label=2;case 2:return e.GameLayer.effectLayer.addChild(this._diamondBone),[4,this._diamondBone.play(null,1)];case 3:n.sent(),this._diamondBone.removeFromParent(),this._diamondBoneShow=!1,n.label=4;case 4:return[2]}})})},n.prototype.playLevelBone=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._levelShow?[3,4]:(this._levelShow=!0,this._levelBone?[3,2]:(t=this,[4,e.getBone("shengji")]));case 1:t._levelBone=n.sent(),this._levelBone.x=360,this._levelBone.y=e.GetOffSetYWithCenter(250),n.label=2;case 2:return e.GameLayer.effectLayer.addChild(this._levelBone),[4,this._levelBone.play(null,1)];case 3:n.sent(),this._levelBone.removeFromParent(),this._levelShow=!1,n.label=4;case 4:return[2]}})})},n.prototype.setDiamond=function(e){this.playerInfo.gem=e,this.postNotification(n.DIAMOND_UPDATE)},n.prototype.costDiamond=function(e){this.playerInfo.gem-=e,this.postNotification(n.DIAMOND_UPDATE)},Object.defineProperty(n.prototype,"friendPoint",{get:function(){return this.activityInfo.friendPoint},enumerable:!0,configurable:!0}),n.prototype.addFriendPoint=function(e){0>=e||(this.activityInfo.friendPoint+=e,this.postNotification(n.FRIEND_INFO_UPDATE))},n.prototype.costFriendPoint=function(e){0>=e||(this.activityInfo.friendPoint-=e,this.postNotification(n.FRIEND_INFO_UPDATE))},n.prototype.setFriendPoint=function(e){this.activityInfo.friendPoint=e,this.postNotification(n.FRIEND_INFO_UPDATE)},Object.defineProperty(n.prototype,"icon",{get:function(){return this.teamConfig.currentRole},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"map",{get:function(){return this.ext.mapId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"playerRole",{get:function(){return this.teamConfig.currentRole},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"idleFollowPokemon",{get:function(){for(var e=[],t=0;t<this.team.follows.length;t++)if(this.team.follows[t]){var n=this.getPokemonInfoById(this.team.follows[t]);n&&e.push(n)}if(!e.length)throw new Error("Server data error: no follow Pokemon");return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"idleFollowList",{get:function(){return this.team.follows},enumerable:!0,configurable:!0}),n.prototype.setFollowPokemon=function(t,i){return __awaiter(this,void 0,void 0,function(){var a,o,s;return __generator(this,function(r){switch(r.label){case 0:return e.showWaitPanel(),a=0,t&&(a=t.id),[4,e.HttpRequest.SetFollowAsync(i,a)];case 1:return o=r.sent(),e.hideWaitPanel(),o?(a&&(s=this.idleFollowList.indexOf(a),s>=0&&(this.team.follows[s]=this.team.follows[i]||0)),this.team.follows[i]=a,this.postNotification(n.IDLE_POKEMON_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getPokemonInfoById=function(e){for(var t=0;t<this.pmList.length;t++)if(this.pmList[t].id==e)return this.pmList[t];return null},Object.defineProperty(n.prototype,"currentMission",{get:function(){return this.ext.levelId},enumerable:!0,configurable:!0}),n.prototype.GetCreateShortcut=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return[4,e.HttpRequest.GetCreateShortcutAsync(t)];case 1:if(n=o.sent(),1==n){e.CommonTipsPanel.getInstance().setText(e.Lang.jiangliyifasongdaoyoujian).show(),i=e.DataManager.playerModel.extension.ALLGiftBag;for(a in i)return 1==i[a].type&&e.DataManager.playerModel.extension.ALLGiftBag[a].SumCount++,e.removePopUp(e.CommonGetRewardPanel.getInstance()),e.IdleScene.getInstance().updateWB(),[2]}return[2]}})})},n.prototype.updateMission=function(t){return __awaiter(this,void 0,void 0,function(){var i,a;return __generator(this,function(o){switch(o.label){case 0:return this.ext.levelId=t,[4,this.loadDungeonData(t)];case 1:return o.sent(),[4,n.getMissionPokemonData(t)];case 2:o.sent();for(i in e.Data.TDungeonMaps)if(e.Data.TDungeonMaps.hasOwnProperty(i)&&(a=e.Data.TDungeonMaps[i],a.DungeonId==t)){e.showTips(e.Lang.xindutujiesuoleo),e.IdleScene.getInstance().mapButton.point=!0;break}return this.postNotification(n.MISSION_UPDATE),this.postNotification(n.LOCK_UPDATE),t==Number(e.Constants.stageToGrowUpPlan)+1&&0==e.DataManager.playerModel.getActivityInfo().eventInfo.growthPlan.list.length&&e.ChengZhangJiHuaYinDao.getInstance().show(),t==Number(e.Constants.spcStage)+1&&(Auth.uploadLog("伊布战斗","战斗胜利"),e.ActivityPanel.openActivity(124)),[2]}})})},Object.defineProperty(n.prototype,"lastMissionTime",{get:function(){return this.ext.levelTime},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"idleFightCount",{get:function(){return this.ext.fights},enumerable:!0,configurable:!0}),n.prototype.updateLastMissionTime=function(e){this.ext.levelTime=e},n.prototype.updateIdleFightCount=function(e){this.ext.fights=e},Object.defineProperty(n.prototype,"lastGetIdleRewardTime",{get:function(){return this.ext.getTime},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"idleRewardPokemonList",{get:function(){return this.ext.onHookPms},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"idleRewardItemList",{get:function(){return this.ext.items},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pveRankRewardList",{get:function(){return this.ext.pvpReward},enumerable:!0,configurable:!0}),n.prototype.addPokemon=function(e){this.pmList.push(e),this.activityInfo.collections.indexOf(e.type)<0&&this.activityInfo.collections.push(e.type)},n.prototype.checkPokemonBagFull=function(){return this.pmList.length>=this._maxBagPokemonCount},n.prototype.deletePoekmon=function(e){for(var t=[],n=0;n<e.equip.length;n++)t.push({type:e.equip[n],count:1});if(this.updateEquipListAndNotify(t),e.artifact)for(var n=0;n<this.teamConfig.artifacts.length;n++)if(this.teamConfig.artifacts[n].id==e.artifact){this.teamConfig.artifacts[n].equip=0;break}var i=this.pmList.indexOf(e);i>=0&&this.pmList.splice(i,1)},n.prototype.addPokemonAndNotify=function(e){this.addPokemon(e),this.postNotification(n.POKEMON_BAG_UPDATE)},n.prototype.addPokemonListAndNotify=function(e){if(e&&e.length>0){for(var t=0;t<e.length;t++)this.addPokemon(e[t]);this.postNotification(n.POKEMON_BAG_UPDATE)}},n.prototype.deletePokemonListAndNotify=function(e){if(e&&e.length>0){for(var t=0;t<e.length;t++)this.deletePoekmon(e[t]);this.postNotification(n.POKEMON_BAG_UPDATE)}},n.prototype.addPvpScore=function(e){this.pvpInfoData.scores+=e,this.postNotification(n.PVP_INFO_UPDATE)},n.prototype.addGymHonor=function(t){var n=this.playerGymInfo.honorExp;n+=t;for(var i=this.playerGymInfo.honorLevel,a=e.Data.TGYMLv[i].ex;a&&n>=a;)n-=a,i++,a=e.Data.TGYMLv[i].ex;this.playerGymInfo.honorExp=n,this.playerGymInfo.honorLevel=i},n.prototype.useGymHonor=function(e){},n.prototype.addItem=function(t,i){if(void 0===i&&(i=!0),i&&e.createRewardItem(t),e.Data.TElfBring[t.type])this.updateEquipCountAndNotify(t.type,t.count);else if(e.Data.TPlayerRole[t.type])this.addRole(t.type);else switch(t.type){case 1:this.addGold(t.count);break;case 3:this.addExp(t.count);break;case 2:this.addDiamond(t.count);break;case 4:this.addFriendPoint(t.count);break;case 5:this.addPvpScore(t.count);break;case 7:this.addGuildContribute(t.count);break;case 11:this.addGymHonor(t.count);break;case 10:this.addVipExp(t.count);break;default:var a=e.Data.TItem[t.type];if(!a)return;for(var o=0;o<this.items.length;o++)if(this.items[o].type==t.type){if(this.items[o].count+=t.count,16==a.type&&this.postNotification(n.PIECE_UPDATE),a.id==e.GymPanel.GYM_COIN_ID&&this.postNotification(n.GYM_COIN_UPDATE),8==a.type){e.RootBottom.getInstance().bagBtn.point=!0;var s=e.IdleRewardPanel.getInstance();s.setAnim(),s.addSkill(t),s.show()}return}if(this.items.push(t),16==a.type&&this.postNotification(n.PIECE_UPDATE),a.id==e.GymPanel.GYM_COIN_ID&&this.postNotification(n.GYM_COIN_UPDATE),8==a.type){e.RootBottom.getInstance().bagBtn.point=!0;var s=e.IdleRewardPanel.getInstance();s.setAnim(),s.addSkill(t),s.show()}}},n.prototype.addVipExp=function(e){},n.prototype.addItemAndNotify=function(e){this.addItem(e),this.postNotification(n.ITEM_UPDATE)},n.prototype.addItemsAndNotify=function(e){if(e&&e.length>0){for(var t=0;t<e.length;t++)this.addItem(e[t]);this.postNotification(n.ITEM_UPDATE)}},n.prototype.costPvpScore=function(e){this.pvpInfoData.scores-=e,this.postNotification(n.PVP_INFO_UPDATE)},n.prototype.useItem=function(t){switch(t.count<0&&(t.count=-t.count),t.type){case 1:this.costGold(t.count);break;case 3:this.costExp(t.count);break;case 2:this.costDiamond(t.count);break;case 4:this.costFriendPoint(t.count);break;case 5:this.costPvpScore(t.count);break;case 7:this.useGuildContribute(t.count);break;case 11:this.useGymHonor(t.count);break;default:for(var i=0;i<this.items.length;i++)if(this.items[i].type==t.type)return this.items[i].count-=t.count,this.items[i].count<=0&&this.items.splice(i,1),16==e.Data.TItem[t.type].type&&this.postNotification(n.PIECE_UPDATE),void(t.type==e.GymPanel.GYM_COIN_ID&&this.postNotification(n.GYM_COIN_UPDATE))}},n.prototype.BuyTowerShopItem=function(t,i){return __awaiter(this,void 0,void 0,function(){var a,o;return __generator(this,function(s){switch(s.label){case 0:return a=this.getItemCount(19001),a>=i?[4,e.HttpRequest.BuyTowerShopItemAsync(t,1)]:[3,2];case 1:return o=s.sent(),o?(e.showTips(e.Lang.goumaichenggong),this.useItemsAndNotify(o.costs),this.addMailReward(o.gets),this.postNotification(n.CAVE_SHOP_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[3,3];case 2:e.showTips(e.Lang.nindedaojubuzu,!0),s.label=3;case 3:return[2]}})})},n.prototype.getIdleReward=function(t,i){return void 0===i&&(i=!1),__awaiter(this,void 0,void 0,function(){var a,o;return __generator(this,function(s){switch(s.label){case 0:return 1==t&&this.checkPokemonBagFull()?(e.showTips(e.Lang.nindebaokemengbeibaoyiman,!0),[2]):(e.showWaitPanel(),[4,e.HttpRequest.GetOnhookAsync(t)]);case 1:if(a=s.sent(),e.hideWaitPanel(),!a)return e.showTips(e.Lang.chuxiancuowu,!0),[2];switch(t){case 0:this.addGold(a.gold),this.addExp(a.exp),this.ext.getTime=e.getNowTime(),!i&&a.gold&&e.createRewardItem({type:1,count:a.gold}),!i&&a.exp&&e.createRewardItem({type:3,count:a.exp});break;case 1:this.ext.onHookPms=a.pms;break;case 2:this.addItemsAndNotify(a.items),this.ext.items=[],!i&&a.items.length>0&&(o=e.IdleRewardPanel.getInstance(),o.setReward(a.items,null),o.show())}return this.postNotification(n.IDLE_REWARD_UPDATE),[2,null]}})})},n.prototype.OnCatchDiscardPm=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return[4,e.HttpRequest.OnCatchDiscardPmAsync(t)];case 1:return i=a.sent(),i?(this.ext.onHookPms=i,this.postNotification(n.IDLE_REWARD_POKEMON_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2,i]}})})},n.prototype.OnCatchSuccessAsync=function(t,i,a){return __awaiter(this,void 0,void 0,function(){var o,s;return __generator(this,function(r){switch(r.label){case 0:return[4,e.HttpRequest.OnCatchSuccessAsync(t,i,a)];case 1:if(o=r.sent(),null!=o)for(this.ext.onHookPms=o.festival,this.postNotification(n.IDLE_REWARD_POKEMON_UPDATE),s=0;s<o.getPm.length;s++)this.addPokemonAndNotify(o.getPm[s]);return this.useItem({type:a,count:1}),[2,o]}})})},n.prototype.GetGashaponShilianRewardAsync=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return[4,e.HttpRequest.GetGashaponAsync(t)];case 1:return n=a.sent(),n&&(e.DataManager.playerModel.ext.GashaponBag.push(t),i=e.IdleRewardPanel.getInstance(),i.setReward(n.items,n.pokemons),i.show(),this.addPokemonListAndNotify(n.pokemons),this.addItemsAndNotify(n.items)),e.GashaponShiLianReward.getInstance().UpdateData(),[2,n]}})})},n.prototype.GetElfCenterInfoAsync=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,e.HttpRequest.OpenElfCenterAsync()];case 1:return t=n.sent(),this.PmCenterData=t,e.MapPmCenterPanel.getInstance().UpdateData(),[2,t]}})})},n.prototype.GetElfCenterRewardAsync=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return[4,e.HttpRequest.GetElfCenterRewardAsync(t)];case 1:if(n=o.sent(),null!=n){i=e.IdleRewardPanel.getInstance(),i.setReward(n.reward,null),i.show(),this.addItemsAndNotify(n.reward);for(a in this.PmCenterData)if(this.PmCenterData[a].id==n.id){this.PmCenterData[a]=n;break}e.MapPmCenterPanel.getInstance().UpdateData()}return[2,n]}})})},n.prototype.idleCatchPokemon=function(t){return __awaiter(this,void 0,void 0,function(){var i,a;return __generator(this,function(o){switch(o.label){case 0:return i=Number(e.Constants.Awaitspirit),e.Data.TVip[e.DataManager.playerModel.playerVip].AwaitItme&&(i+=e.Data.TVip[e.DataManager.playerModel.playerVip].AwaitItme),this.ext.onHookPms.length>=i?(e.showTips(e.Lang.nindebaokemenggeyiman,!0),[3,3]):[3,1];case 1:return this._maxPokemonCount=e.Data.TVip[this.playerVip].WaitElfCount,this.ext.dpms>=this._maxPokemonCount?(e.showTips(e.Lang.jinrihuoquyidashangxian,!0),[2]):[4,e.HttpRequest.OnhookCatchPmAsync(t)];case 2:a=o.sent(),a?(this.ext.dpms++,this.ext.onHookPms.push(a),this.postNotification(n.IDLE_REWARD_UPDATE),this.postNotification(n.IDLE_LIMIT_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),o.label=3;case 3:return[2]}})})},n.prototype.idleGetItem=function(t){return __awaiter(this,void 0,void 0,function(){var i,a;return __generator(this,function(o){switch(o.label){case 0:return i=Number(e.Constants.AwaitItme),e.Data.TVip[e.DataManager.playerModel.playerVip].AwaitItme&&(i+=e.Data.TVip[e.DataManager.playerModel.playerVip].AwaitItme),this.ext.items.length>=i?(e.showTips(e.Lang.nindedaojugeziyiman,!0),[3,3]):[3,1];case 1:return this.ext.ditems>=this._maxItemCount?(e.showTips(e.Lang.jinrihuoquyidashangxian,!0),[2]):[4,e.HttpRequest.OnhookGetItemAsync(t)];case 2:a=o.sent(),a?(this.ext.ditems++,this.ext.items.push(t),a.items.length>0&&this.addItemsAndNotify(a.items),this.postNotification(n.IDLE_REWARD_UPDATE),this.postNotification(n.IDLE_LIMIT_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),o.label=3;case 3:return[2]}})})},n.prototype.getPlayerBattlePokemonList=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);for(var i=[],a=0;a<this.team.gridConfig.length;a++){var o=this.team.gridConfig[a],s=this.getPokemonInfoById(o.id);if(s){e.Data.TElfLevel[s.lv]||(s.lv=1);var r=e.parseBattlePokemonData(s,this.team.formation,o.grid);if(n){var u=e.copyObject(this.team);u.helpAttribute=null,r=e.parseBattlePokemonData(s,this.team.formation,o.grid,!1,!1,this.playerTitleList,this.team.badges,this.playerAllRole,1,!1,this.playerVip,u)}t&&e.addEquipAttribute(r,this.pokemonComboAttribute),i.push(r)}}return i},n.prototype.getPlayerGridConfigById=function(e){for(var t=0;t<this.team.gridConfig.length;t++){var n=this.team.gridConfig[t];if(n.id==e)return{grid:n.grid,formation:this.team.formation}}},Object.defineProperty(n.prototype,"playerTeamPokemonList",{get:function(){for(var e=[],t=0;t<this.team.gridConfig.length;t++){var n=this.team.gridConfig[t],i=this.getPokemonInfoById(n.id);i?e.push(i):console.error("team gridConfig error: not exist pokemon "+n.id)}return e},enumerable:!0,configurable:!0}),n.getMissionPokemonData=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return this.missionPokemonData[t]?(n=this.missionPokemonData[t],[3,3]):[3,1];case 1:return i=this.missionPokemonData,a=t,[4,e.HttpRequest.GetTDungeonsMonstersAsync(t)];case 2:i[a]=o.sent(),n=this.missionPokemonData[t],o.label=3;case 3:return[2,n]}})})},n.getMissionPokemonList=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a,o,s,r,u,l,c,h,p,g,d,m;return __generator(this,function(f){switch(f.label){case 0:return i=[],[4,this.getMissionPokemonData(t)];case 1:for(a=f.sent(),o=!1,t==Number(e.Constants.spcStage)&&(s=e.DataManager.playerModel.getHelpFriend(),s&&-1==s.id.pid||(o=!0)),r=0;r<a.length;r++){if(u=a[r],l=0,e.Data.TElf[u.ElfID]&&(l=e.Data.TElf[u.ElfID].ballID),c=[],u.Skill)c=e.splitStringToNumberArray(u.Skill,";");else for(h=e.getPokemonLevelSkill(u.ElfID),p=0;p<h.length;p++)u.Level>=h[p].level&&c.push(h[p].id);if(g=void 0,o&&(g={id:r,type:u.ElfID,lv:100,exp:null,intimacy:null,intimacyLv:u.LoveLevel||1,nature:1,iv:{hp:200,speed:200,atk:200,spAtk:200,def:200,spDef:200},effort:{hp:1e3,speed:1e3,atk:1e3,spAtk:1e3,def:1e3,spDef:1e3},skills:c,gender:null,equip:[],slot:0,star:u.star||0,ivFreshCount:0,advance:0,skillSettings:[{slot:0,sort:1},{slot:1,sort:1},{slot:2,sort:1},{slot:3,sort:1}],artifact:0,effortLv:0,stage:0,rebornCount:0,gift:[],giftSkill:[],giftAbility:[],giftEquip:[],newEquip:[],isUnlock:[],ballId:0}),g||(g={id:r,type:u.ElfID,lv:u.Level||1,exp:null,intimacy:null,intimacyLv:u.LoveLevel||1,nature:1,iv:{hp:u.HpIndiv||0,speed:u.SpeIndiv||0,atk:u.AtkIndiv||0,spAtk:u.AtkSpIndiv||0,def:u.DefIndiv||0,spDef:u.DefSpIndiv||0},effort:{hp:u.HpBase||0,speed:u.SpeBase||0,atk:u.AtkBase||0,spAtk:u.AtkSpBase||0,def:u.DefBase||0,spDef:u.DefSpBase||0},skills:c,gender:null,equip:[],slot:0,star:u.star||0,ivFreshCount:0,advance:0,skillSettings:[{slot:0,sort:1},{slot:1,sort:1},{slot:2,sort:1},{slot:3,sort:1}],artifact:0,effortLv:0,stage:0,rebornCount:0,gift:[],giftSkill:[],giftAbility:[],giftEquip:[],newEquip:[],isUnlock:[],ballId:l},g.initHp=u.HPFixation),d=u.bossScale||1,m=e.parseBattlePokemonData(g,n,u.Grid,!1,!1,[],[],[],d,!1,0,null,null,null,null,null),i.push(m),i.length>=6)break}return[2,i]}})})},Object.defineProperty(n.prototype,"playerPokemonBag",{get:function(){return this.pmList},enumerable:!0,configurable:!0}),n.prototype.moveTeamPokemonToBag=function(t,i){return __awaiter(this,void 0,void 0,function(){var a,o,s;return __generator(this,function(r){switch(r.label){case 0:return[4,e.HttpRequest.OffBattleTeamAsync(t.id,i)];case 1:if(a=r.sent(),!a)return[2,e.showTips(e.Lang.chuxiancuowu,!0)];for(o=0;o<this.team.gridConfig.length;o++)if(s=this.team.gridConfig[o],s.id==t.id){this.team.gridConfig.splice(o,1);break}return t.slot=i,this.postNotification(n.POKEMON_TEAM_UPDATE),this.postNotification(n.POKEMON_BAG_UPDATE),this.updatePokemonCombo(),[2]}})})},n.prototype.changeTeamPokemonAndBagPokemon=function(t,i){return __awaiter(this,void 0,void 0,function(){var a,o,s;return __generator(this,function(r){switch(r.label){case 0:return[4,e.HttpRequest.ReplaceBattleTeamAsync(t.id,i.id)];case 1:if(a=r.sent(),!a)return[2,e.showTips(e.Lang.chuxiancuowu,!0)];for(t.slot=i.slot,i.slot=0,o=0;o<this.team.gridConfig.length;o++)if(s=this.team.gridConfig[o],s.id==t.id){s.id=i.id;break}return this.postNotification(n.POKEMON_TEAM_UPDATE),this.postNotification(n.POKEMON_BAG_UPDATE),this.updatePokemonCombo(),[2]}})})},n.prototype.updatePokemonCombo=function(){this.pokemonComboAttribute=new e.EquipAttribute,this.pokemonCombo=[];for(var t=[],n=this.playerTeamPokemonList,i=0;i<n.length;i++)n[i]&&t.push(n[i].type);for(var a=this.teamConfig.helps,i=0;i<a.length;i++){var o=this.getPokemonInfoById(a[i]);o&&t.push(o.type)}for(var i in e.Data.TElfCombo){for(var s=e.Data.TElfCombo[i],r=e.splitStringToNumberArray(s.elfId,";"),u=!0,l=0;l<r.length;l++)if(-1==t.indexOf(r[l])){u=!1;break}u&&(e.parseEquipAttribute(this.pokemonComboAttribute,e.Data.TEffect[s.effectId]),this.pokemonCombo.push(s.id))}},n.prototype.changeHelpPokemon=function(t,n,i){return void 0===i&&(i=0),__awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SetHelpAsync(i,n.id)];case 1:return t=a.sent(),e.hideWaitPanel(),t?i<this.team.helps.length&&(this.team.helps[i]=n.id,this.updateHelpPokemon()):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.updateHelpPokemon=function(t){void 0===t&&(t=!0);var i=this.team.helps,a=this.team.helpAttribute;a.spDef=0,a.def=0,a.spAtk=0,a.atk=0,a.hp=0,a.speed=0;for(var o=0;o<i.length;o++){var s=this.getPokemonInfoById(i[o]);if(s){var r=e.parseBattlePokemonData(s,0,0,!1,!1,[],[],[],1,!1,null,null,null,null,null,null),u=e.Data.TElf[s.type],l=e.Data.TElfQuality[u.quality];switch(o){case 0:a.hp=r.hp*l.helpElfPre|0;break;case 1:a.atk=r.atk*l.helpElfPre|0;break;case 2:a.spAtk=r.spAtk*l.helpElfPre|0;break;case 3:a.def=r.def*l.helpElfPre|0;break;case 4:a.spDef=r.spDef*l.helpElfPre|0;break;case 5:a.speed=r.speed*l.helpElfPre|0}}}t&&(this.postNotification(n.POKEMON_TEAM_UPDATE),this.postNotification(n.POKEMON_BAG_UPDATE)),this.updatePokemonCombo()},n.prototype.cancelHelpPokemon=function(t,n){return void 0===n&&(n=0),__awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SetHelpAsync(-1,t.id)];case 1:return i=a.sent(),e.hideWaitPanel(),i?n<this.team.helps.length&&(this.team.helps[n]=null,this.updateHelpPokemon()):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.equipHelpPokemon=function(t,n){return void 0===n&&(n=0),__awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SetHelpAsync(n,t.id)];case 1:return i=a.sent(),e.hideWaitPanel(),i?n<this.team.helps.length&&(this.team.helps[n]=t.id,this.updateHelpPokemon()):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.moveBagPokemonToBag=function(t,i,a,o){return __awaiter(this,void 0,void 0,function(){var s,r,r;return __generator(this,function(u){switch(u.label){case 0:return[4,e.HttpRequest.SwapPmSlotAsync(i,o)];case 1:return(s=u.sent())?(t?a?(r=a.slot,a.slot=i,t.slot=r,r=null):t.slot=o:a&&(t?(r=t.slot,t.slot=o,a.slot=r,r=null):a.slot=i),this.postNotification(n.POKEMON_BAG_UPDATE),[2]):[2,e.showTips(e.Lang.chuxiancuowu,!0)]}})})},n.prototype.moveBagPokemonToTeam=function(t){return __awaiter(this,void 0,void 0,function(){var i,a,o,s,r,u,l;return __generator(this,function(c){switch(c.label){case 0:for(t.slot=0,i=0,a=!1;!a;){for(i++,o=!1,s=0;s<this.team.gridConfig.length;s++)if(r=this.team.gridConfig[s],r.grid==i){o=!0;break}o||(a=!0)}return u={grid:i,id:t.id},[4,e.HttpRequest.AddBattleTeamAsync(u)];case 1:return(l=c.sent())?(this.team.gridConfig.push(u),this.postNotification(n.POKEMON_TEAM_UPDATE),this.postNotification(n.POKEMON_BAG_UPDATE),this.updatePokemonCombo(),[2]):[2,e.showTips(e.Lang.chuxiancuowu,!0)]}})})},Object.defineProperty(n.prototype,"playerAllPokemonList",{get:function(){return this.pmList},enumerable:!0,configurable:!0}),n.prototype.upPokemonLevel=function(t,i){return __awaiter(this,void 0,void 0,function(){var a,o;return __generator(this,function(s){switch(s.label){case 0:return this.exp<=0?(e.showTips(e.Lang.jingyanzhibuzu,!0),[2]):(a=function(n){for(var i=0,a=0;n>a;a++){var o=e.Data.TElfLevel[t.lv+a];o&&o.money&&(i+=o.money)}return i},e.checkCanBuy({type:1,count:a(i)})?[4,e.HttpRequest.UpgradePmAsync(t.id,i)]:[2]);case 1:return o=s.sent(),o?(e.SoundManager.playEffect("music/UI_shenji"),t.exp=o.exp,o.level>t.lv&&(this.playLevelBone(),this.costGold(a(o.level-t.lv))),t.lv=o.level,this.postNotification(n.POKEMON_INFO_UPDATE,t),this.setExp(o.poolExp)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getItemListByItemType=function(t){for(var n=[],i=0;i<this.items.length;i++){var a=e.Data.TItem[this.items[i].type];a&&a.type==t&&n.push(this.items[i])}return n},n.prototype.getItemList=function(){return this.items},Object.defineProperty(n.prototype,"pvpScore",{get:function(){return this.pvpInfoData.scores},enumerable:!0,configurable:!0}),n.prototype.getItemCount=function(e){var t=0;switch(e){case 1:t=this.gold;break;case 2:t=this.diamond;break;case 3:t=this.exp;break;case 4:t=this.friendPoint;break;case 5:t=this.pvpScore;break;case 7:t=this.myGuildInfo.contributionValue;break;case 11:t=this.playerGymInfo.honorLevel;break;default:for(var n=0;n<this.items.length;n++)if(this.items[n].type==e){t=this.items[n].count;break}}return t},n.prototype.useEffortItem=function(t,i,a){return __awaiter(this,void 0,void 0,function(){var o,s;return __generator(this,function(r){switch(r.label){case 0:return o=this.getItemCount(t),i>o?(e.showTips(e.Lang.nindedaojubuzu,!0),[2]):(e.showWaitPanel(),[4,e.HttpRequest.PromoteEffortAsync(a.id,t,i)]);case 1:return s=r.sent(),e.hideWaitPanel(),s?(e.showTips(e.Lang.shiyongchenggong),a.effort=s,this.postNotification(n.POKEMON_INFO_UPDATE,a),this.useItemAndNotify({type:t,count:i})):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.buyGashapon=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a,o,s,r,u,l,r,c,h,h,p,g=this;return __generator(this,function(d){switch(d.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GashaponAsync(t.id)];case 1:if(i=d.sent(),!i)return[3,5];for(this.activityInfo.eventInfo.tdecennium=i.tenGetGift,a=i.gashaponInfo,t.remainCount=a.remainCount,t.time=a.time,t.count=a.count,i.price&&i.price.type&&this.useItem(i.price),o=[],s=e.copyObject(i.items,[]),r=0;r<s.length;r++)e.Data.TElfBring[s[r].type]&&(o.push(s[r]),s.splice(r,1),r--);if(!e.Data.TGashapon[t.id]||!e.Data.TGashapon[t.id].GaGift)return[3,2];for(u=[],l=e.Data.TGashapon[t.id].GaGift.split("|"),r=0;r<l.length;r++)c=e.splitStringToNumberArray(l[r],";"),u.push(c[0]);return h=e.GashaponResult.getInstance(),h.showTwice(i,n,u),[3,4];case 2:return h=e.GashaponResult.getInstance(),[4,h.create(i,n)];case 3:d.sent(),h.play(),h.show(),d.label=4;case 4:return p=function(){o.length>0&&g.updateEquipListAndNotify(o),g.addItemsAndNotify(s),g.addPokemonListAndNotify(i.pokemons),i.newEquips.length>0&&g.addNewEquip(i.newEquips)},n?p():egret.setTimeout(function(){p()},this,3e3),e.hideWaitPanel(),[2,!0];case 5:e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0),d.label=6;case 6:return[2]}})})},n.prototype.upgradePokemonLove=function(t,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return t?i&&0!=i.length?[4,e.HttpRequest.UpgradePmLoveLvAsync(t.id,i)]:(e.showTips(e.Lang.qingxuanzeninyaoshiyongdewupin,!0),[2]):(e.showTips(e.Lang.chuxiancuowu,!0),[2]);case 1:return(a=o.sent())?(t.intimacyLv=a.level,t.intimacy=a.love,this.postNotification(n.POKEMON_INFO_UPDATE,t),this.gold=a.gold,this.useItemsAndNotify(i),[2,!0]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.useItemAndNotify=function(e){this.useItem(e),this.postNotification(n.ITEM_UPDATE,e)},n.prototype.useItemsAndNotify=function(e){for(var t=0;t<e.length;t++)this.useItem(e[t]);this.postNotification(n.ITEM_UPDATE)},n.prototype.evolvePokemon=function(t,i,a){return __awaiter(this,void 0,void 0,function(){var o,s,r,u,l;return __generator(this,function(c){switch(c.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.EvolveAsync(t.id)];case 1:return(o=c.sent())?(this.useItemsAndNotify(a),(s=e.Data.TElf[i.upElf])?(r=e.Data.TAdvanced[s.quality],r&&t.stage<r.QualityMax?(e.hideWaitPanel(),e.showTips(e.Lang.jinjiechenggong),[3,5]):[3,2]):[3,6]):[3,8];case 2:return u=e.TeamEvaluationResult.getInstance(),[4,u.create(t.type,o.type)];case 3:return c.sent(),e.hideWaitPanel(),u.show(),[4,u.play()];case 4:c.sent(),this.activityInfo.collections.indexOf(o.id)<0&&this.activityInfo.collections.push(o.id),c.label=5;case 5:return[3,7];case 6:e.hideWaitPanel(),c.label=7;case 7:for(l=0;l<this.pmList.length;l++)if(this.pmList[l].id==o.id){this.pmList[l]=o;break}return this.postNotification(n.POKEMON_INFO_UPDATE,o),[3,9];case 8:e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0),c.label=9;
case 9:return[2]}})})},n.prototype.refreshPokemon=function(t,n,i,a){return __awaiter(this,void 0,void 0,function(){var o,s;return __generator(this,function(r){switch(r.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.FreshIvAsync(t.id,n,a)];case 1:return o=r.sent(),e.hideWaitPanel(),o?(2==n&&this.extension.dIVCount++,s=2*a.length+1,this.useItemAndNotify({type:i.type,count:i.count*s}),e.showTips(e.Lang.xilianchenggong),[2,o]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.savePokemonIV=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){return e.iv=t,this.postNotification(n.POKEMON_INFO_UPDATE,e),[2]})})},n.prototype.getGashaponInfoByType=function(e){for(var t=0;t<this.ext.gashapon.length;t++){var n=this.ext.gashapon[t];if(n.id==e)return n}},n.prototype.getGashaponInfo=function(){return this.ext.gashapon},n.prototype.updateMailList=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),t=this,[4,e.HttpRequest.GetMailsAsync()];case 1:return t.mails=n.sent(),e.hideWaitPanel(),[2]}})})},n.prototype.getMailList=function(){return this.mails},n.prototype.receiveMail=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return this.checkPokemonBagFull()?(e.showTips(e.Lang.nindebaokemengbeibaoyiman,!0),[2]):(n=this.mails.indexOf(t),0>n?[2]:(e.showWaitPanel(),[4,e.HttpRequest.GetMailItemAsync(t.id)]));case 1:return i=a.sent(),i?(e.showTips(e.Lang.shouquchenggong),this.addMailReward(i),this.mails.splice(n,1)):e.showTips(e.Lang.chuxiancuowu,!0),e.hideWaitPanel(),[2]}})})},n.prototype.receiveAllMail=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.checkPokemonBagFull()?(e.showTips(e.Lang.nindebaokemengbeibaoyiman,!0),[2]):(e.showWaitPanel(),[4,e.HttpRequest.GetMailItemsAsync()]);case 1:return t=n.sent(),t?(e.showTips(e.Lang.shouquchenggong),this.addMailReward(t),this.mails=[]):e.showTips(e.Lang.chuxiancuowu,!0),e.hideWaitPanel(),[2]}})})},n.prototype.backTower=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return[4,e.HttpRequest.BackTowerAsync()];case 1:return t=i.sent(),t&&(this.battleProgress.towerLv=1,this.battleProgress.towerBackCount++,this.postNotification(n.CAVE_UPDATE)),[2]}})})},n.prototype.buyTowerBattleCount=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return[4,e.HttpRequest.BuyTowerBattleCountAsync()];case 1:return i=a.sent(),i&&(this.costDiamond(t),this.battleProgress.dailyTowerBuyCount++,this.postNotification(n.CAVE_INFO_UPDATE)),[2]}})})},n.prototype.endBattle=function(t,i,a,o,s){return void 0===s&&(s=null),__awaiter(this,void 0,void 0,function(){var r,u;return __generator(this,function(l){switch(l.label){case 0:switch(u=t){case 2:return[3,1];case 1:return[3,3];case 4:return[3,5];case 5:return[3,7];case 10:return[3,9];case 11:return[3,11];case 18:return[3,12]}return[3,14];case 1:return[4,e.HttpRequest.EndSpecialBattleAsync(0,a,o,i,[])];case 2:return r=l.sent(),r&&(this.battleProgress.special=r.data,this.postNotification(n.DUNGEON_COUNT_UPDATE)),[3,14];case 3:return[4,e.HttpRequest.EndBattleAsync(0,a,o,i,[])];case 4:return r=l.sent(),[3,14];case 5:return[4,e.HttpRequest.EndTowerBattleAsync(o)];case 6:return r=l.sent(),[3,14];case 7:return[4,e.HttpRequest.EndEngageWithAsync(o,{sid:s.sid,pid:s.pid})];case 8:return r=l.sent(),[3,14];case 9:return[4,e.HttpRequest.EndActivityBattleAsync(o,a)];case 10:return r=l.sent(),[3,14];case 11:return r={win:o,gold:0,exp:0,levelId:null,levelTime:null,items:[],pokemons:[],newEgg:[],newEquips:[]},[3,14];case 12:return[4,e.HttpRequest.EndChallengeAsync(o,-1)];case 13:return r=l.sent(),[3,14];case 14:return r?(this.addBattleReward(r),1!=t?[3,16]:(this.updateLastMissionTime(r.levelTime),this.updateIdleFightCount(0),o?[4,this.updateMission(r.levelId)]:[3,16])):[3,17];case 15:l.sent(),l.label=16;case 16:return 4==t&&o&&(this.battleProgress.towerLv=r.levelId,this.battleProgress.maxTowerLv=Math.max(r.levelId-1,this.battleProgress.maxTowerLv)),[2,r];case 17:if(4==t)return[2];5==t?e.showTips(e.Lang.ninjinribunengzaijingongzhemingwanjialeo,!0):e.showTips(e.Lang.chuxiancuowu,!0),l.label=18;case 18:return[2]}})})},n.prototype.addBattleReward=function(e){e.gold&&this.addGold(e.gold),e.exp&&this.addExp(e.exp),this.addItemsAndNotify(e.items),this.updatePokemonInfoAndNotify(e.pokemons),e.newEgg.length>0&&this.addEggList(e.newEgg),this.addNewEquip(e.newEquips)},n.prototype.updatePokemonInfoAndNotify=function(e){for(var t=!1,i=0;i<e.length;i++){for(var a=e[i],o=!1,s=0;s<this.pmList.length;s++){var r=this.pmList[s];if(r.id==a.id){o=!0,r.effort=a.effort,r.intimacy=a.intimacy,r.intimacyLv=a.intimacyLv,this.postNotification(n.POKEMON_INFO_UPDATE,r);break}}o||(this.addPokemon(a),t=!0)}t&&this.postNotification(n.POKEMON_BAG_UPDATE)},Object.defineProperty(n.prototype,"teamConfig",{get:function(){return this.team},enumerable:!0,configurable:!0}),n.prototype.getFormationByType=function(t){for(var n=0;n<this.teamConfig.levels.length;n++){var i=e.Data.TGridType[this.teamConfig.levels[n]];if(i.typeid==t)return i.id}var a=1;for(var n in e.Data.TGridType)if(e.Data.TGridType.hasOwnProperty(n)){var i=e.Data.TGridType[n];if(i.typeid==t&&1==i.level){a=i.id,this.teamConfig.levels.push(a);break}}return a},n.prototype.getDungeonCount=function(e){return this.battleProgress.special.counts[e-1]},n.prototype.upgradeFormation=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s,r;return __generator(this,function(u){switch(u.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.UpgradeFormationAsync(t)];case 1:if(n=u.sent(),e.hideWaitPanel(),n){for(e.showTips(e.Lang.shengjichenggong),i=e.Data.TGridType[t],a=e.splitStringToNumberArray(i.itmes,";"),this.useItemAndNotify({type:a[0],count:a[1]}),o=this.teamConfig.levels,s=0;s<o.length;s++)if(o[s]==t){r=e.Data.TGridType[this.teamConfig.levels[s]],o[s]=r.nextId;break}}else e.showTips(e.Lang.chuxiancuowu,!0);return[2]}})})},n.prototype.saveFormation=function(t,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SetFormationConfigAsync(t,i)];case 1:return a=o.sent(),e.hideWaitPanel(),a?(e.showTips(e.Lang.baocunchenggong),this.teamConfig.formation=t,this.teamConfig.gridConfig=i,this.postNotification(n.POKEMON_TEAM_UPDATE),[2,!0]):(e.showTips(e.Lang.chuxiancuowu,!0),[2,!1])}})})},n.prototype.sortPokemonBag=function(t){return __awaiter(this,void 0,void 0,function(){var i,a,o,s,r;return __generator(this,function(u){switch(u.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SortPokemonsByAsync(t)];case 1:if(i=u.sent(),e.hideWaitPanel(),i){for(a=this.pmList,o=0;o<a.length;o++)for(s=a[o],r=0;r<i.length;r++)if(s.id==i[r].id){s.slot=i[r].slot;break}this.postNotification(n.POKEMON_BAG_UPDATE)}else e.showTips(e.Lang.chuxiancuowu,!0);return[2]}})})},n.prototype.getLively=function(){for(var t=0,n=0;n<this.dailyQuests.length;n++){var i=this.dailyQuests[n],a=e.Data.TQuest[i.id];0!=i.state&&(t+=a.active)}return t},n.prototype.useSKillBook=function(t,i,a,o){return __awaiter(this,void 0,void 0,function(){var s;return __generator(this,function(r){switch(r.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.UseSkillBookAsync(t.id,i,a)];case 1:return s=r.sent(),e.hideWaitPanel(),s?(e.showTips(e.Lang.jinnengxuexichenggong),this.useItem({type:a,count:1}),t.skills[i]=o,this.postNotification(n.POKEMON_INFO_UPDATE,t)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.learnSkill=function(t,i,a){return __awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.MasterSkillAsync(t.id,i,a)];case 1:return o=s.sent(),e.hideWaitPanel(),o?(e.showTips(e.Lang.jinnengxuexichenggong),t.skills[i]=a,this.postNotification(n.POKEMON_INFO_UPDATE,t)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.changeMap=function(t){return __awaiter(this,void 0,void 0,function(){var i,a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SetOnhookMapAsync(t)];case 1:return i=o.sent(),i?(19==t?this.getIdleReward(0,!0):19==this.ext.mapId&&(this.ext.getTime=e.getNowTime()),this.ext.mapId=t,a=e.IdleScene.getInstance(),a.onRemove(),a.onStage=!0,this.postNotification(n.IDLE_LEGENDARY_UPDATE),e.showTips(e.Lang.jinruditu,!1),e.hideWaitPanel()):(e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0)),[2]}})})},n.prototype.useBagItem=function(t,n){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.UseItemAsync(t,n)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(e.showTips(e.Lang.shiyongchenggong),this.useItemAndNotify({type:t,count:n}),this.addMailReward(i)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getEquipCount=function(e){for(var t=0,n=0;n<this.equips.length;n++)if(this.equips[n].type==e){t=this.equips[n].count;break}return t},n.prototype.getEquipList=function(t){for(var n=[],i=0;i<this.equips.length;i++){var a=e.Data.TElfBring[this.equips[i].type];a&&a.type==t&&n.push(this.equips[i])}return n},n.prototype.getAllEquip=function(){return this.equips},n.prototype.updateEquipListAndNotify=function(e){for(var t=0;t<e.length;t++)this.updateEquipCount(e[t].type,e[t].count);this.postNotification(n.EQUIP_BAG_UPDATE)},n.prototype.updateEquipCountAndNotify=function(e,t){this.updateEquipCount(e,t),this.postNotification(n.EQUIP_BAG_UPDATE)},n.prototype.updateEquipCount=function(e,t){for(var n=0;n<this.equips.length;n++){var i=this.equips[n];if(i.type==e)return i.count+=t,void(i.count<=0&&this.equips.splice(n,1))}t>0&&this.equips.push({type:e,count:t})},n.prototype.cancelEquip=function(t,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.UnequipBringAsync(t.id,i)];case 1:return o.sent(),e.hideWaitPanel(),a=t.equip[i],this.updateEquipCountAndNotify(a,1),t.equip[i]=0,this.postNotification(n.POKEMON_INFO_UPDATE,t),[2]}})})},n.prototype.equipBring=function(t,i,a){return __awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.EquipBringAsync(t.id,i,a)];case 1:return o=s.sent(),e.hideWaitPanel(),o?(e.showTips(e.Lang.zhuangbeichenggong),t.equip[i]&&this.updateEquipCount(t.equip[i],1),t.equip[i]=a,this.updateEquipCountAndNotify(a,-1),this.postNotification(n.POKEMON_INFO_UPDATE,t)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.upgradeAllEquip=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.UpgradeBringsAsync()];case 1:return t=i.sent(),e.hideWaitPanel(),t?(this.equips=t,this.postNotification(n.EQUIP_BAG_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.GetWBVIPLevel=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return-1!=t?[3,2]:[4,Auth.getWBVipLevel()];case 1:return n=a.sent(),n>0?e.WBFuliDating.getInstance().setData(n).show():e.showTips(e.Lang.zanweikaifang),[3,4];case 2:return[4,e.HttpRequest.GetWbVipItemAsync(t)];case 3:i=a.sent(),i?(this.ext.ALLGiftBag=i,e.CommonTipsPanel.getInstance().setText(e.Lang.jiangliyifasongdaoyoujian).show(),e.WBFuliDating.getInstance().Close(),e.IdleScene.getInstance().updateWB()):e.showTips(e.Lang.chuxiancuowu,!0),a.label=4;case 4:return[2]}})})},n.prototype.upgradeEquip=function(t,n){return void 0===n&&(n=0),__awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.UpgradeBringAsync(t,n)];case 1:return i=s.sent(),e.hideWaitPanel(),i?(e.showTips(e.Lang.shengjichenggong),a=this.getEquipCount(i.source.type),this.updateEquipCountAndNotify(i.source.type,i.source.count-a),o=this.getEquipCount(i.target.type),this.updateEquipCountAndNotify(i.target.type,i.target.count-o),[2,!0]):(e.showTips(e.Lang.chuxiancuowu,!0),[2,!1])}})})},Object.defineProperty(n.prototype,"musicState",{get:function(){var e=egret.localStorage.getItem("music");return e||(egret.localStorage.setItem("music","on"),e="on"),e},enumerable:!0,configurable:!0}),n.prototype.changeMusicState=function(){var e=egret.localStorage.getItem("music");e="on"==e?"off":"on",egret.localStorage.setItem("music",e),this.postNotification(n.MUSIC_CHANGE)},Object.defineProperty(n.prototype,"playerAllRole",{get:function(){return this.teamConfig.roles},enumerable:!0,configurable:!0}),n.prototype.getBadgeList=function(){return this.team.badges},n.prototype.getBadgeLevel=function(t){for(var n=0,i=0;i<this.team.badges.length;i++){var a=e.Data.TPlayerBadge[this.team.badges[i]];a.type==t&&(n=a.level)}return n},n.prototype.checkHasBadge=function(t){for(var n=!1,i=0;i<this.team.badges.length;i++){var a=e.Data.TPlayerBadge[this.team.badges[i]];a.type==t&&(n=!0)}return n},n.prototype.upgradeBadge=function(t){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.UpgradeBadgeAsync(t.id)];case 1:if(i=s.sent(),e.hideWaitPanel(),i){for(e.showTips(e.Lang.shengjichenggong),a=0;a<this.team.badges.length;a++)if(this.team.badges[a]==t.id){this.team.badges[a]=t.nextId;break}this.postNotification(n.BADGE_UPDATE),o=e.splitStringToNumberArray(t.upItems,";"),this.useItemsAndNotify([{type:o[0],count:o[1]},{type:1,count:t.upPrice}]),this.postNotification(n.POKEMON_TEAM_UPDATE)}else e.showTips(e.Lang.chuxiancuowu,!0);return[2]}})})},Object.defineProperty(n.prototype,"playerVip",{get:function(){return this.playerVipLevel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"playerWing",{get:function(){return this.playerInfo.wing},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"playerDecoration",{get:function(){return this.playerInfo.orna},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"playerRecharge",{get:function(){return this.playerInfo.vipExp||0},enumerable:!0,configurable:!0}),n.prototype.setPlayerRecharge=function(t){this.playerInfo.vipExp=t,this.playerVipLevel=e.getVipLevelByRecharge(this.playerInfo.vipExp+this.playerInfo.vip),this.postNotification(n.RECHARGE_UPDATE)},Object.defineProperty(n.prototype,"alreadyBuyGiftList",{get:function(){return this.activityInfo.vipItems},enumerable:!0,configurable:!0}),n.prototype.setRole=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SetRoleAsync(t.id)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(e.showTips(e.Lang.zhuangbeichenggong),this.teamConfig.currentRole=t.id,this.postNotification(n.IDLE_AVATAR_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.buyRole=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){return e.showWaitPanel(),n=e.HttpRequest.BuyRoleAsync(t.id),e.hideWaitPanel(),n?(e.showTips(e.Lang.goumaichenggong),this.addRole(t.id),i=e.splitStringToNumberArray(t.upItems,";"),this.useItemAndNotify({type:i[0],count:i[1]})):e.showTips(e.Lang.chuxiancuowu,!0),[2]})})},n.prototype.addRole=function(e){-1==this.teamConfig.roles.indexOf(e)&&(this.teamConfig.roles.push(e),this.postNotification(n.POKEMON_TEAM_UPDATE))},Object.defineProperty(n.prototype,"teachCount",{get:function(){return this.playerInfo.newGuidNumber},set:function(t){this.playerInfo.newGuidNumber=t,e.HttpRequest.SetNewGuideNumberAsync(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxPokemonLevel",{get:function(){return this.playerInfo.level+this._pokemonLevelAdd},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"playerTitleList",{get:function(){return this.team.titles},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"playerTitle",{get:function(){return this.playerInfo.title},enumerable:!0,configurable:!0}),n.prototype.updateTitle=function(t){this.team.titles=t,e.showTips(e.Lang.gongxininhuodexindechenghao),this.postNotification(n.TITLE_LIST_UPDATE)},n.prototype.equipTitle=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SetTitleAsync(t.id)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(e.showTips(e.Lang.zhuangbeichenggong),this.playerInfo.title=t.id,this.postNotification(n.TITLE_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getShopItemList=function(t){for(var n,i=[],a=0;a<this.activityInfo.shops.length;a++){var o=this.activityInfo.shops[a];if(o.type==t.typeid){n=o;break}}if(t.recoveTime)i=n.items;else for(var a in e.Data.TShop)if(e.Data.TShop.hasOwnProperty(a)){var s=e.Data.TShop[a];if(s.type==t.typeid){for(var r=s.countLimit,u=0;u<n.items.length;u++){var o=n.items[u];s.id==o.type&&(r-=o.count)}i.push({type:s.id,count:r})}}return i.sort(function(e,t){return t.count-e.count}),i},n.prototype.getShopInfo=function(e){for(var t,n=0;n<this.activityInfo.shops.length;n++){var i=this.activityInfo.shops[n];i.type==e.typeid&&(t=i)}return t},Object.defineProperty(n.prototype,"playerFindPokemonList",{get:function(){return this.activityInfo.collections},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"FragmentShopInfo",{get:function(){return this.activityInfo.fragShop},enumerable:!0,configurable:!0}),n.prototype.buyShopItem=function(t,i,a){return __awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.BuyShopItemAsync(t.typeid,i.type,a)];case 1:return o=s.sent(),e.hideWaitPanel(),o?(e.showTips(e.Lang.goumaichenggong),this.useItemsAndNotify(o.costs),this.addMailReward(o.gets),this.activityInfo.shops=o.data,this.postNotification(n.GOODS_INFO_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.refreshShop=function(t,i){return __awaiter(this,void 0,void 0,function(){var a,o;return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.RefreshShopAsync(t.typeid)];case 1:return a=s.sent(),e.hideWaitPanel(),a?(e.showTips(e.Lang.shuaxinchenggong),o=this.getShopInfo(t),o.count=a.count,o.items=a.items,o.time=a.time,i&&this.useItemAndNotify(i),this.postNotification(n.GOODS_INFO_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.recoveryPokemon=function(t){return __awaiter(this,void 0,void 0,function(){var i,a,o,s,a,r,u;return __generator(this,function(l){switch(l.label){case 0:for(i=[],a=0;a<t.length;a++)i.push(t[a].id);return e.showWaitPanel(),[4,e.HttpRequest.CallbackPokemonsAsync(i)];case 1:if(o=l.sent(),e.hideWaitPanel(),o){for(e.showTips(e.Lang.huishouchenggong),s=[],a=0;a<o.length;a++)r=this.getItemCount(o[a].type),u=o[a].count-r,s.push({type:o[a].type,count:u});this.addItemsAndNotify(s),this.deletePokemonListAndNotify(t),this.postNotification(n.GOODS_INFO_UPDATE)}else e.showTips(e.Lang.chuxiancuowu,!0);return[2]}})})},n.prototype.getPvpInfoByType=function(e){var t;return 1==e?t=this.pvpTianTiInfo:2==e&&(t=this.pvpDanTiaoInfo),t&&(t.score=this.pvpScore),t},Object.defineProperty(n.prototype,"pvpTianTiInfo",{get:function(){return this.pvpInfoData.pvpInfo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pvpDanTiaoInfo",{get:function(){return this.pvpInfoData.petPvpInfo},enumerable:!0,configurable:!0}),n.prototype.initPvpInfo=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.pvpTiantiCompetitor?[2,!0]:[4,e.HttpRequest.GetPvPInfoAsync()];case 1:return(t=n.sent())?(this.pvpInfoData=t.pvpInfos,this.pvpTiantiCompetitor=t.rivals,this.pvpDantiaoCompetitor=t.petRivals,[2,!0]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.getPvpCompetitorListByType=function(e){return 1==e?this.pvpTiantiCompetitor:2==e?this.pvpDantiaoCompetitor:void 0},n.prototype.changePvpCompetitor=function(t,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.RefreshPvPMatchListAsync(t,i)];case 1:return a=o.sent(),e.hideWaitPanel(),a&&a.length>0?(e.showTips(e.Lang.shuaxinchenggong),1==i?(this.pvpTiantiCompetitor=a,this.pvpTianTiInfo.lastChangeTime=e.getNowTime(),this.postNotification(n.PVP_TT_COMPETITORS_UPDATE)):2==i&&(this.pvpDantiaoCompetitor=a,this.pvpDanTiaoInfo.lastChangeTime=e.getNowTime(),this.postNotification(n.PVP_PET_COMPETITORS_UPDATE)),t||this.costDiamond(Number(e.Constants.pvpRefreshPrice))):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.endPvpBattle=function(t,i,a){return __awaiter(this,void 0,void 0,function(){var o,s,s;return __generator(this,function(r){switch(r.label){case 0:return[4,e.HttpRequest.EndPvPBattleAsync(t,i.player.playerInfo.id,a)];case 1:return(o=r.sent())?(1==a?(this.pvpInfoData.pvpInfo=o,s=this.pvpTiantiCompetitor.indexOf(i),t&&s>=0&&(this.pvpTiantiCompetitor.splice(s,1),this.postNotification(n.PVP_TT_COMPETITORS_UPDATE))):2==a&&(this.pvpInfoData.petPvpInfo=o,s=this.pvpDantiaoCompetitor.indexOf(i),t&&s>=0&&(this.pvpDantiaoCompetitor.splice(s,1),this.postNotification(n.PVP_PET_COMPETITORS_UPDATE))),this.pvpInfoData.scores=o.score,this.postNotification(n.PVP_INFO_UPDATE),[2,o]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.buyPvpCount=function(t,i){return __awaiter(this,void 0,void 0,function(){var a,o;return __generator(this,function(s){switch(s.label){case 0:return a=this.diamond,t>a?(e.showTips(e.Lang.nindehuobibuzu,!0),[2]):(e.showWaitPanel(),o=!1,3!=i?[3,2]:[4,e.HttpRequest.BuyThrnoeCountAsync()]);case 1:return o=s.sent(),[3,4];case 2:return[4,e.HttpRequest.BuyPvPBattleCountAsync(i)];case 3:o=s.sent(),s.label=4;case 4:return e.hideWaitPanel(),o?(1==i?(this.pvpTianTiInfo.dailyBuyCount++,this.pvpTianTiInfo.remainCount++):2==i?(this.pvpDanTiaoInfo.dailyBuyCount++,this.pvpDanTiaoInfo.remainCount++):3==i&&(this.PvpThroneInfo.buyCount++,this.PvpThroneInfo.lastChallengeCount++),this.postNotification(n.PVP_INFO_UPDATE,i),this.costDiamond(t)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.exchangeLegendaryPokemon=function(t,n){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return this.checkPokemonBagFull()?(e.showTips(e.Lang.nindebaokemengbeibaoyiman,!0),[2]):(e.showWaitPanel(),[4,e.HttpRequest.ExchangePokemonAsync(t.id)]);case 1:return i=a.sent(),e.hideWaitPanel(),i?(e.showTips(e.Lang.duihuanchenggong),this.addPokemonAndNotify(i),this.useItemAndNotify({type:n[0],count:n[1]})):e.showTips(e.Lang.chuxiancuowu),[2]}})})},n.prototype.getMessageList=function(e){return 1==e?this.messageList:this.guildMessageList},n.prototype.getPlayerNoticeList=function(){return this.playerNoticeList},n.prototype.sendMessage=function(t,n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){return e.HttpRequest.SendMessageAsync(t,n),[2]})})},n.prototype.refreshPokemonNature=function(t,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.RefreshCharacterAsync(t.id)];case 1:return a=o.sent(),e.hideWaitPanel(),a?(t.nature=a,this.postNotification(n.POKEMON_INFO_UPDATE,t),this.useItemAndNotify(i),[2,a]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.buyItem=function(t,n){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.BuyItemAsync(t.type,t.count)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(e.showTips(e.Lang.goumaichenggong),this.useItemAndNotify(n),this.addItem(t)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.huntCatChPokemon=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:return[4,e.HttpRequest.HuntAsync(t,n)];case 1:return i=r.sent(),i&&(this.useItem({type:n,count:1}),a=this.getItemCount(13001),a||(o=this.getItemCount(13002),o||(s=this.getItemCount(13003),s||e.NotificationCenter.getInstance().postNotification("enterScene","球用完"))),i.type&&this.addPokemonAndNotify(i)),[2,i]}})})},n.prototype.startHunt=function(t,n){return void 0===n&&(n=null),__awaiter(this,void 0,void 0,function(){var i,a;return __generator(this,function(o){switch(o.label){case 0:return[4,e.HttpRequest.StartHuntAsync(t.id,!!n)];case 1:return i=o.sent(),i?(n?this.useItem(n):(a=t.costItemCount,t.coefficient&&(a+=this.playerInfo.level*t.coefficient),this.useItem({type:t.costItemType,count:a})),[2,!0]):[2,!1]}})})},n.prototype.openHunt=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,e.HttpRequest.OpenHuntAsync()];case 1:return t=n.sent(),t&&(this.huntLootData=t),[2]}})})},n.prototype.getRankList=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return[4,e.HttpRequest.GetRankListAsync(t)];case 1:return n=i.sent(),[2,n]}})})},n.prototype.getPlayerInfo=function(){return this.playerInfo},n.prototype.chargeOrNot=function(e){for(var t=!1,n=0;n<this.activityInfo.recharges.length;n++){var i=this.activityInfo.recharges[n];i.type==e&&i.count>0&&(t=!0)}return t},n.prototype.getFriendList=function(){return this.friendList},n.prototype.updateFriendList=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),t=this,[4,e.HttpRequest.LoadFriendsAsync()];case 1:return t.friendList=n.sent(),e.hideWaitPanel(),[2]}})})},n.prototype.getFriendNotice=function(){return this.friendNotice},n.prototype.getHelpCount=function(e){for(var t=0;t<this.activityInfo.assisted.length;t++){var n=this.activityInfo.assisted[t].fkey;if(n.sid==e.sid&&n.pid==e.pid)return this.activityInfo.assisted[t].assists}return 0},n.prototype.agreeAddFriend=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:return n=Number(e.Constants.maxFriend),i=this.getFriendList(),i.length>=n?(e.showTips(e.Lang.nindehaoyouyiman,!0),[2]):(e.showWaitPanel(),[4,e.HttpRequest.ApointAddFriendAsync(t.id)]);case 1:if(a=r.sent(),e.hideWaitPanel(),a){for(e.showTips(e.Lang.tianjiachenggong),o=0;o<this.friendNotice.length;o++)if(s=this.friendNotice[o].id,s.sid==t.id.sid&&s.pid==t.id.pid){this.friendNotice.slice(o,1);break}return[2,!0]}return e.showTips(e.Lang.duifanghaoyouyiman,!0),[2]}})})},n.prototype.rejectAddFriend=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.IgnoreFriendNoticeAsync(t.id)];case 1:for(a.sent(),e.hideWaitPanel(),n=0;n<this.friendNotice.length;n++)if(i=this.friendNotice[n].id,i.sid==t.id.sid&&i.pid==t.id.pid){this.friendNotice.slice(n,1);break}return[2,!0]}})})},n.prototype.setAssistFriend=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SetAssistFriendAsync(t.id)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(e.showTips(e.Lang.shezhichenggong),this.team.assistFriend=t.id,this.postNotification(n.HELP_POKEMON_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.setGmAssist=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){return e.showWaitPanel(),e.hideWaitPanel(),this.team.assistFriend={pid:-1,sid:-1},this.gmPmInfo=t,this.postNotification(n.HELP_POKEMON_UPDATE),[2]})})},n.prototype.getHelpFriend=function(t){void 0===t&&(t=!1);var n=this.teamConfig.assistFriend;if(n&&(this.currentMission%5!=0||t)){if(-1==n.pid)return this.gmPmInfo||(e.GMFriendItem.getInstance().updateHelpPokemon(),this.gmPmInfo=e.GMFriendItem.getInstance().pokemonInfo),{assist:this.gmPmInfo,camp:0,exp:null,fight:0,gem:0,gender:0,icon:null,id:{pid:-1,sid:-1},level:0,money:null,name:null,newGuidNumber:0,orna:0,recharge:0,title:0,vip:0,wing:0,vipExp:0};for(var i=0;i<this.friendList.length;i++){var a=this.friendList[i].id;if(a.sid==n.sid&&a.pid==n.pid&&this.getHelpCount(a)<e.FriendItem.maxHelpCount)return this.friendList[i]}}},n.prototype.updateFriendNotice=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),t=this,[4,e.HttpRequest.LoadFriendNoticesAsync()];case 1:return t.friendNotice=n.sent(),e.hideWaitPanel(),[2]}})})},n.prototype.applyAddFriend=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return this.friendList.length>=Number(e.Constants.maxFriend)?(e.showTips(e.Lang.nindehaoyouyiman,!0),[2]):(e.showWaitPanel(),[4,e.HttpRequest.ApplyAddFriendAsync(t)]);case 1:return n=i.sent(),e.hideWaitPanel(),n?e.showTips(e.Lang.shenqingchenggong):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getRecentlyHelp=function(){return this.iAssist},n.prototype.getTotalHelp=function(){return this.activityInfo.assists},n.prototype.getSelfHelpPokemon=function(){var e,t=this.team.assist;return t&&(e=this.getPokemonInfoById(t)),e},n.prototype.setSelfHelpPokemon=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SetAssistAsync(t.id)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(e.showTips(e.Lang.shezhichenggong),this.team.assist=t.id):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.useAssistPokemon=function(t){if(-1==t.id.pid)e.DataManager.playerModel.currentMission!=Number(e.Constants.spcStage)&&(e.HttpRequest.GMHelpedAsync(),this.battleProgress.gmHelped++),this.teamConfig.assistFriend=null,this.postNotification(n.HELP_POKEMON_UPDATE);else{this.addFriendPoint(Number(e.Constants.eachFriendPoint)),e.HttpRequest.FriendAssistAsync();for(var i=t.id,a=Number(e.Constants.maxFriendHelp),o=0;o<this.activityInfo.assisted.length;o++){var s=this.activityInfo.assisted[o],r=s.fkey;if(r.sid==i.sid&&r.pid==i.pid)return s.assists++,void(s.assists>=a&&(this.teamConfig.assistFriend=null,this.postNotification(n.HELP_POKEMON_UPDATE)))}var u={fkey:i,assists:1};this.activityInfo.assisted.push(u),u.assists>=a&&(this.teamConfig.assistFriend=null,this.postNotification(n.HELP_POKEMON_UPDATE))}},n.prototype.showPlayerDetail=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.QueryPlayerDetailAsync(t)];case 1:return(n=a.sent())?(i=e.FriendDetail.getInstance(),[4,i.setData(n)]):[3,3];case 2:return a.sent(),i.show(),[3,4];case 3:e.showTips(e.Lang.gaiwanjiabucunzai,!0),a.label=4;case 4:return e.hideWaitPanel(),[2]}})})},n.prototype.getPlayerDetail=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.QueryPlayerDetailAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),[2,n]}})})},n.prototype.deleteFriend=function(t){return __awaiter(this,void 0,void 0,function(){var i,a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.RemoveFriendAsync(t)];
case 1:for(o.sent(),i=0;i<this.friendList.length;i++)if(a=this.friendList[i].id,a.sid==t.sid&&a.pid==t.pid){this.friendList.splice(i,1);break}return e.showTips(e.Lang.shanchuchenggong),this.postNotification(n.DElETE_FRIEND),e.hideWaitPanel(),[2]}})})},n.prototype.getMapPlayer=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.HttpRequest.GetMapPlayersAsync()];case 1:return[2,t.sent()]}})})},n.prototype.updateActivity=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=this,[4,e.HttpRequest.LoadActivitiesAsync()];case 1:return t.activityList=n.sent(),[2]}})})},n.prototype.getActivityList=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.updateActivity()];case 1:return t.sent(),e.updateActivityData(this.activityList),[2,this.activityList]}})})},n.prototype.getGuildList=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,e.HttpRequest.GetGuildListAsync()];case 1:return t=n.sent(),t=t.sort(function(t,n){return e.getGuildTotalDegree(n.buildingList)-e.getGuildTotalDegree(t.buildingList)}),[2,t]}})})},n.prototype.applyAddGuild=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.ApplyJoinGuildAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(this.guildApplyList.push(t),e.showTips(e.Lang.shenqingchenggong)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.searchGuild=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.QueryGuildInfoAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),[2,n]}})})},n.prototype.getMyGuildInfo=function(){return this.myGuildInfo},Object.defineProperty(n.prototype,"guildScience",{get:function(){return this.myGuildInfo&&this.myGuildInfo.scienceInfo?{mSciences:this.myGuildInfo.scienceInfo.mSciences,gSciences:this.myGuildInfo.scienceInfo.gSciences}:null},enumerable:!0,configurable:!0}),n.prototype.createGuild=function(t,n,i,a){return __awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.CreateGuildAsync(n,i,t)];case 1:return o=s.sent(),e.hideWaitPanel(),o?(e.showTips(e.Lang.gongxininchuangjianchenggong),this.useItemAndNotify(a),this.myGuildInfo.guildId=o.id,this.myGuildInfo.position=3,this.guildInfo=o,[2,this.guildInfo]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.leaveGuildPokemon=function(t,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.LeavePokemonAsync(t.id)];case 1:return a=o.sent(),e.hideWaitPanel(),a?(e.showTips(e.Lang.jifangchenggong),this.myGuildInfo.contributionValue-=i.cost,this.myGuildInfo.leavePokemon.push(a),this.postNotification(n.MY_GUILD_INFO_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.addGuildContribute=function(e){this.myGuildInfo.contributionValue+=e,this.postNotification(n.MY_GUILD_INFO_UPDATE)},n.prototype.useGuildContribute=function(e){this.myGuildInfo.contributionValue-=e,this.postNotification(n.MY_GUILD_INFO_UPDATE)},n.prototype.upgradeBuild=function(t,i,a,o,s){return __awaiter(this,void 0,void 0,function(){var r,u,l,c,l,h,l;return __generator(this,function(p){switch(p.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.DonateAsync(i.type,s)];case 1:if(r=p.sent(),e.hideWaitPanel(),r){if(e.showTips(e.Lang.juanzengchenggong),this.useItemAndNotify(t),i.degree+=a,this.myGuildInfo.contributionValue+=o,1==t.type){for(u=void 0,l=0;l<this.myGuildInfo.goldBuilding.length;l++)if(this.myGuildInfo.goldBuilding[l].type==i.type){u=this.myGuildInfo.goldBuilding[l];break}u||(u={type:i.type,count:0},this.myGuildInfo.goldBuilding.push(u)),u.count++}else if(2==t.type){for(c=void 0,l=0;l<this.myGuildInfo.gemBuilding.length;l++)if(this.myGuildInfo.gemBuilding[l].type==i.type){c=this.myGuildInfo.gemBuilding[l];break}c||(c={type:i.type,count:0},this.myGuildInfo.gemBuilding.push(c)),c.count++}else{for(l=0;l<this.myGuildInfo.bootyBuilding.length;l++)if(this.myGuildInfo.bootyBuilding[l].type==i.type){h=this.myGuildInfo.bootyBuilding[l];break}h||(h={type:i.type,count:0},this.myGuildInfo.bootyBuilding.push(h)),h.count++}this.postNotification(n.MY_GUILD_INFO_UPDATE),this.postNotification(n.GUILD_INFO_UPDATE,this.guildInfo)}else e.showTips(e.Lang.chuxiancuowu,!0);return[2]}})})},n.prototype.openBoss=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.OpenGuildBossAsync(t.id)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(this.myGuildBossList.push(t.id),this.myGuildInfo.contributionValue-=t.cost,this.postNotification(n.MY_GUILD_INFO_UPDATE),this.postNotification(n.GUILD_INFO_UPDATE,this.guildInfo),e.showTips(e.Lang.kaiqichenggong)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getDailyQuest=function(){return this.dailyQuests},n.prototype.getAchieveQuest=function(){return this.achieveQuests},n.prototype.getTeachQuest=function(){return this.wizardQuests},n.prototype.checkReceiveLively=function(e){var t=!1;return this.activityInfo.dailyActive.indexOf(e.id)>-1&&(t=!0),t},n.prototype.getQuestReward=function(t){return __awaiter(this,void 0,void 0,function(){var i,a,a,a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetQuestRewardAsync(t.id)];case 1:if(i=o.sent(),e.hideWaitPanel(),i){if(1==t.type){for(a=0;a<this.dailyQuests.length;a++)if(this.dailyQuests[a].id==t.id){this.dailyQuests[a].state=1;break}this.postNotification(n.DAILY_TASK_UPDATE)}else if(2==t.type){for(a=0;a<this.achieveQuests.length;a++)if(this.achieveQuests[a].id==t.id){this.achieveQuests[a].state=1;break}this.postNotification(n.ACHIEVE_TASK_UPDATE)}else if(3==t.type){for(a=0;a<this.wizardQuests.length;a++)if(this.wizardQuests[a].id==t.id){this.wizardQuests[a].state=1;break}this.postNotification(n.WIZARD_TASK_UPDATE)}e.showTips(e.Lang.lingquchenggong),this.addMailReward(i)}else e.showTips(e.Lang.chuxiancuowu,!0);return[2]}})})},n.prototype.getLivelyReward=function(t){return __awaiter(this,void 0,void 0,function(){var i,a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetActiveRewardAsync(t.id)];case 1:return i=o.sent(),e.hideWaitPanel(),i?(e.showTips(e.Lang.lingquchenggong),this.addMailReward(i),this.activityInfo.dailyActive.push(t.id),a=e.IdleRewardPanel.getInstance(),a.setReward(i.items,null),a.show(),this.postNotification(n.DAILY_TASK_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getPlayerStarPokemonByType=function(t){var n=[],i=e.Data.TElf[t],a=[t];i.starPokemon&&(a=e.splitStringToNumberArray(i.starPokemon));for(var o=0;o<this.pmList.length;o++)a.indexOf(this.pmList[o].type)>-1&&n.push(this.pmList[o]);return n},n.prototype.upgradePokemonStar=function(t,i,a){return __awaiter(this,void 0,void 0,function(){var o,s,r,u;return __generator(this,function(l){switch(l.label){case 0:if(e.showWaitPanel(),o=[],i&&i.length>0)for(s=0;s<i.length;s++)o.push(i[s].id);return[4,e.HttpRequest.UpgradePmStarAsync(t.id,o)];case 1:return r=l.sent(),e.hideWaitPanel(),r?(e.showTips(e.Lang.shengxingchenggong),t.star++,this.deletePokemonListAndNotify(i),this.postNotification(n.POKEMON_INFO_UPDATE,t),this.useItemsAndNotify(a),u=e.StarResult.getInstance(),[4,u.setReward(t)]):[3,3];case 2:return l.sent(),u.show(),[2,t];case 3:e.showTips(e.Lang.chuxiancuowu,!0),l.label=4;case 4:return[2]}})})},n.prototype.getOwnGuildInfo=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),t=this,[4,e.HttpRequest.GetGuildBaseInfoAsync()];case 1:return t.guildInfo=o.sent(),this.myGuildBossList=[],[4,e.HttpRequest.GetGuildBossListAsync()];case 2:for(n=o.sent(),i=0;i<n.length;i++)a=n[i],a.playerInfo.id.pid==this.pid&&a.playerInfo.id.sid==this.sid&&this.myGuildBossList.push(a.bossId);return e.hideWaitPanel(),this.guildInfo?[2,this.guildInfo]:(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},Object.defineProperty(n.prototype,"GuildInfo",{get:function(){return this.guildInfo},enumerable:!0,configurable:!0}),n.prototype.changeGuildBadge=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.ChangeGuildIconAsync(t)];case 1:return i.sent(),e.hideWaitPanel(),this.guildInfo.icon=t,this.postNotification(n.GUILD_INFO_UPDATE,this.guildInfo),[2]}})})},n.prototype.changeGuildDeclare=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SetDeclarationAsync(t)];case 1:return i.sent(),this.guildInfo.declaration=t,this.postNotification(n.GUILD_INFO_UPDATE,this.guildInfo),e.showTips(e.Lang.shezhichenggong),e.hideWaitPanel(),[2]}})})},n.prototype.changeGuildNotice=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SetNoticeAsync(t)];case 1:return i.sent(),this.guildInfo.notice=t,this.postNotification(n.GUILD_INFO_UPDATE,this.guildInfo),e.showTips(e.Lang.shezhichenggong),e.hideWaitPanel(),[2]}})})},n.prototype.getGuildApplyList=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetGuildApplicationListAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),[2,t]}})})},n.prototype.approveAddGuild=function(t,i){return __awaiter(this,void 0,void 0,function(){var a,o,s;return __generator(this,function(r){switch(r.label){case 0:return i&&(a=e.getGuildMaxMember(this.guildInfo.buildingList),o=this.guildInfo.memberList.length,o>=a)?(e.showTips(e.Lang.nindegonghuichengyuanyidashangxian,!0),[2]):(e.showWaitPanel(),[4,e.HttpRequest.ApproveJoinGuildAsync(t,i)]);case 1:return s=r.sent(),e.hideWaitPanel(),s?(i&&(this.guildInfo.memberList.push(t),this.postNotification(n.GUILD_INFO_UPDATE,this.guildInfo)),e.showTips(e.Lang.caozuochenggong),[2,s]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.quitGuild=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.QuitGuildAsync()];case 1:return t=i.sent(),e.showTips(e.Lang.tuichuchengong),this.myGuildInfo.guildId=0,this.postNotification(n.MY_GUILD_INFO_UPDATE,this.myGuildInfo),e.hideWaitPanel(),[2]}})})},n.prototype.getGuildMember=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetGuildMemberListAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t=t.sort(function(t,n){var i=n.position-t.position;if(i)return i;var a=e.getVipLevelByRecharge(n.playerInfo.vipExp)-e.getVipLevelByRecharge(t.playerInfo.vipExp);if(a)return a;var o=n.playerInfo.fight-t.playerInfo.fight;if(o)return o;var s=n.dailyContributionValue-t.dailyContributionValue;return s?s:0}),[2,t]}})})},n.prototype.getGuildJournal=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetGuildJournalAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),[2,t]}})})},n.prototype.getLegendaryAreaId=function(){return this.ext.legendaryMap},n.prototype.getLegendaryId=function(){return this.ext.legendaryId},n.prototype.changeMemberPosition=function(t,n){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.AppointAsync(t.playerInfo.id,n)];case 1:return i=a.sent(),e.hideWaitPanel(),i?e.showTips(e.Lang.caozuochenggong):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getMyGuildBossList=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(a){switch(a.label){case 0:return this.myGuildBossList?[3,2]:(e.showWaitPanel(),this.myGuildBossList=[],[4,e.HttpRequest.GetGuildBossListAsync()]);case 1:for(t=a.sent(),n=0;n<t.length;n++)i=t[n],i.playerInfo.id.sid==this.sid&&i.playerInfo.id.pid==this.pid&&this.myGuildBossList.push(i.bossId);e.hideWaitPanel(),a.label=2;case 2:return[2,this.myGuildBossList]}})})},n.prototype.getDonateByPlayer=function(e){this.guildInfo.donate;for(var t in this.guildInfo.donate)if(this.guildInfo.donate[t].player.sid==e.sid&&this.guildInfo.donate[t].player.pid==e.pid)return this.guildInfo.donate[t];return null},n.prototype.initDonate=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.InitDonateAsync(t)];case 1:if(n=a.sent(),e.hideWaitPanel(),n){this.myGuildInfo.isRefreshDonate=1;for(i in this.guildInfo.donate)if(this.guildInfo.donate[i].player.sid==this.sid&&this.guildInfo.donate[i].player.pid==this.pid){this.guildInfo.donate[i].demandItem=t;break}e.showTips(e.Lang.fabuchenggong)}return[2]}})})},n.prototype.donateOther=function(t,n){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.DonateOtherAsync(t,n)];case 1:return i=a.sent(),e.hideWaitPanel(),i&&(this.addMailReward(i),this.useItemAndNotify(n),e.showTips(e.Lang.fabuchenggong)),[2,i]}})})},n.prototype.getGuildBossList=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetGuildBossListAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),[2,t]}})})},n.prototype.enterGuildBoss=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.EnterGuildBossAsync(t.playerInfo.id,t.bossId)];case 1:return i=a.sent(),i&&(this.myGuildInfo.bossCount--,this.postNotification(n.MY_GUILD_INFO_UPDATE)),e.hideWaitPanel(),[2,i]}})})},n.prototype.endGuildBoss=function(t,n){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.EndGuildBossAsync(t.playerInfo.id,t.bossId,n)];case 1:return i=a.sent(),e.hideWaitPanel(),[2,i]}})})},n.prototype.sendGuildBossReward=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SendGuildBossRewardAsync(t)];case 1:return n=a.sent(),e.hideWaitPanel(),n?(i=this.myGuildBossList.indexOf(t),this.myGuildBossList.splice(i,1),e.showTips(e.Lang.fafangchenggongqingcongyouxianglingqu)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getGuildRank=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetGuildBossRankAsync(t.playerInfo.id,t.bossId)];case 1:return n=i.sent(),e.hideWaitPanel(),[2,n]}})})},n.prototype.takeBackPokemon=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o;return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.TakeBackPokemonAsync(t.id)];case 1:if(n=s.sent(),e.hideWaitPanel(),n){for(e.showTips(e.Lang.caozuochenggong),i=0;i<this.myGuildInfo.leavePokemon.length;i++)if(this.myGuildInfo.leavePokemon[i].pokemonId==t.id){this.myGuildInfo.leavePokemon.splice(i,1);break}a=e.copyObject(t),this.updatePokemonInfoAndNotify([n]),o=e.GuildLeavePokemonResult.getInstance(),o.setInfo(a,t),o.show()}else e.showTips(e.Lang.chuxiancuowu,!0);return[2]}})})},n.prototype.endLegendary=function(t,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.EndChallengeAsync(t,i)];case 1:return a=o.sent(),a?t&&(this.getIdleReward(1,!0),this.legendaryInfo[i].info.isChallenge=!1,this.updateMythicalInfo(i,2),this.addBattleReward(a),this.postNotification(n.IDLE_LEGENDARY_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),e.hideWaitPanel(),[2,a]}})})},n.prototype.getMoneyCardTime=function(){return this.activityInfo.monthEnd},n.prototype.getSuperCard=function(){return this.activityInfo.superCard},n.prototype.getActivityReward=function(t,n,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetActivityRewardAsync(t,n)];case 1:if(a=o.sent(),e.hideWaitPanel(),a)switch(e.showTips(e.Lang.lingquchenggong),this.addMailReward(a),t){case 1:this.activityInfo.eventInfo.sevenLg.states.push(n);break;case 105:this.activityInfo.eventInfo.growthPlan.list.push(n);break;case 103:this.activityInfo.superCard=i}return[2]}})})},n.prototype.sweptDungeon=function(t){return __awaiter(this,void 0,void 0,function(){var i,a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),i=[],[4,e.HttpRequest.EndSpecialBattleAsync(0,t.id,!0,i,[])];case 1:return a=o.sent(),a&&(e.DataManager.playerModel.battleProgress.special=a.data,this.postNotification(n.DUNGEON_COUNT_UPDATE),this.addBattleReward(a)),e.hideWaitPanel(),[2]}})})},n.prototype.buyWheelOfFortune=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetHuoZhuanPanAsync()];case 1:return n=a.sent(),n?(t?this.useItem(t):e.DataManager.playerModel.getActivityInfo().eventInfo.zp.mammonRabbit++,i=e.splitStringToNumberArray(e.Data.THuoZhuanPan[n].items,";"),this.addItem({type:i[0],count:i[1]},!1)):e.showTips(e.Lang.chuxiancuowu,!0),e.hideWaitPanel(),[2,n]}})})},n.prototype.addIdleFightCount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return e.HttpRequest.UpdatePreBattleAsync(),this.ext.fights++,[2]})})},n.prototype.getQuitBattleCount=function(){return this.ext.quickBattleCount},n.prototype.getFastBattleReward=function(t){return __awaiter(this,void 0,void 0,function(){var i,a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.EndQuickBattleAsync()];case 1:return(i=o.sent())?(t&&(this.useItemAndNotify(t),this.ext.quickBattleBuyCount++),this.addBattleReward(i),this.ext.quickBattleCount++,this.postNotification(n.QUICK_BATTLE_COUNT_UPDATE),i.pokemons.length>0?(a=e.IdleRewardPanel.getInstance(),[4,a.setReward(null,i.pokemons)]):[3,3]):[3,4];case 2:o.sent(),a.show(),o.label=3;case 3:return e.hideWaitPanel(),[3,5];case 4:e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0),o.label=5;case 5:return[2]}})})},n.prototype.sign=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetSignRewardAsync()];case 1:return t=i.sent(),e.hideWaitPanel(),t?(this.addMailReward(t),this.activityInfo.ext.signState=1,this.signInfo.signed++,this.signInfo.signData.day++,this.postNotification(n.SIGN_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.ReplenishSign=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.ReplenishSignAsync()];case 1:return t=i.sent(),e.hideWaitPanel(),t?(this.addMailReward(t),this.signInfo.signed++,this.signInfo.signData.day++,this.signInfo.signData.limitCount++,this.useItem({type:2,count:this.signInfo.signData.limitCount*Number(e.Constants.ReplenishSignCost)}),this.postNotification(n.SIGN_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.buyVipGift=function(t,n){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.BuyVipItemAsync(t.level)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(this.useItemAndNotify(n),this.addMailReward(i),this.activityInfo.vipItems.push(t.level)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.specialEvolvePokemon=function(t,i,a,o){return __awaiter(this,void 0,void 0,function(){var s,r;return __generator(this,function(u){switch(u.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SuperEvolveAsync(t.id,o)];case 1:return(s=u.sent())?(this.useItemsAndNotify(a),r=e.TeamEvaluationResult.getInstance(),[4,r.create(t.type,i.pokemonId)]):[3,4];case 2:return u.sent(),e.hideWaitPanel(),r.show(),[4,r.play()];case 3:return u.sent(),t.type=i.pokemonId,this.activityInfo.collections.indexOf(t.type)<0&&this.activityInfo.collections.push(t.type),this.postNotification(n.POKEMON_INFO_UPDATE,t),[3,5];case 4:e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0),u.label=5;case 5:return[2]}})})},n.prototype.buyGuildBossCount=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.BuyGuildBossCountAsync()];case 1:return n=i.sent(),e.hideWaitPanel(),n?(e.showTips(e.Lang.goumaichenggong),this.costDiamond(t),this.myGuildInfo.bossCount++,this.activityInfo.ext.guildBossBuyCount++):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.enterRift=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.EnterFamAsync(t)];case 1:if(n=r.sent(),e.hideWaitPanel(),n){for(i=e.DataManager.playerModel.getActivityInfo().ext.famInfo,i.lv=n.lv,a=!1,o=0;o<i.levels.length;o++)if(s=i.levels[o],s.lv==n.lv){i.levels[o]=n,a=!0;break}a||i.levels.push(n)}else e.showTips(e.Lang.chuxiancuowu,!0);return[2,n]}})})},n.prototype.rollRiftDice=function(t,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.FamDiceAsync(t)];case 1:return a=o.sent(),e.hideWaitPanel(),a?t?(this.activityInfo.ext.famInfo.buyCount++,this.useItemAndNotify(i)):(this.activityInfo.ext.famInfo.count++,this.postNotification(n.RIFT_COUNT_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2,a]}})})},n.prototype.endRiftEvent=function(t,n){return void 0===n&&(n=!1),__awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.FamEventLootAsync(n,t)];case 1:return i=a.sent(),e.hideWaitPanel(),i||e.showTips(e.Lang.chuxiancuowu,!0),[2,i]}})})},n.prototype.addRiftReward=function(t){if(this.addBattleReward(t),t.items.length>0){var n=e.IdleRewardPanel.getInstance();n.setReward(t.items,null),n.show()}},n.prototype.getRiftCount=function(){return this._riftFreeCount-this.activityInfo.ext.famInfo.count},n.prototype.getPlayerEquipInfo=function(t){for(var n,i=this.teamConfig.equips,a=0;a<i.length;a++)if(e.Data.TPlayerEquipStren[i[a].equipId].type==t){n=i[a];break}return n},n.prototype.getPlayerEquipList=function(){return this.teamConfig.equips},n.prototype.getPlayerWing=function(t){for(var n=this.teamConfig.wing.owns,i=0;i<n.length;i++)if(e.Data.TWing[n[i].id].type==t)return n[i].id;for(var i in e.Data.TWing)if(e.Data.TWing[i].type==t&&0==e.Data.TWing[i].level)return e.Data.TWing[i].id},n.prototype.getPlayerDecoration=function(t){for(var n=this.teamConfig.orna.owns,i=0;i<n.length;i++)if(e.Data.TOrna[n[i].id].type==t)return n[i].id;for(var i in e.Data.TOrna)if(e.Data.TOrna[i].type==t&&0==e.Data.TOrna[i].level)return e.Data.TOrna[i].id},n.prototype.refinePlayerEquip=function(t,i){return __awaiter(this,void 0,void 0,function(){var a,o,s,r;return __generator(this,function(u){switch(u.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.RefinePlayerEquipAsync(t.refineId,i)];case 1:if(a=u.sent(),e.hideWaitPanel(),a){for(e.showTips(e.Lang.jinglianchenggong),o=[],s=e.Data.TPlayerEquipRefine[t.refineId];s&&s.id!=a.refineId;)r=e.splitStringToNumberArray(s.upItems,";"),o.push({type:r[0],count:r[1]}),s=e.Data.TPlayerEquipRefine[s.nextId];this.useItemsAndNotify(o),t.refineId=a.refineId,this.postNotification(n.POKEMON_TEAM_UPDATE)}else e.showTips(e.Lang.chuxiancuowu,!0);return[2]}})})},n.prototype.upgradePlayerEquip=function(t,i){return __awaiter(this,void 0,void 0,function(){var a,o,s,r;return __generator(this,function(u){switch(u.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.UpgradePlayerEquipAsync(t.equipId,i)];case 1:if(a=u.sent(),e.hideWaitPanel(),a){for(e.showTips(e.Lang.qianghuachenggong),o=[],s=e.Data.TPlayerEquipStren[t.equipId];s&&s.id!=a.equipId;)r=e.splitStringToNumberArray(s.upItems,";"),o.push({type:r[0],count:r[1]}),s=e.Data.TPlayerEquipStren[s.nextId];this.useItemsAndNotify(o),t.equipId=a.equipId,this.postNotification(n.POKEMON_TEAM_UPDATE)}else e.showTips(e.Lang.chuxiancuowu,!0);return[2]}})})},n.prototype.enchantingPlayerEquip=function(t,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.EnchantingPlayerEquipAsync(t.enchantingId,i)];case 1:return a=o.sent(),e.hideWaitPanel(),a?(e.showTips(e.Lang.fumochenggong),this.useItemsAndNotify(i),t.enchantingId=a.enchantingId,t.enchantingProgress=a.enchantingProgress,this.postNotification(n.POKEMON_TEAM_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.upgradeWing=function(t,i){return __awaiter(this,void 0,void 0,function(){var a,o,s;return __generator(this,function(r){switch(r.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.UpgradeWingAsync(t.id,1)];case 1:if(a=r.sent(),e.hideWaitPanel(),a){for(this.useItemAndNotify({type:i[0],count:i[1]}),o=0;o<this.teamConfig.wing.owns.length;o++)if(s=this.teamConfig.wing.owns[o],s.id==t.id)return s.id=a.id,this.postNotification(n.POKEMON_TEAM_UPDATE),[2];this.teamConfig.wing.owns.push(a),this.postNotification(n.POKEMON_TEAM_UPDATE)}else e.showTips(e.Lang.chuxiancuowu,!0);return[2]}})})},n.prototype.upgradeDecoration=function(t,i){return __awaiter(this,void 0,void 0,function(){var a,o,s;return __generator(this,function(r){switch(r.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.UpgradeOrnaAsync(t.id,1)];case 1:if(a=r.sent(),e.hideWaitPanel(),a){for(this.useItemAndNotify({type:i[0],count:i[1]}),o=0;o<this.teamConfig.orna.owns.length;o++)if(s=this.teamConfig.orna.owns[o],s.id==t.id)return s.id=a.id,this.postNotification(n.POKEMON_TEAM_UPDATE),[2];this.teamConfig.orna.owns.push(a),this.postNotification(n.POKEMON_TEAM_UPDATE)}else e.showTips(e.Lang.chuxiancuowu,!0);return[2]}})})},n.prototype.equipWing=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.EquipWingAsync(t.id)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(e.showTips(e.Lang.caozuochenggong),this.playerInfo.wing==t.id?this.playerInfo.wing=null:this.playerInfo.wing=t.id,this.postNotification(n.IDLE_AVATAR_UPDATE)):e.showTips(e.Lang.chuxiancuowu),[2]}})})},n.prototype.equipDecoration=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.EquipOrnaAsync(t.id)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(e.showTips(e.Lang.caozuochenggong),this.playerInfo.orna==t.id?this.playerInfo.orna=null:this.playerInfo.orna=t.id,this.postNotification(n.IDLE_AVATAR_UPDATE)):e.showTips(e.Lang.chuxiancuowu),[2]}})})},n.prototype.unlockFollowSlot=function(t,i){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.OpenFollowSlotAsync()];case 1:return i=a.sent(),e.hideWaitPanel(),i?(e.showTips(e.Lang.jiesuochenggong),2==t[0]&&this.costDiamond(t[1]),this.teamConfig.follows.push(0),this.postNotification(n.FOLLOW_SLOT_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.buyActivityBossCount=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.BuyActivityBattleCountAsync()];case 1:return n=i.sent(),e.hideWaitPanel(),n?(e.showTips(e.Lang.goumaichenggong),this.costDiamond(t),this.activityInfo.eventInfo.acBattle.aBUC++,this.activityInfo.eventInfo.acBattle.aBBC++):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.enterActivityBoss=function(){this.activityInfo.eventInfo.acBattle.aBUC--},n.prototype.buyGrowthPlan=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.BuyGrowthPlanAsync()];case 1:return n=i.sent(),e.hideWaitPanel(),n?(e.showTips(e.Lang.goumaichenggong),this.costDiamond(t),0==this.activityInfo.eventInfo.growthPlan.list.length&&this.activityInfo.eventInfo.growthPlan.list.push(0)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getCDKeyGift=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetCDKeyAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n?e.showTips(e.Lang.lingqulibaochenggong):e.showTips(e.Lang.libaomacuowu,!0),[2]}})})},n.prototype.getLeiJiChongZhiReward=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetSumRechargeGiftAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(e.showTips(e.Lang.lingquchenggong),this.addMailReward(n),this.activityInfo.eventInfo.sumRecharge.State|=1<<t):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.addMailReward=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return t?(this.addItemsAndNotify(t.items),t.pokemons.length>0?(this.addPokemonListAndNotify(t.pokemons),n=e.IdleRewardPanel.getInstance(),[4,n.setReward(null,t.pokemons)]):[3,2]):[2];case 1:i.sent(),n.show(),i.label=2;case 2:return t.newEgg.length>0&&this.addEggList(t.newEgg),t.newEquips.length>0&&this.addNewEquip(t.newEquips),[2]}})})},n.prototype.addNewEquip=function(t){for(var n=0;n<t.length;n++)e.createRewardItem({type:t[n].type,count:1});this.newEquips=this.newEquips.concat(t)},n.prototype.addEggList=function(e){this.extension.incubations=this.extension.incubations.concat(e)},n.prototype.getRivalList=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.rivalList?[3,2]:(e.showWaitPanel(),t=this,[4,e.HttpRequest.GetRivalListAsync()]);case 1:t.rivalList=n.sent(),e.hideWaitPanel(),n.label=2;case 2:return[2,this.rivalList]}})})},n.prototype.setRival=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o;return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),n=this,[4,this.getRivalList()];case 1:return n.rivalList=s.sent(),[4,e.HttpRequest.SignEnemyAsync(t.id)];case 2:if(i=s.sent())for(e.showTips(e.Lang.caozuochenggong),this.rivalList.push(i),a=0;a<this.plunderList.length;a++)o=this.plunderList[a].Enemy.id,o.sid==t.id.sid&&o.pid==t.id.pid&&(this.plunderList.splice(a,1),a--);else e.showTips(e.Lang.chuxiancuowu,!0);return e.hideWaitPanel(),[2]}})})},n.prototype.deleteRival=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o;
return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),n=this,[4,this.getRivalList()];case 1:return n.rivalList=s.sent(),[4,e.HttpRequest.DeleteEnemyAsync(t.id)];case 2:if(i=s.sent()){for(e.showTips(e.Lang.caozuochenggong),a=0;a<this.rivalList.length;a++)if(o=this.rivalList[a].Info.id,o.sid==t.id.sid&&o.pid==t.id.pid){this.rivalList.splice(a,1);break}}else e.showTips(e.Lang.chuxiancuowu,!0);return e.hideWaitPanel(),[2]}})})},Object.defineProperty(n.prototype,"MiningData",{get:function(){return this.miningData},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tansuoli",{get:function(){return this.miningData.tansuoli},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"MiningOccupyData",{get:function(){return this.miningOccupyData},enumerable:!0,configurable:!0}),n.prototype.changeTansuoli=function(e){e&&(this.miningData.tansuoli+=e,this.postNotification(n.MINING_INFO_UPDATE))},n.prototype.collectionArrayAdd=function(e){for(var t=0;t<this.miningCollectData.length;t++){var n=this.miningCollectData[t];if(n.position[0]==e.position[0]&&n.position[1]==e.position[1])return}this.miningCollectData.push(e)},n.prototype.miningCheckChangeLevel=function(){return this.miningDigData.length||this.miningCollectData.length},n.prototype.miningCheckContinueDig=function(t){for(var n=0;n<this.miningDigData.length;n++){var i=this.miningDigData[n];if(i.hang==t.miningDigInfo.hang&&i.lie==t.miningDigInfo.lie)return t.miningDigInfo=i,t.startDigTime=i.time,void e.MiningPanel.getInstance().continueDig(t)}},n.prototype.miningAddDigData=function(t){for(var n=0;n<this.miningDigData.length;n++){var i=this.miningDigData[n];if(i.hang==t.position[0]&&i.lie==t.position[1])return}t.miningDigInfo.time=e.getNowTime(),this.miningDigData.push(t.miningDigInfo)},n.prototype.miningReduceDigData=function(e){for(var t=0;t<this.miningDigData.length;t++){var n=this.miningDigData[t];if(n.hang==e.position[0]&&n.lie==e.position[1])return void this.miningDigData.splice(t,1)}},n.prototype.miningAutoResult=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.miningCreateDataInfo()];case 1:return e.sent(),[2]}})})},n.prototype.miningChangeItemState=function(t,n){if(this.miningData)for(var i=this.miningData.itemData,a=0;a<i.length;a++)if(i[a].position[0]==t.position[0]&&i[a].position[1]==t.position[1])return void(i[a].state=n);e.showTips(e.Lang.chuxiancuowu,!0)},n.prototype.miningCreateDateDetail=function(e){for(var t=0,n=0,i=[],a=0;a<e.cubes.length;a++){var o=e.cubes[a],s={id:o.id,state:o.state,item:o.item,floor:Math.min(Math.floor(5*Math.random()),4),position:[t,n]};if(i.push(s),n++,n>=10&&(t++,n=0),t>=12)break}this.miningDigData=e.dig,this.miningOccupyData=e.occupy,this.miningCollectData=[],this.miningData={level:e.lv,maxLevel:e.maxLv,tansuoli:e.tansuoli,last:e.last,itemData:i}},n.prototype.miningCreateDataInfo=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetMiningInfoAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t?this.miningCreateDateDetail(t):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.miningDig=function(t,i){return __awaiter(this,void 0,void 0,function(){var a,o;return __generator(this,function(s){switch(s.label){case 0:return[4,e.HttpRequest.DigMiningAsync(t.position[0],t.position[1],i)];case 1:return a=s.sent(),a?(i?(o={type:Number(e.Constants.bombId),count:1},this.useItem(o)):(this.changeTansuoli(-1),this.miningAddDigData(t)),this.postNotification(n.MINING_INFO_UPDATE),[2,!0]):(e.showTips(e.Lang.chuxiancuowu,!0),[2,!1])}})})},n.prototype.miningStartAuto=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.StartAutoDigAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n.result&&(this.changeTansuoli(-t),this.miningAutoData={count:n.count,startDate:n.startTime},e.MainCity.getInstance().initAutoMiningData()),[2]}})})},n.prototype.miningChangeLevel=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.ChangeMiningFloorAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n?this.miningCreateDateDetail(n):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.miningOccupy=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return[4,e.HttpRequest.OccupyMiningAsync(t.position[0],t.position[1])];case 1:return n=i.sent(),n?(this.miningOccupyData.push(n),t.startOccupyTime=n.time):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.miningPickOccupy=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:for(n=this.miningOccupyData,i=0;i<n.length;i++)if(n[i].id==t){e.MiningPanel.getInstance().occupyReward(n[i]),n.splice(i,1);break}return[4,e.HttpRequest.PickOccupyMiningAsync(t)];case 1:return a=o.sent(),a?this.addItemAndNotify(a):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.miningPickAllCheck=function(){return __awaiter(this,void 0,void 0,function(){var e,t,n,i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:for(e=[],t=[],n=this.miningCollectData,i=0,a=0;i<n.length;i++)o=n[i],o&&!o.alreadyReceive&&4!=o.state&&(o.alreadyReceive=!0,o.loot&&0!=o.loot.count&&(e.push({type:o.miningDigInfo.hang,count:o.miningDigInfo.lie}),t.push(o)),a++);return e.length>0?[4,this.miningPickAll(e)]:[3,2];case 1:s=r.sent(),s||(t=[]),r.label=2;case 2:return[2,t]}})})},n.prototype.miningPickAll=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.PickAllMiningAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(this.miningCollectData=[],this.addItemsAndNotify(n),[2,!0]):(e.showTips(e.Lang.chuxiancuowu,!0),[2,!1])}})})},n.prototype.miningPick=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return[4,e.HttpRequest.PickMiningAsync(t.position[0],t.position[1])];case 1:return n=a.sent(),n?(this.addItemAndNotify(n),i=this.miningCollectData.indexOf(t),i>-1&&this.miningCollectData.splice(i,1),e.MiningPanel.getInstance().collectAnimation(t)):(egret.warn("error: miningPick result id"+n+"and miningItem is "+t),e.showTips(e.Lang.chuxiancuowu,!0)),[2]}})})},n.prototype.miningKillBoss=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.KillMiningBossAsync(t.position[0],t.position[1])];case 1:return n=i.sent(),e.hideWaitPanel(),n?t.changeState(4):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.buyTansuoli=function(t,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.BuyTansuoliAsync()];case 1:return a=o.sent(),e.hideWaitPanel(),a?(this.ext.buyTansuoliCount++,this.useItemAndNotify(t),this.changeTansuoli(i),this.postNotification(n.MINING_INFO_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.buyBomb=function(t,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.BuyBombAsync()];case 1:return a=o.sent(),e.hideWaitPanel(),a?(this.ext.buyBombCount++,this.useItemAndNotify(t),this.addItem({type:Number(e.Constants.bombId),count:i}),this.postNotification(n.MINING_INFO_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getIdlePokemonCount=function(){return this.ext.dpms},n.prototype.getIdleItemCount=function(){return this.ext.ditems},n.prototype.getFlashElfReward=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetFlashElfGifAsync(t.ID)];case 1:return n=i.sent(),n?[4,this.addMailReward(n)]:[3,3];case 2:return i.sent(),e.hideWaitPanel(),e.showTips(e.Lang.lingquchenggong),this.activityInfo.eventInfo.flashElf.states.push({type:t.ID,count:t.Money}),[3,4];case 3:e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0),i.label=4;case 4:return[2]}})})},n.prototype.getDiamondSpendGift=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetDiamondSpendGifAsync(t.ID)];case 1:return n=i.sent(),n?[4,this.addMailReward(n)]:[3,3];case 2:return i.sent(),e.hideWaitPanel(),e.showTips(e.Lang.lingquchenggong),this.activityInfo.eventInfo.diamondSpend.states.push({type:t.ID,count:t.Price}),[3,4];case 3:e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0),i.label=4;case 4:return[2]}})})},n.prototype.getPremiumPacksInfo=function(e){for(var t=this.activityInfo.eventInfo.premiumPacks.states,n=0;n<t.length;n++)if(t[n].type==e)return t[n];var i={type:e,count:0};return t.push(i),i},n.prototype.buyPremiumPacks=function(t,n,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.BuyPremiumPacksAsync(t)];case 1:return(a=o.sent())?(this.useItemAndNotify(n),[4,this.addMailReward(a)]):[3,3];case 2:return o.sent(),e.hideWaitPanel(),e.showTips(e.Lang.goumaichenggong),i.count++,[3,4];case 3:e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0),o.label=4;case 4:return[2]}})})},n.prototype.getDailyRechargedGift=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetDailyRechargedGiftAsync(t.ID)];case 1:return n=i.sent(),n?[4,this.addMailReward(n)]:[3,3];case 2:return i.sent(),e.hideWaitPanel(),e.showTips(e.Lang.lingquchenggong),this.activityInfo.eventInfo.dailyRecharged.states.push(t.ID),[3,4];case 3:e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0),i.label=4;case 4:return[2]}})})},n.prototype.getDailyDiamondSpendGift=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetDailyDiamondSpendGiftAsync(t.ID)];case 1:return n=i.sent(),n?[4,this.addMailReward(n)]:[3,3];case 2:return i.sent(),e.hideWaitPanel(),e.showTips(e.Lang.lingquchenggong),this.activityInfo.eventInfo.dailyDiamondSpend.states.push(t.ID),[3,4];case 3:e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0),i.label=4;case 4:return[2]}})})},n.prototype.sweepTower=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SweepTowerAsync()];case 1:return t=i.sent(),e.hideWaitPanel(),t?(this.addBattleReward(t),this.battleProgress.towerLv=t.levelId,this.battleProgress.towerCount++,this.postNotification(n.CAVE_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.checkPokemon=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.HttpRequest.CheckBattlePmsAsync(this.playerTeamPokemonList,this.teamConfig.helpAttribute)];case 1:return[2,t.sent()]}})})},n.prototype.updateMySteryShopInfo=function(t){if(!this.mysteryShopInfo){this.mysteryShopInfo={};for(var n in e.Data.TMagicShop)if(e.Data.TMagicShop.hasOwnProperty(n)){var i=e.Data.TMagicShop[n];this.mysteryShopInfo[i.OpenLv]||(this.mysteryShopInfo[i.OpenLv]={lastTime:0,items:[]});var a=e.splitStringToNumberArray(i.item,";");this.mysteryShopInfo[i.OpenLv].items[i.ID]={tableID:i.ID,goods:{type:a[0],count:a[1]},rechargeID:i.recharge,price:i.price,limit:i.limit,lastCount:0}}}if(t)for(var n in this.mysteryShopInfo)if(Number(n)==t.freshCount){var o=this.mysteryShopInfo[n],s=(e.getNowTime().getTime()-t.last.getTime())/1e3|0;o.lastTime=Math.max(0,60*Number(e.Constants.MysteryShopTIME)-s);for(var r=0;r<t.items.length;r++){var a=o.items[t.items[r].index];a&&(a.lastCount=Math.max(t.items[r].item.type,0))}break}},n.prototype.getMysteryShopInfo=function(){var e;for(var t in this.mysteryShopInfo)this.playerLevel>=Number(t)&&(e=null,this.mysteryShopInfo[t].lastTime>0&&(e=this.mysteryShopInfo[t]));return e},n.prototype.buyMysteryShopItem=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,SDK.recharge(e.info.rechargeID)];case 1:return t.sent(),e.info.lastCount--,[2]}})})},n.prototype.getPlayerLvReachGift=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetPlayerLvReachGiftAsync(t.ID)];case 1:return n=i.sent(),n?[4,this.addMailReward(n)]:[3,3];case 2:return i.sent(),e.hideWaitPanel(),e.showTips(e.Lang.lingquchenggong),this.activityInfo.eventInfo.playerLvReach.list.push(t.ID),[3,4];case 3:e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0),i.label=4;case 4:return[2]}})})},n.prototype.getDailyRechargeGiftReward=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetDailyRechargeGiftRewardAsync(t.ID)];case 1:return n=i.sent(),n?[4,this.addMailReward(n)]:[3,3];case 2:return i.sent(),e.hideWaitPanel(),e.showTips(e.Lang.lingquchenggong),this.activityInfo.eventInfo.dailyRechargeGift.states.push(t.ID),[3,4];case 3:e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0),i.label=4;case 4:return[2]}})})},n.prototype.getMammonRabbitGift=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:return t=this.activityInfo.eventInfo.mammonRabbit.mammonRabbit,e.showWaitPanel(),[4,e.HttpRequest.GetMammonRabbitGiftAsync(this.activityInfo.eventInfo.mammonRabbit.mammonRabbit)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(e.showTips(e.Lang.lingquchenggong),this.useItemsAndNotify(n.costs),this.addMailReward(n.gets),t==this.activityInfo.eventInfo.mammonRabbit.mammonRabbit&&this.activityInfo.eventInfo.mammonRabbit.mammonRabbit++):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},Object.defineProperty(n.prototype,"extension",{get:function(){for(var e=0;e<this.ext.incubations.length;e++)0==this.ext.incubations[e].pet&&this.ext.incubations.splice(e,1);return this.ext},enumerable:!0,configurable:!0}),n.prototype.swapDebris=function(t,n){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SwapDebrisAsync(t.id,n)];case 1:return i=a.sent(),i?[4,this.addMailReward(i.gets)]:[3,3];case 2:return a.sent(),e.hideWaitPanel(),e.showTips(e.Lang.duihuanchenggong),this.useItemsAndNotify(i.costs),this.extension.debrisSwap++,[3,4];case 3:e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0),a.label=4;case 4:return[2]}})})},n.prototype.recoveryItem=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.RecoverPlayerItemAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(e.showTips(e.Lang.huishouchenggong),this.useItemsAndNotify(n.costs),this.addMailReward(n.gets)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getPetTypeAttribute=function(t){for(var n=0;n<this.teamConfig.petTypeAttributeLvs.length;n++){var i=this.teamConfig.petTypeAttributeLvs[n],a=e.Data.TPlayerItemRecover[i.id];if(a.type==t)return i}for(var n in e.Data.TPlayerItemRecover){var a=e.Data.TPlayerItemRecover[n];if(a.type==t&&0==a.level){var i={id:a.id,exp:0};return this.teamConfig.petTypeAttributeLvs.push(i),i}}},n.prototype.upgradePetTypeAttributeLv=function(t,i){return __awaiter(this,void 0,void 0,function(){var a,o;return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.UpgradePetTypeAttributeLvAsync(t,i)];case 1:return a=s.sent(),e.hideWaitPanel(),a?(e.showTips(e.Lang.shiyongchenggong),this.useItemsAndNotify(a.costs),o=this.getPetTypeAttribute(e.Data.TPlayerItemRecover[t].type),o.id=a.petTypeAttributeLv.id,o.exp=a.petTypeAttributeLv.exp,i||this.extension.itemReCount++,this.postNotification(n.POKEMON_TEAM_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},Object.defineProperty(n.prototype,"meetPvpCount",{get:function(){return this.extension.dEngagedCount},enumerable:!0,configurable:!0}),n.prototype.updatePvpRankInfo=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),t=this,[4,e.HttpRequest.GetRankPvPInfoAsync()];case 1:return t.pvpRankInfo=n.sent(),e.hideWaitPanel(),[2]}})})},n.prototype.getPvpRankInfo=function(){return this.pvpRankInfo},n.prototype.getMyPvpRankInfo=function(){return this.pvpRankInfo.myInfo},n.prototype.signPvpRank=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SignUpRankPvPAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t?(this.pvpRankInfo.myInfo=t,e.showTips(e.Lang.baomingchenggong)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getDungeonData=function(e){return this.dungeonData&&this.dungeonData.id==e?this.dungeonData:void 0},n.prototype.loadDungeonData=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return n=this,[4,e.HttpRequest.GetTDungeonAsync(t)];case 1:return n.dungeonData=i.sent(),[2]}})})},n.prototype.startRankPvp=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,e.HttpRequest.StartRankPvPAsync()];case 1:return t=n.sent(),[2,t]}})})},n.prototype.endRankPvpBattle=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),i=n?n.playerInfo.id:e.DataManager.playerModel.playerInfo.id,a=this.pvpRankInfo,[4,e.HttpRequest.EndRankPvPWithAsync(i,t)];case 1:return a.myInfo=o.sent(),e.hideWaitPanel(),[2,this.pvpRankInfo.myInfo]}})})},n.prototype.getJinJiMembers=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,e.HttpRequest.GetJinJiMembersAsync()];case 1:return t=n.sent(),[2,t]}})})},n.prototype.getSignUpMembers=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,e.HttpRequest.GetSignUpMembersAsync()];case 1:return t=n.sent(),[2,t]}})})},n.prototype.endRankPvpMission=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),n=this.pvpRankInfo,[4,e.HttpRequest.ClassificationAsync(t)];case 1:return n.myInfo=i.sent(),e.hideWaitPanel(),[2,this.pvpRankInfo.myInfo]}})})},n.prototype.sweptRift=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SweepFamAsync()];case 1:return n=i.sent(),e.hideWaitPanel(),n?(this.activityInfo.ext.famInfo.count+=t,this.addBattleReward(n)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getOnlineReward=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetOnlineRewardAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t?(this.addBattleReward(t),this.extension.getOnline=t.levelId,this.extension.lastGetOnline=t.levelTime,e.showTips(e.Lang.lingquchenggong)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.superEvolvePokemon=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.REvolveAsync(t.id)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(e.showTips(e.Lang.chaojinhuachenggong),this.useItemsAndNotify(i.costs),t.advance++,this.postNotification(n.POKEMON_INFO_UPDATE,t)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getCollentReward=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetCollentRewardAsync(t)];case 1:if(n=o.sent(),e.hideWaitPanel(),n){for(e.showTips(e.Lang.duihuanchenggong),this.useItemsAndNotify(n.costs),this.addMailReward(n.gets),i=this.activityInfo.eventInfo.collent.collents,a=0;a<i.length;a++)if(i[a].type==t)return i[a].count++,[2];i.push({type:t,count:1})}else e.showTips(e.Lang.chuxiancuowu,!0);return[2]}})})},n.prototype.setSkillSetting=function(t,n,i){var a=i+1;a>5&&(a=1),e.HttpRequest.SetSkillSettingAsync(t.id,n,a);for(var o=0;o<t.skillSettings.length;o++){var s=t.skillSettings[o];if(s.slot==n)return void(s.sort=a)}t.skillSettings.push({slot:n,sort:a})},n.prototype.getFurnitureTypeCount=function(e){for(var t=0,n=0;n<this.homeInfo.furnitures.length;n++)this.homeInfo.furnitures[n].type==e&&t++;return t},n.prototype.makeFurniture=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.MakeFurnitureAsync(t)];case 1:return n=a.sent(),e.hideWaitPanel(),n?(e.showTips(e.Lang.dazaochenggong),this.homeInfo.furnitures.push(n.furniture),this.sortFurniture(),this.useItemsAndNotify(n.cost),i=e.HomeMakeFurnitureReward.getInstance(),i.setInfo(n.furniture),i.show()):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.sortFurniture=function(){this.homeInfo&&(this.homeInfo.furnitures=this.homeInfo.furnitures.sort(function(e,t){return e.quality<t.quality?1:-1}))},n.prototype.UpgradeFurniture=function(t,n){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.UpgradeFurnitureAsync(t.id)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(e.showTips(e.Lang.shengjichenggong),t.level=n.furniture.level,this.useItemsAndNotify(n.cost),t.placed&&this.updateHomeAttribute()):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.upgradeHome=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.UpgradeHomeAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t?(e.showTips(e.Lang.shengjichenggong),this.homeInfo.level=t.level,this.updateHomeAttribute(),this.useItemsAndNotify(t.cost),e.HomeScene.getInstance().updateHomeInfo(t.level,this.settingFurniture.length)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.fSearch=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.FSearchAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t?(this.addMailReward(t),this.homeInfo.search++):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.fGashapon=function(t,n){return void 0===n&&(n=null),__awaiter(this,void 0,void 0,function(){var i,a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.FGashaponAsync(t)];case 1:return i=o.sent(),e.hideWaitPanel(),i?(i.price&&i.price.type&&this.useItem(i.price),n&&(a=i.gashaponInfo,n.remainCount=a.remainCount,n.time=a.time,n.count=a.count),this.addItemsAndNotify(i.items)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.loadHomeInfo=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),t=this,[4,e.HttpRequest.GetMyHomeInfoAsync()];case 1:return t.homeInfo=n.sent(),e.hideWaitPanel(),this.homeInfo?(this.updateSettingFurniture(),this.sortFurniture()):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.recycleFurniture=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.RecycleFurnitureAsync(t.id)];case 1:return n=a.sent(),e.hideWaitPanel(),n?(this.addItemsAndNotify(n.cost),i=this.homeInfo.furnitures.indexOf(t),-1!=i&&this.homeInfo.furnitures.splice(i,1)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.makeArtifact=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.MakeArtifactAsync(t)];case 1:return n=a.sent(),e.hideWaitPanel(),n?(this.teamConfig.artifacts.push(n.artifact),this.useItemsAndNotify(n.cost),e.showTips(e.Lang.dazaochenggong),i=e.HomeMakeEquipResult.getInstance(),i.setInfo(n.artifact),i.show()):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.equipArtifact=function(t,i,a){return __awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.EquipArtifactAsync(t.id,i.id)];case 1:return o=s.sent(),e.hideWaitPanel(),o?(t.artifact=i.id,i.equip=t.id,a&&(a.equip=0),e.showTips(e.Lang.zhuangbeichenggong),this.postNotification(n.POKEMON_INFO_UPDATE,t),[2,!0]):(e.showTips(e.Lang.chuxiancuowu,!0),[2,!1])}})})},n.prototype.cancelEquipArtifact=function(t,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.EquipArtifactAsync(t.id,0)];case 1:return a=o.sent(),e.hideWaitPanel(),a?(t.artifact=0,i.equip=0,e.showTips(e.Lang.caozuochenggong),this.postNotification(n.POKEMON_INFO_UPDATE,t),[2,!0]):(e.showTips(e.Lang.chuxiancuowu,!0),[2,!1])}})})},n.prototype.upgradeArtifactLv=function(t,i,a){return __awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.UpgradeArtifactLvAsync(i.id,a)];case 1:return o=s.sent(),e.hideWaitPanel(),o?(e.showTips(e.Lang.qianghuachenggong),this.useItemsAndNotify(o.cost),i.level=o.artifact.level,i.exp=o.artifact.exp,this.postNotification(n.POKEMON_INFO_UPDATE,t)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.upgradeArtifactStar=function(t,i){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.UpgradeArtifactStarAsync(i.id)];case 1:return t=a.sent(),e.hideWaitPanel(),t?(e.showTips(e.Lang.shengxingchenggong),this.useItemsAndNotify(t.cost),i.star=t.artifact.star,this.postNotification(n.POKEMON_INFO_UPDATE,i)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.resetArtifact=function(t,n,i,a){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.ResetArtifactAsync(n.id,i)];case 1:return t=o.sent(),e.hideWaitPanel(),t?(e.showTips(e.Lang.caozuochenggong),this.useItemAndNotify(a),n.exts=t.exts):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.recycleArtifact=function(t,i){return __awaiter(this,void 0,void 0,function(){var a,o;return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.RecycleArtifactAsync(i.id)];case 1:return a=s.sent(),e.hideWaitPanel(),a?(t&&(t.artifact=0,this.postNotification(n.POKEMON_INFO_UPDATE,t)),o=this.teamConfig.artifacts.indexOf(i),-1!=o&&this.teamConfig.artifacts.splice(o,1),this.addItemsAndNotify(a.cost),e.showTips(e.Lang.caozuochenggong),[2,!0]):(e.showTips(e.Lang.chuxiancuowu,!0),[2,!1])}})})},n.prototype.updateFollowLove=function(){return __awaiter(this,void 0,void 0,function(){var t,i,a,o;return __generator(this,function(s){switch(s.label){case 0:return[4,e.HttpRequest.UpdateFollowLoveAsync()];case 1:if(t=s.sent()){for(i=0;i<t.length;i++)a=t[i],o=this.getPokemonInfoById(a.id),o&&(o.intimacy=a.intimacy,o.intimacyLv=a.intimacyLv);this.postNotification(n.POKEMON_TEAM_UPDATE)}return[2]}})})},n.prototype.getEggSlotInfo=function(e){return this.extension.incubationgrids[e-1]},n.prototype.unlockEggSlot=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.UnlockgridAsync()];case 1:return n=i.sent(),e.hideWaitPanel(),n?(e.showTips(e.Lang.kaiqichenggong),this.extension.incubationgrids.push({start:e.getNowTime(),current:null}),t.buy&&this.costDiamond(t.buy)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.StartIncubation=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),i=e.DataManager.playerModel.extension.incubationgrids.indexOf(t)+1,[4,e.HttpRequest.StartIncubationAsync(i,n.id)];case 1:return a=s.sent(),e.hideWaitPanel(),a?(e.showTips(e.Lang.caozuochenggong),t.current=n,t.start=e.getNowTime(),o=e.DataManager.playerModel.extension.incubations.indexOf(n),e.DataManager.playerModel.extension.incubations.splice(o,1)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getEggPm=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),n=e.DataManager.playerModel.extension.incubationgrids.indexOf(t)+1,[4,e.HttpRequest.GetpmAsync(n)];case 1:return(i=o.sent())?(this.addPokemonAndNotify(i),t.current=null,a=e.IdleRewardPanel.getInstance(),[4,a.setReward(null,[i])]):[3,3];case 2:return o.sent(),a.show(),[3,4];case 3:e.showTips(e.Lang.chuxiancuowu,!0),o.label=4;case 4:return e.hideWaitPanel(),[2]}})})},n.prototype.GetTDecenniumGift=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetTDecenniumGiftAsync(t.id)];case 1:return n=i.sent(),n?[4,this.addMailReward(n.reward)]:[3,3];case 2:return i.sent(),e.hideWaitPanel(),e.showTips(e.Lang.lingquchenggong),this.activityInfo.eventInfo.tdecennium=n.tenGetGift,[3,4];case 3:e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0),i.label=4;case 4:return[2]}})})},n.prototype.GetFunctionOpenReward=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetFunctionOpenRewardAsync()];case 1:return t=i.sent(),e.hideWaitPanel(),this.extension.fOpenId++,this.postNotification(n.FUNCTION_UPDATE),this.addMailReward(t),[2]}})})},n.prototype.getDonateCount=function(t,n){void 0===n&&(n=!1);var i=this.myGuildInfo.scienceInfo.gCount,a=Number(e.Constants.guildSciencegoldCoun);n&&(i=this.myGuildInfo.scienceInfo.mCount,a=Number(e.Constants.guildScienceCount));for(var o=0;o<i.length;o++)if(i[o].type==t)return Math.max(0,a-i[o].count);return a},n.prototype.getScienceInfo=function(e,t){void 0===t&&(t=!1);var n=this.myGuildInfo.scienceInfo.gSciences;t&&(n=this.myGuildInfo.scienceInfo.mSciences);for(var i=0;i<n.length;i++)if(n[i]&&n[i].id==e)return n[i];var a={id:e,lv:0,exp:0};return n.push(a),n.sort(function(e,t){return e.id-t.id}),a},n.prototype.getGuildTechnologyJournal=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetGuildJournalAsync()];case 1:for(t=a.sent(),e.hideWaitPanel(),n=[],i=0;i<t.length;i++)2301==t[i].type&&n.push(t[i]);return[2,n]}})})},n.prototype.donateMyScience=function(t,i){return __awaiter(this,void 0,void 0,function(){var a,o;
return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.DonatePersonalScienceAsync(t,i)];case 1:return a=s.sent(),e.hideWaitPanel(),a?(o=this.getScienceInfo(a.science.id,!0),o.lv=a.science.lv,o.exp=a.science.exp,this.myGuildInfo.scienceInfo.mCount.push({type:t,count:i}),this.useItemAndNotify(a.price),this.postNotification(n.GUILD_MYTECHNOLOGY_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.donateGuildScience=function(t,i){return __awaiter(this,void 0,void 0,function(){var a,o,s,r;return __generator(this,function(u){switch(u.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.DonateGuildScienceAsync(t,i)];case 1:if(a=u.sent(),e.hideWaitPanel(),a){o=this.getScienceInfo(a.science.id),o.lv=a.science.lv,o.exp=a.science.exp,s=this.myGuildInfo.scienceInfo.gCount;for(r in s)if(s[r].type==t){this.myGuildInfo.scienceInfo.gCount[r].count++;break}this.useItemAndNotify(a.price),this.postNotification(n.GUILD_GUILDTECHNOLOGY_UPDATE)}else e.showTips(e.Lang.chuxiancuowu,!0);return[2]}})})},n.prototype.GetElfTask=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetElfTaskAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),[2,t]}})})},n.prototype.GetElfTaskReward=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetElfTaskRewardAsync(t,n)];case 1:if(i=s.sent(),e.hideWaitPanel(),i){a=[];for(o in n)a.push(this.getPokemonInfoById(n[o]));this.deletePokemonListAndNotify(a),this.addMailReward(i)}return[2,i]}})})},n.prototype.EndBattleSubway=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.EndBattleSubwayAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(this.addItemsAndNotify(n.gets.items),0==this.battleProgress.BattleSubway[0].pet&&1==n.info[0].pet?e.CommonTipsPanel.getInstance().setImage("langs/Tx_gongxigg","langs/Tx_shenliguonei","ui/scene/idle/Tx_zhenzhidl").show():0==this.battleProgress.BattleSubway[1].pet&&1==n.info[1].pet&&e.CommonTipsPanel.getInstance().setImage("langs/Tx_gongxigg","langs/Tx_shenliguoji","ui/scene/idle/Tx_zhenzhidl").show(),this.battleProgress.BattleSubway=n.info,e.Subway.getInstance().updateLevel(),[2,n]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.updateSubwayInfo=function(e){},n.prototype.SweepBattleSubway=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SweepBattleSubwayAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t?(this.updateSubwayInfo(t.info),[2,t]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.UpgradeSubway=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},n.prototype.BuyBattleSubway=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.BuyBattleSubwayAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t?(e.showTips(e.Lang.goumaichenggong),this.costDiamond(t.price),this.updateSubwayInfo(t.subwayInfo)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.GetTHuoPoliteGift=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetFesLoginRewardAsync(t.id)];case 1:return n=i.sent(),n?[4,this.addMailReward(n)]:[3,3];case 2:return i.sent(),e.hideWaitPanel(),e.showTips(e.Lang.lingquchenggong),this.activityInfo.eventInfo.fesLogin.states.push(t.id),[3,4];case 3:e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0),i.label=4;case 4:return[2]}})})},n.prototype.getGoldenEggsItem=function(e){return this.activityInfo.eventInfo.goldenEggs.items[e]},n.prototype.getGoldenEggsItems=function(){return this.activityInfo.eventInfo.goldenEggs.items},n.prototype.OpenDan=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.HitGoldenEggsAsync(t)];case 1:return n=a.sent(),e.hideWaitPanel(),n?(i=this.getGoldenEggsItem(t),i&&(i.item=n,i.state=e.JinDanState.canReward),this.useItemAndNotify({type:10151,count:1}),e.ZaJinDanPanel.getInstance().runAnim()):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.rewardDan=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetGoldenEggsAsync(t)];case 1:return n=i.sent(),n?[4,this.addMailReward(n.reward)]:[3,3];case 2:return i.sent(),e.hideWaitPanel(),this.activityInfo.eventInfo.goldenEggs=n.goldenEggs,e.ZaJinDanPanel.getInstance().update(),[3,4];case 3:e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0),i.label=4;case 4:return[2]}})})},n.prototype.upgradeEffort=function(t,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.UpgradeEffortLvAsync(t.id)];case 1:return a=o.sent(),e.hideWaitPanel(),a?(e.showTips(e.Lang.shengjichenggong),t.effortLv++,i&&this.useItemsAndNotify([i]),this.postNotification(n.POKEMON_INFO_UPDATE,t)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.rewardFirstGroupon=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetFirstGrouponAsync(t)];case 1:return n=i.sent(),n?[4,this.addMailReward(n.reward)]:[3,3];case 2:return i.sent(),e.hideWaitPanel(),this.activityInfo.eventInfo.firstGroupon.states[t]=1,this.sEventData.firstGroupon=n.sFirstGroupon,[3,4];case 3:e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0),i.label=4;case 4:return[2]}})})},n.prototype.drawDiamond=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.DrawDiamondAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t?(this.useItemAndNotify({type:2,count:t.type}),e.DrawDiamondPanel.getInstance().runAnim({type:2,count:t.count})):(e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0)),[2]}})})},n.prototype.rewardDrawDiamond=function(e){this.addItemAndNotify(e)},n.prototype.getProgressByDataID=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:switch(n=0,i=t){case 1:return[3,1];case 2:return[3,2];case 3:return[3,3]}return[3,6];case 1:return n=this.currentMission,[3,6];case 2:return n=this.battleProgress.maxTowerLv,[3,6];case 3:return this.myGuildInfo.guildId?(a=this,[4,e.HttpRequest.GetGuildBaseInfoAsync()]):[3,5];case 4:a.guildInfo=o.sent(),n=e.getGuildTotalDegree(this.guildInfo.buildingList),o.label=5;case 5:return[3,6];case 6:return[2,n]}})})},n.prototype.getOpenCompetitionItem=function(e){for(var t,n=this.activityInfo.eventInfo.openCompetition.items,i=0;i<n.length;i++)if(n[i].id==e){t=n[i];break}return t||(t={id:e,state:0,progress:0},n.push(t)),t},n.prototype.rewardKaiFuJingSai=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetOpenCompetitionAsync(t)];case 1:return n=a.sent(),n?[4,this.addMailReward(n)]:[3,3];case 2:return a.sent(),i=this.getOpenCompetitionItem(t),i.state=t,e.hideWaitPanel(),[3,4];case 3:e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0),a.label=4;case 4:return[2]}})})},n.prototype.getKaiFujingSaiRank=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,o,o,s;return __generator(this,function(r){switch(r.label){case 0:switch(n=[],i=[],a=t.id){case 4:return[3,1];case 5:return[3,3];case 6:return[3,5]}return[3,7];case 1:return[4,this.getRankList(0)];case 2:for(i=r.sent().ranks,o=0;o<i.length;o++)n.push({data:t,rank:i[o].rank,name:i[o].info.name,detail:e.Lang.zhanli+i[o].value});return[2,n];case 3:return[4,this.getRankList(6)];case 4:for(i=r.sent().ranks,o=0;o<i.length;o++)n.push({data:t,rank:i[o].rank,name:i[o].info.name,detail:e.Lang.zuiqiangjinglingzhanli+i[o].value});return[2,n];case 5:return[4,e.HttpRequest.GetOpenCompetitionRankPvPRankListAsync()];case 6:for(i=r.sent(),o=0;o<i.length;o++)s=e.Data.TRankHonorLv[i[o].honor],s&&n.push({data:t,rank:o+1,name:i[o].name,detail:s.dec+"  "+e.Lang.fenshu+i[o].victoryCount});return[2,n];case 7:return[2]}})})},n.prototype.SwapDebrisToPet=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SwapDebrisToPetAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(e.showTips(e.Lang.duihuanchenggong),this.useItemsAndNotify(n.costs),this.addMailReward(n.gets)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.OmnipotentSwapDebris=function(t,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.OmnipotentSwapDebrisAsync(t,i)];case 1:return a=o.sent(),e.hideWaitPanel(),a?(e.showTips(e.Lang.duihuanchenggong),this.postNotification(n.PIECE_UPDATE),this.useItemsAndNotify(a.costs),this.addMailReward(a.gets)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.GetFirstFailedReward=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetFirstFailedRewardAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t?(e.DataManager.playerModel.extension.gotFailed=1,this.addMailReward(t)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getSign=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.GetSignInfo()];case 1:return e.sent(),[2,this.signInfo]}})})},n.prototype.GetSignInfo=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetSignInfoAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t?this.signInfo=t:e.showTips(e.Lang.chuxiancuowu),[2]}})})},n.prototype.getZhongQiuJZReward=function(t){return __awaiter(this,void 0,void 0,function(){var i,a,o=this;return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetCollentMidRewardAsync(t)];case 1:return i=s.sent(),e.hideWaitPanel(),i?(e.showTips(e.Lang.duihuanchenggong),this.useItemsAndNotify(i.costs),this.addMailReward(i.gets),a=function(e){for(var t=o.activityInfo.eventInfo.thuoMidfestival.collents,n=0;n<t.length;n++)if(t[n].type==e)return void t[n].count++;t.push({type:e,count:1})},a(t),this.postNotification(n.ZHONGQIU_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getZhongQiuYBReward=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetCakeRewardAsync(t)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(e.showTips(e.Lang.lingquchenggong),this.addMailReward(i.ret),this.activityInfo.eventInfo.tmoonCake=i.moonCake,this.postNotification(n.ZHONGQIU_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.feedYuanYuan=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.FeetPmYuanAsync(t)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(e.showTips(e.Lang.weiyangchenggong),this.useItemAndNotify(t),this.activityInfo.eventInfo.tyuanyuan=i,this.postNotification(n.ZHONGQIU_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.GetTYuanReward=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetTYuanRewardAsync(t)];case 1:return i=a.sent(),i?(this.addMailReward(i),e.hideWaitPanel(),e.showTips(e.Lang.lingquchenggong),this.activityInfo.eventInfo.tyuanyuan.PickUp.push(t),this.postNotification(n.ZHONGQIU_UPDATE)):(e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0)),[2]}})})},n.prototype.updateGymInfo=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetGymInfosAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t?(this.gymList=t,[2,!0]):(e.showTips(e.Lang.chuxiancuowu,!0),[2,!1])}})})},n.prototype.getGymInfo=function(e){for(var t=0;t<this.gymList.length;t++){var n=this.gymList[t];if(n.id==e)return n}var i={id:e,mission:0,bossInfo:null};return this.gymList.push(i),i},n.prototype.getGymTeamInfo=function(e){for(var t=this.playerGymInfo.teamList,n=0;n<t.length;n++){var i=t[n];if(i.id==e)return i}var a={id:e,pokemonList:[],hpState:[]};if(0==e)for(var o=this.teamConfig.gridConfig,n=0;n<o.length;n++)a.pokemonList.push(o[n].id),a.hpState.push(100);return this.playerGymInfo.teamList.push(a),a},Object.defineProperty(n.prototype,"totalGymPokemon",{get:function(){for(var e=[],t=0;t<this.playerGymInfo.teamList.length;t++){var n=this.playerGymInfo.teamList[t];e=e.concat(n.pokemonList)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalZhankuangPokemon",{get:function(){var e=[];if(this.treasurePlayer&&this.treasurePlayer.team)for(var t=0;t<this.treasurePlayer.team.length;t++){var n=this.treasurePlayer.team[t];if(n.pmsId&&n.pmsId.length>0)for(var i=0;i<n.pmsId.length;i++)e.push(n.pmsId[i])}return e},enumerable:!0,configurable:!0}),n.prototype.changeGymPokemon=function(t,n,i){return __awaiter(this,void 0,void 0,function(){var a,o;return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SwapGYMTeamMemberAsync(t.id,i.id,n.id)];case 1:return a=s.sent(),e.hideWaitPanel(),a?(e.showTips(e.Lang.caozuochenggong),o=t.pokemonList.indexOf(n.id),o>-1&&(t.pokemonList[o]=i.id)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.cancelGymPokemon=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SetGymTeamAsync(t.id,n.id)];case 1:return i=o.sent(),e.hideWaitPanel(),i?(e.showTips(e.Lang.caozuochenggong),a=t.pokemonList.indexOf(n.id),a>-1&&(t.pokemonList.splice(a,1),t.hpState.splice(a,1))):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.equipGymPokemon=function(t,n){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SetGymTeamAsync(t.id,n.id)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(e.showTips(e.Lang.caozuochenggong),t.hpState.push(100),t.pokemonList.push(n.id)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.enterGym=function(t,i){return __awaiter(this,void 0,void 0,function(){var i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.EnterGYMRoomAsync(t.id)];case 1:if(i=r.sent(),e.hideWaitPanel(),i){for(t.mission=i.mission,t.bossInfo=i.bossInfo,a=0;a<this.playerGymInfo.teamList.length;a++)for(o=this.playerGymInfo.teamList[a],o.hpState=[],s=0;s<o.pokemonList.length;s++)o.hpState.push(100);return this.postNotification(n.GYM_INFO_UPDATE),[2,i]}return e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.selectGymTeam=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SelectGYMTeamAsync(t.id)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(this.playerGymInfo.selectTeam=t.id,this.postNotification(n.GYM_SELECT_TEAM)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.endGymBattle=function(t,i,a,o,s){return __awaiter(this,void 0,void 0,function(){var r,u,l,c,h,p,g,d;return __generator(this,function(m){switch(m.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.EndGYMBattleAsync(s,o,a)];case 1:return r=m.sent(),e.hideWaitPanel(),r?(this.addItemsAndNotify(r.items),this.playerGymInfo.honorLevel=r.gold,this.playerGymInfo.honorExp=r.exp,t.hpState=a,s?(u=e.Data.TGYMStageInfo[i.mission],u.NextMission?i.mission=u.NextMission:i.mission=-1,[3,5]):[3,2]):[3,6];case 2:for(l=void 0,c=0;c<this.playerGymInfo.teamList.length;c++){for(h=this.playerGymInfo.teamList[c],p=!1,g=0;g<h.hpState.length;g++)if(d=h.hpState[g],d>0){p=!0;break}if(p){l=h;break}}return l?[4,this.selectGymTeam(l)]:[3,4];case 3:return m.sent(),[3,5];case 4:i.mission=-1,m.label=5;case 5:return this.postNotification(n.GYM_INFO_UPDATE),[2,r];case 6:e.showTips(e.Lang.chuxiancuowu,!0),m.label=7;case 7:return[2]}})})},n.prototype.getPvpRankReward=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetRankGrowAsync(t)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(e.showTips(e.Lang.lingquchenggong),this.addMailReward(i),this.ext.pvpReward.push(t),this.postNotification(n.PVP_RANK_REWARD_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.quitChallengeGym=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.LeaveGYMRoomAsync()];case 1:return i=a.sent(),e.hideWaitPanel(),i?(t.mission=-1,this.postNotification(n.GYM_INFO_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.buyGYMWheelOfFortune=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.DrawGYMTurntableAsync()];case 1:return n=a.sent(),n?(t&&this.useItem(t),i=e.splitStringToNumberArray(e.Data.TGYMReward[n.id].items,";"),this.addItem({type:i[0],count:i[1]},!1)):e.showTips(e.Lang.chuxiancuowu,!0),e.hideWaitPanel(),[2,n.id]}})})},n.prototype.getGymRank=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetGYMRankListAsync(t.id)];case 1:return n=i.sent(),e.hideWaitPanel(),[2,n]}})})},Object.defineProperty(n.prototype,"eggLayPick",{get:function(){return this.ext.mart.pick},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"eggLayParentID",{get:function(){return this.ext.mart.matingPm},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"eggLayLove",{get:function(){return this.ext.mart.loves},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"eggLayTime",{get:function(){return this.ext.mart.time},enumerable:!0,configurable:!0}),n.prototype.getLayEggType=function(t){t||(t=this.ext.mart.id);var n=e.Data.TElf[t];return n?n.quality:1},n.prototype.addEggParents=function(t){var n=this,i=this.getPokemonInfoById(this.eggLayParentID[0]),a=this.getPokemonInfoById(t),o=e.Data.TPetBreeding[1];if(!(e.Data.TElfBan[a.type]||i&&i.id==a.id)){if(a&&e.Data.TElf[a.type]&&5==e.Data.TElf[a.type].quality)return void e.showTips(e.Lang.shenshounengliguoqing,!0);if(this.eggLayParentID.length>=2)return void e.showTips(e.Lang.waqiangjiaoshibai,!0);if(i&&i.gender==a.gender)return void e.showTips(e.Lang.tongxingxiangchi,!0);if(a.lv<o.openLevel)return void e.showTips(e.formatString(e.Lang.jinglingdengjiguodi,o.openLevel),!0);if(i&&Math.abs(i.lv-a.lv)>o.changeLevel)return void e.showTips(e.formatString(e.Lang.jinglingdengjuchajuguoda,o.changeLevel),!0);if(0==this.eggLayParentID.length&&1==this.ext.mart.pick)return void e.showTips(e.Lang.baokemengdanweilingqu,!0);var s=e.CheckPanel.getInstance(),r=e.formatString(e.Lang.shifouxiaohaoyouqingdian,Number(e.Constants.requrePoint));s.setData(r,function(i){i&&(n.activityInfo.friendPoint>=Number(e.Constants.requrePoint)?n.setEggParents(t):e.showTips(e.Lang.nindedaojubuzu,!0))}),s.show()}},n.prototype.setEggParents=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.AddmatingPetAsync(t)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(this.ext.mart=i,e.EggLayPanel.getInstance().noChild=!1,this.useItemAndNotify({type:4,count:Number(e.Constants.requrePoint)}),this.postNotification(n.EGG_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.reduceEggParents=function(t){return __awaiter(this,void 0,void 0,function(){var i,a;return __generator(this,function(o){switch(o.label){case 0:return i=this.eggLayParentID.indexOf(t),i>-1?(e.showWaitPanel(),[4,e.HttpRequest.OffmatingPetAsync(t)]):[3,2];case 1:a=o.sent(),e.hideWaitPanel(),a?(e.showTips(e.Lang.quhuichenggong),this.ext.mart=a,e.EggLayPanel.getInstance().noChild=!1,this.postNotification(n.EGG_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),o.label=2;case 2:return[2]}})})},n.prototype.eggLayResult=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetRawEggAsync(this.eggLayParentID[0],this.eggLayParentID[1])];case 1:return t=i.sent(),e.hideWaitPanel(),t?(t.loves>this.ext.mart.loves&&1!=t.pick?e.EggLayPanel.getInstance().noChild=!0:e.EggLayPanel.getInstance().noChild=!1,this.ext.mart=t,this.postNotification(n.EGG_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getEggLayReward=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetPmMatAsync()];case 1:return t=i.sent(),e.hideWaitPanel(),t?(e.showTips(e.Lang.lingquchenggong),this.ext.incubations=t.incubation,this.ext.mart=t.mart,this.postNotification(n.EGG_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getXinShouChongReward=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetNewSumRechargeAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(e.showTips(e.Lang.lingquchenggong),this.addMailReward(n),this.activityInfo.eventInfo.primeCharge.states.push(t),e.XinShouChong.getInstance().upDate(),e.ActivityPanel.updateCurrentIconPoint()):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.buyGymCount=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.BuyGYMBattleAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t?(e.showTips(e.Lang.goumaichenggong),this.costDiamond(t.price),this.playerGymInfo.buyCount=t.info.buyCount,this.playerGymInfo.resetCount=t.info.resetCount,this.playerGymInfo.honorExp=t.info.honorExp,this.playerGymInfo.honorLevel=t.info.honorLevel):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.resetGym=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.ResetGYMAsync(t.id)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(e.showTips(e.Lang.daoguanchongzhichenggong),this.playerGymInfo.resetCount++,t.bossInfo=i.bossInfo,t.mission=i.mission,this.postNotification(n.GYM_INFO_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.checkDungeonCanAuto=function(e){return-1!=this.battleProgress.special.pass.indexOf(e)},n.prototype.getEveryDayReward=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetEveryDayRechargeAsync(t.id)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(e.showTips(e.Lang.lingquchenggong,!0),this.activityInfo.eventInfo.everyday.receive.push(t.id),this.addMailReward(n)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.GetRechargeElfin=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetRechargeElfinAsync(0)];case 1:return t=n.sent(),e.hideWaitPanel(),t?(e.showTips(e.Lang.lingquchenggong),this.addMailReward(t.get),this.activityInfo.eventInfo.rechargeElf=t.data):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getVipGift=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetVipGiftAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(e.showTips(e.Lang.lingquchenggong),this.addMailReward(n),this.ext.vipGift.push(t)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.changeName=function(t,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.RenameAsync(t)];case 1:return a=o.sent(),e.hideWaitPanel(),a?(this.costDiamond(i),this.playerInfo.name=t,this.postNotification(n.NAME_UPDATE),e.showTips(e.Lang.xiugaichenggong),e.updateUserInfoGave("ChangeName")):e.showTips(e.Lang.mingchengchongfuhuobuhefa,!0),[2,a]}})})},n.prototype.GetAppointmentGift=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetAppointmentGiftAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(this.activityInfo.eventInfo.appointment=n.data,this.addMailReward(n.get),e.showTips(e.Lang.lingquchenggong)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.GetGoldByDamind=function(t,n,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.ConversionsAsync(t)];case 1:return a=o.sent(),e.hideWaitPanel(),a?(this.ext.buyGodCount++,this.useItemAndNotify(n),this.addItemAndNotify({type:i.type,count:i.count*a}),e.ZuanShiDianjin.getInstance().runAnim(a)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.GetTimingGift=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetTimingGiftAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(e.showTips(e.Lang.lingquchenggong),this.addMailReward(n),this.activityInfo.eventInfo.timing.list.push(t)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.GetChristmasEve=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetChristmasEveAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(e.showTips(e.Lang.lingquchenggong),this.addMailReward(n.get),this.activityInfo.eventInfo.christmasEve=n.data):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},Object.defineProperty(n.prototype,"lvReward",{get:function(){return this.activityInfo.eventInfo.lvReward},enumerable:!0,configurable:!0}),n.prototype.getLevelUpReward=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetPlayerLvRewardAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t?(e.showTips(e.Lang.lingquchenggong),this.addMailReward(t.get),this.activityInfo.eventInfo.lvReward=t.data.State):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.RebirthPokemon=function(t,i){return __awaiter(this,void 0,void 0,function(){var a,o,s;return __generator(this,function(r){switch(r.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.RebornPokemonsAsync(t,1==i.type?1:0)];case 1:if(a=r.sent(),e.hideWaitPanel(),a){for(e.showTips(e.Lang.lingquchenggong),o=e.copyObject(a.pokemons[0]),s=0;s<this.pmList.length;s++)if(this.pmList[s].id==o.id){this.pmList[s]=o;break}a.pokemons=[],this.addMailReward(a),this.useItemAndNotify(i),this.postNotification(n.POKEMON_INFO_UPDATE,o)}else e.showTips(e.Lang.chuxiancuowu,!0);return[2]}})})},n.prototype.RefreshCommendFriends=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.RefreshCommendFriendsAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t?(this.extension.lastCommend=t.lastCommend,[2,t.commends]):(e.showTips(e.Lang.chuxiancuowu,!0),[2,null])}})})},n.prototype.getActivityInfoByType=function(e){if(this.activityList)for(var t=0;t<this.activityList.length;t++)if(this.activityList[t].type==e)return this.activityList[t];return null},Object.defineProperty(n.prototype,"lvAc2List",{get:function(){return this.activityInfo.eventInfo.lvAc2.list},enumerable:!0,configurable:!0}),n.prototype.GetLvAc2=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetLvAc2Async(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(this.addMailReward(n),this.activityInfo.eventInfo.lvAc2.list.push(t)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.DrawLuckZhuanPan=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.DrawLuckZhuanPanAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t?(this.useItemsAndNotify(t.costs),this.activityInfo.eventInfo.luckZhuanPan=t.data,[2,t]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.UpgradeLuckZhuanPan=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.UpgradeLuckZhuanPanAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t?(this.addMailReward(t.gets),this.activityInfo.eventInfo.luckZhuanPan=t.data,[2,t]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.BuyLuckZhuanPan=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.BuyLuckZhuanPanAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(e.showTips(e.Lang.goumaichenggong),this.addMailReward(n.gets),this.activityInfo.eventInfo.luckZhuanPan=n.data):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.checkGuildName=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.CheckGuildNameAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n==t?[2,n]:(e.showTips(e.Lang.mingchengchongfuhuobuhefa,!0),[2])}})})},n.prototype.unlockPokemonGift=function(t,i,a){return __awaiter(this,void 0,void 0,function(){var o,s,r;return __generator(this,function(u){switch(u.label){case 0:if(e.showWaitPanel(),!(a&&a.length>0))return[3,2];for(s=[],r=0;r<a.length;r++)s.push(a[r].id);return[4,e.HttpRequest.UnlockLastTalentAsync(t.id,s)];case 1:return o=u.sent(),[3,4];case 2:return[4,e.HttpRequest.UnlockTalentAsync(t.id)];case 3:o=u.sent(),u.label=4;case 4:return e.hideWaitPanel(),o?(t.gift=o.gift,t.giftAbility=o.giftAbility,t.giftEquip=o.giftEquip,t.giftSkill=o.giftSkill,t.isUnlock=o.isUnlock,this.postNotification(n.POKEMON_INFO_UPDATE,t),this.deletePokemonListAndNotify(a),this.useItemsAndNotify(i)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.selectPokemonGift=function(t,i,a,o,s){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.LearnTalentAsync(s.id,t)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(s.giftAbility=i.giftAbility,s.gift=i.gift,s.giftSkill=i.giftSkill,s.giftEquip=i.giftEquip,s.isUnlock=i.isUnlock,this.postNotification(n.POKEMON_INFO_UPDATE,s),[2,!0]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])
}})})},n.prototype.resetGift=function(t){return __awaiter(this,void 0,void 0,function(){var i,a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.ResetTalentAsync(t.id)];case 1:return i=o.sent(),e.hideWaitPanel(),i?(this.useItemsAndNotify(i.costs),a=i.gets.pokemons[0],a&&(t.giftAbility=a.giftAbility,t.gift=a.gift,t.giftSkill=a.giftSkill,t.giftEquip=a.giftEquip,t.skills=a.skills,t.skillSettings=a.skillSettings,this.postNotification(n.POKEMON_INFO_UPDATE,a)),[2,!0]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.getYuanDanRewardIntgral=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetYuandanRewardIntegralAsync(t.item.type)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(e.showTips(e.Lang.lingquchenggong),this.activityInfo.eventInfo.yuandanReward=n,[2,n]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.getYuanDanReward=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetYuandanRewardAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(e.showTips(e.Lang.lingquchenggong),this.addMailReward(n.get),this.activityInfo.eventInfo.yuandanReward=n.data,[2,n.data]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.duihuanStone=function(t,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.ChangeUniversalBellAsync(t,i)];case 1:return a=o.sent(),e.hideWaitPanel(),a?(this.extension.universalBell+=i,this.addMailReward(a.gets),this.useItemsAndNotify(a.costs),e.showTips(e.Lang.duihuanchenggong),this.postNotification(n.STONE_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.UpgradeNewEquip=function(t,i,a,o,s){return __awaiter(this,void 0,void 0,function(){var r,u,l,c,h,c,p;return __generator(this,function(g){switch(g.label){case 0:for(e.showWaitPanel(),r=0,u=0,i>0?(r=t.id,u=i-1):(r=0,u=a.id),l=[],c=0;c<o.length;c++)l.push(o[c].id);return[4,e.HttpRequest.UpgradeNewEquipAsync(r,u,l)];case 1:if(h=g.sent(),e.hideWaitPanel(),h){for(c=0;c<o.length;c++)p=this.newEquips.indexOf(o[c]),this.newEquips.splice(p,1);return a.level=h.data.level,a.exp=h.data.exp,a.levelEffect=h.data.levelEffect,a.extEffect=h.data.extEffect,this.postNotification(n.NEW_EQUIP_UPDATE,a),i>0&&this.postNotification(n.POKEMON_INFO_UPDATE,t),this.useItemAndNotify({type:1,count:s}),[2,!0]}return e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.UnequipNewEquip=function(t,i,a){return __awaiter(this,void 0,void 0,function(){var o,s;return __generator(this,function(r){switch(r.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.UnequipNewEquipAsync(t.id,a-1)];case 1:return o=r.sent(),e.hideWaitPanel(),o?(e.showTips(e.Lang.caozuochenggong),s=t.newEquip.indexOf(i),t.newEquip[s]=null,i.id=o,this.addNewEquip([i]),a>0&&this.postNotification(n.POKEMON_INFO_UPDATE,t)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.EquipNewEquip=function(t,i){return __awaiter(this,void 0,void 0,function(){var a,o,s,r;return __generator(this,function(u){switch(u.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.EquipNewEquipAsync(t.id,i.id)];case 1:return a=u.sent(),e.hideWaitPanel(),a?(e.showTips(e.Lang.zhuangbeichenggong),o=e.Data.Tequip[i.type].position,t.newEquip[o-1]&&(s=t.newEquip[o-1],s.id=a,this.addNewEquip([s])),r=this.newEquips.indexOf(i),this.newEquips.splice(r,1),t.newEquip[o-1]=i,this.postNotification(n.POKEMON_INFO_UPDATE,t)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.LockNewEquip=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.LockNewEquipAsync(t.id)];case 1:return n=i.sent(),e.hideWaitPanel(),t.locked=n,[2]}})})},n.prototype.GetSevendaysReward=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetSevendaysRewardAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(this.addMailReward(n.get),this.activityInfo.eventInfo.sevendays=n.data,e.showTips(e.Lang.lingquchenggong)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.GetSevendaysTypeReward=function(t,n){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetSevendaysTypeRewardAsync(t,n)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(this.addMailReward(i.get),this.activityInfo.eventInfo.sevendays=i.data,e.showTips(e.Lang.lingquchenggong)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.GetOneYuanRecharge=function(t){return void 0===t&&(t=0),__awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetOneYuanRechargeAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n&&(this.activityInfo.oneYuanRecharge=2,e.showTips(e.Lang.lingquchenggong,!0),this.addMailReward(n)),[2]}})})},n.prototype.getTreasureInfo=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetTreasureInfoAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t?(this.treasureInfo=t,[2,t]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.getTreasurePlayerInfoAsync=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetTreasurePlayerInfoAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t?this.treasurePlayer=t:e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.changeTreasureTeamPokemon=function(t,n,i,a){return __awaiter(this,void 0,void 0,function(){var o,s;return __generator(this,function(r){switch(r.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SetTreasureTeamAsync(a+1,i.id,n.id)];case 1:if(o=r.sent(),e.hideWaitPanel(),o){for(e.showTips(e.Lang.caozuochenggong),s=0;s<t.pmsId.length;s++)if(t.pmsId[s]==n.id){t.pmsId[s]=i.id;break}}else e.showTips(e.Lang.chuxiancuowu,!0);return[2]}})})},n.prototype.cancelTreasureTeamPokemon=function(t,n,i){return __awaiter(this,void 0,void 0,function(){var a,o;return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SetTreasureTeamAsync(i+1,n.id,-1)];case 1:return a=s.sent(),e.hideWaitPanel(),a?(e.showTips(e.Lang.caozuochenggong),o=t.pmsId.indexOf(n.id),t.pmsId.splice(o,1)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.equipTreasureTeamPokemon=function(t,n,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SetTreasureTeamAsync(i+1,n.id,-1)];case 1:return a=o.sent(),e.hideWaitPanel(),a?(e.showTips(e.Lang.caozuochenggong),t.pmsId.push(n.id)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.endTreasureBattle=function(t,n,i){return void 0===i&&(i=!1),__awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.AttackTreasureEndAsync(n,i)];case 1:return a=o.sent(),e.hideWaitPanel(),a?(n&&(t.treasureInfo=a.data),[2,a.data]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.getTreasureRevenge=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetTreasureRevengeAsync(t.id)];case 1:return n=i.sent(),e.hideWaitPanel(),n?[2,n]:(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.GetTreasureReward=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetTreasureRewardAsync(t.id)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(this.addItemAndNotify(n),t.reward=null):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.GetDailyVipGift=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetDailyVipGiftAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(e.showTips(e.Lang.lingquchenggong),this.extension.dVipGift.push(t)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.RequstMapSpeedUp=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return[4,e.HttpRequest.MapSpeedAsync()];case 1:return(n=i.sent())?(this.useItemAndNotify({type:2,count:t}),[2,n]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.GetMapInfo=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,e.HttpRequest.GetMapInfoAsync()];case 1:return(t=n.sent())?[2,t]:(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.RecordMapDataAsync=function(t,n){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return[4,e.HttpRequest.RecordMapDataAsync(t,n)];case 1:return(i=a.sent())?[2,i]:(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.SetPvpDanTiaoPet=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SetPetPvpPmAsync(t)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(this.pvpDanTiaoInfo.petId=t,this.postNotification(n.PVP_PET_CHANGE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.endThroneBattle=function(t,i,a){return __awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(s){switch(s.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.EndThroneBattleAsync(t,i,a)];case 1:return o=s.sent(),e.hideWaitPanel(),o?(o.id&&o.PlayerData&&(this.PvpThroneInfo.computers[o.id]=o.PlayerData),this.PvpThroneInfo.lastChallengeCount--,this.PvpThroneInfo.lastChallengeCount=Math.max(0,this.PvpThroneInfo.lastChallengeCount),this.postNotification(n.PVP_INFO_UPDATE,3),[2,{}]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},Object.defineProperty(n.prototype,"PvpThroneInfo",{get:function(){return this.pvpThroneInfo},enumerable:!0,configurable:!0}),n.prototype.updateThroneInfo=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetThroneInfoAsync()];case 1:if(t=o.sent(),e.hideWaitPanel(),t){for(n={},i={},a=0;a<t.player.pms.length;a++)t.player.pms[a]&&(n[t.player.pms[a].throneId]=t.player.pms[a].pmsId);for(a=0;a<t.throneInfo.length;a++)t.throneInfo[a]&&(i[t.throneInfo[a].id]=t.throneInfo[a].PlayerData);this.pvpThroneInfo={playerPms:n,lastChallengeCount:t.player.throneCount,buyCount:t.player.buyThroneCount,computers:i}}else e.showTips(e.Lang.chuxiancuowu,!0);return[2]}})})},n.prototype.setThroneTeam=function(t,n,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.SetThroneTeamAsync(t,n,i)];case 1:return a=o.sent(),e.hideWaitPanel(),a?(this.PvpThroneInfo.playerPms[t]=a,[2,this.PvpThroneInfo.playerPms[t]]):(e.showTips(e.Lang.chuxiancuowu,!0),[2,[]])}})})},n.prototype.getPokemonListByQuality=function(t){for(var n=[],i=0;i<this.pmList.length;i++)e.Data.TElf[this.pmList[i].type].quality==t&&n.push(this.pmList[i]);return n},n.prototype.getPokemonListByTypeList=function(e){for(var t=[],n=0;n<this.pmList.length;n++)e.indexOf(this.pmList[n].type)>=0&&t.push(this.pmList[n]);return t},n.prototype.updateMythicalInfo=function(t,n,i){var a=this;void 0===i&&(i=null);var o=function(e){var t=a.extension.mythicalAnimal;for(var n in t)if(t[n].pmid==e)return n;return-1},s=o(t);-1==s?this.extension.mythicalAnimal.push(i):(this.extension.mythicalAnimal[s].isCatch=n,2==n&&(this.extension.mythicalAnimal[s].startCatchTime=e.getNowTime()))},n.prototype.getThroneRankMine=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetThroneRankAsync()];case 1:if(t=a.sent(),e.hideWaitPanel(),t){for(n={},i=0;i<t.length;i++)t[i]&&(n[t[i].throneId]=t[i]);return[2,n]}return e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.starTreasureBattle=function(t,n,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetTreasureBattleStartAsync(t,n,i)];case 1:return a=o.sent(),e.hideWaitPanel(),!a||a.status<0?(egret.warn("GetTreasureBattleStart error :status ",a.status),-6==a.status?(e.showTips(e.Lang.gaikuangquyiyouzhanlingdian,!0),[2]):-8==a.status?(e.showTips(e.Lang.difangduiwuchuyubaohushijian,!0),[2]):-2==a.status?(e.showTips(e.Lang.duiwulengquezhong,!0),[2]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])):[2,a]}})})},n.prototype.unLockTreasureTeam=function(t,n){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.UnLockTreasureTeamAsync(t.teamId)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(e.showTips(e.Lang.caozuochenggong),t.isUnlock=!0,n&&this.useItemsAndNotify(n)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getTreasurePlayerInfo=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetTreasureRevengeAsync(this.playerInfo.id)];case 1:return t=n.sent(),e.hideWaitPanel(),t?[2,t]:(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.getAllCatchPm=function(t){return __awaiter(this,void 0,void 0,function(){var i,a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetAllCatchPmAsync()];case 1:return i=o.sent(),e.hideWaitPanel(),i?(a=e.IdleRewardPanel.getInstance(),a.setReward(null,this.ext.onHookPms),a.show(),this.ext.onHookPms=i.festival,this.useItemAndNotify(t),this.addPokemonListAndNotify(i.getPm),this.postNotification(n.IDLE_REWARD_UPDATE),[2,i.festival]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.GetLevelInfo=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetLevelInfoAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t?(this.maxChallengeInfo=t,[2,t]):(e.showTips(e.Lang.chuxiancuowu,!0),[2])}})})},n.prototype.startLegendaryChallenge=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.StartChallengeAsync(t.ElfID)];case 1:return i=a.sent(),e.hideWaitPanel(),i?(this.legendaryInfo[t.ElfID].info={appearTime:new Date,isChallenge:!0,pmid:t.ElfID,startCatchTime:null,isCatch:null},this.updateMythicalInfo(t.ElfID,0,this.legendaryInfo[t.ElfID].info),this.postNotification(n.IDLE_LEGENDARY_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.initLegendaryInfo=function(){for(var t in e.Data.TGodbeast){var n=e.Data.TGodbeast[t];this.legendaryInfo[n.ElfID]={info:null,data:n}}if(this.ext.mythicalAnimal)for(var t=0;t<this.ext.mythicalAnimal.length;t++){var i=this.ext.mythicalAnimal[t];this.legendaryInfo[i.pmid].info=i}},n.prototype.refreshFragmentShop=function(t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.RefreshFragmentsShopAsync()];case 1:return i=a.sent(),e.hideWaitPanel(),i?(t&&this.useItemAndNotify(t),this.activityInfo.fragShop.count++,this.postNotification(n.GOODS_INFO_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2,i]}})})},n.prototype.buyFragmentShop=function(t,i){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.BuyPmFragmentAsync(t,i)];case 1:return a=o.sent(),e.hideWaitPanel(),a?(e.showTips(e.Lang.goumaichenggong),this.useItemsAndNotify(a.costs),this.addMailReward(a.gets),this.postNotification(n.GOODS_INFO_UPDATE)):e.showTips(e.Lang.chuxiancuowu,!0),[2,a]}})})},n.prototype.getFragmentShopInfo=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetFragmentsShopInfoAsync()];case 1:return t=i.sent(),e.hideWaitPanel(),t&&this.postNotification(n.GOODS_INFO_UPDATE),[2,t]}})})},n.prototype.AutoPassLevel=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.AutoPassLevelAsync(t)];case 1:return n=i.sent(),e.hideWaitPanel(),n?(this.addBattleReward(n),this.updateLastMissionTime(n.levelTime),this.updateIdleFightCount(0),[4,this.updateMission(n.levelId)]):[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})})},n.prototype.GetMissionQuestReward=function(t){return __awaiter(this,void 0,void 0,function(){var i,a;return __generator(this,function(o){switch(o.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetMissionQuestRewardAsync(t)];case 1:return i=o.sent(),e.hideWaitPanel(),i&&(this.addMailReward(i),a=e.MissionReward.getInstance(),a.UpdateMissionQuest(e.Data.TQuest[t].LimitedNum,1)&&(a.UpdateShow(),this.postNotification(n.MISSION_TASK_UPDATE))),[2,i]}})})},n.prototype.getJLDSTaskInfo=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetBeastTaskInfoAsync()];case 1:return t=n.sent(),e.hideWaitPanel(),t?this.JLDSTaskInfo=t:e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getJLDSTaskReward=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.GetBeastQuestRewardAsync(t)];case 1:return n=a.sent(),e.hideWaitPanel(),n?(i=this.getJLDSTaskById(t),i.state=1,this.addMailReward(n)):e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.prototype.getJLDSTaskById=function(e){for(var t=0;t<this.JLDSTaskInfo.quest.length;t++)if(this.JLDSTaskInfo.quest[t].id==e)return this.JLDSTaskInfo.quest[t];return null},n.prototype.BuyBeastShop=function(t,n){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.BuyBeastShopAsync(t)];case 1:return i=a.sent(),i&&(this.addMailReward(i),this.useItemAndNotify(n)),e.hideWaitPanel(),[2]}})})},n.prototype.ClearTreasureTime=function(t,n){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),[4,e.HttpRequest.ClearTreasureTimeAsync(t)];case 1:return n=i.sent(),n&&(console.log(n),this.useItemAndNotify(n)),e.hideWaitPanel(),[2]}})})},n.prototype.GetSuperGashponReward=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a,o,o;return __generator(this,function(s){switch(s.label){case 0:return this.checkPokemonBagFull()?(e.showTips(e.Lang.nindebaokemengbeibaoyiman,!0),[2]):(e.showWaitPanel(),[4,e.HttpRequest.SuperGashaponAsync(t)]);case 1:if(i=s.sent(),e.hideWaitPanel(),i){for(a=i.gashaponInfo.pmids[t],o=0;o<this.ext.gashapon.length;o++)if(6==this.ext.gashapon[o].id){this.ext.gashapon[o]=i.gashaponInfo,0==i.gashaponInfo.count&&(this.ext.gashapon[o].pmids=[0,0,0,0,0,0,0,0,0,0]);break}if(i.pokemons)for(o=0;o<i.pokemons.length;o++)this.addPokemonAndNotify(i.pokemons[o]);return this.useItemAndNotify(n),[2,a]}return e.showTips(e.Lang.chuxiancuowu,!0),[2]}})})},n.IDLE_MAP_UPDATE="PlayerModel_IDLE_MAP_UPDATE",n.IDLE_AVATAR_UPDATE="PlayerModel_IDLE_AVATAR_UPDATE",n.IDLE_POKEMON_UPDATE="PlayerModel_IDLE_POKEMON_UPDATE",n.IDLE_REWARD_UPDATE="PlayerModel_IDLE_REWARD_UPDATE",n.IDLE_REWARD_POKEMON_UPDATE="PlayerModel_IDLE_REWARD_POKEMON_UPDATE",n.NAME_UPDATE="PlayerModel_NAME_UPDATE",n.GOLD_UPDATE="PlayerModel_GOLD_UPDATE",n.EXP_UPDATE="PlayerModel_EXP_UPDATE",n.DIAMOND_UPDATE="PlayerModel_DIAMOND_UPDATE",n.FRIEND_INFO_UPDATE="PlayerModel_FRIEND_INFO_UPDATE",n.ICON_UPDATE="PlayerModel_ICON_UPDATE",n.MISSION_UPDATE="PlayerModel_MISSION_UPDATE",n.ITEM_UPDATE="PlayerModel_ITEM_UPDATE",n.POKEMON_BAG_UPDATE="PlayerModel_POKEMON_BAG_UPDATE",n.POKEMON_TEAM_UPDATE="PlayerModel_POKEMON_TEAM_UPDATE",n.POKEMON_INFO_UPDATE="PlayerModel_POKEMON_INFO_UPDATE",n.MAIL_UPDATE="PlayerModel_MAIL_UPDATE",n.DUNGEON_COUNT_UPDATE="PlayerModel_DUNGEON_COUNT_UPDATE",n.PVP_INFO_UPDATE="PlayerModel_PVP_INFO_UPDATE",n.PVP_TT_COMPETITORS_UPDATE="PlayerModel_PVP_TT_COMPETITORS_UPDATE",n.PVP_PET_COMPETITORS_UPDATE="PlayerModel_PVP_PET_COMPETITORS_UPDATE",n.PVP_PET_CHANGE="PlayerModel_PVP_PET_CHANGE",n.EQUIP_BAG_UPDATE="PlayerModel_EQUIP_BAG_UPDATE",n.MUSIC_CHANGE="PlayerModel_MUSIC_CHANGE",n.BADGE_UPDATE="PlayerModel_BADGE_UPDATE",n.RECHARGE_UPDATE="PlayerModel_RECHARGE_UPDATE",n.TITLE_LIST_UPDATE="PlayerModel_TITLE_LIST_UPDATE",n.TITLE_UPDATE="PlayerModel_TITLE_UPDATE",n.GOODS_INFO_UPDATE="PlayerModel_GOODS_INFO_UPDATE",n.MESSAGE_UPDATE="PlayerModel_MESSAGE_UPDATE",n.PLAYER_NOTICE_UPDATE="PlayerModel_PLAYER_NOTICE_UPDATE",n.HELP_POKEMON_UPDATE="PlayerModel_HELP_POKEMON_UPDATE",n.DElETE_FRIEND="PlayerModel_DElETE_FRIEND",n.CAVE_INFO_UPDATE="PlayerModel_CAVE_INFO_UPDATE",n.CAVE_UPDATE="PlayerModel_CAVE_UPDATE",n.CAVE_SHOP_UPDATE="PlayerModel_CAVE_SHOP_UPDATE",n.MY_GUILD_INFO_UPDATE="PlayerModel_MY_GUILD_INFO_UPDATE",n.GUILD_INFO_UPDATE="PlayerModel_GUILD_INFO_UPDATE",n.ACHIEVE_TASK_UPDATE="PlayerModel_ACHIEVE_TASK_UPDATE",n.MISSION_TASK_UPDATE="PlayerModel_MISSION_TASK_UPDATE",n.WIZARD_TASK_UPDATE="PlayerModel_WIZARD_TASK_UPDATE",n.DAILY_TASK_UPDATE="PlayerModel_DAILY_TASK_UPDATE",n.IDLE_LEGENDARY_UPDATE="PlayerModel_IDLE_LEGENDARY_UPDATE",n.QUICK_BATTLE_COUNT_UPDATE="PlayerModel_QUICK_BATTLE_COUNT_UPDATE",n.SIGN_UPDATE="PlayerModel_SIGN_UPDATE",n.RIFT_COUNT_UPDATE="PlayerModel_RIFT_COUNT_UPDATE",n.WEATHER_UPDATE="PlayerModel_WEATHER_UPDATE",n.FOLLOW_SLOT_UPDATE="PlayerModel_FOLLOW_SLOT_UPDATE",n.MINING_INFO_UPDATE="PlayerModel_MINING_INFO_UPDATE",n.IDLE_LIMIT_UPDATE="PlayerModel_IDLE_LIMIT_UPDATE",n.PLAYER_LEVEL_UPDATE="PlayerModel_PLAYER_LEVEL_UPDATE",n.PLAYER_RECHARGE="PlayerModel_PLAYER_RECHARGE",n.LOCK_UPDATE="PlayerModel_LOCK_UPDATE",n.FUNCTION_UPDATE="PlayerModel_FUNCTION_UPDATE",n.GUILD_MYTECHNOLOGY_UPDATE="PlayerModel_GUILD_MYTECHNOLOGY_UPDATE",n.GUILD_GUILDTECHNOLOGY_UPDATE="PlayerModel_GUILD_GUILDTECHNOLOGY_UPDATE",n.PIECE_UPDATE="PlayerModel_PIECE_UPDATE",n.ZHONGQIU_UPDATE="PlayerModel_ZHONGQIU_UPDATE",n.GYM_INFO_UPDATE="PlayerModel_GYM_INFO_UPDATE",n.GYM_SELECT_TEAM="PlayerModel_GYM_SELECT_TEAM",n.PVP_RANK_REWARD_UPDATE="PlayerModel_PVP_RANK_REWARD_UPDATE",n.GYM_COIN_UPDATE="PlayerModel_GYM_COIN_UPDATE",n.EGG_UPDATE="PlayerModel_EGG_UPDATE",n.STONE_UPDATE="PlayerModel_STONE_UPDATE",n.NEW_EQUIP_UPDATE="PlayerModel_NEW_EQUIP_UPDATE",n.PLUNDER_UPDATE="PlayerModel_PLUNDER_UPDATE",n.ShowTipMsgCache=null,n.missionPokemonData={},n}(e.BaseModel);e.PlayerModel=t,__reflect(t.prototype,"game.PlayerModel")}(game||(game={}));var game;!function(e){var t=function(){function e(e,t,n,i,a,o){this._radioGroup=e,this._radioList=t,this._callFunction=n,this._thisObject=i,this._changeFunction=a,this._checkFunction=o,this.reset(),this.addEvent()}return e.prototype.addEvent=function(){var e=this;this._radioGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){var n=t.target;e.touchButton(n)},this)},e.prototype.reset=function(){if(this._changeFunction)for(var e=0;e<this._radioList.length;e++){var t=this._radioList[e];this._changeFunction.bind(this._thisObject)(t,!1)}},e.prototype.touchButton=function(e){if(!(this._radioList.indexOf(e)<0)&&(!this._checkFunction||this._checkFunction.bind(this._thisObject)(e))){if(this._changeFunction)for(var t=0;t<this._radioList.length;t++){var n=this._radioList[t];this._changeFunction.bind(this._thisObject)(n,n==e)}this._callFunction.bind(this._thisObject)(e)}},e}();e.RadioGroup=t,__reflect(t.prototype,"game.RadioGroup")}(game||(game={}));var game;!function(e){var t=function(){function t(){}return t.init=function(){t.playerModel=new e.PlayerModel},t}();e.DataManager=t,__reflect(t.prototype,"game.DataManager")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._oneCost=e.splitStringToNumberArray(e.Constants.Universal1,";"),n._tenCost=e.splitStringToNumberArray(e.Constants.Universal10,";"),n._currentIndex=0,n.skinName=DuihuanSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.oneButton.label=e.Lang.duihuanyici,this.tenButton.label=e.Lang.duihuanshici,this.oneCostIcon.source="icon/item/"+this._oneCost[0],this.oneCostLabel.text=e.setNumber(this._oneCost[1]),this.tenCostIcon.source="icon/item/"+this._tenCost[0],this.tenCostLabel.text=e.setNumber(this._tenCost[1]),this.bellIcon.item={type:e.evolutionBellId,count:0},this.updateSelectStone(),this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.rightArrow,callBackFunc:this.touchArrow},{target:this.leftArrow,callBackFunc:this.touchArrow},{target:this.oneButton,callBackFunc:this.duihuanHandle},{target:this.tenButton,callBackFunc:this.duihuanHandle}],this.addEventAndNotify()},n.prototype.onShow=function(){this.updateInfo()},n.prototype.updateInfo=function(){this._ownCount=e.DataManager.playerModel.getItemCount(e.evolutionBellId),this.ownCountLabel.text="现有:     x"+e.setNumber(this._ownCount);var t=e.DataManager.playerModel.extension.universalBell;this._ownTime=e.Data.TVip[e.DataManager.playerModel.playerVip].Universal-t,this.countLabel.text="今日剩余次数:"+this._ownTime},n.prototype.duihuanHandle=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,i;return __generator(this,function(a){switch(a.label){case 0:if(n=0,t==this.oneButton){if(i=e.DataManager.playerModel.getItemCount(this._oneCost[0]),i<this._oneCost[1])return e.showTips(e.Lang.nindedaojubuzu,!0),[2];n=1}else{if(i=e.DataManager.playerModel.getItemCount(this._tenCost[0]),i<this._tenCost[1])return e.showTips(e.Lang.nindedaojubuzu,!0),[2];n=10}return this._ownTime<n?(e.showTips(e.Lang.jinricishuyiyongwan,!0),[2]):this._ownCount<n?(e.showTips(e.Lang.nindedaojubuzu,!0),[2]):[4,e.DataManager.playerModel.duihuanStone(this.stoneIcon.itemData.id,n)];case 1:return a.sent(),this.updateInfo(),[2]}})})},n.prototype.touchArrow=function(e){e==this.leftArrow?this._currentIndex--:this._currentIndex++,this.updateSelectStone()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.updateSelectStone=function(){var t=e.evolutionStoneId[this._currentIndex],n=e.Data.TItem[t];this.stoneNameLabel.text=n.name,this.stoneIcon.item={type:t,count:0},this.leftArrow.visible=this._currentIndex>0,this.rightArrow.visible=this._currentIndex<e.evolutionStoneId.length-1},n.prototype.setInitStone=function(t){var n=e.evolutionStoneId.indexOf(t);n>-1&&(this._currentIndex=n,this.updateSelectStone())},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.Duihuan=t,__reflect(t.prototype,"game.Duihuan")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._animList=[],e.skinName=DungeonPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){e.Data.TSpecialDungeonsType[6]?this.stoneAllGroup.visible=!0:this.stoneAllGroup.visible=!1;for(var t in e.Data.TSpecialDungeonsType){for(var n=e.Data.TSpecialDungeonsType[t],i=e.splitStringToNumberArray(n.openWeek,","),a="",o=0;o<i.length;o++)a+=o<i.length-1?e.weekNumber[i[o]]+"/":""+e.weekNumber[i[o]];a+="开放",this.setDungeonDay(n.type,a)}this._touchEvent=[{target:this.backButton,callBackFunc:this.closeHandle},{target:this.goldButton,callBackFunc:this.touchItemDungeon},{target:this.expButton,callBackFunc:this.touchItemDungeon},{target:this.badgeButton,callBackFunc:this.touchItemDungeon},{target:this.effortButton,callBackFunc:this.touchItemDungeon},{target:this.loveButton,callBackFunc:this.touchItemDungeon},{target:this.stoneGroup,callBackFunc:this.touchItemDungeon},{target:this.evaluationButton,callBackFunc:this.touchItemDungeon},{target:this.equipButton,callBackFunc:this.touchItemDungeon}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateDungeon,notifyName:e.PlayerModel.DUNGEON_COUNT_UPDATE,execute:!0}],this.addEventAndNotify(),this.initAnim()},n.prototype.updateDungeon=function(){this.effortPoint.visible=this.expPoint.visible=this.goldPoint.visible=this.stonePoint.visible=this.lovePoint.visible=this.badgePoint.visible=this.evaluationPoint.visible=!1;var t=e.getNowTime().getDay(),n=e.Data.TVip[e.DataManager.playerModel.playerVip].spDunBuyCount||0;for(var i in e.Data.TSpecialDungeonsType){var a=e.Data.TSpecialDungeonsType[i],o=e.splitStringToNumberArray(a.openWeek,",");if(-1==o.indexOf(t))this.lockDungeon(a.type);else{var s=e.DataManager.playerModel.playerLevel;if(s>=a.openLv){this.unlockDungeon(a.type);var r=a.countBegin+n,u=e.DataManager.playerModel.getDungeonCount(a.type);(u.used<r||u.reusable>0)&&this.showDungeonPoint(a.type)}}}},n.prototype.setDungeonDay=function(e,t){switch(e){case 4:this.effortOpenLabel.text=t;break;case 6:this.stoneOpenLabel.text=t;break;case 5:this.loveOpenLabel.text=t;break;case 2:this.expOpenLabel.text=t;break;case 3:this.badgeOpenLabel.text=t;break;case 1:this.goldOpenLabel.text=t;break;case 7:this.evaluationOpenLabel.text=t;break;case 8:this.equipOpenLabel.text=t}},n.prototype.lockDungeon=function(e){switch(e){case 4:this.effortLock.visible=!0,this.effortPoint.visible=!1;break;case 6:this.stoneLock.visible=!0,this.stonePoint.visible=!1;break;case 5:this.loveLock.visible=!0,this.lovePoint.visible=!1;break;case 2:this.expLock.visible=!0,this.expPoint.visible=!1;break;case 3:this.badgeLock.visible=!0,this.badgePoint.visible=!1;break;case 1:this.goldLock.visible=!0,this.goldPoint.visible=!1;break;case 7:this.evaluationLock.visible=!0,this.evaluationPoint.visible=!1;break;case 8:this.equipLock.visible=!0,this.equipPoint.visible=!1}},n.prototype.unlockDungeon=function(e){switch(e){case 4:this.effortLock.visible=!1;break;case 6:this.stoneLock.visible=!1;break;case 5:this.loveLock.visible=!1;break;case 2:this.expLock.visible=!1;break;case 3:this.badgeLock.visible=!1;break;case 1:this.goldLock.visible=!1;break;case 7:this.evaluationLock.visible=!1;break;case 8:this.equipLock.visible=!1}},n.prototype.showDungeonPoint=function(e){switch(e){case 4:this.effortPoint.visible=!0;break;case 6:this.stonePoint.visible=!0;break;case 5:this.lovePoint.visible=!0;break;case 2:this.expPoint.visible=!0;break;case 3:this.badgePoint.visible=!0;break;case 1:this.goldPoint.visible=!0;break;case 7:this.evaluationPoint.visible=!0;break;case 8:this.equipPoint.visible=!0}},n.prototype.touchItemDungeon=function(t){var n,i=!1;switch(t){case this.goldButton:n=1,i=this.goldLock.visible;break;case this.expButton:n=2,i=this.expLock.visible;break;case this.badgeButton:n=3,i=this.badgeLock.visible;break;case this.effortButton:n=4,i=this.effortLock.visible;break;case this.loveButton:n=5,i=this.loveLock.visible;break;case this.stoneGroup:n=6,i=this.stoneLock.visible;break;case this.evaluationButton:n=7,i=this.evaluationLock.visible;break;case this.equipButton:n=8,i=this.equipLock.visible}if(i){var a=e.FirstOrDefault(e.Data.TSpecialDungeonsType,function(e){return e.type==n}),o=e.DataManager.playerModel.playerLevel;o>=a.openLv?e.showTips(e.Lang.buzaikaifangshijianneio,!0):e.showTips(e.formatString(e.Lang.dengjijiesuo,a.openLv),!0)
}else{var s=e.ItemDungeonPanel.getInstance();s.setType(n),s.show()}},n.prototype.closeHandle=function(){this.stopAnim(),e.removePopUp(this)},n.prototype.onShow=function(){this.initAnim(),this.updateDungeon()},n.prototype.initAnim=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.phoenix?[3,2]:(this.phoenix=new e.SequenceImage,this.phoenix.setScale(.7),this._animList.push(this.phoenix),[4,this.phoenix.setData({delay:150,size:{row:4,col:4},resource:"anim/pokemon/1250"})]);case 1:n.sent(),this.phoenix.setDisplayPosition(25,50),this.phoenixGoup.addChild(this.phoenix.display),n.label=2;case 2:for(t=0;t<this._animList.length;t++)this._animList[t].play(1,0);return[2]}})})},n.prototype.stopAnim=function(){for(var e=0;e<this._animList.length;e++)this._animList[e].stop()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.DungeonPanel=t,__reflect(t.prototype,"game.DungeonPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemIconList=[],e.skinName=ItemDungeonItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.autoChallengeButton.label=e.Lang.saodang,this.challengeButton.label=e.Lang.tiaozhan,this.autoChallengeButton.bg="ui/common/button/greenBtn",this._touchEvent=[{target:this.challengeButton,callBackFunc:this.challenge},{target:this.autoChallengeButton,callBackFunc:this.autoChallenge}],this.addEventAndNotify(),this.iconGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t.showDetail()},this)},n.prototype.autoChallenge=function(){e.NotificationCenter.getInstance().postNotification(e.ItemDungeonPanel.AUTO_CHALLENGE_DUNGEON,this._dungeonData)},n.prototype.challenge=function(){e.NotificationCenter.getInstance().postNotification(e.ItemDungeonPanel.CHALLENGE_DUNGEON,this._dungeonData)},n.prototype.setData=function(t){switch(this._dungeonData=t,this.limitLabel.text=e.Lang.jinrutiaojian+": "+e.formatString(e.Lang.dengjijiesuo,t.limitLevel),e.DataManager.playerModel.playerLevel<t.limitLevel?(this.challengeButton.label=e.Lang.weikaifang,this.challengeButton.lock=!0,this.challengeButton.touchEnabled=!1,this.autoChallengeButton.visible=!1,this.challengeButton.verticalCenter=0):(this.challengeButton.label=e.Lang.tiaozhan,this.challengeButton.lock=!1,this.challengeButton.touchEnabled=!0,this.autoChallengeButton.visible=!0,e.DataManager.playerModel.checkDungeonCanAuto(t.id)?this.autoChallengeButton.lock=!1:this.autoChallengeButton.lock=!0,this.challengeButton.verticalCenter=-31),this.iconGroup.removeChildren(),this.typeImage.source="langs/teshufuben"+t.type,t.type){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:this.setItem()}},n.prototype.setItem=function(){this.rewardLabel.text=e.Lang.diaoluo+":";for(var t=e.splitStringToNumberArray(this._dungeonData.Preview,";"),n=0;n<t.length;n++)this._itemIconList[n]||(this._itemIconList[n]=new e.ItemIcon),this._itemIconList[n].item={type:t[n],count:0},this.iconGroup.addChild(this._itemIconList[n])},n}(e.GameComponent);e.ItemDungeonItem=t,__reflect(t.prototype,"game.ItemDungeonItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._itemList=[],n.currentDungeonType=1,n.canChallenge=!1,n._SpDunRecoTimeEnd=Number(e.Constants.SpDunRecoTimeEnd),n._SpDunRecoverTime=Number(e.Constants.SpDunRecoverTime),n.skinName=ItemDungeonPanelSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateCount,notifyName:e.PlayerModel.DUNGEON_COUNT_UPDATE,execute:!0}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.challengeDungeon,n.CHALLENGE_DUNGEON),e.NotificationCenter.getInstance().addObserver(this,this.autoChallengeDungeon,n.AUTO_CHALLENGE_DUNGEON)},n.prototype.updateCount=function(){var t=this,n=e.Data.TVip[e.DataManager.playerModel.playerVip],i=n.spDunBuyCount||0,a=n.spDunRecover||0;8==this.currentDungeonType&&(i=n.Carry||0,a=n.CarryRecover||0);var o=e.Data.TSpecialDungeonsType[this.currentDungeonType].countBegin+i,s=e.DataManager.playerModel.getDungeonCount(this.currentDungeonType),r=o-s.used;this.canChallenge=r>0||s.reusable>0,this._timeInterval&&egret.clearInterval(this._timeInterval),this.remainCountLabel.text=e.Lang.teshufubenshengyucishu+": "+r,this.timeLabel.visible=!1,this.recoverCountLabel.text="已有回复次数: "+s.reusable+"(上限:"+this._SpDunRecoTimeEnd+")";var u=a-s.recovered;if(this.totalRecoverLabel.text="可回复次数: "+u,s.used>0&&u>0&&s.reusable<this._SpDunRecoTimeEnd&&s.reusable+r<o){var l=60*this._SpDunRecoverTime,c=function(){var n=(e.getNowTime().getTime()-s.time.getTime())/1e3,i=n-l;t.timeLabel.text="("+e.s2hms(-i)+")",i>0&&(s.reusable++,s.recovered++,t.canChallenge=!0,u=a-s.recovered,u>0&&s.reusable<t._SpDunRecoTimeEnd&&s.reusable+r<o?s.time=e.getNowTime():(t.timeLabel.visible=!1,egret.clearInterval(t._timeInterval),t._timeInterval=null),t.recoverCountLabel.text="已有回复次数: "+s.reusable+"(上限:"+t._SpDunRecoTimeEnd+")",t.totalRecoverLabel.text="可回复次数: "+u)};this.timeLabel.visible=!0,this._timeInterval=egret.setInterval(c,this,1e3),c()}},n.prototype.closeHandle=function(){this.scorller.viewport.scrollV=0,this._timeInterval&&egret.clearInterval(this._timeInterval),e.removePopUp(this)},n.prototype.setType=function(t){this.currentDungeonType=t,this.itemGroup.removeChildren();var n=0;for(var i in e.Data.TSpecialDungeons)e.Data.TSpecialDungeons[i].type==t&&(this._itemList[n]||(this._itemList[n]=new e.ItemDungeonItem),this._itemList[n].setData(e.Data.TSpecialDungeons[i]),this.itemGroup.addChild(this._itemList[n]),n++);this.updateCount()},n.prototype.autoChallengeDungeon=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return e.Data.TVip[e.DataManager.playerModel.playerVip].spDunPass?this.canChallenge?e.DataManager.playerModel.checkDungeonCanAuto(t.id)?[4,e.DataManager.playerModel.checkPokemon()]:[3,3]:[3,5]:[3,7];case 1:return o.sent(),[4,e.DataManager.playerModel.sweptDungeon(t)];case 2:return o.sent(),[3,4];case 3:e.showTips(e.Lang.ninbixutongguocifubencaikeyisaodango,!0),o.label=4;case 4:return[3,6];case 5:e.showTips(e.Lang.nindetiaozhancishubuzu,!0),o.label=6;case 6:return[3,8];case 7:n=0;for(i in e.Data.TVip)if(a=e.Data.TVip[i],a.spDunPass){n=a.level;break}e.showTips(e.formatString(e.Lang.vipduoshaojiesuo,n),!0),o.label=8;case 8:return[2]}})})},n.prototype.challengeDungeon=function(t){this.canChallenge?this.startBattle(t):e.showTips(e.Lang.nindecishubuzu,!0)},n.prototype.startBattle=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),n=e.BattleScene.getInstance(),n.dungeonData=t,[4,n.initBattle(2)];case 1:return i.sent(),e.hideWaitPanel(),e.GameLayer.battleLayer.addChild(n),n.run(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),[2]}})})},n.prototype.endBattle=function(){this.setType(this.currentDungeonType),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!0,e.NotificationCenter.getInstance().removeObserver(this,e.BattleScene.QUIT_BATTLE)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.CHALLENGE_DUNGEON="ItemDungeonPanel_CHALLENGE_DUNGEON",n.AUTO_CHALLENGE_DUNGEON="ItemDungeonPanel_AUTO_CHALLENGE_DUNGEON",n}(e.PanelComponent);e.ItemDungeonPanel=t,__reflect(t.prototype,"game.ItemDungeonPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=EggBagItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.startButton.image="ui/scene/egg/kaishifuhua",this._touchEvent=[{target:this.eggIcon,callBackFunc:this.touchEgg},{target:this.startButton,callBackFunc:this.start}],this.addEventAndNotify()},n.prototype.touchEgg=function(){if(this.eggInfo.type)this.eggIcon.showDetail();else{var t=e.ItemInfoPanel.getInstance();t.setSEggData(this.eggInfo.pet),t.show()}},n.prototype.start=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a;return __generator(this,function(o){switch(o.label){case 0:for(t=e.DataManager.playerModel.extension.incubationgrids,i=0;i<t.length;i++)if(a=t[i],!a.current){n=a;break}return n?[4,e.DataManager.playerModel.StartIncubation(n,this.eggInfo)]:[3,2];case 1:return o.sent(),this.eggPanel.updateBag(),this.eggPanel.updateSlot(),this.eggPanel.updateSlotTime(),[3,3];case 2:e.showTips(e.Lang.ninmeiyoukongyudekongjiano,!0),o.label=3;case 3:return[2]}})})},n.prototype.setInfo=function(e,t){this.eggInfo=e,this.eggPanel=t,e.type?this.eggIcon.item={type:e.type,count:0}:this.eggIcon.setSEgg(e.pet)},n}(e.GameComponent);e.EggBagItem=t,__reflect(t.prototype,"game.EggBagItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=EggLayInfoSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.okButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removePopUp(t)},this);var n="    1.相互为异性的两只橙色以下精灵在精灵巢内有概率结出爱情的结晶——宠物蛋。\n    2.参与生蛋的精灵双方，各自等级必须高于{0}级 ,并且两者等级差不得超过{1}级。\n    3.宠物蛋孵化后可能是父或母本身，也可能是其低级形态，偶尔也可能出现意想不到的结果。\n    4.生蛋失败，则获得{2}点爱心值，爱心值满则生蛋必定成功。\n    5.生蛋消耗友情点，生蛋过程中取回精灵，消耗的友情点不返还。",i=e.Data.TPetBreeding[1];i&&(this.infoLabel.text=e.formatString(n,i.openLevel,i.changeLevel,i.loveAdd))},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.EggLayInfoPanel=t,__reflect(t.prototype,"game.EggLayInfoPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._parentPokemons=[],e._pokemonList=[],e._currentPage=1,e._maxPage=2,e.noChild=!1,e.skinName=EggLayPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.quitButton.image="ui/scene/home/tuichu",this.infoButton.icon="ui/scene/gym/guize",this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.update,notifyName:e.PlayerModel.EGG_UPDATE,execute:!1}],this._touchEvent=[{target:this.quitButton,callBackFunc:this.closeHandle},{target:this.eggGroup,callBackFunc:this.touchEgg},{target:this.leftArrowButton,callBackFunc:this.moveLastPage},{target:this.rightArrowButton,callBackFunc:this.moveNextPage},{target:this.infoButton,callBackFunc:this.showInfo}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.touParent,n.TOUCH_PARENT_POKEMON)},n.prototype.updateResult=function(){var t=this;this.layInterval&&(egret.clearInterval(this.layInterval),this.layInterval=null),2==e.DataManager.playerModel.eggLayParentID.length&&(this.layInterval=egret.setInterval(function(){var n=e.Data.TPetBreeding[1],i=e.DataManager.playerModel.eggLayTime,a=i.getTime()+6e4*n.eggTime,o=e.getNowTime().getTime(),s=e.DataManager.playerModel.eggLayPick;o>a&&0==s&&(t.layInterval&&(egret.clearInterval(t.layInterval),t.layInterval=null),e.DataManager.playerModel.eggLayResult())},this,1e3))},n.prototype.updateParent=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a;return __generator(this,function(o){switch(o.label){case 0:t=e.DataManager.playerModel.eggLayParentID,this.pokemonGroup.removeChildren(),n=0,o.label=1;case 1:return n<t.length?(i=this._parentPokemons[n],i||(i=new e.EggParentPokemon,this._parentPokemons[n]=i,i.setDisplayPosition(600*Math.random(),390*Math.random())),i.stopRun(),a=e.DataManager.playerModel.getPokemonInfoById(t[n]),[4,i.setPokemon(a)]):[3,4];case 2:o.sent(),i.run(i.displayPosition[0],i.displayPosition[1]),this.pokemonGroup.addChild(i.displayGroup),o.label=3;case 3:return n++,[3,1];case 4:return this.setTip(),[2]}})})},n.prototype.setTip=function(){var t=this;this.tipInterval||(this.tipInterval=egret.setInterval(function(){var n=e.DataManager.playerModel.eggLayParentID,i=Math.floor(Math.random()*n.length),a=t._parentPokemons[i],o="ui/scene/egg/lay_msg_"+Math.ceil(7*Math.random());t.noChild&&(o="ui/scene/egg/lay_msg_false"),a&&a.setTip(o,6e3,4e3)},this,1e4))},n.prototype.updateBag=function(){var t=e.DataManager.playerModel.playerPokemonBag,n=15*(this.page-1)+1,i=n+15,a=0;t.sort(function(t,n){var i=function(t){return e.Data.TElf[t.type].quality};return i(n)-i(t)});for(var o=0;15>o;o++){this._pokemonList[o]||(this._pokemonList[o]=new e.EggLayPokemonIcon,this.bagGroup.addChild(this._pokemonList[o]));var s=this._pokemonList[o];s.setPokemonInfo(null)}for(var r=0,u=e.DataManager.playerModel.eggLayParentID,o=0;o<t.length;o++){var l=t[o];if(!e.Data.TElfBan[l.type]&&!(u.indexOf(l.id)>-1)&&(r++,a=Math.max(r,a),r>=n&&i>r)){var c=(r-1)%15,s=this._pokemonList[c];if(!s)continue;s.setPokemonInfo(l)}}this._maxPage=Math.floor(a/15)+2,this.page=this.page},Object.defineProperty(n.prototype,"page",{get:function(){return this._currentPage},set:function(e){this._currentPage=e,this.leftArrowButton.visible=this._currentPage>1,this.rightArrowButton.visible=this._currentPage<this._maxPage,this.bagLabel.text=this._currentPage+"/"+this._maxPage},enumerable:!0,configurable:!0}),n.prototype.moveLastPage=function(){var e=this.page-1;1>e||(this.page=e,this.updateBag())},n.prototype.moveNextPage=function(){var e=this.page+1;e>this._maxPage||(this.page=e,this.updateBag())},n.prototype.touParent=function(t){var n=e.CheckPanel.getInstance();n.setData(e.Lang.shengdanguochengzhongquhuichongwu,function(n){n&&(t.stopRun(),e.DataManager.playerModel.reduceEggParents(t.pokemonInfo.id))}),n.show()},n.prototype.touchEgg=function(){e.DataManager.playerModel.getEggLayReward()},n.prototype.update=function(){this.updateParent(),this.updateBag(),this.updateInfo(),this.updateEgg(),this.updateResult()},n.prototype.updateEgg=function(){var t=e.DataManager.playerModel.eggLayPick,n=e.DataManager.playerModel.eggLayTime,i=n.getTime()+6e4*e.Data.TPetBreeding[1].eggTime,a=e.getNowTime().getTime();a>i&&t?(this.layPoint.visible=this.eggGroup.visible=!0,this.eggImage.source="ui/scene/egg/egg"+e.DataManager.playerModel.getLayEggType()):this.layPoint.visible=this.eggGroup.visible=!1},n.prototype.updateInfo=function(){var t=e.DataManager.playerModel.eggLayParentID,n=e.DataManager.playerModel.eggLayPick;this.detailGroup.visible=!1;var i=e.Data.TPetBreeding[1];if(2==t.length&&0==n){var a=function(t,n){var i=e.Data.TbreedingQuality[n.quality];if(i){var a=e.splitStringToNumberArray(i.probability.split("|")[0],";")[1];4==n.quality&&(a=5),t.text=a+"%"+n.name,t.textColor=e.TeamBagPokemonIcon.textColor[n.quality]}},o=e.Data.TElf[e.DataManager.playerModel.getPokemonInfoById(t[0]).type],s=e.Data.TElf[e.DataManager.playerModel.getPokemonInfoById(t[1]).type];o&&o&&(this.detailGroup.visible=!0,a(this.detailLabel1,o),a(this.detailLabel2,s),o.quality<s.quality&&(a(this.detailLabel1,s),a(this.detailLabel2,o)),this.setTime())}var r=e.DataManager.playerModel.getActivityInfo().friendPoint,u=e.DataManager.playerModel.eggLayLove;this.barLabel.text=u+"/100",this.barImage.scaleX=u/100,this.levelLabel.text=i.openLevel+"级",this.yqzLabel.text=r.toString()},n.prototype.setTime=function(){var t=this;if(!this.timeInterval){var n=function(){var n=e.DataManager.playerModel.eggLayTime,i=e.Data.TPetBreeding[1],a=n.getTime()+6e4*i.eggTime,o=e.getNowTime().getTime(),s=a-o;t.timeLabel.text=e.s2hms(s/1e3),t.timeLabel.visible=!0,0>=s&&(t.timeInterval&&(egret.clearInterval(t.timeInterval),t.timeInterval=null),t.timeLabel.visible=!1)};this.timeInterval=egret.setInterval(function(){n()},this,1e3),n()}},n.prototype.checkPoint=function(){return this.layPoint.visible},n.prototype.onShow=function(){this.update()},n.prototype.closeHandle=function(){this.layInterval&&(egret.clearInterval(this.layInterval),this.layInterval=null),this.tipInterval&&(egret.clearInterval(this.tipInterval),this.tipInterval=null),this.timeInterval&&(egret.clearInterval(this.timeInterval),this.timeInterval=null);for(var t=0;t<this._parentPokemons.length;t++)this._parentPokemons[t].stopRun();e.EggPanel.getInstance().update(),e.removePopUp(this)},n.prototype.showInfo=function(){e.EggLayInfoPanel.getInstance().show()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.TOUCH_PARENT_POKEMON="EggLayPanel_TOUCH_POKEMON",n}(e.PanelComponent);e.EggLayPanel=t,__reflect(t.prototype,"game.EggLayPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._gridList=[],e._eggList=[],e.skinName=EggPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.quitButton.image="ui/scene/home/tuichu",this._girl=new e.SequenceImage,this.girlGroup.addChild(this._girl.display),this._girl.setData({delay:150,size:{row:1,col:4},resource:"ui/scene/egg/girl"});for(var t in e.Data.TPethatchGrid){var n=e.Data.TPethatchGrid[t],i=new e.EggSlot;i.setData(n),this.slotGroup.addChild(i),this._gridList.push(i)}this._touchEvent=[{target:this.quitButton,callBackFunc:this.closeHandle},{target:this.eggLayGroup,callBackFunc:this.openEggLay}],this.addEventAndNotify(),this.slotGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchSlotGroup,this)},n.prototype.touchSlotGroup=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return n=t.target,n.slotInfo?n.slotInfo.current?n.canGet?[4,e.DataManager.playerModel.getEggPm(n.slotInfo)]:[3,2]:[3,3]:[3,4];case 1:return i.sent(),this.updateSlot(),[3,3];case 2:e.showTips(e.Lang.haimeifuhuajieshuo,!0),i.label=3;case 3:return[3,7];case 4:return n.canUnlock?n.conditionsMeet?[4,e.DataManager.playerModel.unlockEggSlot(n.slotData)]:[3,6]:[3,7];case 5:return i.sent(),this.updateSlot(),[3,7];case 6:e.showTips(e.Lang.ninweimanzujiesuotiaojian,!0),i.label=7;case 7:return[2]}})})},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.openEggLay=function(){var t=e.Data.TPetBreeding[1].openLevel;e.DataManager.playerModel.playerLevel>=t?e.EggLayPanel.getInstance().show():e.showTips(e.formatString(e.Lang.dengjijiesuo,t),!0)},n.prototype.updateEggLay=function(){if(this.eggLayGroup.visible=!1,5==SDK.$platformType||e.isMobile){this.eggLayGroup.visible=!0,this.layLock.visible=!0,this.layPoint.visible=!1;var t=e.Data.TPetBreeding[1].openLevel;e.DataManager.playerModel.playerLevel>=t&&(this.layLock.visible=!1,this.layPoint.visible=e.EggLayPanel.getInstance().checkPoint())}},n.prototype.update=function(){this.updateSlot(),this.updateBag(),this.updateSlotTime(),this.updateEggLay()},n.prototype.onShow=function(){this._girl.play(1,0),this.update(),this.interval=egret.setInterval(this.updateSlotTime,this,1e3)},n.prototype.updateSlot=function(){for(var t=e.DataManager.playerModel.extension.incubationgrids.length,n=0;n<this._gridList.length;n++){var i=this._gridList[n],a=e.DataManager.playerModel.getEggSlotInfo(i.slotData.id);i.updateInfo(a,t>=n)}},n.prototype.updateBag=function(){this.bagGroup.removeChildren();for(var t=e.DataManager.playerModel.extension.incubations,n=0;n<t.length;n++){var i=this._eggList[n];i||(i=new e.EggBagItem,this._eggList[n]=i),i.setInfo(t[n],this),this.bagGroup.addChild(i)}},n.prototype.updateSlotTime=function(){this._now=e.getNowTime();for(var t=this._now.getTime(),n=0;n<this._gridList.length;n++){var i=this._gridList[n];i.updateSlotTime(t)}},n.prototype.onRemove=function(){this._girl.stop(),egret.clearInterval(this.interval)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.EggPanel=t,__reflect(t.prototype,"game.EggPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.alreadyStop=!1,n.displayGroup=new eui.Group,n.displayGroup.touchEnabled=!1,n.display.touchEnabled=!0,n.display.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.NotificationCenter.getInstance().postNotification(e.EggLayPanel.TOUCH_PARENT_POKEMON,n)},n),n.tipImage=new eui.Image,n.shadowDisplay=new eui.Image,n.genderImage=new eui.Image,n.titleLabel=new eui.Label,n.displayGroup.addChild(n.shadowDisplay),n.displayGroup.addChild(n.display),n.displayGroup.addChild(n.genderImage),n.displayGroup.addChild(n.titleLabel),n.displayGroup.addChild(n.tipImage),n}return __extends(n,t),n.prototype.setPokemon=function(n){return __awaiter(this,void 0,void 0,function(){var i,a;return __generator(this,function(o){switch(o.label){case 0:return this.pokemonInfo=n,i=this.pokemonInfo.type,a=e.Data.TElf[i],[4,t.prototype.setData.call(this,{delay:150,size:{col:4,row:4},resource:"anim/pokemon/"+i})];case 1:return o.sent(),this.display.scaleX=this.display.scaleY=1,this.display.alpha=1,this.shadowDisplay.x=this.display.x-20,this.shadowDisplay.y=this.display.y-20,this.shadowDisplay.source="anim/pokemon/shadow",this.genderImage.x=this.display.x-100,this.genderImage.y=this.display.y-135,this.genderImage.source=1==this.pokemonInfo.gender?"ui/scene/team/male":"ui/scene/team/female",this.titleLabel.x=this.display.x-55,this.titleLabel.y=this.display.y-130,this.titleLabel.size=20,this.titleLabel.stroke=2,this.titleLabel.text="LV."+this.pokemonInfo.lv+" "+a.name,this.titleLabel.textColor=e.TeamBagPokemonIcon.textColor[a.quality],this.alreadyStop=!1,[2]}})})},n.prototype.setTip=function(e,t,n){var i=this;egret.Tween.get(this.tipImage).wait(t).call(function(){i.tipImage.visible=!1}).wait(n).call(function(){i.tipImage.source=e,i.tipImage.visible=!0})},n.prototype.run=function(e,t){var n=this;if(void 0===e&&(e=null),void 0===t&&(t=null),!this.alreadyStop){var i=40;null==e&&(e=520*Math.random()),null==t&&(t=310*Math.random());var a,o,s,r;Math.random()>.5?(a=520*Math.random(),o=t,r=a>e?3:2,s=Math.abs(a-e)/i*1e3):(o=310*Math.random(),a=e,r=o>t?1:4,s=Math.abs(o-t)/i*1e3),this.setDisplayPosition(e,t),this.play(r),egret.Tween.get(this.display).to({x:a,y:o},s).call(function(){n.run(a,o)}),egret.Tween.get(this.tipImage).to({x:a-110,y:o-200},s),egret.Tween.get(this.shadowDisplay).to({x:a-20,y:o-20},s),egret.Tween.get(this.genderImage).to({x:a-100,y:o-135},s),egret.Tween.get(this.titleLabel).to({x:a-55,y:o-130},s)}},n.prototype.stopRun=function(){this.stop(),egret.Tween.removeTweens(this.display),egret.Tween.removeTweens(this.tipImage),egret.Tween.removeTweens(this.shadowDisplay),egret.Tween.removeTweens(this.genderImage),egret.Tween.removeTweens(this.titleLabel),this.alreadyStop=!0},n}(e.VectorAnim);e.EggParentPokemon=t,__reflect(t.prototype,"game.EggParentPokemon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=EggLayPokemonIconSkin,e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouchBegin,e),e}return __extends(n,t),n.prototype.onTouchBegin=function(t){this.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onStageTouchEnd,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),e.GameLayer.effectLayer.addChild(this._pokemonImage.display),this.setMovePokemonPosition(t),this.play()},n.prototype.onTouchMove=function(e){this.setMovePokemonPosition(e)},n.prototype.onStageTouchEnd=function(e){var t=e.currentTarget;t.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onStageTouchEnd,this),t.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),t.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.endMovePokemon(e)},n.prototype.setMovePokemonPosition=function(e){var t=e.stageX,n=e.stageY,i=this._pokemonImage.height/2;this._pokemonImage.setDisplayPosition(t,n+i)},n.prototype.endMovePokemon=function(t){this.stop(),this.resetPokemon(),t.stageY<600&&e.DataManager.playerModel.addEggParents(this.pokemonInfo.id)},n.prototype.setPokemonInfo=function(t){this.pokemonInfo=t,this.pokemonInfo?(this.pokemon=t.type,this.textLabel.textColor=e.TeamBagPokemonIcon.textColor[this.pokemonData.quality],this.textLabel.text="LV."+t.lv+" "+this.pokemonData.name,this.genderImage.source=1==t.gender?"ui/scene/team/male":"ui/scene/team/female",this.textLabel.visible=!0,this.genderImage.visible=!0,this.shadowDisplay.visible=!0,this.touchEnabled=!0):(this.pokemonGroup.visible=!1,this.textLabel.visible=!1,this.touchEnabled=!1,this.genderImage.visible=!1,this.shadowDisplay.visible=!1),this.resetPokemon()},n.prototype.resetPokemon=function(){this._pokemonImage&&(this._pokemonImage.setDisplayPosition(54,90),this.pokemonGroup.addChild(this._pokemonImage.display),this._pokemonImage.stay())},n}(e.PokemonIcon);e.EggLayPokemonIcon=t,__reflect(t.prototype,"game.EggLayPokemonIcon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.canGet=!1,e.skinName=EggSlotSkin,e.touchChildren=!1,e}return __extends(n,t),n.prototype.setData=function(e){this.slotData=e},n.prototype.updateInfo=function(t,n){if(this.slotInfo=t,this.canUnlock=n,this.conditionsMeet=!1,this.eggImage.visible=!0,this.timeLabel.visible=!0,this.canGet=!1,t)if(t.current)if(t.current.type){var i=e.Data.TPethatch[t.current.type];this.eggImage.source="icon/item/"+i.res}else{var a=e.Data.TElf[t.current.pet];a&&(this.eggImage.source="ui/scene/egg/egg"+a.quality)}else this.eggImage.visible=!1,this.timeLabel.text=e.Lang.kongxianzhong,this.timeLabel.textColor=gameConfig.TextColors.orangeYellow;else if(n)if(this.eggImage.source="ui/scene/formation/question",this.slotData.lv)e.DataManager.playerModel.playerLevel>=this.slotData.lv?(this.conditionsMeet=!0,this.timeLabel.text=e.Lang.dianjijiesuo,this.timeLabel.textColor=gameConfig.TextColors.green):(this.timeLabel.text=e.formatString(e.Lang.dengjijiesuo,this.slotData.lv),this.timeLabel.textColor=gameConfig.TextColors.red);else if(this.slotData.buy){var o=e.DataManager.playerModel.diamond;this.timeLabel.text=e.setNumber(o)+"/"+e.setNumber(this.slotData.buy)+"钻石解锁",this.timeLabel.textColor=o>=this.slotData.buy?gameConfig.TextColors.green:gameConfig.TextColors.red,this.conditionsMeet=o>=this.slotData.buy}else this.slotData.vip?e.DataManager.playerModel.playerVip>=this.slotData.vip?(this.conditionsMeet=!0,this.timeLabel.text=e.Lang.dianjijiesuo,this.timeLabel.textColor=gameConfig.TextColors.green):(this.timeLabel.text=e.formatString(e.Lang.vipduoshaojiesuo,this.slotData.vip),this.timeLabel.textColor=gameConfig.TextColors.red):(this.conditionsMeet=!0,this.timeLabel.text=e.Lang.dianjijiesuo,this.timeLabel.textColor=gameConfig.TextColors.green);else this.timeLabel.visible=!1},n.prototype.updateSlotTime=function(t){if(this.slotInfo&&this.slotInfo.current){var n=60*e.Data.TElf[this.slotInfo.current.pet].hatch,i=.001*(t-this.slotInfo.start.getTime());i>n?(this.timeLabel.text=e.Lang.kelingqu,this.timeLabel.textColor=gameConfig.TextColors.green,this.canGet=!0):(this.timeLabel.text=e.s2hms(n-i),this.timeLabel.textColor=gameConfig.TextColors.white,this.canGet=!1)}},n}(e.GameComponent);e.EggSlot=t,__reflect(t.prototype,"game.EggSlot")}(game||(game={}));var game;!function(e){var t=function(){function e(){this.damageDownPer=0,this.damageUpPer=0,this.fireSkill=0,this.waterSkill=0,this.grassSkill=0,this.demonSkill=0,this.evilSkill=0,this.dragonSkill=0,this.iceSkill=0,this.ghostSkill=0,this.generalSkill=0,this.electricSkill=0,this.insectSkill=0,this.flightSkill=0,this.groundSkill=0,this.rockSkill=0,this.grappleSkill=0,this.superSkill=0,this.steelSkill=0,this.poisonSkill=0,this.critDamage=0,this.critChance=0,this.hit=0,this.evade=0,this.hpPer=0,this.atkPer=0,this.atkSpPer=0,this.defPer=0,this.defSpPer=0,this.spePer=0,this.hp=0,this.atk=0,this.atkSp=0,this.def=0,this.defSp=0,this.spe=0}return e}();e.EquipAttribute=t,__reflect(t.prototype,"game.EquipAttribute")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.alreadyEquip=!1,n.skinName=EquipIconSkin,n.touchChildren=!1,n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.NotificationCenter.getInstance().postNotification(e.EquipPanel.TOUCH_EQUIP,n)},n),n}return __extends(n,t),n.prototype.setData=function(e,t){void 0===t&&(t=0),this.select=!1,this.countLabel.text="x"+t,this.equipData=e,this.gradeDisplay.source="icon/equip/q1",e&&(this.levelLabel.text="+"+e.level,this.iconDisplay.source="icon/equip/"+e.resours,this.gradeDisplay.source="icon/equip/q"+e.quality)},Object.defineProperty(n.prototype,"select",{set:function(e){this.selectDisplay.visible=e},enumerable:!0,configurable:!0}),n}(e.GameComponent);e.EquipIcon=t,__reflect(t.prototype,"game.EquipIcon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._equipSlotList=[],e._totalLabelList=[],e._currentLabelList=[],e._bagIconList=[],e._canUpgrade=!1,e.skinName=EquipPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.currentEquipIcon.countLabel.visible=!1,this.autoLevelUpButton.label=e.Lang.yijianshengji,this.autoEquipButton.label=e.Lang.yijianzhuangbei,this.autoCancelButton.label=e.Lang.xiexiazhuangbei,this.noneLabel1.text=e.Lang.meiyouxiedaipin,this.noneLabel2.text=e.Lang.weizhuangbeixiedaipin,this.upgradeButton.label=e.Lang.shengji,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.leftArrowButton,callBackFunc:this.touchArrow},{target:this.rightArrowButton,callBackFunc:this.touchArrow},{target:this.upgradeButton,callBackFunc:this.touchUpgrade},{target:this.equipButton,callBackFunc:this.touchEquip},{target:this.autoEquipButton,callBackFunc:this.touchAutoEquip},{target:this.autoCancelButton,callBackFunc:this.touchAutoCancel},{target:this.autoLevelUpButton,callBackFunc:this.touchAutoLevelUp}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:function(){t.updateEquipBag(),t.updateCurrentEquip(t._currentEquipIcon)},notifyName:e.PlayerModel.EQUIP_BAG_UPDATE,execute:!1}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.updateCurrentSlot,n.TOUCH_SLOT),e.NotificationCenter.getInstance().addObserver(this,this.updateCurrentEquip,n.TOUCH_EQUIP)},n.prototype.touchAutoLevelUp=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._canUpgrade?[4,e.DataManager.playerModel.upgradeAllEquip()]:[3,2];case 1:return t.sent(),this.setCurrentPokemon(this._currentPokemonInfo),[3,3];case 2:e.showTips(e.Lang.ninmeiyoukeshengjidezhuangbei,!0),t.label=3;case 3:return[2]}})})},n.prototype.touchAutoEquip=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,u,l,c,h;return __generator(this,function(p){switch(p.label){case 0:t=this._currentPokemonData.attribute,n=!1,i=0,p.label=1;case 1:if(!(i<this._equipSlotList.length))return[3,4];if(a=this._equipSlotList[i],a.equipData||a.lock)return[3,3];if(o=a.slotData.bringType,s=e.DataManager.playerModel.getEquipList(o),!(s.length>0))return[3,3];for(s=s.sort(function(t,n){var i=e.Data.TElfBring[t.type],a=e.Data.TElfBring[n.type];return a.level-i.level}),r=void 0,u=0;u<s.length;u++)if(l=s[u],c=e.Data.TElfBring[l.type],h=e.splitStringToNumberArray(c.attribute,";"),h.indexOf(t)>-1){r=l;break}return r||(r=s[0]),n=!0,[4,e.DataManager.playerModel.equipBring(this._currentPokemonInfo,a.slotData.id-1,r.type)];case 2:p.sent(),p.label=3;case 3:return i++,[3,1];case 4:return n?this.setCurrentPokemon(this._currentPokemonInfo):e.showTips(e.Lang.ninmeiyoukeyizhuangbeidezhuangbei,!0),[2]}})})},n.prototype.touchAutoCancel=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(a){switch(a.label){case 0:t=!1,n=0,a.label=1;case 1:return n<this._equipSlotList.length?(i=this._equipSlotList[n],i.equipData?(t=!0,[4,e.DataManager.playerModel.cancelEquip(this._currentPokemonInfo,i.slotData.id-1)]):[3,3]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return t?this.setCurrentPokemon(this._currentPokemonInfo):e.showTips(e.Lang.ninmeiyouxuyaoxiexiadezhuangbei,!0),[2]
}})})},n.prototype.touchUpgrade=function(){var t=e.EquipUpgradePanel.getInstance();t.setData(this._currentEquipIcon.equipData),t.show()},n.prototype.touchEquip=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._currentEquipIcon.alreadyEquip?[4,e.DataManager.playerModel.cancelEquip(this._currentPokemonInfo,this._currentSlot.slotData.id-1)]:[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.DataManager.playerModel.equipBring(this._currentPokemonInfo,this._currentSlot.slotData.id-1,this._currentEquipIcon.equipData.id)];case 3:t.sent(),t.label=4;case 4:return this.updatePokemonEquip(),this.updateEquipBag(),[2]}})})},n.prototype.closeHandle=function(){this.artPokemon.stop(),e.removePopUp(this)},n.prototype.touchArrow=function(e){e==this.rightArrowButton?this._currentIndex++:e==this.leftArrowButton&&this._currentIndex--,this.setCurrentPokemon(this._pokemonList[this._currentIndex])},n.prototype.setCurrentPokemon=function(t){this._currentSlot=null,this._currentPokemonInfo=t;var n=e.Data.TElf[t.type];this._currentPokemonData=n;var i=0,a=0;if(0==t.slot){var o=e.DataManager.playerModel.getPlayerGridConfigById(t.id);i=o.formation,a=o.grid}var s=e.parseBattlePokemonData(t,i,a);this._currentPokemonBattleData=s,this.artPokemon.setData(t,n,s),this.artPokemon.currentGroup.x=120,this._pokemonList=e.DataManager.playerModel.playerTeamPokemonList,this._currentIndex=this._pokemonList.indexOf(t),this.updateArrowDisplay(),this.updatePokemonEquip(),this.equipPoint.visible=e.checkPokemonCanEquip(t),this._canUpgrade=!1;for(var r=e.DataManager.playerModel.getAllEquip(),u=0;u<r.length;u++)if(r[u].count>=e.EquipUpgradePanel.needCount){this._canUpgrade=!0;break}this.levelPoint.visible=this._canUpgrade},n.prototype.updatePokemonEquip=function(){this._totalAttribute=new e.EquipAttribute;var t=this._currentPokemonInfo.equip,n=0;for(var i in e.Data.TElfBringGrid)if(e.Data.TElfBringGrid.hasOwnProperty(i)){var a=e.Data.TElfBringGrid[i],o=!0;(!a.unlockElfLevel||this._currentPokemonInfo.lv>=a.unlockElfLevel)&&(o=!1),this._equipSlotList[n]||(this._equipSlotList[n]=new e.EquipSlot,this.pokemonEquipGroup.addChild(this._equipSlotList[n]));var s=e.Data.TElfBring[t[a.id-1]];this._equipSlotList[n].setData(a,s,o),n++,s&&e.parseEquipAttribute(this._totalAttribute,e.Data.TEffect[s.effectId])}e.createAttributeLabel(this.totalAttributeGroup,this._totalAttribute,this._totalLabelList),this.noneLabel2.visible=0==this.totalAttributeGroup.numChildren,this._currentSlot?this.updateCurrentSlot(this._currentSlot):this.updateCurrentSlot(this._equipSlotList[0])},n.prototype.updateCurrentSlot=function(e){this._currentSlot&&(this._currentSlot.select=!1),this._currentSlot=e,e.select=!0,this.updateCurrentEquip(e.equipIcon),this.updateEquipBag()},n.prototype.updateEquipBag=function(){var t=this._currentSlot.slotData.bringType,n=e.DataManager.playerModel.getEquipList(t);this.bagGroup.removeChildren();for(var i=0;i<n.length;i++){var a=this._bagIconList[i];a||(this._bagIconList[i]=new e.EquipIcon,a=this._bagIconList[i]),a.setData(e.Data.TElfBring[n[i].type],n[i].count),this.bagGroup.addChild(a)}this.noneLabel1.visible=0==this.bagGroup.numChildren},n.prototype.updateCurrentEquip=function(t){this._currentEquipIcon&&(this._currentEquipIcon.select=!1),this._currentEquipIcon=t,t.select=!0;var n=t.equipData;n?(this.currentGroup.visible=!0,this.currentEquipIcon.setData(n),this.currentEquipNameLabel.text=n.name,this.currentTypeIcon.source="ui/scene/equip/"+n.type,t.alreadyEquip?(this.currentEquipCountLabel.text=e.Lang.yizhuangbei,this.upgradeButton.visible=!1,this.equipButton.horizontalCenter=-192.5,this.equipButton.label=e.Lang.xiexia):(this.currentEquipCountLabel.text=e.Lang.yongyou+":"+e.DataManager.playerModel.getEquipCount(n.id),this.equipButton.label=e.Lang.zhuangbei,n.upItems?(this.equipButton.horizontalCenter=-257.5,this.upgradeButton.visible=!0):(this.upgradeButton.visible=!1,this.equipButton.horizontalCenter=-192.5)),this._currentAttribute=new e.EquipAttribute,e.parseEquipAttribute(this._currentAttribute,e.Data.TEffect[n.effectId]),e.createAttributeLabel(this.currentAttributeGroup,this._currentAttribute,this._currentLabelList)):this.currentGroup.visible=!1},n.prototype.updateArrowDisplay=function(){this._currentIndex<0?this.leftArrowButton.visible=this.rightArrowButton.visible=!1:(this.leftArrowButton.visible=this._currentIndex>0,this.rightArrowButton.visible=this._currentIndex!=this._pokemonList.length-1)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.TOUCH_EQUIP="EquipPanel_TOUCH_EQUIP",n.TOUCH_SLOT="EquipPanel_TOUCH_SLOT",n}(e.PanelComponent);e.EquipPanel=t,__reflect(t.prototype,"game.EquipPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.skinName=EquipSlotSkin,n.touchChildren=!1,n.equipIcon.alreadyEquip=!0,n.equipIcon.countLabel.visible=!1,n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.NotificationCenter.getInstance().postNotification(e.EquipPanel.TOUCH_SLOT,n)},n),n}return __extends(n,t),n.prototype.setData=function(t,n,i){this.slotData=t,this.equipData=n,this.equipIcon.setData(n),this.typeIcon.source="ui/scene/equip/"+t.bringType,this.lock=i,this.lock?(this.lockLabel.visible=!0,this.lockLabel.text=e.formatString(e.Lang.duoshaojijiesuo,t.unlockElfLevel),this.touchEnabled=!1,this.bgDisplay.source="ui/scene/equip/iconBgGray",this.equipIcon.visible=!1):(this.lockLabel.visible=!1,this.touchEnabled=!0,n?(this.equipIcon.visible=!0,this.bgDisplay.source="ui/scene/equip/iconBg"):(this.equipIcon.visible=!1,this.bgDisplay.source="ui/scene/equip/iconBgAdd")),this.select=!1},Object.defineProperty(n.prototype,"select",{set:function(e){this.selectDisplay.visible=e,this.equipIcon.select=e},enumerable:!0,configurable:!0}),n}(e.GameComponent);e.EquipSlot=t,__reflect(t.prototype,"game.EquipSlot")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._labelList=[],e.skinName=EquipUpgradeDetailSkin,e}return __extends(n,t),n.prototype.setData=function(t){this.equipData=t,this.typeIcon.source="ui/scene/equip/"+t.type,this.nameLabel.text=t.name,this.sroller.viewport.scrollV=0,this.attributeGroup.removeChildren(),this._attribute=new e.EquipAttribute,e.parseEquipAttribute(this._attribute,e.Data.TEffect[t.effectId]),e.createAttributeLabel(this.attributeGroup,this._attribute,this._labelList)},n}(e.GameComponent);e.EquipUpgradeDetail=t,__reflect(t.prototype,"game.EquipUpgradeDetail")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.canUpgrade=!1,e.skinName=EquipUpgradePanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.autoButton.label=e.Lang.yijianshengji,this.upgradeButton.label=e.Lang.shengji,this.needCountLabel.text=e.Lang.xuyaoshuliang+":"+n.needCount,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.upgradeButton,callBackFunc:this.confirmHandle},{target:this.autoButton,callBackFunc:this.confirmHandle}],this.addEventAndNotify()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.confirmHandle=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return this.canUpgrade?(n=t==this.upgradeButton?0:1,[4,e.DataManager.playerModel.upgradeEquip(this.equipData.id,n)]):[3,2];case 1:return i=a.sent(),i&&this.closeHandle(),[3,3];case 2:e.showTips(e.Lang.nindedaojubuzu,!0),a.label=3;case 3:return[2]}})})},n.prototype.setData=function(t){this.equipData=t,this.costEquipIcon.setData(t);var i=e.DataManager.playerModel.getEquipCount(t.id);this.canUpgrade=i>=n.needCount,this.ownCountLabel.text=e.Lang.yongyoushuliang+":"+i,this.ownCountLabel.textColor=this.canUpgrade?gameConfig.TextColors.green:gameConfig.TextColors.red,this.currentDetail.setData(t),this.nextDetail.setData(e.Data.TElfBring[t.upItems])},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.needCount=Number(e.Constants.bringUp),n}(e.PanelComponent);e.EquipUpgradePanel=t,__reflect(t.prototype,"game.EquipUpgradePanel")}(game||(game={}));var game;!function(e){var t=function(){function e(){this.critDamage=0,this.critChance=0,this.hpPer=0,this.atkPer=0,this.atkSpPer=0,this.defPer=0,this.defSpPer=0,this.spePer=0}return e}();e.SuperEquipAttribute=t,__reflect(t.prototype,"game.SuperEquipAttribute")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=NewEquipAttributeSkin,e}return __extends(n,t),n.prototype.setNormal=function(e){this.reset(),this.attributeLabel.text=e,this.attributeLabel.visible=!0},n.prototype.setLock=function(){this.reset(),this.noneLabel.visible=!0},n.prototype.setChange=function(t,n){this.reset(),this.attributeLabel.visible=this.newAddLabel.visible=this.newAddIcon.visible=!0,this.attributeLabel.text=t,t.indexOf("%")>-1?this.newAddLabel.text="+"+(100*n).toFixed(1)+"%":this.newAddLabel.text="+"+e.setNumber(n)},n.prototype.setNew=function(e){this.reset(),this.attributeLabel.visible=this.newLabel.visible=!0,this.attributeLabel.text=e},n.prototype.reset=function(){this.attributeLabel.visible=this.newAddIcon.visible=this.newAddLabel.visible=this.noneLabel.visible=this.newLabel.visible=!1},n}(e.GameComponent);e.NewEquipAttribute=t,__reflect(t.prototype,"game.NewEquipAttribute")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=NewEquipExpIconSkin,t.touchChildren=!1,t}return __extends(t,e),t.prototype.setEquip=function(e){this.equipIcon.setSelectInfo(e),this.equipInfo=e},t.prototype.setSelect=function(e){this.arrowImage.visible=e},t}(e.GameComponent);e.NewEquipExpIcon=t,__reflect(t.prototype,"game.NewEquipExpIcon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.slotId=0,e._starList=[],e.skinName=NewEquipIconSkin,e.touchChildren=!1,e.init(),e}return __extends(n,t),n.prototype.init=function(){},n.prototype.setBagInfo=function(e){this.slotId=0,this.currentEquipInfo=e,this.selectImage.visible=!1,this.lockImage.visible=!0,this.updateInfo()},n.prototype.setSlotInfo=function(e,t){this.currentEquipInfo=t,this.slotId=e,this.selectImage.visible=!1,this.gradeIcon.source="icon/equip/q1",t?this.updateInfo():(this.slotIcon.source="ui/scene/equip/"+e,this.levelLabel.visible=this.equipIcon.visible=this.starGroup.visible=!1),this.lockImage.visible=!1},n.prototype.updateInfo=function(){if(this.currentEquipInfo){var t=e.Data.Tequip[this.currentEquipInfo.type];if(t){this.gradeIcon.source="icon/equip/q"+t.rare,this.equipIcon.source="icon/equip/"+t.icon,this.levelLabel.visible=this.equipIcon.visible=this.starGroup.visible=!0,this.levelLabel.text="+"+this.currentEquipInfo.level,this.starGroup.removeChildren();for(var n=0;n<t.rare;n++){var i=this._starList[n];i||(i=new eui.Image("ui/scene/team/star"),this._starList[n]=i),this.starGroup.addChild(i)}this.slotIcon.source="ui/scene/equip/"+t.position,this.lockImage.visible=this.currentEquipInfo.locked}}},n.prototype.setSelectInfo=function(e){this.slotId=0,this.currentEquipInfo=e,this.updateInfo(),this.selectImage.visible=!1,this.lockImage.visible=!1},n}(e.GameComponent);e.NewEquipIcon=t,__reflect(t.prototype,"game.NewEquipIcon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._sortType=0,e._bagIconList=[],e._attributeItem=[],e.totalLabel=[],e._suit=[],e.skinName=NewEquipPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.autoCancelButton.image="ui/scene/equip/new/yijianxiexia",this.autoEquipButton.image="ui/scene/equip/new/yijianzhuangbei",this.autoCancelButton.imageScale=this.autoEquipButton.imageScale=1.5,this.upgradeButton.image="ui/scene/equip/new/Tx_qianghua",this.sortTypeButton.image="ui/scene/equip/new/leixingpaixu",this.sortLevelButton.image="ui/scene/equip/new/dengjipaixu",this.sortRareButton.image="ui/scene/equip/new/xiyoupaixu",this.sortNewButton.image="ui/scene/equip/new/xinpinpaixu",this._artPokemon=new e.TeamArtPokemon,this.pokemonGroup.addChild(this._artPokemon.display),this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.sortLevelButton,callBackFunc:this.touchSort},{target:this.sortTypeButton,callBackFunc:this.touchSort},{target:this.sortRareButton,callBackFunc:this.touchSort},{target:this.sortNewButton,callBackFunc:this.touchSort},{target:this.upgradeButton,callBackFunc:this.upgradeHandle},{target:this.equipButton,callBackFunc:this.equipHandle},{target:this.slotIcon1,callBackFunc:this.touchSlot},{target:this.slotIcon2,callBackFunc:this.touchSlot},{target:this.slotIcon3,callBackFunc:this.touchSlot},{target:this.slotIcon4,callBackFunc:this.touchSlot},{target:this.lockButton,callBackFunc:this.lockHandle},{target:this.autoCancelButton,callBackFunc:this.autoCancel},{target:this.autoEquipButton,callBackFunc:this.autoEquip},{target:this.rightArrowButton,callBackFunc:this.touchArrow},{target:this.leftArrowButton,callBackFunc:this.touchArrow}],this.addEventAndNotify(),this.equipBagGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchBag,this)},n.prototype.touchArrow=function(e){e==this.rightArrowButton?this._currentIndex++:e==this.leftArrowButton&&this._currentIndex--,this.setCurrentPokemon(this._pokemonList[this._currentIndex])},n.prototype.autoCancel=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(a){switch(a.label){case 0:t=0,n=0,a.label=1;case 1:return n<this._currentPokemonInfo.newEquip.length?(i=this._currentPokemonInfo.newEquip[n])?(t++,[4,e.DataManager.playerModel.UnequipNewEquip(this._currentPokemonInfo,i,n+1)]):[3,3]:[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return 0==t?(e.showTips(e.Lang.meiyouzhuangbei,!0),[2]):(this.setCurrentPokemon(this._currentPokemonInfo),[2])}})})},n.prototype.autoEquip=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,u,l;return __generator(this,function(c){switch(c.label){case 0:t=0,n=!1,i=e.DataManager.playerModel.newEquips,i=i.sort(function(t,n){var i=e.Data.Tequip[t.type],a=e.Data.Tequip[n.type];return i.rare==a.rare?t.level==n.level?n.id-t.id:n.level-t.level:a.rare-i.rare}),a=0,c.label=1;case 1:if(!(a<this._currentPokemonInfo.newEquip.length))return[3,6];if(o=this._currentPokemonInfo.newEquip[a])return[3,5];t++,s=a+1,r=0,c.label=2;case 2:return r<i.length?(u=i[r],l=e.Data.Tequip[u.type],l.position!=s?[3,4]:(n=!0,[4,e.DataManager.playerModel.EquipNewEquip(this._currentPokemonInfo,u)])):[3,5];case 3:return c.sent(),[3,5];case 4:return r++,[3,2];case 5:return a++,[3,1];case 6:return 0==t?(e.showTips(e.Lang.yizhuangbeiman,!0),[2]):n?(this.setCurrentPokemon(this._currentPokemonInfo),[2]):(e.showTips(e.Lang.meiyoukezhuangbei,!0),[2])}})})},n.prototype.lockHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.LockNewEquip(this._selectEquipInfo)];case 1:return t.sent(),this.lockButton.icon=this._selectEquipInfo.locked?"ui/scene/team/UI_icon_suo01":"ui/scene/team/UI_icon_suo02",this._selectEquipIcon.updateInfo(),[2]}})})},n.prototype.touchSlot=function(e){this._selectSlot=e.slotId,e.currentEquipInfo?this.setSelectEquip(e):(this._selectEquipIcon&&(this._selectEquipIcon.selectImage.visible=!1),this._selectEquipIcon=e,e.selectImage.visible=!0,this.detailGroup.visible=!1,this.noneDetailLabel.visible=!0),this.sortBag()},n.prototype.upgradeHandle=function(){if(this._selectEquipInfo&&this._selectEquipIcon){var t=e.NewEquipUpgrade.getInstance();this._oldEquipInfo=e.copyObject(this._selectEquipInfo),t.setEquip(this._selectEquipIcon.slotId,this._selectEquipInfo,this,this._currentPokemonInfo),t.show()}},n.prototype.updateOldEquipInfo=function(){this._oldEquipInfo=e.copyObject(this._selectEquipInfo)},n.prototype.equipHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._selectEquipIcon.slotId>0?[4,e.DataManager.playerModel.UnequipNewEquip(this._currentPokemonInfo,this._selectEquipInfo,this._selectEquipIcon.slotId)]:[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.DataManager.playerModel.EquipNewEquip(this._currentPokemonInfo,this._selectEquipInfo)];case 3:t.sent(),t.label=4;case 4:return this.setCurrentPokemon(this._currentPokemonInfo),[2]}})})},n.prototype.touchBag=function(e){var t=e.target;t.currentEquipInfo&&this.setSelectEquip(t)},n.prototype.setSelectEquip=function(t){this._selectEquipIcon&&(this._selectEquipIcon.selectImage.visible=!1),this._selectEquipIcon=t,this._selectEquipIcon.selectImage.visible=!0,this._selectEquipInfo=t.currentEquipInfo,this.detailGroup.visible=!0,this.noneDetailLabel.visible=!1,this.selectIcon.setSelectInfo(this._selectEquipInfo),this.equipButton.image=t.slotId>0?"langs/Tx_xiexia":"langs/Tx_zhuangbei",this.lockButton.visible=0==t.slotId;var n=e.Data.Tequip[this._selectEquipInfo.type];if(n){this.selectNameLabel.text=n.name,this.lockButton.icon=this._selectEquipInfo.locked?"ui/scene/team/UI_icon_suo01":"ui/scene/team/UI_icon_suo02",this._suit.indexOf(n.Suiteffect)>-1?this.suitLabel.textColor=gameConfig.TextColors.green:this.suitLabel.textColor=gameConfig.TextColors.grayWhite,this.suitLabel.text=n.EffectDescribe,this.suitLimitLabel.textFlow=[{text:"(凑齐4件"},{text:n.name,style:{textColor:gameConfig.TextColors.blue}},{text:")"}];var i=new e.EquipAttribute;e.parseEquipAttribute(i,e.Data.TEffect[n.Suiteffect]),this.attributeGroup.removeChildren(),i=new e.EquipAttribute,this.parseEffect(i,this._selectEquipInfo);for(var a=e.getAttributeTextList(i),o=0;o<a.length;o++){var s=this._attributeItem[o];s||(s=new e.NewEquipAttribute,this._attributeItem[o]=s),s.setNormal(a[o]),this.attributeGroup.addChild(s)}for(var r=5-this._selectEquipInfo.levelEffect.length,o=0;r>o;o++){var s=this._attributeItem[o+a.length];s||(s=new e.NewEquipAttribute,this._attributeItem[o+a.length]=s),s.setLock(),this.attributeGroup.addChild(s)}}},n.prototype.touchSort=function(e){var t=0;switch(e){case this.sortLevelButton:t=2;break;case this.sortNewButton:t=4;break;case this.sortRareButton:t=3;break;case this.sortTypeButton:t=1}this._sortType=t,this.sortBag()},n.prototype.closeHandle=function(){this._selectSlot=0,this._artPokemon.stop(),e.removePopUp(this)},n.prototype.setNewEquipInfo=function(t){this.sortBag(),this._selectEquipIcon.updateInfo(),this.setSelectEquip(this._selectEquipIcon);var n=new e.EquipAttribute;this.parseEffect(n,this._oldEquipInfo);var i=new e.EquipAttribute;this.parseEffect(i,t),this.attributeGroup.removeChildren();var a=0;for(var o in i)if(i.hasOwnProperty(o)&&i[o]){var s=this._attributeItem[a];if(s||(s=new e.NewEquipAttribute,this._attributeItem[a]=s),a++,n[o]){var r=new e.EquipAttribute;r[o]=n[o];var u=e.getAttributeTextList(r)[0];i[o]>n[o]?s.setChange(u,i[o]-n[o]):s.setNormal(u)}else{var r=new e.EquipAttribute;r[o]=i[o];var u=e.getAttributeTextList(r)[0];s.setNew(u)}this.attributeGroup.addChild(s)}for(var l=5-t.levelEffect.length,o=0;l>o;o++){var s=this._attributeItem[a];s||(s=new e.NewEquipAttribute,this._attributeItem[a]=s),a++,s.setLock(),this.attributeGroup.addChild(s)}},n.prototype.parseEffect=function(t,n){var i=e.Data.Tequip[n.type],a=n.level>0?i["lv"+n.level]:i.basicAttributes;e.parseEquipAttribute(t,e.Data.TEffect[a]);for(var o=0;o<n.levelEffect.length;o++)e.parseEquipAttribute(t,e.Data.TEffect[n.levelEffect[o]]);for(var o=0;o<n.extEffect.length;o++)e.parseEquipAttribute(t,e.Data.TEffect[n.extEffect[o]])},n.prototype.setCurrentPokemon=function(t){this._pokemonList=e.DataManager.playerModel.playerTeamPokemonList,this._currentIndex=this._pokemonList.indexOf(t),this._currentPokemonInfo=t,this._artPokemon.setPokemon(t.type,!1),this.updateTotalEquipAttribute(),this.detailGroup.visible=!1,this.noneDetailLabel.visible=!0,this._selectEquipInfo=null,this._selectEquipIcon=null,this.sortBag();for(var n=0;n<t.newEquip.length;n++){var i=t.newEquip[n];this["slotIcon"+(n+1)].setSlotInfo(n+1,i)}this.updateArrowDisplay()},n.prototype.updateArrowDisplay=function(){this._currentIndex<0?this.leftArrowButton.visible=this.rightArrowButton.visible=!1:(this.leftArrowButton.visible=this._currentIndex>0,this.rightArrowButton.visible=this._currentIndex!=this._pokemonList.length-1)},n.prototype.updateTotalEquipAttribute=function(){this._suit=[];var t={};this._totalEquipAttribute=new e.EquipAttribute;for(var n=0;n<this._currentPokemonInfo.newEquip.length;n++){var i=this._currentPokemonInfo.newEquip[n];if(i){var a=e.Data.Tequip[i.type];a&&(t[a.Suiteffect]||(t[a.Suiteffect]=0),t[a.Suiteffect]++,this.parseEffect(this._totalEquipAttribute,i))}}for(var n in t){var o=t[n];o>=4&&(e.parseEquipAttribute(this._totalEquipAttribute,e.Data.TEffect[n]),this._suit.push(Number(n)))}e.createAttributeLabel(this.totalGroup,this._totalEquipAttribute,this.totalLabel,20)},n.prototype.sortBag=function(){var t=e.DataManager.playerModel.newEquips,n=[];if(this._selectSlot)for(var i=0;i<t.length;i++){var a=t[i],o=e.Data.Tequip[a.type];o.position==this._selectSlot&&n.push(a)}else n=n.concat(t);switch(this._sortType){case 1:n=n.sort(function(t,n){var i=e.Data.Tequip[t.type],a=e.Data.Tequip[n.type];return i.type==a.type?n.id-t.id:i.type-a.type});break;case 2:n=n.sort(function(e,t){return e.level==t.level?t.id-e.id:t.level-e.level});break;case 3:n=n.sort(function(t,n){var i=e.Data.Tequip[t.type],a=e.Data.Tequip[n.type];return i.rare==a.rare?n.id-t.id:a.rare-i.rare});break;case 0:case 4:n=n.sort(function(e,t){return t.id-e.id})}this.sortTypeButton.bg=1==this._sortType?"ui/scene/equip/new/tuceng4":"ui/scene/equip/new/tuceng21",this.sortLevelButton.bg=2==this._sortType?"ui/scene/equip/new/tuceng4":"ui/scene/equip/new/tuceng21",this.sortRareButton.bg=3==this._sortType?"ui/scene/equip/new/tuceng4":"ui/scene/equip/new/tuceng21",this.sortNewButton.bg=4==this._sortType?"ui/scene/equip/new/tuceng4":"ui/scene/equip/new/tuceng21",this.noneLabel.visible=0==n.length,this.equipBagGroup.removeChildren();for(var i=0;i<n.length;i++){var a=n[i],s=this._bagIconList[i];s||(s=new e.NewEquipIcon,this._bagIconList[i]=s),s.setBagInfo(a),this.equipBagGroup.addChild(s),this._selectEquipInfo&&this._selectEquipInfo==a&&(this._selectEquipIcon=s,s.selectImage.visible=!0)}},n.prototype.onShow=function(){this._currentPokemonInfo||this.setCurrentPokemon(e.DataManager.playerModel.playerTeamPokemonList[0])},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.NewEquipPanel=t,__reflect(t.prototype,"game.NewEquipPanel")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=NewEquipProgressSkin,t}return __extends(t,e),Object.defineProperty(t.prototype,"label",{set:function(e){this.labelDisplay.text=e},enumerable:!0,configurable:!0}),t}(e.GameComponent);e.NewEquipProgress=t,__reflect(t.prototype,"game.NewEquipProgress")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._slot=0,e._equipIcon=[],e.skinName=NewEquipUpgradeSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.upgradeEffectGroup.visible=!1,this.okButton.image="ui/scene/equip/new/qianghua",this.oneKeySelect.image="ui/scene/team/Tx_yijtj",this.okButton.imageScale=1.5,this._normalEffect=new e.SequenceImage,this._normalEffect.setData({resource:"anim/fangdian",size:{col:9,row:1},delay:100}),this.normalEffectGroup.addChild(this._normalEffect.display),this._upgradeEffect=new e.SequenceImage,this._upgradeEffect.setData({resource:"anim/qianghua",size:{col:10,row:1},delay:100}),this.upgradeEffectGroup.addChild(this._upgradeEffect.display),this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.okButton,callBackFunc:this.upgradeHandle},{target:this.slotIcon1,callBackFunc:this.touchSlot},{target:this.slotIcon2,callBackFunc:this.touchSlot},{target:this.slotIcon3,callBackFunc:this.touchSlot},{target:this.slotIcon4,callBackFunc:this.touchSlot},{target:this.oneKeySelect,callBackFunc:this.oneKeyHandle}],this.addEventAndNotify(),this.bagGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchBag,this),egret.Tween.get(this.selectIcon,{loop:!0}).to({y:330},1e3).to({y:340},1e3),egret.Tween.pauseTweens(this.selectIcon)},n.prototype.touchSlot=function(e){if(e.currentEquipInfo){switch(this._equipInfo=e.currentEquipInfo,e){case this.slotIcon1:this._slot=1;break;case this.slotIcon2:this._slot=2;break;case this.slotIcon3:this._slot=3;break;case this.slotIcon4:this._slot=4}var t=this._equipPanel["slotIcon"+this._slot];this._equipPanel.touchSlot(t),this._equipPanel.updateOldEquipInfo(),this.setEquip(this._slot,this._equipInfo,this._equipPanel,this._pokemonInfo)}},n.prototype.upgradeHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._equipInfo.level>=15?(e.showTips(e.Lang.yimanji),[2]):this._selectEquipInfo.length>0?this._goldEnough?[4,e.DataManager.playerModel.UpgradeNewEquip(this._pokemonInfo,this._slot,this._equipInfo,this._selectEquipInfo,this._needGold)]:[3,2]:[3,4];case 1:return t=n.sent(),t&&(this.playUpgradeEffect(),e.showTips(e.Lang.qianghuachenggong),this._needGold=0,this.moneyLabel.text="0",this.setEquip(this._slot,this._equipInfo,this._equipPanel,this._pokemonInfo)),[3,3];case 2:e.showTips(e.Lang.nindehuobibuzu,!0),n.label=3;case 3:return[3,5];case 4:this._canUpgrade?e.showTips(e.Lang.qingxuanzebeibaozhuangbei,!0):e.showTips(e.Lang.gaixiedaipinwuxushengjio,!0),n.label=5;case 5:return[2]}})})},n.prototype.playUpgradeEffect=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.upgradeEffectGroup.visible?[2]:(this.upgradeEffectGroup.visible=!0,this._upgradeEffect.play(1,1),[4,e.delay(1e3)]);case 1:return t.sent(),this.upgradeEffectGroup.visible=!1,[2]}})})},n.prototype.touchBag=function(t){if(!this._canUpgrade)return void e.showTips(e.Lang.gaixiedaipinwuxushengjio,!0);var n=t.target;if(n.equipInfo){var i=this._selectEquipInfo.indexOf(n.equipInfo);i>-1?(this._selectEquipInfo.splice(i,1),n.setSelect(!1)):(this._selectEquipInfo.push(n.equipInfo),n.setSelect(!0)),this.updateSelect()}},n.prototype.oneKeyHandle=function(){if(!this._canUpgrade)return void e.showTips(e.Lang.gaixiedaipinwuxushengjio,!0);var t=0;for(var n in this._equipIcon){var i=this._equipIcon[n].equipInfo,a=e.Data.Tequip[i.type];if(a.rare<3){++t;var o=this._selectEquipInfo.indexOf(i);if(0>o&&(this._selectEquipInfo.push(i),this._equipIcon[n].setSelect(!0)),t>=10)break}}this.updateSelect()},n.prototype.updateSelect=function(){for(var t=0,n=0;n<this._selectEquipInfo.length;n++){var i=this._selectEquipInfo[n],a=e.Data.Tequip[i.type],o=e.Data.TequipExp[i.level];t+=o["rare"+a.rare]||0}this._needGold=0;for(var s=t+this._equipInfo.exp,r=this._equipInfo.level,u=e.Data.TequipLv[r]["rare"+this._rare];s>0&&u&&s>=u;){s-=u,r++;var l=e.Data.TequipLv[r];this._needGold+=l.money,u=l["rare"+this._rare],l.newAttribute&&(this.newAttributeLabel.visible=!0)}this.equipProgress.newImage.visible=!0,u?this.equipProgress.newImage.scaleX=s/u:this.equipProgress.newImage.scaleX=1,this._goldEnough=e.DataManager.playerModel.gold>=this._needGold,this.nextLevelLabel.text=r.toString(),this.moneyLabel.text=this._needGold.toString(),this.moneyLabel.textColor=this._goldEnough?gameConfig.TextColors.green:gameConfig.TextColors.red},n.prototype.closeHandle=function(){egret.Tween.pauseTweens(this.selectIcon),this._normalEffect.stop(),this._equipPanel.setNewEquipInfo(this._equipInfo),e.removePopUp(this)},n.prototype.onShow=function(){egret.Tween.resumeTweens(this.selectIcon)},n.prototype.setEquip=function(t,n,i,a){this._slot=t,this._equipInfo=n,this._equipPanel=i,this._pokemonInfo=a,this.normalEffectGroup.visible=!0,this._normalEffect.play(1);for(var o=0;o<a.newEquip.length;o++){var s=o+1;this["slotIcon"+s].setSlotInfo(s,a.newEquip[o]),s==t&&(this["slotIcon"+s].selectImage.visible=!0)}this.selectIcon.setSelectInfo(n),this.leftLevelLabel.text=this.nextLevelLabel.text=n.level.toString();var r=e.Data.Tequip[n.type],u=e.Data.TequipLv[n.level],l=u["rare"+r.rare];if(l){var c=n.exp;this.equipProgress.labelDisplay.text=c+"/"+l,this.equipProgress.oldImage.scaleX=c/l,this._canUpgrade=!0}else this.equipProgress.oldImage.scaleX=1,this.equipProgress.labelDisplay.text=e.Lang.yimanji,this._canUpgrade=!1;this.equipProgress.newImage.visible=!1,this._rare=r.rare,this.newAttributeLabel.visible=!1,this.bagGroup.removeChildren(),this._equipIcon=[];for(var o=0;o<e.DataManager.playerModel.newEquips.length;o++){var h=e.DataManager.playerModel.newEquips[o];if(!h.locked&&(0!=t||h.id!=n.id)){var p=this._equipIcon[o];p||(p=new e.NewEquipExpIcon,this._equipIcon[o]=p),p.setEquip(h),p.setSelect(!1),this.bagGroup.addChild(p)}}this._selectEquipInfo=[]},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.NewEquipUpgrade=t,__reflect(t.prototype,"game.NewEquipUpgrade")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._gridPokemonList=[],e._nextGridPokemonList=[],e._canUpgrade=!1,e._change=!1,e.skinName=FormationPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._adjust=!0,this.zhenxingshengji.text=e.Lang.zhenxingshengji+":",this.autoButton.image="langs/yijianbuzhen",this.upLevelButton.image="ui/scene/team/Tx_shenj",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.autoButton,callBackFunc:this.autoHandle},{target:this.upLevelButton,callBackFunc:this.upLevelHandle},{target:this.unlockTypeButton,callBackFunc:this.touchUnlock},{target:this.costGroup,callBackFunc:this.touchCost}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,function(e){e.play()},n.TOUCH_POKEMON),e.NotificationCenter.getInstance().addObserver(this,this.movePokemonEnd,n.MOVE_POKEMON_END),this.initTypeButton(),this.initGrid()},n.prototype.touchCost=function(){var t=e.ItemInfoPanel.getInstance();t.setData(e.Data.TItem[this._costItemType]),t.show()},n.prototype.touchUnlock=function(){e.showTips(e.Lang.zanweikaifang,!0)},n.prototype.movePokemonEnd=function(t){var n=t.icon;n.stop();for(var i=t.event,a=n.gridId,o=0,s=0;s<this._gridPokemonList.length;s++){var r=this._gridPokemonList[s],u=r.x-48.5+17,l=r.y-97+302;if(e.checkPointAtRect(i.stageX,i.stageY,u,l,97,97)){o=r.gridId;break}}if(o){this._change=!0;for(var c=this._configInfo.gridConfig,h=void 0,p=void 0,s=0;s<c.length;s++)c[s].grid==o&&(p=c[s]),c[s].grid==a&&(h=c[s]);if(p)if(h){var g=p.id;p.id=h.id,h.id=g}else p.id=n.pokemonInfo.id,c.push({id:p.id,grid:a});else if(h)if(p){var g=p.id;p.id=h.id,h.id=g}else h.grid=o;this.updateGrid()}else n.resetPokemon()},n.prototype.initGrid=function(){for(var t=1;9>=t;t++){var n=new e.FormationPokemon;n.gridId=t;var i=e.BattlePokemon.playerPosition[t];n.x=i[0],n.y=i[1],this.pokemonGroup.addChild(n),this._gridPokemonList.push(n)}for(var t=1;9>=t;t++){var n=new e.FormationPokemon;n.gridId=t;var i=e.BattlePokemon.playerPosition[t];n.x=i[0],n.y=i[1],this.nextGridGroup.addChild(n),this._nextGridPokemonList.push(n)}},n.prototype.initTypeButton=function(){this._radioGroup=new e.RadioGroup(this.typeButtonGroup,[this.type1Button,this.type2Button,this.type3Button,this.type4Button,this.type5Button],this.touchTypeButtonHandle,this,this.typeButtonChangeHandle),this.type1Button.type=1,this.type2Button.type=2,this.type3Button.type=3,this.type4Button.type=4,this.type5Button.type=5,this.unlockTypeButton.type=0},n.prototype.touchTypeButtonHandle=function(t){this._change=!0,this._currentTypeButton=t;var n;switch(t){case this.type1Button:n=1;break;case this.type2Button:n=2;break;case this.type3Button:n=3;break;case this.type4Button:n=4;break;case this.type5Button:n=5}this.currentTypeImage.source="ui/scene/formation/"+n,this._configInfo.formation=e.DataManager.playerModel.getFormationByType(n);
var i=e.Data.TGridType[this._configInfo.formation];if(this._canUpgrade=!1,i.nextId){this.maxLabel.visible=!1,this.levelGroup.visible=!0;var a=e.splitStringToNumberArray(i.itmes,";");this._costItemType=a[0],this.currentLevelLabel.text=i.level.toString(),this.nextLevelLabel.text=(i.level+1).toString(),this.costItemIcon.source="icon/item/"+a[0];var o=e.DataManager.playerModel.getItemCount(a[0]);this.costItemCountLabel.textFlow=[{text:o.toString(),style:{textColor:o>=a[1]?65283:16711680}},{text:"/"+a[1]}],this._canUpgrade=o>=a[1];for(var s=0;s<this._nextGridPokemonList.length;s++){for(var r=s+1,u=this._nextGridPokemonList[s],l=void 0,c=0;c<e.Data.TGridUp.length;c++){var h=e.Data.TGridUp[c];if(h.id==i.nextId&&h.grid==r){l=h;break}}u.setGridData(l),u.setPokemonInfo(null)}}else this.levelGroup.visible=!1,this.maxLabel.visible=!0,this.maxLabel.text=e.Lang.yidadaozuigaodengji+":LV."+i.level;this.updateGrid()},n.prototype.typeButtonChangeHandle=function(e,t){e.select=t},n.prototype.closeHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._change?[4,e.DataManager.playerModel.saveFormation(this._configInfo.formation,this._configInfo.gridConfig)]:[3,2];case 1:return t=n.sent(),t&&e.removePopUp(this),[3,3];case 2:e.removePopUp(this),n.label=3;case 3:return[2]}})})},n.prototype.autoHandle=function(){},n.prototype.upLevelHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._canUpgrade?(this.touchChildren=!1,[4,e.DataManager.playerModel.upgradeFormation(this._configInfo.formation)]):[3,2];case 1:return t.sent(),this.touchChildren=!0,this.touchTypeButtonHandle(this._currentTypeButton),[3,3];case 2:e.showTips(e.Lang.nindedaojubuzu,!0),t.label=3;case 3:return[2]}})})},n.prototype.onShow=function(){this._configInfo=e.copyObject(e.DataManager.playerModel.teamConfig);var t=e.Data.TGridType[this._configInfo.formation];switch(t.typeid){case 1:this._radioGroup.touchButton(this.type1Button);break;case 2:this._radioGroup.touchButton(this.type2Button);break;case 3:this._radioGroup.touchButton(this.type3Button);break;case 4:this._radioGroup.touchButton(this.type4Button);break;case 5:this._radioGroup.touchButton(this.type5Button)}this._change=!1},n.prototype.updateGrid=function(){for(var t=0;t<this._gridPokemonList.length;t++){for(var n=t+1,i=this._gridPokemonList[t],a=void 0,o=0;o<e.Data.TGridUp.length;o++){var s=e.Data.TGridUp[o];if(s.id==this._configInfo.formation&&s.grid==n){a=s;break}}for(var r=void 0,o=0;o<this._configInfo.gridConfig.length;o++){var u=this._configInfo.gridConfig[o];if(u.grid==n){r=e.DataManager.playerModel.getPokemonInfoById(u.id);break}}i.setGridData(a),i.setPokemonInfo(r),i.stop()}},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.TOUCH_POKEMON="FormationPanel_TOUCH_POKEMON",n.MOVE_POKEMON_END="FormationPanel_MOVE_POKEMON_END",n}(e.PanelComponent);e.FormationPanel=t,__reflect(t.prototype,"game.FormationPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.labelPool=new e.ObjectPool(eui.Label),n.skinName=FormationPokemonSkin,n.anchorOffsetX=48.5,n.anchorOffsetY=97,n}return __extends(n,t),n.prototype.createImage=function(){this._pokemonImage=new e.PokemonIconArtAnim,this._pokemonImage.setScale(.8),this._pokemonImage.setScaleX(-.8)},n.prototype.postTouchNotify=function(){e.NotificationCenter.getInstance().postNotification(e.FormationPanel.TOUCH_POKEMON,this)},n.prototype.endMovePokemon=function(t){e.NotificationCenter.getInstance().postNotification(e.FormationPanel.MOVE_POKEMON_END,{icon:this,event:t})},n.prototype.setGridData=function(t){var n=this;if(this.gridData=t,this.labelPool.destroyAllObject(),this.detailLabelGroup.removeChildren(),t){var i=function(e,t){var i=n.labelPool.createObject();i.size=15,t>0?(i.text=e+":+"+t,i.textColor=524032):(i.text=e+":"+t,i.textColor=16711680),i.stroke=2,n.detailLabelGroup.addChild(i)};t.hp&&i(e.Lang.shengming,t.hp),t.atk&&i(e.Lang.wugong,t.atk),t.atkSp&&i(e.Lang.tegong,t.atkSp),t.def&&i(e.Lang.wufang,t.def),t.defSp&&i(e.Lang.tefang,t.defSp),t.spe&&i(e.Lang.sudu,t.spe)}},n.prototype.setPokemonInfo=function(e){this.pokemonInfo=e,this.pokemonInfo?(this.pokemon=e.type,this.touchEnabled=!0):(this.pokemonGroup.visible=!1,this.touchEnabled=!1),this.resetPokemon()},n}(e.TeamPokemonIcon);e.FormationPokemon=t,__reflect(t.prototype,"game.FormationPokemon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=FormationTypeButtonSkin,e}return __extends(n,t),Object.defineProperty(n.prototype,"type",{set:function(t){if(t)switch(this.iconDisplay.source="ui/scene/formation/"+t,this.labelDisplay.visible=!0,t){case 1:this.labelDisplay.text=e.Lang.qianggong;break;case 2:this.labelDisplay.text=e.Lang.fangyu;break;case 3:this.labelDisplay.text=e.Lang.sugong;break;case 4:this.labelDisplay.text=e.Lang.kongzhi;break;case 5:this.labelDisplay.text=e.Lang.xiaohao}else this.iconDisplay.source="ui/scene/formation/question",this.labelDisplay.visible=!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"select",{set:function(e){this.bgDisplay.source=e?"ui/common/button/orangeBtn":"ui/common/button/yellowBtn"},enumerable:!0,configurable:!0}),n}(e.EffectButton);e.FormationTypeButton=t,__reflect(t.prototype,"game.FormationTypeButton")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.skinName=FriendAvatarAnimSkin,n._avatar=new e.BattleAvatar,n.animGroup.addChild(n._avatar.displayGroup),n}return __extends(n,t),n.prototype.setData=function(t){this._avatar.setAvatar(t.gender),this._avatar.setWing(t.wing,1),this._avatar.setDecoration(t.orna,1),this.nameLabel.text=t.name,this.vipLabel.text=e.getVipLevelByRecharge(t.vipExp).toString()},n.prototype.stop=function(){this._avatar.stop()},n}(e.GameComponent);e.FriendAvatarAnim=t,__reflect(t.prototype,"game.FriendAvatarAnim")}(game||(game={}));var game;!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.postTouchNotify=function(){this.play()},n.prototype.endMovePokemon=function(t){e.NotificationCenter.getInstance().postNotification(e.FriendPanel.MOVE_POKEMON_END,{icon:this,event:t})},n}(e.TeamBagPokemonIcon);e.FriendBagPokemon=t,__reflect(t.prototype,"game.FriendBagPokemon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._artPokemonList=[],n._battleData=[],n._maxBattleCount=Number(e.Constants.MeetPVPNumbe),n.skinName=FriendDetailSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.helpButton.icon="ui/common/button/zhuzhen",this.battleButton.label=e.Lang.qiecuo,this._avatar=new e.BattleAvatar,this.avatarGroup.addChild(this._avatar.displayGroup),this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.battleButton,callBackFunc:this.battleHandle},{target:this.helpButton,callBackFunc:this.helpHandle}],this.addEventAndNotify()},n.prototype.helpHandle=function(){e.OtherHelpPokemon.getInstance().show(),e.OtherHelpPokemon.getInstance().setData(this.detailInfo)},n.prototype.battleHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.detailInfo.playerInfo.id.sid!=e.DataManager.playerModel.sid?(e.showTips("暂不支持跨服切磋",!0),[2]):e.DataManager.playerModel.meetPvpCount>=this._maxBattleCount?(e.showTips(e.Lang.nindezaoyuzhancishuyidashangxian,!0),[3,3]):[3,1];case 1:return e.showWaitPanel(),t=e.BattleScene.getInstance(),t.friendData=this._battleData,t.friendInfo=this.detailInfo.playerInfo,t.friendTeam=this.detailInfo.team,t.friendPokemonData=e.DataManager.playerModel.getPlayerBattlePokemonList(!1),[4,t.initBattle(5)];case 2:n.sent(),e.hideWaitPanel(),this.closeHandle(),e.GameLayer.battleLayer.addChild(t),t.run(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),n.label=3;case 3:return[2]}})})},n.prototype.endBattle=function(){e.IdleScene.getInstance().playMusic(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!0,e.NotificationCenter.getInstance().removeObserver(this,e.BattleScene.QUIT_BATTLE)},n.prototype.confirmHandle=function(){var t=this;if(this.detailInfo.playerInfo.id.sid!=e.DataManager.playerModel.sid)return void e.showTips("暂不支持跨服添加/删除好友",!0);switch(this._buttonType){case 0:e.DataManager.playerModel.applyAddFriend(this.detailInfo.playerInfo.id);break;case 1:var n=e.CheckPanel.getInstance();n.setData(e.Lang.ninquedingyaoshanchudangqianhaoyouma,function(n){n&&e.DataManager.playerModel.deleteFriend(t.detailInfo.playerInfo.id)}),n.show();break;case 2:}this.closeHandle()},n.prototype.setData=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s,r,u,l,c,h,p,g,d,m,f,l,_,y,l,_;return __generator(this,function(v){switch(v.label){case 0:return this.detailInfo=t,n=t.playerInfo,i=t.battlePms,a=t.team,o=t.honorLv,s=t.science,r=e.getHomeAttribute(t.home.level,t.home.placed),this.nameLabel.text=n.name,this.vipLabel.text=e.getVipLevelByRecharge(n.vipExp).toString(),this.levelLabel.text="等级："+t.playerInfo.level,this.uidLabel.text="UID: "+t.playerInfo.id.pid,[4,this._avatar.setAvatar(n.gender)];case 1:v.sent(),this._avatar.setWing(n.wing,1),this._avatar.setDecoration(n.orna,1),this.pokemonGroup.removeChildren(),this._battleData=[],u=0,l=0,v.label=2;case 2:return l<i.length?(c=i[l],h=this._artPokemonList[l],h||(h=new e.ArtPokemonWithStar,this._artPokemonList[l]=h),[4,h.setPokemonInfo(c)]):[3,5];case 3:for(v.sent(),h.setScaleX(-1),this.pokemonGroup.addChild(h),h.setDisplayPosition(120*l+70,0),h.setPlayerDetail(t),p=0,g=0;g<a.gridConfig.length;g++)if(a.gridConfig[l].id==c.id){p=a.gridConfig[l].grid;break}d=e.parseBattlePokemonData(c,a.formation,p,!1,!1,a.titles,a.badges,a.roles,1,!1,e.getVipLevelByRecharge(n.vipExp),a,r,s,a.artifacts,o),u+=e.countPokemonBattleCount(d),this._battleData.push(d),v.label=4;case 4:return l++,[3,2];case 5:for(this.battleCountLabel.text=e.Lang.zhanli+":"+e.setNumber(u),m=e.Data.TTitle[t.playerInfo.title],m?(this.titleImage.visible=!0,this.titleImage.source="langs/title/"+m.id):this.titleImage.visible=!1,this._buttonType=0,this.confirmButton.label=e.Lang.tianjiahaoyou,this.battleButton.label=e.Lang.lueduo,f=e.DataManager.playerModel.getFriendList(),l=0;l<f.length;l++)if(_=f[l].id,_.sid==n.id.sid&&_.pid==n.id.pid)return this.confirmButton.label=e.Lang.shanchuhaoyou,this.battleButton.label=e.Lang.qiecuo,this._buttonType=1,[2];for(y=e.DataManager.playerModel.getFriendNotice(),l=0;l<y.length;l++)if(_=y[l].id,_.sid==n.id.sid&&_.pid==n.id.pid)return this.confirmButton.label=e.Lang.queding,this._buttonType=2,[2];return n.id.sid==e.DataManager.playerModel.sid&&n.id.pid==e.DataManager.playerModel.pid?(this.confirmButton.label=e.Lang.queding,this.battleButton.label="练习",this._buttonType=2,[2]):[2]}})})},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.FriendDetail=t,__reflect(t.prototype,"game.FriendDetail")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=FriendItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.label=e.Lang.tianjia,this.rejectButton.label=e.Lang.jujue,this.applyButton.label=e.Lang.shenqing,this._touchEvent=[{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.rejectButton,callBackFunc:this.rejectHandle},{target:this.helpButton,callBackFunc:this.helpHandle},{target:this.playerIcon,callBackFunc:this.touchIcon},{target:this.applyButton,callBackFunc:this.applyHandle}],this.addEventAndNotify()},n.prototype.applyHandle=function(){e.DataManager.playerModel.applyAddFriend(this.friendInfo.id),this.applyButton.label=e.Lang.yishenqing,this.applyButton.touchEnabled=!1},n.prototype.touchIcon=function(){e.DataManager.playerModel.showPlayerDetail(this.friendInfo.id)},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,e.DataManager.playerModel.agreeAddFriend(this.friendInfo)];case 1:return t=n.sent(),t&&this.removeFromParent(),[2]}})})},n.prototype.rejectHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,e.DataManager.playerModel.rejectAddFriend(this.friendInfo)];case 1:return t=n.sent(),t&&this.removeFromParent(),[2]}})})},n.prototype.helpHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.friendInfo==e.DataManager.playerModel.getHelpFriend(!0)?(e.DataManager.playerModel.teamConfig.assistFriend={sid:0,pid:0},e.DataManager.playerModel.postNotification(e.PlayerModel.HELP_POKEMON_UPDATE),[2]):e.DataManager.playerModel.currentMission%5==0?[2,e.showTips(e.Lang.bossguanqiawufaxiezhu,!0)]:this.canHelp?[4,e.DataManager.playerModel.setAssistFriend(this.friendInfo)]:[2,e.showTips(e.Lang.jinricishuyidashangxian,!0)];case 1:return t.sent(),[2]}})})},n.prototype.setData=function(t,i,a){if(void 0===i&&(i=!0),void 0===a&&(a=!1),this.friendInfo=t,this.isFriend=i,this.canHelp=!1,this.playerIcon.icon=t.gender,this.vipLabel.text=e.getVipLevelByRecharge(t.vipExp).toString(),this.nameLabel.text=t.name,this.applyButton.visible=!1,a)this.applyButton.label=e.Lang.shenqing,this.applyButton.touchEnabled=!0,this.applyButton.visible=!0,this.confirmButton.visible=this.rejectButton.visible=this.helpGroup.visible=!1,this.infoLabel.text=e.Lang.zhanli+":"+t.fight.toString();else if(i){this.infoLabel.text=e.Lang.zhanli+":"+t.fight.toString(),this.confirmButton.visible=this.rejectButton.visible=!1;var o=t.assist;if(o&&o.type){this.helpGroup.visible=!0;var s=e.Data.TElf[o.type];this.helpNameLabel.text="LV."+o.lv+" "+s.name,this.helpNameLabel.textColor=e.TeamBagPokemonIcon.textColor[s.quality];var r=e.DataManager.playerModel.getHelpCount(t.id)||0,u=n.maxHelpCount-r;this.canHelp=u>0,this.helpCountLabel.text=e.Lang.shengyucishu+":"+u,this.artPokemon||(this.artPokemon=new e.ArtPokemonWithStar,this.animGroup.addChild(this.artPokemon)),this.artPokemon.setPokemonInfo(o),this.updateSelect()}else this.helpGroup.visible=!1}else this.confirmButton.visible=this.rejectButton.visible=!0,this.helpGroup.visible=!1,this.infoLabel.text=e.Lang.qingqiutianjianinweihaoyou},n.prototype.updateSelect=function(){var t=e.DataManager.playerModel.getHelpFriend(!0);t&&t==this.friendInfo?(this.helpButton.bg="ui/common/button/orangeBtn",this.helpButton.image="langs/yixiezhu",this.helpButton.touchEnabled=!1):(this.helpButton.bg="ui/common/button/yellowBtn",this.helpButton.image="langs/xiezhu",this.helpButton.touchEnabled=!0)},n.prototype.stop=function(){this.artPokemon&&this.artPokemon.stop()},n.maxHelpCount=Number(e.Constants.maxFriendHelp),n}(e.GameComponent);e.FriendItem=t,__reflect(t.prototype,"game.FriendItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._currentPage=1,n._maxPage=2,n._bagPokemonList=[],n._pokemonBag=[],n._maxFriend=Number(e.Constants.maxFriend),n._friendItemList=[],n._friendAvatarList=[],n._refreshLimit=1e3*Number(e.Constants.friendCommendCD),n._lastFriendCD=0,n.skinName=FriendPanelSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.friendButton.label=e.Lang.haoyou,this.noticeButton.label=e.Lang.tianjia,this.settingsButton.label=e.Lang.shezhi,this.shuruhaoyouid.text=e.Lang.qingshuruhaoyouid,this.sendApplyButton.label=e.Lang.sousuo,this.searchButton.label=e.Lang.xunzhao,this.refreshButton.label=e.Lang.shuaxin,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.sendApplyButton,callBackFunc:this.sendHandle},{target:this.leftArrowButton,callBackFunc:this.moveLastPage},{target:this.rightArrowButton,callBackFunc:this.moveNextPage},{target:this.searchButton,callBackFunc:this.searchHandle},{target:this.refreshButton,callBackFunc:this.searchHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateFriendInfo,notifyName:e.PlayerModel.FRIEND_INFO_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateFriendList,notifyName:e.PlayerModel.HELP_POKEMON_UPDATE,execute:!1},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateFriendList,notifyName:e.PlayerModel.DElETE_FRIEND,execute:!1}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.movePokemonEnd,n.MOVE_POKEMON_END),this._radioGroup=new e.RadioGroup(this.typeButtonGroup,[this.friendButton,this.noticeButton,this.settingsButton],this.touchTypeButton,this,this.changeTypeButton)},n.prototype.searchHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a;return __generator(this,function(o){switch(o.label){case 0:return t=e.DataManager.playerModel.extension.lastCommend,e.getNowTime().getTime()-t.getTime()<=this._refreshLimit?(e.showTips(e.Lang.shuaxinguokuaiqingshuahouzaishi,!0),[2]):(this.noticeItemGroup.removeChildren(),[4,e.DataManager.playerModel.RefreshCommendFriends()]);case 1:if(n=o.sent()){for(i=0;i<n.length;i++)a=this._friendItemList[i],a||(a=new e.FriendItem,this._friendItemList[i]=a),a.setData(n[i],!1,!0),this.noticeItemGroup.addChild(a);this.searchGroup.visible=!1,this.refreshGroup.visible=!0}return[2]}})})},n.prototype.touchTypeButton=function(e){switch(this._currentButton=e,this.friendGroup.visible=e==this.friendButton,this.noticeGroup.visible=e==this.noticeButton,this.settingsGroup.visible=e==this.settingsButton,this.friendScroller.viewport.scrollV=this.noticeScroller.viewport.scrollV=0,e){case this.friendButton:this.updateFriendListInfo();break;case this.noticeButton:this.updateFriendNoticeInfo();break;case this.settingsButton:this.noneLabel.visible=!1,this.updateSetting()}},n.prototype.updateSetting=function(){var t=e.DataManager.playerModel.getRecentlyHelp(),n=e.DataManager.playerModel.getTotalHelp();this.totalTimeLabel.text=e.Lang.zongcishu+":"+n;var i=0;this.recentlyHelpGroup.removeChildren();for(var a=t.length-1;a>=t.length-6&&t[a];a--){var o=this._friendAvatarList[i];o||(o=new e.FriendAvatarAnim,this._friendAvatarList[i]=o),o.setData(t[a]),this.recentlyHelpGroup.addChild(o),i++}this.updateSelfHelp(),this.updatePokemonList()},n.prototype.updatePokemonList=function(){var t=e.DataManager.playerModel.playerAllPokemonList;t=t.sort(function(t,n){var i=-1,a=e.Data.TElf[t.type],o=e.Data.TElf[n.type];return a.quality<o.quality&&(i=1),i}),this._pokemonBag=t,this.page=1,this.updateBag()},n.prototype.updateSelfHelp=function(){var t=e.DataManager.playerModel.getSelfHelpPokemon();t?(this._selfHelpPokemon||(this._selfHelpPokemon=new e.TeamArtPokemon,this.settingPokemonGroup.addChild(this._selfHelpPokemon.display)),this._selfHelpPokemon.setPokemon(t.type,!1),this.settingPokemonGroup.visible=!0):this.settingPokemonGroup.visible=!1},n.prototype.updateFriendNoticeInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.updateFriendNotice()];case 1:return t.sent(),this.updateFriendNotice(),[2]}})})},n.prototype.updateFriendNotice=function(){var t=e.DataManager.playerModel.getFriendNotice();this.noticeItemGroup.removeChildren();for(var n=0,i=t.length-1;i>=t.length-20&&t[i];i--){var a=this._friendItemList[n];a||(a=new e.FriendItem,this._friendItemList[n]=a),a.setData(t[i],!1),this.noticeItemGroup.addChild(a),n++}0==t.length?(this.noneLabel.text=e.Lang.meiyoutongzhi,this.noneLabel.visible=!0,this.searchGroup.visible=!0,this.refreshGroup.visible=!1):this.noneLabel.visible=this.searchGroup.visible=this.refreshGroup.visible=!1},n.prototype.updateFriendListInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.updateFriendList()];case 1:return t.sent(),this.updateFriendList(),[2]}})})},n.prototype.updateFriendList=function(){var t=this._lastFriendCD>0,n=e.DataManager.playerModel.getFriendList();this.friendItemGroup.removeChildren(),this._gmItem||(this._gmItem=new e.GMFriendItem),this._gmItem.updateHelpPokemon(),this._gmItem.helpButton.lock=t,this._gmItem.helpButton.touchEnabled=!t,this.friendItemGroup.addChild(this._gmItem);for(var i=0;i<n.length;i++){var a=this._friendItemList[i];a||(a=new e.FriendItem,this._friendItemList[i]=a),a.setData(n[i]),a.helpButton.lock=t,a.helpButton.touchEnabled=!t,this.friendItemGroup.addChild(a)}this.noneLabel.visible=!1,this.updateFriendInfo()},n.prototype.changeTypeButton=function(e,t){e.bg=t?"ui/common/button/greenBtn":"ui/common/button/greenBtnGray"},n.prototype.updateFriendInfo=function(){var t=e.DataManager.playerModel.getFriendList(),n=e.DataManager.playerModel.friendPoint;this.infoLabel.text=e.Lang.dangqianhaoyoushuliang+":"+t.length+"/"+this._maxFriend+"    "+e.Lang.dangqianyouqingdian+":"+n,this._canAddFriend=t.length<this._maxFriend},n.prototype.movePokemonEnd=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o;return __generator(this,function(s){switch(s.label){case 0:return n=t.icon,i=t.event,a=i.stageX,o=i.stageY,n.stop(),n.resetPokemon(),e.checkPointAtRect(a,o,139,413,444,237)?[4,e.DataManager.playerModel.setSelfHelpPokemon(n.pokemonInfo)]:[3,2];case 1:s.sent(),this.updateSelfHelp(),s.label=2;case 2:return[2]}})})},n.prototype.moveNextPage=function(){var e=this.page+1;e>this._maxPage||(this.page=e,this.updateBag())},n.prototype.moveLastPage=function(){var e=this.page-1;1>e||(this.page=e,this.updateBag())},Object.defineProperty(n.prototype,"page",{get:function(){return this._currentPage},set:function(e){this._currentPage=e,this.leftArrowButton.visible=this._currentPage>1,this.rightArrowButton.visible=this._currentPage<this._maxPage,this.bagLabel.text=this._currentPage+"/"+this._maxPage},enumerable:!0,configurable:!0}),n.prototype.updateBag=function(){for(var t=this._pokemonBag,n=15*(this.page-1)+1,i=n+15,a=t.length,o=0;15>o;o++){this._bagPokemonList[o]||(this._bagPokemonList[o]=new e.FriendBagPokemon,this.bagGroup.addChild(this._bagPokemonList[o]));var s=this._bagPokemonList[o];s.setPokemonInfo(null),s.slot=n+o}for(var o=n;i>o;o++){var r=t[o-1];if(r){var u=(o-1)%15,s=this._bagPokemonList[u];if(!s)continue;s.setPokemonInfo(r)}}this._maxPage=Math.floor(a/15)+1,this.page=this.page},n.prototype.sendHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:return""==this.friendIdLabel.text?(e.showTips(e.Lang.idbunengweikong,!0),[2]):(t=Number(this.friendIdLabel.text),n={sid:SDK.$serverId,pid:t},[4,e.DataManager.playerModel.showPlayerDetail(n)]);case 1:return i.sent(),this.friendIdLabel.text="",[2]}})})},n.prototype.closeHandle=function(){e.removePopUp(this),this._selfHelpPokemon&&this._selfHelpPokemon.stop();for(var t=0;t<this._friendItemList.length;t++)this._friendItemList[t].stop();for(var t=0;t<this._friendAvatarList.length;t++)this._friendAvatarList[t].stop();this._interval&&egret.clearInterval(this._interval),this._interval=null,e.IdleScene.getInstance().updateHelpPokemon()},n.prototype.updateFriendCD=function(){this._lastFriendCD--,this.friendCDLabel.text="协助倒计时:  "+e.s2hms(this._lastFriendCD),this._lastFriendCD<=0&&(this._interval&&(egret.clearInterval(this._interval),this._interval=null,this.updateFriendList()),this.friendCDLabel.text="")},n.prototype.onShow=function(){this._radioGroup.touchButton(this.friendButton),this._gmItem&&this._gmItem.updateHelpPokemon();var t=e.DataManager.playerModel.sid+"_"+e.DataManager.playerModel.pid,n=Number(egret.localStorage.getItem("helpTime"+t))+6e4*Number(e.Constants.AssistantCD);this._lastFriendCD=Math.floor((n-e.getNowTime().getTime())/1e3),this._lastFriendCD>0&&(this._interval=egret.setInterval(this.updateFriendCD,this,1e3)),this.updateFriendCD()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.MOVE_POKEMON_END="FriendPanel_MOVE_POKEMON_END",n}(e.PanelComponent);e.FriendPanel=t,__reflect(t.prototype,"game.FriendPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.specialPm=e.splitStringToNumberArray(e.Constants.spcPokenListForGMHelp),n.specialIndex=0,n.skinName=GMFriendItemSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.nameLabel.text=e.Lang.GM,this.infoLabel.text=e.Lang.xitongxiezhu,this.artPokemon=new e.ArtPokemonWithStar,this.animGroup.addChild(this.artPokemon),this._touchEvent=[{target:this.leftArrow,callBackFunc:this.touchArrow},{target:this.rightArrow,callBackFunc:this.touchArrow},{target:this.helpButton,callBackFunc:this.helpHandle}],this.addEventAndNotify()},n.prototype.touchArrow=function(e){e==this.leftArrow?this.specialIndex--:this.specialIndex++,this.selectSpecial(this.specialPm[this.specialIndex]),this.updateArrow()},n.prototype.helpHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return-1==e.DataManager.playerModel.teamConfig.assistFriend.sid?(e.DataManager.playerModel.teamConfig.assistFriend={sid:0,pid:0},e.DataManager.playerModel.postNotification(e.PlayerModel.HELP_POKEMON_UPDATE),[2]):e.DataManager.playerModel.currentMission%5==0?[2,e.showTips(e.Lang.bossguanqiawufaxiezhu,!0)]:this.canHelp?[4,e.DataManager.playerModel.setGmAssist(this.pokemonInfo)]:[2,e.showTips(e.Lang.jinricishuyidashangxian,!0)];case 1:return t.sent(),e.DataManager.playerModel.currentMission==Number(e.Constants.spcStage)&&Auth.uploadLog("伊布战斗","设置协助"),[2]}})})},n.prototype.updateHelpPokemon=function(){var t=e.DataManager.playerModel.currentMission;if(t==Number(e.Constants.spcStage))this.canHelp=!0,this.updateSelect(),this.selectSpecial(this.specialPm[this.specialIndex]),this.updateArrow(),this.helpCountLabel.visible=!1;else{this.canHelp=!0,this.rightArrow.visible=this.leftArrow.visible=!1;for(var n=e.getNowTime().getDate(),i=e.Data.TGMHelp[n],a=e.DataManager.playerModel.playerLevel,o=[],s=e.getPokemonLevelSkill(i.elfID),r=0;r<s.length;r++)a>=s[r].level&&o.push(s[r].id);var u={id:0,type:i.elfID,lv:a||1,exp:null,intimacy:null,intimacyLv:i.LoveLevel||1,nature:1,iv:{hp:i.HpIndiv||0,speed:i.SpeIndiv||0,atk:i.AtkIndiv||0,spAtk:i.AtkSpIndiv||0,def:i.DefIndiv||0,spDef:i.DefSpIndiv||0},effort:{hp:i.HpBase||0,speed:i.SpeBase||0,atk:i.AtkBase||0,spAtk:i.AtkSpBase||0,def:i.DefBase||0,spDef:i.DefSpBase||0},skills:o,gender:null,equip:[],slot:0,star:i.star||0,ivFreshCount:0,advance:0,skillSettings:[{slot:0,sort:1},{slot:1,sort:1},{slot:2,sort:1},{slot:3,sort:1}],artifact:0,effortLv:0,stage:0,rebornCount:0,gift:[],giftSkill:[],giftAbility:[],giftEquip:[],newEquip:[],isUnlock:[],ballId:0};this.setPokemonInfo(u),this.updateSelect(),this.helpCountLabel.visible=!0;var l=i.count-e.DataManager.playerModel.battleProgress.gmHelped;this.canHelp=l>0,this.helpCountLabel.text=e.Lang.shengyucishu+":"+l}},n.prototype.updateArrow=function(){this.leftArrow.visible=this.specialIndex>0,this.rightArrow.visible=this.specialIndex<this.specialPm.length-1},n.prototype.selectSpecial=function(t){for(var n=100,i=[],a=e.getPokemonLevelSkill(t),o=0;o<a.length;o++)n>=a[o].level&&i.push(a[o].id);var s={id:0,type:t,lv:n||1,exp:null,intimacy:null,intimacyLv:90,nature:1,iv:{hp:200,speed:200,atk:200,spAtk:200,def:200,spDef:200},effort:{hp:1e3,speed:1e3,atk:1e3,spAtk:1e3,def:1e3,spDef:1e3},skills:i,gender:null,equip:[],slot:0,star:10,ivFreshCount:0,advance:0,skillSettings:[{slot:0,sort:1},{slot:1,sort:1},{slot:2,sort:1},{slot:3,sort:1}],artifact:0,effortLv:0,stage:0,rebornCount:0,gift:[],giftSkill:[],giftAbility:[],giftEquip:[],newEquip:[],isUnlock:[],ballId:0};this.setPokemonInfo(s)},n.prototype.setPokemonInfo=function(t){this.pokemonInfo=t,this.artPokemon.setPokemonInfo(this.pokemonInfo);var n=e.Data.TElf[t.type];this.helpNameLabel.text=""+n.name,this.helpNameLabel.textColor=e.TeamBagPokemonIcon.textColor[n.quality]},n.prototype.updateSelect=function(){var t=e.DataManager.playerModel.getHelpFriend(!0);t&&-1==t.id.pid?(this.helpButton.bg="ui/common/button/orangeBtn",this.helpButton.image="langs/yixiezhu",this.helpButton.touchEnabled=!1):(this.helpButton.bg="ui/common/button/yellowBtn",this.helpButton.image="langs/xiezhu",this.helpButton.touchEnabled=!0)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.GameComponent);e.GMFriendItem=t,__reflect(t.prototype,"game.GMFriendItem")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.SetValue=function(e,t,n,i){this.iconFore.source=e,this.iconBack.source=t,this.iconCost.source=n,this.labelCost.text=i.toString()},t}(e.EffectButton);e.GashaponButton=t,__reflect(t.prototype,"game.GashaponButton")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._animList=[],e._iconList=[],e._useAnimList=[],e._useIconList=[],e.skinName=GashaponResultSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var e=this;this._adjust=!0,this._touchEvent=[{target:this.confirmButton,callBackFunc:this.closeHandle}],this.addEventAndNotify(),this.tenRewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){e.touchItem(t.target)},this),this.oneRewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){e.touchItem(t.target)},this),this.oneRewardItemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){e.touchItem(t.target)},this)},n.prototype.initBone=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=this,[4,e.getBone("gongxihuode")];case 1:return t._bone=n.sent(),this.boneGroup.addChild(this._bone),[2]}})})},n.prototype.touchItem=function(t){if(t.item){var n=e.ItemInfoPanel.getInstance();e.Data.TItem[t.item.type]?n.setData(e.Data.TItem[t.item.type]):e.Data.TElfBring[t.item.type]&&n.setBring(e.Data.TElfBring[t.item.type]),n.show()}},n.prototype.closeHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.removeFromParent(),this._bone.stop(),this._pokemonDetail&&this._pokemonDetail.stop(),e.GashaponScene.getInstance().updateAll(),e.GashaponScene.getInstance().isPlaying=!1,[2]})})},n.prototype.create=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a,o,s,a,o,s,a;return __generator(this,function(r){switch(r.label){case 0:return[4,e.loadGroup("gashapon")];case 1:r.sent(),this._skip=n,this._useAnimList=[],this._useIconList=[],this.exGroup.removeChildren(),this.animGroup.removeChildren(),this.oneRewardGroup.removeChildren(),this.oneRewardItemGroup.removeChildren(),this.tenRewardGroup.removeChildren(),i=0,t.pokemons.length>1&&(this._pokemonDetail=null),a=0,r.label=2;case 2:return a<t.items.length?(this._animList[i]||(this._animList[i]=new e.GashaponResultAnim),o=this._animList[i],this._iconList[i]||(this._iconList[i]=new e.GashaponResultItem),s=this._iconList[i],i++,[4,o.setData(t.items[a],null)]):[3,6];case 3:return r.sent(),[4,s.setData(t.items[a],null)];case 4:r.sent(),this._useAnimList.push(o),s.visible=!1,this._useIconList.push(s),r.label=5;case 5:return a++,[3,2];case 6:a=0,r.label=7;case 7:return a<t.pokemons.length?(this._animList[i]||(this._animList[i]=new e.GashaponResultAnim),o=this._animList[i],this._iconList[i]||(this._iconList[i]=new e.GashaponResultItem),[4,o.setData(null,t.pokemons[a])]):[3,12];case 8:return r.sent(),this._useAnimList.push(o),0!=i||1!=t.pokemons.length?[3,9]:(this._pokemonDetail||(this._pokemonDetail=new e.GashaponResultPokemon),this._pokemonDetail.setPokemon(t.pokemons[a]),this.oneRewardGroup.addChild(this._pokemonDetail),[3,11]);
case 9:return s=this._iconList[i],i++,[4,s.setData(null,t.pokemons[a])];case 10:r.sent(),s.visible=!1,this._useIconList.push(s),r.label=11;case 11:return a++,[3,7];case 12:if(t.items&&t.items.length>0)if(1==this._useIconList.length)this.oneRewardItemGroup.addChild(this._useIconList[0]);else for(a=0;a<this._useIconList.length;a++)this.tenRewardGroup.addChild(this._useIconList[a]);return this._bone?[3,14]:[4,this.initBone()];case 13:r.sent(),r.label=14;case 14:return[2]}})})},n.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t,n,n,t,n,n;return __generator(this,function(i){switch(i.label){case 0:return this._bone.play(null,1),e.SoundManager.playEffect("music/UI_gongxihuode"),this.oneRewardGroup.visible=!1,this.oneRewardItemGroup.visible=!1,[4,e.delay(1==this._useIconList.length?1e3:600)];case 1:if(i.sent(),!this._skip)return[3,2];for(this.animGroup.visible=!1,e.updateTeach(59),this.tenRewardGroup.visible=this.oneRewardItemGroup.visible=this.oneRewardGroup.visible=this.confirmButton.visible=!0,t=0;t<this._useIconList.length;t++)n=this._useIconList[t],null!=n&&(n.visible=!0);return null!=this._twice&&(n=new e.GashaponResultItem,n.setData(this._twice.items[0],null),this.exGroup.addChild(n),this._twice=null),[3,7];case 2:t=0,i.label=3;case 3:return t<this._useIconList.length?(n=this._useIconList[t],null==n?[3,5]:(n.visible=!0,n.play(),[4,e.delay(120)])):[3,6];case 4:i.sent(),i.label=5;case 5:return t++,[3,3];case 6:null!=this._twice&&(n=new e.GashaponResultItem,n.setData(this._twice.items[0],null),this.exGroup.addChild(n),n.play(),this._twice=null),this.oneRewardGroup.visible=!0,this.oneRewardItemGroup.visible=!0,egret.setTimeout(function(){e.updateTeach(59)},this,1e3),i.label=7;case 7:return[2]}})})},n.prototype.showTwice=function(e,t,n){return __awaiter(this,void 0,void 0,function(){var i,a,o,s,r,s,u;return __generator(this,function(l){switch(l.label){case 0:for(i={price:null,items:[],pokemons:[],gashaponInfo:null,tenGetGift:null,newEquips:[],newEgg:[]},a={price:null,items:[],pokemons:[],gashaponInfo:null,tenGetGift:null,newEquips:[],newEgg:[]},o=0,s=0;s<e.items.length;s++)r=e.items[s],n.indexOf(r.type)>-1?(a.items.push(r),o++):i.items.push(r);for(s=0;s<e.pokemons.length;s++)u=e.pokemons[s],n.indexOf(u.type)>-1?(a.pokemons.push(u),o++):i.pokemons.push(u);return o>0&&(this._twice=a),[4,this.create(i,t)];case 1:return l.sent(),this.show(),this.play(),[2]}})})},n.prototype.show=function(){e.GameLayer.panelLayer.addChild(this)},n.prototype.onHeightChange=function(){t.prototype.onHeightChange.call(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.GashaponResult=t,__reflect(t.prototype,"game.GashaponResult")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=GashaponResultAnimSkin,e}return __extends(n,t),n.prototype.setData=function(t,n){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return t?(e.Data.TElfBring[t.type]?this.icon.source="icon/equip/"+t.type:this.icon.source="icon/item/"+t.type,[3,3]):[3,1];case 1:return n?(i=this.icon,[4,e.getPokemonArtTexture(n.type)]):[3,3];case 2:i.source=a.sent(),a.label=3;case 3:return[2]}})})},n.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i=this;return __generator(this,function(a){switch(a.label){case 0:return t=e.defer(),this.ball.visible=this.boom.visible=this.icon.visible=this.wave.visible=!1,[4,e.delay(1e3*Math.random())];case 1:a.sent(),this.wave.visible=!0,n=1,a.label=2;case 2:return 8>=n?(this.wave.source="ui/scene/gashapon/result/wave"+n,[4,e.delay(100)]):[3,5];case 3:a.sent(),a.label=4;case 4:return n++,[3,2];case 5:return this.ball.visible=!0,this.ball.alpha=0,this.ball.y=0,this.ball.scaleX=this.ball.scaleY=.8,egret.Tween.get(this.ball).to({alpha:1,y:351},300).to({y:330},100).to({y:351},100).to({rotation:-15},80).to({rotation:0},80).to({rotation:15},80).to({rotation:0},80).call(function(){return __awaiter(i,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:egret.Tween.get(this.ball).to({scaleX:1.5,scaleY:1.5,alpha:0},200),this.boom.visible=!0,n=1,i.label=1;case 1:return 8>=n?(this.boom.source="ui/scene/gashapon/result/boom"+n,[4,e.delay(80)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return this.boom.visible=!1,this.icon.visible=!0,this.icon.scaleX=this.icon.scaleY=.3,egret.Tween.get(this.icon).to({scaleX:1.5,scaleY:1.5},250).call(function(){t.resolve(null)}),[2]}})})}),[2,t.promise()]}})})},n}(e.GameComponent);e.GashaponResultAnim=t,__reflect(t.prototype,"game.GashaponResultAnim")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.skinName=GashaponResultItemSkin,n.touchChildren=!1,n.touchEnabled=!0,n._pokemonIcon=new e.PokemonBookPokemon,n._pokemonIcon.scaleX=n._pokemonIcon.scaleY=1.2,n._pokemonIcon.horizontalCenter=0,n._pokemonIcon.verticalCenter=0,n}return __extends(n,t),n.prototype.setData=function(t,n){if(this.item=t,this.pokemon=n,this.iconGroup.removeChildren(),t){var i=e.Data.TItem[t.type];16==i.type?(this._pokemonIcon.setShowData(i.number1,!0,t.count.toString()),this.iconGroup.addChild(this._pokemonIcon)):(this._itemIcon||(this._itemIcon=new e.ItemIcon),this._itemIcon.item=t,this.iconGroup.addChild(this._itemIcon),this._itemIcon.gradeDisplay.visible=!1)}else n&&(this._pokemonIcon.setShowData(n.type,!1,""),this.iconGroup.addChild(this._pokemonIcon));this.boom.visible=!1},n.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:this.iconGroup.visible=!1,this.boom.visible=!0,t=1,n.label=1;case 1:return 8>=t?(this.boom.source="ui/scene/gashapon/result/boom"+t,[4,e.delay(80)]):[3,4];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return this.boom.visible=!1,this.iconGroup.visible=!0,[2]}})})},n}(e.GameComponent);e.GashaponResultItem=t,__reflect(t.prototype,"game.GashaponResultItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.skinName=GashaponResultPokemonSkin,n.touchChildren=n.touchEnabled=!1,n._artPokemon=new e.TeamArtPokemon,n.animGroup.addChild(n._artPokemon.display),n}return __extends(n,t),n.prototype.setPokemon=function(t){this.pokemonInfo=t;var n=e.Data.TElf[t.type];this.nameLabel.text=n.name,this.nameLabel.textColor=e.TeamBagPokemonIcon.textColor[n.quality],this.detailLabel.text=n.drc;var i,a=t.type-1e3;i=10>a?"00"+a:100>a?"0"+a:""+a,this.infoLabel.text="NO."+i,this._artPokemon.setPokemon(t.type,!1)},n.prototype.stop=function(){this._artPokemon.stop()},n}(e.GameComponent);e.GashaponResultPokemon=t,__reflect(t.prototype,"game.GashaponResultPokemon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._boneList=[],e.skipAnim=!1,e._ownIconX=[],e._ownLabelX=[],e.isPlaying=!1,e.isFree=!1,e._niudanId=0,e.skinName=GashaponSceneSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this._adjust=!0,this.buttonX=this.buttonDanChou.x,this.buttonY=this.buttonDanChou.y,this._ownIconX=[this.moneyIconImage.x,this.youqingIconImage.x,this.zuanshiIconImage.x],this._ownLabelX=[this.moenyLabel.x,this.youqingLabel.x,this.zuanshiLabel.x],this.currentID=1,this.buttonShilianChou.iconFore.source="ui/scene/gashapon/shichou",this._touchEvent=[{target:this.leftArrow,callBackFunc:function(){return __awaiter(t,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:switch(e=null,this.currentID){case 0:e="click_L_niudanputong",this.selectNiuDan(1);break;case 1:e="click_L_niudangaoji",this.selectNiuDan(2);break;case 2:e="click_L_niudanyouqin",this.selectNiuDan(0)}return[4,this._niudanBone.play(e,1)];case 1:return t.sent(),this.updateNiudanWaitStatus(),[2]}})})}},{target:this.rightArrowGroup,callBackFunc:function(){return __awaiter(t,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:switch(e=null,this.currentID){case 0:e="click_L_niudanputong",this.selectNiuDan(1);break;case 1:e="click_L_niudangaoji",this.selectNiuDan(2);break;case 2:e="click_L_niudanyouqin",this.selectNiuDan(0)}return[4,this._niudanBone.play(e,1)];case 1:return t.sent(),this.updateNiudanWaitStatus(),[2]}})})}},{target:this.buttonInfo,callBackFunc:function(){e.GasponRewardPreviewPanel.getInstance().SetData(0).show()}},{target:this.buttonDanChou,callBackFunc:function(){t.buyGashaponHandle(!1)}},{target:this.buttonShilianChou,callBackFunc:function(){t.buyGashaponHandle(!0)}},{target:this.buttonFuli,callBackFunc:function(){e.GashaponShiLianReward.getInstance().UpdateData().show()}},{target:this.rightArrow,callBackFunc:function(){return __awaiter(t,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:switch(this.currentID){case 0:e="click_R_niudanputong",this.selectNiuDan(2);break;case 1:e="click_R_niudangaoji",this.selectNiuDan(0);break;case 2:e="click_R_niudanyouqin",this.selectNiuDan(1)}return[4,this._niudanBone.play(e,1)];case 1:return t.sent(),this.updateNiudanWaitStatus(),[2]}})})}},{target:this.leftArrowGroup,callBackFunc:function(){return __awaiter(t,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:switch(this.currentID){case 0:e="click_R_niudanputong",this.selectNiuDan(2);break;case 1:e="click_R_niudangaoji",this.selectNiuDan(0);break;case 2:e="click_R_niudanyouqin",this.selectNiuDan(1)}return[4,this._niudanBone.play(e,1)];case 1:return t.sent(),this.updateNiudanWaitStatus(),[2]}})})}},{target:this.skipGroup,callBackFunc:this.changeSkip}],this.addEventAndNotify(),this.addEventListener(egret.Event.ADDED_TO_STAGE,function(){e.NotificationCenter.getInstance().postNotification("enterScene","扭蛋")},this);var n="skipGashapon"+e.DataManager.playerModel.sid+e.DataManager.playerModel.pid;egret.localStorage.getItem(n)&&"on"==egret.localStorage.getItem(n)?this.skipAnim=!0:this.skipAnim=!1,this.updateSkip(),this.UpdateOwnMoney()},n.prototype.firstShow=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a;return __generator(this,function(o){switch(o.label){case 0:return t=this,[4,e.getBone("niudantitle")];case 1:return t._titleBone=o.sent(),this.titleGroup.addChild(this._titleBone),n=this,[4,e.getBone("niudanji_bg")];case 2:return n._niudanBg=o.sent(),this.bgGroup.addChild(this._niudanBg),this._niudanBg.visible=!1,i=this,[4,e.getBone("niudanji")];case 3:return i._niudanBone=o.sent(),this.bgGroup.addChild(this._niudanBone),a=this,[4,e.getBone("niudanpan")];case 4:return a._diBone=o.sent(),this.diGroup.addChild(this._diBone),[4,this.InitBone()];case 5:return o.sent(),[4,this.selectNiuDan(1)];case 6:return o.sent(),[2]}})})},n.prototype.InitBone=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o;return __generator(this,function(s){switch(s.label){case 0:t=[];for(n in e.Data.TGashapon)t.push(n);i=0,s.label=1;case 1:return i<t.length?(a=t[i],e.Data.TGashapon.hasOwnProperty(a)?[4,e.getBone(e.Data.TGashapon[a].showBone)]:[3,3]):[3,4];case 2:o=s.sent(),this.showGroup.addChild(o),this._boneList.push(o),o.visible=!1,s.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},n.prototype.updateNiudanWaitStatus=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:switch(e=null,this.currentID){case 0:e="wait_niudanputong";break;case 1:e="wait_niudangaoji";break;case 2:e="wait_niudanyouqing"}return[4,this._niudanBone.play(e,0)];case 1:return t.sent(),[2]}})})},n.prototype.selectNiuDan=function(e){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(n){return this.currentID=e,this._currentBone&&(this._currentBone.visible=!1,this.buttonGroup.visible=!1),this._currentBone=this._boneList[e],this._currentBone.visible=!0,this._currentBone.play(null,0),egret.setTimeout(function(){t.buttonGroup.visible=!0,t.UpdateNiudan(e)},this,500),[2]})})},n.prototype.UpdateNiudan=function(t){var n=this;this.stopUpdateTime();var i=0;this._niudanId=t,this.isFree=!1,i=2==t?5:t+1;var a=function(e){e.parent&&e.parent.removeChild(e)},o=function(e,t){for(var i=0;i<e.length;i++)e[i].x=n._ownIconX[i],n.ownGroup.addChild(e[i]);for(var i=0;i<t.length;i++)t[i].x=n._ownLabelX[i],n.ownGroup.addChild(t[i])};switch(a(this.moneyIconImage),a(this.moenyLabel),a(this.youqingIconImage),a(this.youqingLabel),a(this.zuanshiIconImage),a(this.zuanshiLabel),this.gashaponData=e.Data.TGashapon[i],this.gashaponInfo=e.DataManager.playerModel.getGashaponInfoByType(i),this.buttonDanChou.iconBack.source="ui/common/button/btn_0"+(t+1),this.buttonShilianChou.iconBack.source="ui/common/button/btn_0"+(t+1),this.buttonDanChou.iconCost.source="icon/item/"+this.gashaponData.costItemType,this.buttonDanChou.labelCost.text=this.gashaponData.costItemCount.toString(),t){case 0:this.buttonShilianChou.visible=!1,this.danchoucishuGroup.visible=!1,this.buttonDanChou.x=this.buttonX+this.buttonDanChou.width/2,this.buttonFuli.visible=!1,this.buttonInfo.visible=this.infoImage.visible=!1,this.UpdateStaus(5,2),o([this.moneyIconImage],[this.moenyLabel]);break;case 1:if(this.buttonShilianChou.visible=!0,this.buttonShilianChou.iconCost.source="icon/item/"+this.gashaponData.costItemType,this.buttonShilianChou.labelCost.text=e.Data.TGashapon[3].costItemCount.toString(),this.danchoucishuGroup.visible=!0,this.choujishuLabel.text=(this.gashaponInfo.count%10).toString(),this.buttonDanChou.x=this.buttonX,this.buttonFuli.visible=!0,this.buttonInfo.visible=this.infoImage.visible=!0,this.gashaponData.substitute){var s=e.splitStringToNumberArray(this.gashaponData.substitute,";"),r=e.DataManager.playerModel.getItemCount(s[0]);r>0&&(this.buttonDanChou.iconCost.source="icon/item/"+s[0],this.buttonDanChou.labelCost.text=s[1].toString(),s=e.splitStringToNumberArray(e.Data.TGashapon[3].substitute,";"),r>=s[1]&&(this.buttonShilianChou.iconCost.source="icon/item/"+s[0],this.buttonShilianChou.labelCost.text=s[1].toString()))}this.UpdateStaus(1,5),o([this.moneyIconImage,this.zuanshiIconImage],[this.moenyLabel,this.zuanshiLabel]);break;case 2:this.buttonShilianChou.visible=!1,this.danchoucishuGroup.visible=!1,this.buttonDanChou.x=this.buttonX+this.buttonDanChou.width/2,this.buttonFuli.visible=!1,this.UpdateStaus(2,1),this.buttonInfo.visible=this.infoImage.visible=!1,o([this.youqingIconImage],[this.youqingLabel])}this.UpdateOwnMoney(),this.costIcon.source="icon/item/"+this.gashaponData.costItemType,this.tipsImage.source="ui/scene/gashapon/niudantips"+(t+1),this.niudantitle.source="ui/scene/gashapon/niudan"+(t+1),this.buttonDanChou.iconCost.visible=!0,this.gashaponData.costItemCount<=e.DataManager.playerModel.getItemCount(this.gashaponData.costItemType)?(this.status1.source="ui/scene/gashapon/status2",this.buttonDanChou.point=this.pointImage1.visible=!1):(this.status1.source="ui/scene/gashapon/status3",this.buttonDanChou.point=this.pointImage1.visible=!1),this.gashaponData.freeCount>0&&this.gashaponInfo.remainCount>0?this.startUpdateTime():this.freeLabel.visible=!1,this.updateFuLiPoint()},n.prototype.updateFuLiPoint=function(){if(this.buttonFuli.visible){var t=e.DataManager.playerModel.getGashaponInfoByType(3).count/10,n=function(t){for(var n in e.DataManager.playerModel.extension.GashaponBag)if(e.DataManager.playerModel.extension.GashaponBag[n]==t)return!0;return!1};for(var i in e.Data.TGashaponReward)if(t>=e.Data.TGashaponReward[i].count&&!n(Number(i)))return void(this.pointImage4.visible=!0)}this.pointImage4.visible=!1},n.prototype.UpdateOwnMoney=function(){var t=1==this.currentID?13012:13011;this.moneyIconImage.source="icon/item/"+t,this.moenyLabel.text=e.DataManager.playerModel.getItemCount(t).toString(),this.zuanshiLabel.text=e.DataManager.playerModel.getItemCount(2).toString(),this.youqingLabel.text=e.DataManager.playerModel.getItemCount(4).toString()},n.prototype.changeSkip=function(){this.skipAnim=!this.skipAnim,this.updateSkip()},n.prototype.buyGashaponHandle=function(t){var n=this.gashaponData;if(t)n=e.Data.TGashapon[3];else if(this.isFree)return void this.buyGashapon(this.gashaponInfo);if(null==n)return void e.showTips(e.Lang.nindedaojubuzu,!0);var i=n.costItemType,a=n.costItemCount;if(n.substitute){var o=e.splitStringToNumberArray(n.substitute,";"),s=e.DataManager.playerModel.getItemCount(o[0]);s>0&&(!t||s>=o[1])&&(i=o[0],a=o[1])}var r=e.DataManager.playerModel.getItemCount(i);return a>r?void e.showTips(e.Lang.nindedaojubuzu,!0):void this.buyGashapon(t?e.DataManager.playerModel.getGashaponInfoByType(3):this.gashaponInfo,t)},n.prototype.updateAll=function(){this._niudanBg&&(this._niudanBg.stop(),this._niudanBg.visible=!1),this.isPlaying=!1,this.touchChildren=!0,this.buttonGroup.visible=!0,this.skipGroup.visible=!0,this.ownGroup.visible=!0,this.UpdateOwnMoney(),this.updateNiudanWaitStatus()},n.prototype.buyGashapon=function(t,n){return void 0===n&&(n=!1),__awaiter(this,void 0,void 0,function(){var i,a,o=this;return __generator(this,function(s){switch(s.label){case 0:if(e.DataManager.playerModel.checkPokemonBagFull())return e.showTips(e.Lang.nindebaokemengbeibaoyiman,!0),[2];if(this.touchChildren=!1,this.isPlaying=!0,i=function(){return __awaiter(o,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return this._niudanBg.visible=!0,this._niudanBg.play(null,0),this.skipAnim?(this._niudanBone.setTimeScale(.1),n?[4,this._niudanBone.play("10lian",1)]:[3,2]):[3,5];case 1:return a.sent(),[3,4];case 2:return[4,this._niudanBone.play("1chou",1)];case 3:a.sent(),a.label=4;case 4:return this._niudanBone.setTimeScale(1),[3,6];case 5:n?this._niudanBone.play("10lian",1):this._niudanBone.play("1chou",1),a.label=6;case 6:return[4,e.DataManager.playerModel.buyGashapon(t,this.skipAnim)];case 7:return i=a.sent(),i&&(this.UpdateNiudan(this._niudanId),1==e.DataManager.playerModel.currentMission&&Auth.uploadLog("引导任务","扭蛋")),this.UpdateOwnMoney(),[2]}})})},this.buttonGroup.visible=!1,this.skipGroup.visible=!1,this.ownGroup.visible=!1,e.SoundManager.playEffect("music/UI_niudanjikaishi",1,!1),e.SoundManager.playEffect("music/UI_niudanjipeiyue",1,!1),e.SoundManager.playEffect("music/UI_niudanjiyunxin",1,!1),this.skipAnim)return[3,2];switch(a=null,this._niudanId){case 0:a="choujiang_niudanputong";break;case 1:a="choujiang_niudangaoji";break;case 2:a="choujiang_niudanyouqing"}return[4,this._niudanBone.play(a,1)];case 1:s.sent(),s.label=2;case 2:return i(),[2]}})})},n.prototype.updateTime=function(){var t=e.getNowTime().getTime(),n=(t-this.gashaponInfo.time.getTime())/1e3,i=this.gashaponData.freeInterval;n>i?(0==this.gashaponInfo.remainCount?this.freeLabel.visible=!1:this.freeLabel.text=e.Lang.shengyumianfeicishu+":"+this.gashaponInfo.remainCount,this.status1.source="ui/scene/gashapon/status1",this.buttonDanChou.point=this.pointImage1.visible=!0,this.isFree=!0,this.freeLabel.visible=!0,this.buttonDanChou.iconCost.visible=!1,this.buttonDanChou.labelCost.text=e.Lang.mianfeichouqu,this.stopUpdateTime()):(this.isFree=!1,this.freeLabel.text=e.formatString(e.Lang.duoshaojijianhoumianfei,e.s2hms(i-n)))},n.prototype.UpdateStaus=function(t,n){var i=function(t,n,i){var a=e.Data.TGashapon[t],o=e.DataManager.playerModel.getGashaponInfoByType(t),s=function(){a.costItemCount<e.DataManager.playerModel.getItemCount(a.costItemType)?(n.source="ui/scene/gashapon/status2",i.visible=!1):(n.source="ui/scene/gashapon/status3",i.visible=!1)};if(a.freeCount>0&&o.remainCount>0){var r=e.getNowTime().getTime(),u=(r-o.time.getTime())/1e3,l=a.freeInterval;u>l?(n.source="ui/scene/gashapon/status1",i.visible=!0):s()}else s()};i(t,this.status2,this.pointImage2),i(n,this.status3,this.pointImage3)},n.prototype.onCreate=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.isPlaying=!1,this._titleBone.play(null,0),this._diBone.play(null,0),this.UpdateNiudan(this.currentID),this.updateAll(),null!=this._currentBone&&this._currentBone.play(null,0),[2]})})},n.prototype.destroy=function(){t.prototype.destroy.call(this),this.isPlaying=!1,this._titleBone.stop(),this._niudanBone.stop(),this._diBone.stop();var e=this._boneList;for(var n in this._boneList)null!=e[n]&&e[n].stop()},n.prototype.onHeightChange=function(){t.prototype.onHeightChange.call(this),this.bgImage&&(this.bgImage.scaleX=this.bgImage.scaleY=this._heightScale),this._niudanBg&&(this._niudanBg.scaleX=this._niudanBg.scaleY=this._heightScale)},n.prototype.updateSkip=function(){this.skipImage.source=this.skipAnim?"ui/scene/gashapon/danxuan02":"ui/scene/gashapon/danxuan01";var t="skipGashapon"+e.DataManager.playerModel.sid+e.DataManager.playerModel.pid;this.skipAnim?egret.localStorage.setItem(t,"on"):egret.localStorage.setItem(t,"off")},n.prototype.startUpdateTime=function(){var e=this;this.freeLabel.visible=!0;var t=function(){e.updateTime()};this._interval=egret.setInterval(function(){t()},this,1e3),t()},n.prototype.stopUpdateTime=function(){egret.clearInterval(this._interval)},n.prototype.onRemove=function(){this.stopUpdateTime()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.BUY_GASHAPON="GashaponScene_BUY_GASHAPON",n}(e.SceneComponent);e.GashaponScene=t,__reflect(t.prototype,"game.GashaponScene")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.itemList=[],e.skinName=GashaponShiLianRewardPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this._adjust=!0,this._touchEvent=[{target:this.closeButton,callBackFunc:function(){e.removePopUp(t)}}],this.addEventAndNotify()},n.prototype.UpdateData=function(){var t=0,n=0,i=e.DataManager.playerModel.getGashaponInfoByType(3).count/10;this.itemGroup.removeChildren();for(var a in e.Data.TGashaponReward){var o=this.itemList[t];o||(o=new e.GashaponShiLianRewardItem,this.itemList[t]=o),this.itemGroup.addChild(o),n=this.isGetReward(Number(a))?2:i>=e.Data.TGashaponReward[a].count?1:0,o.setData(e.Data.TGashaponReward[a],n),t++}return this},n.prototype.isGetReward=function(t){var n=e.DataManager.playerModel.extension.GashaponBag;for(var i in n)if(n[i]==t)return!0;return!1},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.GashaponShiLianReward=t,__reflect(t.prototype,"game.GashaponShiLianReward")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=GashaponShiLianRewardItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.image="ui/scene/activity/Tx_lingqu",this.confirmButton.bg="ui/scene/activity/btn_12",this.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.confirmHandle,this),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target&&e.target.showDetail&&e.target.showDetail()},this),this.addEventAndNotify()},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.GetGashaponShilianRewardAsync(this.data.ID)];case 1:return t.sent(),e.GashaponScene.getInstance().updateFuLiPoint(),[2]}})})},n.prototype.setData=function(t,n){var i=e.DataManager.playerModel.getGashaponInfoByType(3).count/10;this.data=t,this.rewardGroup.removeChildren();var a=e.splitStringToNumberArray(t.reward);this.showLabel.text=t.count+"次10连";for(var o=0;o<a.length;o++){var s=a[o];if(e.Data.TElf[s[0]]){var r=new e.PokemonIcon;r.pokemon=s[0],this.rewardGroup.addChild(r)}else{var r=new e.ItemIcon;r.item={type:s[0],count:s[1]},this.rewardGroup.addChild(r)}}var u,l={text:"/"+t.count,style:{textColor:16777215}};switch(n){case 0:this.confirmButton.lock=!0,this.confirmButton.image="ui/scene/activity/Tx_lingqu",this.point.visible=!1,u=16711680,this.confirmButton.enabled=!1;break;case 1:this.confirmButton.lock=!1,this.confirmButton.image="ui/scene/activity/Tx_lingqu",this.point.visible=!0,this.confirmButton.enabled=!0,u=65280;break;case 2:this.confirmButton.lock=!0,this.confirmButton.image="ui/scene/activity/Tx_yilingqu",this.point.visible=!1,this.confirmButton.enabled=!1,u=65280}this.countLabel.textFlow=[{text:""+i,style:{textColor:u}},l]},n}(e.GameComponent);e.GashaponShiLianRewardItem=t,__reflect(t.prototype,"game.GashaponShiLianRewardItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=GasponRewardPreviewSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.pokemonGroup.removeChildren(),t.itemGroup.removeChildren(),e.removePopUp(t)},this),this.pokemonButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.SetData(0)},this),this.suipianButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.SetData(1)},this),this.pokemonGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showDetail,this),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showDetail,this),this.pokemonButton.image="langs/Tx_xyjl",this.suipianButton.image="langs/Tx_jlcp";for(var n=e.Data.TRewardPreview[2],i=e.splitStringToNumberArray(n.AdvPreview,"|"),a=0;a<i.length;a++){var o=i[a];if(e.Data.TItem[o]){var s=new e.ItemIcon;s.scaleX=s.scaleY=1,s.item={type:o,count:0},this.pokemonGroup.addChild(s)}}},n.prototype.showDetail=function(e){e.target&&e.target.showDetail&&e.target.showDetail()},n.prototype.SetData=function(t){if(this.pokemonGroup.removeChildren(),this.itemGroup.removeChildren(),this.pokemonScroller.visible=0==t,this.itemScroller.visible=1==t,0==t)for(var n=e.Data.TRewardPreview[2],i=e.splitStringToNumberArray(n.AdvPreview,"|"),a=0;a<i.length;a++){var o=i[a],s=new e.PokemonBookPokemon;s.setData(o,!0,!1),this.pokemonGroup.addChild(s)}else if(1==t)for(var n=e.Data.TRewardPreview[2],i=e.splitStringToNumberArray(n.LowerPreview,"|"),a=0;a<i.length;a++){var r=i[a];if(e.Data.TItem[r]){var u=new e.ItemIcon;u.scaleX=u.scaleY=.8,u.item={type:r,count:0},this.itemGroup.addChild(u)}else if(e.Data.TElf[r]){var l=new e.PokemonIcon;l.pokemon=r,l.scaleX=l.scaleY=.8,this.itemGroup.addChild(l)}}return this.pokemonScroller.viewport.scrollV=0,this.itemScroller.viewport.scrollV=0,this},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.GasponRewardPreviewPanel=t,__reflect(t.prototype,"game.GasponRewardPreviewPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=GiftDetailSkin,e.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,e.closeHandle,e),e}return __extends(n,t),n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.setData=function(t,n){this.nameLabel.textFlow=e.parseColorText(t.name);var i=t["star"+n],a=i.split(";"),o=t.desc;switch(a.length){case 1:o=e.formatString(o,a[0]);break;case 2:o=e.formatString(o,a[0],a[1]);break;case 3:o=e.formatString(o,a[0],a[1],a[2]);break;case 4:o=e.formatString(o,a[0],a[1],a[2],a[3]);break;case 5:o=e.formatString(o,a[0],a[1],a[2],a[3],a[4])}this.currentSkillDetailLabel.textFlow=e.parseColorText(o),this.iconImage.source="icon/gift/"+t.id},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.GiftDetail=t,__reflect(t.prototype,"game.GiftDetail")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=GiftItemSkin,e.detailButton.icon="ui/scene/gift/xiangqing",e.touchGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchHandle,e),e.detailButton.addEventListener(egret.TouchEvent.TOUCH_TAP,e.detailHandle,e),e}return __extends(n,t),n.prototype.touchHandle=function(){this.levelItem&&this.levelItem.touchItem(this)},n.prototype.detailHandle=function(){if(this._skillData){var t=e.SkillDetail.getInstance();t.setSkill(this._skillData.id),t.show()}else if(this._abilityData){var n=e.GiftDetail.getInstance();n.setData(this._abilityData,this.level),n.show()}},n.prototype.setData=function(e,t,n){this.levelItem=n,this.type=e[0],this.giftId=e[1],this.level=e[2]||0,this.index=t,this.nameLabel.textColor=gameConfig.TextColors.yellow,this.skillTypeImage.visible=!1,this.detailButton.visible=!1,this._skillData=this._abilityData=null,1==this.type?(this.detailButton.visible=!0,this.setSkill()):2==this.type?(this.detailButton.visible=!0,this.setAbility()):this.setEquip()},n.prototype.setSkill=function(){var t=e.Data.TElfSkill[this.giftId];if(t){this._skillData=t,this.skillTypeImage.visible=!0,this.nameLabel.text=t.name,this.typeImage.source="icon/skillType/"+t.attribute;var n;switch(t.skillType){case 3:case 4:n="治疗",this.skillTypeImage.source="ui/scene/skill/zhi";break;case 5:n="变化",this.skillTypeImage.source="ui/scene/skill/bian";break;default:n="威力:"+t.damage,t.DamageType?this.skillTypeImage.source="ui/scene/skill/te":this.skillTypeImage.source="ui/scene/skill/wu"}var i;switch(t.target){case 1:case 3:case 8:case 9:case 10:case 11:case 22:case 13:case 14:i=e.Lang.danti;break;default:i=e.Lang.qunti}6==t.skillType?i=e.Lang.tanshe:7==t.skillType&&(i=e.Lang.lianji),this.infoLabel.textFlow=[{text:n},{text:"\rSP:"+t.ex+"    "},{text:i,style:{textColor:gameConfig.TextColors.yellow}}],this.iconImage.source="icon/skill/"+t.Icon}},n.prototype.setAbility=function(){this.typeImage.source="ui/scene/gift/beidong";var t=e.Data.TElfTalentAbility[this.giftId];if(t){this._abilityData=t,this.nameLabel.textFlow=e.parseColorText(t.name);var n=t["star"+this.level],i=n.split(";"),a=t.desc;switch(i.length){case 1:a=e.formatString(a,i[0]);break;case 2:a=e.formatString(a,i[0],i[1]);break;case 3:a=e.formatString(a,i[0],i[1],i[2]);break;case 4:a=e.formatString(a,i[0],i[1],i[2],i[3]);break;case 5:a=e.formatString(a,i[0],i[1],i[2],i[3],i[4])}this.infoLabel.textFlow=e.parseColorText(a),this.iconImage.source="icon/gift/"+t.id}},n.prototype.setEquip=function(){this.infoLabel.textFlow=[],this.typeImage.source="ui/scene/gift/beidong",this.nameLabel.text="属性增强";var t=e.Data.TEffect[this.giftId];if(t){var n=new e.EquipAttribute;e.parseEquipAttribute(n,t);for(var i=e.getAttributeTextList(n),a=0;a<i.length;a++)this.infoLabel.textFlow.push({text:i[a]+"\r"})}},n.prototype.setState=function(e){switch(this.selectImage.scaleX=this.selectImage.scaleY=1,egret.Tween.removeTweens(this.selectImage),this.selectImage.visible=this.darkRect.visible=!1,e){case 1:break;case 2:this.selectImage.visible=!0,egret.Tween.get(this.selectImage,{loop:!0}).to({scaleX:1.2,scaleY:1.2},500).to({scaleX:1,scaleY:1},500);break;case 3:this.darkRect.visible=!0;break;case 4:}},n.prototype.stop=function(){egret.Tween.removeTweens(this.selectImage)},n}(e.GameComponent);e.GiftItem=t,__reflect(t.prototype,"game.GiftItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e.skinName=GiftLevelItemSkin,e.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchItem,e),e}return __extends(n,t),n.prototype.touchItem=function(t){var n=this,i=t;if(i.giftId)if(1==this._state||4==this._state)e.GiftUnlockPanel.getInstance().setDataAndShow(this.pokemonInfo,this.giftData,this._index,this._state);else if(2==this._state&&this.pokemonInfo.gift.length==this._index){var a=e.CheckPanel.getInstance();a.setData(e.Lang.ninquedingyaoxuanzedangqiantianfuma,function(t){return __awaiter(n,void 0,void 0,function(){var n;return __generator(this,function(a){switch(a.label){case 0:return t?[4,e.DataManager.playerModel.selectPokemonGift(i.index,i.type,i.giftId,i.level,this.pokemonInfo)]:[3,2];case 1:n=a.sent(),n&&this.giftPanel.updateItemGroup(),a.label=2;case 2:return[2]}})})}),a.show()}},n.prototype.setData=function(t,n,i,a){this.itemGroup.removeChildren(),this.giftData=t,this.pokemonInfo=n,this.giftPanel=a,this._selectIndex=-1,this._index=i,n.isUnlock[i]?(this._state=2,this._selectIndex=n.gift[i],this._selectIndex>=0&&(this._state=3)):this._state=1,this.updateState(),this.levelImage.source="ui/scene/gift/lv_"+t.askLv;
for(var o=e.splitStringToNumberArray(t.talentIdArray),s=0;s<o.length;s++){var r=o[s],u=this._itemList[s];u||(u=new e.GiftItem,this._itemList[s]=u),u.setData(r,s,this),2==this._state&&n.gift.length==i?u.setState(2):s==this._selectIndex?u.setState(1):u.setState(3),this.itemGroup.addChild(u)}},n.prototype.setPreview=function(t){this.itemGroup.removeChildren(),this.giftData=t,this._state=4,this.updateState(),this.levelImage.source="ui/scene/gift/lv_"+t.askLv;for(var n=e.splitStringToNumberArray(t.talentIdArray),i=0;i<n.length;i++){var a=n[i],o=this._itemList[i];o||(o=new e.GiftItem,this._itemList[i]=o),o.setData(a,i,this),o.setState(4),this.itemGroup.addChild(o)}},n.prototype.updateState=function(){this.unlockImage.visible=4!=this._state,1==this._state?(this.flagImage.source="ui/scene/gift/lvBg_gray",this.unlockImage.source="langs/jihuo0"):(this.flagImage.source="ui/scene/gift/lvBg",this.unlockImage.source="langs/jihuo1")},n.prototype.stop=function(){for(var e=0;e<this._itemList.length;e++)this._itemList[e].stop()},n}(e.GameComponent);e.GiftLevelItem=t,__reflect(t.prototype,"game.GiftLevelItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._costItem=e.splitStringToNumberArray(e.Constants.resetTalentCost,";"),n._itemList=[],n.skinName=GiftPanelSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.artPokemon=new e.TeamArtPokemon,this.artPokemonGroup.addChild(this.artPokemon.display),this.resetButton.image="ui/scene/gift/chongzhi",this.costIcon.source="icon/item/"+this._costItem[0],this.costLabel.text=e.setNumber(this._costItem[1]),this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.resetButton,callBackFunc:this.resetHandle}],this.addEventAndNotify()},n.prototype.resetHandle=function(){var t=this;if(0==this._pokemonInfo.gift.length)return void e.showTips(e.Lang.nindebaokemengbuxuyaochongzhitianfuo,!0);var n=e.DataManager.playerModel.getItemCount(this._costItem[0]);if(n>=this._costItem[1]){var i=e.CheckPanel.getInstance();i.setData(e.Lang.ninquedingyaochongzhidangqianbaokemengdetianfuma,function(n){return __awaiter(t,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return n?[4,e.DataManager.playerModel.resetGift(this._pokemonInfo)]:[3,2];case 1:t=i.sent(),t&&this.updateItemGroup(),i.label=2;case 2:return[2]}})})}),i.show()}else e.showTips(e.Lang.nindehuobibuzu,!0)},n.prototype.closeHandle=function(){this.artPokemon.stop();for(var t=0;t<this._itemList.length;t++)this._itemList[t].stop();e.removePopUp(this)},n.prototype.setPokemonInfo=function(t){this._pokemonInfo=t,this.artPokemon.setPokemon(t.type,!1),this.levelLabel.text="LV."+t.lv,this._giftList=e.getPokemonGiftList(t.type),this._giftList&&this.updateItemGroup()},n.prototype.updateItemGroup=function(){this._pokemonInfo.gift||(this._pokemonInfo.gift=[]),this.itemGroup.removeChildren();for(var t=0;t<this._giftList.length;t++){var n=this._giftList[t],i=this._itemList[t];i||(i=new e.GiftLevelItem,this._itemList[t]=i),i.setData(n,this._pokemonInfo,t,this),this.itemGroup.addChild(i)}},n.prototype.onShow=function(){this._pokemonInfo||this.setPokemonInfo(e.DataManager.playerModel.playerTeamPokemonList[0])},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.GiftPanel=t,__reflect(t.prototype,"game.GiftPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e.skinName=GiftPreviewSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.artPokemon=new e.TeamArtPokemon,this.artPokemonGroup.addChild(this.artPokemon.display),this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},n.prototype.closeHandle=function(){this.artPokemon.stop();for(var t=0;t<this._itemList.length;t++)this._itemList[t].stop();e.removePopUp(this)},n.prototype.setData=function(t){this.pokemonData=t,this.artPokemon.setPokemon(t.id,!1),this._giftList=e.getPokemonGiftList(t.id),this._giftList&&this.updateItemGroup()},n.prototype.updateItemGroup=function(){this.itemGroup.removeChildren();for(var t=0;t<this._giftList.length;t++){var n=this._giftList[t],i=this._itemList[t];i||(i=new e.GiftLevelItem,this._itemList[t]=i),i.setPreview(n),this.itemGroup.addChild(i)}},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.GiftPreview=t,__reflect(t.prototype,"game.GiftPreview")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e._costItems=[],e._selectPokemonList=[],e.skinName=GiftUnlockPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.okButton.image="langs/Tx_jihuo",this.goButton.image="langs/Tx_quxuanze",this.goButton.bg="ui/common/button/blue",this._touchEvent=[{target:this.okButton,callBackFunc:this.okHandle},{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.goButton,callBackFunc:this.touchSelectPokemon}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.updateSelectPokemon,n.SELECT_POKEMON_UPDATE),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t.showDetail()},this)},n.prototype.okHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:for(t=0;t<this._costItems.length;t++)if(!e.checkCanBuy(this._costItems[t]))return e.showTips(e.Lang.nindedaojubuzu,!0),[2];return this._selectPokemonList.length<this._giftData.count?(e.showTips(e.Lang.nindebaokemengbuzu,!0),[2]):[4,e.DataManager.playerModel.unlockPokemonGift(this._pokemonInfo,this._costItems,this._selectPokemonList)];case 1:return n.sent(),e.GiftPanel.getInstance().updateItemGroup(),this.closeHandle(),[2]}})})},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.setDataAndShow=function(t,n,i,a){if(n){this._selectPokemonList=[],this._giftData=n,this.goButton.lock=n.count<=0,this.goButton.touchEnabled=!(n.count<=0),this.okButton.visible=this.goButton.visible=!0;var o=e.GiftPreview.getInstance().pokemonData;if(t){o=e.Data.TElf[t.type],this.okButton.lock=!1,this.okButton.touchEnabled=!0,(i!=t.isUnlock.length||n.askLv>t.lv)&&(this.okButton.lock=!0,this.okButton.touchEnabled=!1),this._pokemonInfo=t;var s=""+(t.lv>=n.askLv?"[#75ff4a]":"[#ff4a4a]")+t.lv+"[#ffffff]/"+n.askLv;this.levelLabel.textFlow=e.parseColorText(s)}else 1!=a&&(this.okButton.visible=this.goButton.visible=!1,this.levelLabel.text=""+n.askLv);for(var r="",u=e.splitStringToNumberArray(e.Data.TAttribute[o.attribute].Kezhi),l=0;l<u.length;l++){var c=e.Data.TAttribute[u[l][0]];c&&(r+=c.Name.substring(0,c.Name.length-1)+",")}this.attributeLabel.text=e.formatString(e.Lang.ewaishuxingkezhi,r.substring(0,r.length-1))+": "+Math.floor(100*n.counterDamageAddStar)+"%",this.addLabel.text=""+n.alladd,this.countLabel.text=""+n.count;var h=e.splitStringToNumberArray(n.costItem);this.itemGroup.removeChildren(),this._costItems=[];for(var l=0;l<h.length;l++){this._itemList[l]||(this._itemList[l]=new e.ItemIcon);var p={type:h[l][0],count:h[l][1]};this._itemList[l].item=p,this._costItems.push(p),this._itemList[l].countText=e.checkItemCount(p),this.itemGroup.addChild(this._itemList[l])}this.scroller.width=120*h.length,this.show()}},n.prototype.updateSelectPokemon=function(e){this._selectPokemonList=e,this.countLabel.textColor=this._giftData.count>=e.length?gameConfig.TextColors.green:gameConfig.TextColors.red},n.prototype.touchSelectPokemon=function(){var t=e.StarSelectPokemon.getInstance();t.setPokemon(this._pokemonInfo.id,e.Data.TElf[this._pokemonInfo.type].quality,this._selectPokemonList,this._giftData.count,n.SELECT_POKEMON_UPDATE),t.show()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.SELECT_POKEMON_UPDATE="GiftUnlockPanel_SELECT_POKEMON_UPDATE",n}(e.PanelComponent);e.GiftUnlockPanel=t,__reflect(t.prototype,"game.GiftUnlockPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._createCostItem={type:2,count:Number(e.Constants.guildCreatePrice)},n._guildInfoList=[],n._guildItemList=[],n._look=!1,n.skinName=CreateOrJoinGuildSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.createButton.label=e.Lang.chuangjiangonghui,this.listButton.label=e.Lang.gonghuiliebiao,this.searchButton.label=e.Lang.chazhao,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.createButton,callBackFunc:this.touchTypeButton},{target:this.listButton,callBackFunc:this.touchTypeButton},{target:this.searchButton,callBackFunc:this.touchTypeButton},{target:this.changeBadgeButton,callBackFunc:this.changeBadgeHandle},{target:this.changeAreaButton,callBackFunc:this.changeAreaHandle},{target:this.confirmCreateButton,callBackFunc:this.confirmCreate},{target:this.confirmSearchButton,callBackFunc:this.confirmSearch}],this.addEventAndNotify(),this.initCreate(),this.initList(),this.initSearch(),e.NotificationCenter.getInstance().addObserver(this,this.selectBadge,n.SELECT_BADGE),e.NotificationCenter.getInstance().addObserver(this,this.selectArea,n.SELECT_AREA)},n.prototype.confirmSearch=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:return t=this.guildIdLabel.text.replace(/\s+/g,""),""==t?(e.showTips(e.Lang.qingshuruzhengquedeid,!0),[2]):[4,e.DataManager.playerModel.searchGuild(Number(t))];case 1:return n=i.sent(),n?(this.guildIdLabel.text="",this.searchItemGroup.removeChildren(),this._searchItem||(this._searchItem=new e.GuildItem),this._searchItem.setInfo(n,this._look),this.searchItemGroup.addChild(this._searchItem)):e.showTips(e.Lang.meiyoucigonghuio,!0),[2]}})})},n.prototype.confirmCreate=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a=this;return __generator(this,function(o){switch(o.label){case 0:return t=this.nameLabel.text.replace(/\s+/g,""),""==t?(e.showTips(e.Lang.qingshuruninyaochuangjiandegonghuimingcheng,!0),[2]):e.checkCanBuy(this._createCostItem)?[4,e.DataManager.playerModel.checkGuildName(t)]:[3,2];case 1:return n=o.sent(),n&&(i=e.CheckPanel.getInstance(),i.setData(e.formatString(e.Lang.ninquedingyaochuangjianshenmegonghuima,t),function(n){return __awaiter(a,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return n?[4,e.DataManager.playerModel.createGuild(t,this._selectBadge,this._selectArea,this._createCostItem)]:[3,2];case 1:i=a.sent(),this.closeHandle(),e.navPanel(11),a.label=2;case 2:return[2]}})})}),i.show()),[3,3];case 2:e.showTips(e.Lang.nindehuobibuzu,!0),o.label=3;case 3:return[2]}})})},n.prototype.selectArea=function(e){this._selectArea=e,this.updateCreate()},n.prototype.selectBadge=function(e){this._selectBadge=e,this.updateCreate()},n.prototype.changeAreaHandle=function(){e.GuildSelectArea.getInstance().show()},n.prototype.changeBadgeHandle=function(){e.GuildSelectBadge.getInstance().show()},n.prototype.initCreate=function(){this.nameLabel.text="",this.changeAreaButton.label=this.changeBadgeButton.label=e.Lang.genghuan,this.confirmCreateButton.label=e.Lang.chuangjian,this.gonghuimingcheng.text=e.Lang.gonghuimingcheng,this.bazinei.text=e.Lang.bazinei,this.gonghuihuizhang.text=e.Lang.gonghuihuizhang,this.chushiquyu.text=e.Lang.chushiquyu,this.costIcon.source="icon/item/"+this._createCostItem.type,this.costLabel.text=this._createCostItem.count.toString(),this._selectBadge=1,this._selectArea=1,this.updateCreate()},n.prototype.updateCreate=function(){this.badgeIcon.source="icon/guild/"+this._selectBadge,this.areaIcon.source="ui/scene/guild/a"+this._selectArea},n.prototype.initList=function(){this.noneLabel.text=e.Lang.zanwugonghui},n.prototype.initSearch=function(){this.shurugonghuiid.text=e.Lang.qingshuruyaochazhaodegonghuiid,this.confirmSearchButton.label=e.Lang.chazhao,this.guildIdLabel.text=""},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.touchTypeButton=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return this.createButton.bg=t==this.createButton?"ui/common/button/greenBtn":"ui/common/button/greenBtnGray",this.listButton.bg=t==this.listButton?"ui/common/button/greenBtn":"ui/common/button/greenBtnGray",this.searchButton.bg=t==this.searchButton?"ui/common/button/greenBtn":"ui/common/button/greenBtnGray",this.createGroup.visible=t==this.createButton,this.listGroup.visible=t==this.listButton,this.searchGroup.visible=t==this.searchButton,t!=this.listButton||0!=this._guildInfoList.length?[3,2]:(e.showWaitPanel(),n=this,[4,e.DataManager.playerModel.getGuildList()]);case 1:n._guildInfoList=i.sent(),e.hideWaitPanel(),this.updateGuildList(),i.label=2;case 2:return[2]}})})},n.prototype.updateGuildList=function(){if(this.listScroller.viewport.scrollV=0,this.guildGroup.removeChildren(),this.noneLabel.visible=0==this._guildInfoList.length,this._guildInfoList.length>0)for(var t=0;t<this._guildInfoList.length;t++){var n=this._guildItemList[t];n||(n=new e.GuildItem,this._guildItemList[t]=n),n.setInfo(this._guildInfoList[t],this._look),this.guildGroup.addChild(n)}},n.prototype.onShow=function(){this._look=!1,this.createButton.visible=!0,this._guildInfoList=[],this.searchItemGroup.removeChildren(),this.touchTypeButton(this.createButton)},n.prototype.findAndShow=function(){this._look=!0,this.createButton.visible=!1,this._guildInfoList=[],this.searchItemGroup.removeChildren(),this.touchTypeButton(this.listButton),e.addPopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.SELECT_BADGE="CreateOrJoinGuild_SELECT_BADGE",n.SELECT_AREA="CreateOrJoinGuild_SELECT_AREA",n}(e.PanelComponent);e.CreateOrJoinGuild=t,__reflect(t.prototype,"game.CreateOrJoinGuild")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=GuildAreaInfoSkin,e.touchChildren=!1,e}return __extends(n,t),n.prototype.setData=function(t){this.attribute=t;var n=e.Data.TAttribute[t];this.imageDisplay.source="ui/scene/guild/a"+t,this.labelDisplay.text=e.formatString(e.Lang.shihemouxibaokemengjuzhujianshedaozuigaojihuichuxianmouxishenshou,n.Name,n.Name)},n}(e.GameComponent);e.GuildAreaInfo=t,__reflect(t.prototype,"game.GuildAreaInfo")}(game||(game={}));var game;!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.postTouchNotify=function(){this.play()},n.prototype.endMovePokemon=function(t){e.NotificationCenter.getInstance().postNotification(e.GuildBuild.MOVE_POKEMON_END,{icon:this,event:t})},n}(e.TeamBagPokemonIcon);e.GuildBagPokemon=t,__reflect(t.prototype,"game.GuildBagPokemon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.rewardItemList=[],e.skinName=GuildBossItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.label=e.Lang.kaiqi,this.diaoluo.text=e.Lang.diaoluo,this._touchEvent=[{target:this.confirmButton,callBackFunc:this.confirmHandle}],this.addEventAndNotify(),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t.showDetail()},this)},n.prototype.confirmHandle=function(){var t=this;if(this.lock)return void e.showTips(e.Lang.jianzhudengjibuzu,!0);if(!this.costEnough)return void e.showTips(e.Lang.nindegongxiandubuzu,!0);var n=e.CheckPanel.getInstance();n.setData(e.Lang.ninquedingyaokaiqidangqianbossma,function(n){n&&e.NotificationCenter.getInstance().postNotification(e.GuildBuild.TOUCH_BOSS,t)}),n.show()},n.prototype.setData=function(t,n){this.bossData=t,this.lock=n,this.artPokemon||(this.artPokemon=new e.TeamArtPokemon,this.artGroup.addChild(this.artPokemon.display)),this.artPokemon.setPokemon(t.showPokemon,!0),this.typeImage.source="icon/skillType/"+t.buildType,this.levelLabel.text="LV."+t.level,this.needBuildLevelLabel.text=e.Lang.suoxujianzhudengji+": "+t.buildLevel,this.needBuildLevelLabel.textColor=n?gameConfig.TextColors.red:gameConfig.TextColors.green,this.needContributeLabel.text=e.Lang.kaiqixuyaogongxiandu+": "+t.cost,this.costEnough=t.cost<=e.DataManager.playerModel.getMyGuildInfo().contributionValue,this.needContributeLabel.textColor=this.costEnough?gameConfig.TextColors.green:gameConfig.TextColors.red,this.rewardGroup.removeChildren();for(var i=e.splitStringToNumberArray(t.openLootLook,";"),a=0;a<i.length;a++){var o=i[a],s=this.rewardItemList[a];s||(s=new e.ItemIcon,this.rewardItemList[a]=s),s.item={type:o,count:0},this.rewardGroup.addChild(s)}},n}(e.GameComponent);e.GuildBossItem=t,__reflect(t.prototype,"game.GuildBossItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.maxGoldCount=Number(e.Constants.guildGoldCount),n.maxItemCount=Number(e.Constants.guildItemCount),n.maxDiamondCount=Number(e.Constants.guilddiamondMax),n.bossItems=[],n._currentPage=1,n._maxPage=2,n._bagPokemonList=[],n._pokemonBag=[],n._leavePokemonList=[],n._interval=null,n._stagePokemon=[],n.skinName=GuildBuildSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.upgradeButton.label=e.Lang.jianzhushengji,this.bossButton.label=e.Lang.gonghuiboss,this.trainButton.label=e.Lang.baokemengxunlian,this.goldButton.item={type:1,count:Number(e.Constants.guildGoldCost)},this.itemButton.item={type:Number(e.Constants.guildItemId),count:Number(e.Constants.guildItemCost)},this.diamondButton.item={type:2,count:Number(e.Constants.guildDiamondCost)},this.goldDegreeLabel.text="+"+e.Constants.guildGoldDegree,this.itemDegreeLabel.text="+"+e.Constants.guildItemDegree,this.diamondDegreeLabel.text="+"+e.Constants.guildDiamondDegree,this.goldRewardLabel.text="+"+e.Constants.guildGoldReward,this.itemRewardLabel.text="+"+e.Constants.guildItemReward,this.diamondRewardLabel.text="+"+e.Constants.guildDiamondReward,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.upgradeButton,callBackFunc:this.touchTypeButton},{target:this.bossButton,callBackFunc:this.touchTypeButton},{target:this.trainButton,callBackFunc:this.touchTypeButton},{target:this.leftArrowButton,callBackFunc:this.moveLastPage},{target:this.rightArrowButton,callBackFunc:this.moveNextPage},{target:this.goldButton,callBackFunc:this.contribute},{target:this.itemButton,callBackFunc:this.contribute},{target:this.diamondButton,callBackFunc:this.contribute}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.movePokemonEnd,n.MOVE_POKEMON_END),e.NotificationCenter.getInstance().addObserver(this,this.openBoss,n.TOUCH_BOSS),e.NotificationCenter.getInstance().addObserver(this,this.touchLeavePokemon,n.TOUCH_POKEMON),e.NotificationCenter.getInstance().addObserver(this,this.receivePokemon,n.RECEIVE_POKEMON)},n.prototype.receivePokemon=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return[4,e.DataManager.playerModel.takeBackPokemon(t.pokemonInfo)];case 1:return n=i.sent(),this.touchTypeButton(this.trainButton),[2]}})})},n.prototype.touchLeavePokemon=function(t){var n=e.GuildLeavePokemonDetail.getInstance();n.setInfo(t.pokemonInfo,t.leaveInfo,this.currentBuildData),n.show()},n.prototype.openBoss=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,e.DataManager.playerModel.openBoss(t.bossData)];case 1:return n.sent(),this.updateGuildInfo(),this.updateBossGroup(),[2]}})})},n.prototype.contribute=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:switch(n=0,i=0,t){case this.goldButton:if(!this._goldCountEnough)return e.showTips(e.Lang.jinriyidashangxian,!0),[2];if(!this._goldCostEnough)return e.showTips(e.Lang.nindehuobibuzu,!0),[2];n=Number(e.Constants.guildGoldDegree),i=Number(e.Constants.guildGoldReward),a=2;break;case this.itemButton:if(!this._itemCountEnough)return e.showTips(e.Lang.jinriyidashangxian,!0),[2];if(!this._itemCostEnough)return e.showTips(e.Lang.nindedaojubuzu,!0),[2];n=Number(e.Constants.guildItemDegree),i=Number(e.Constants.guildItemReward),a=1;break;case this.diamondButton:if(!this._diamondCountEnough)return e.showTips(e.Lang.jinriyidashangxian,!0),[2];if(!this._diamondCostEnough)return e.showTips(e.Lang.nindehuobibuzu,!0),[2];n=Number(e.Constants.guildDiamondDegree),i=Number(e.Constants.guildDiamondReward),a=3}return[4,e.DataManager.playerModel.upgradeBuild(t.itemInfo,this.buildInfo,n,i,a)];case 1:return o.sent(),this.setInfo(this.buildInfo),[2]}})})},n.prototype.movePokemonEnd=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o;return __generator(this,function(s){switch(s.label){case 0:return n=t.icon,i=t.event,a=i.stageY,n.stop(),n.resetPokemon(),657>a?this._canLeave?(o=e.DataManager.playerModel.getMyGuildInfo(),o.contributionValue<this.currentBuildData.cost?(e.showTips(e.Lang.nindegongxiandubuzu,!0),[2]):[4,e.DataManager.playerModel.leaveGuildPokemon(n.pokemonInfo,this.currentBuildData)]):(e.showTips(e.Lang.bunengzaijifangleo,!0),[2]):[3,2];case 1:s.sent(),this._pokemonBag.splice(this._pokemonBag.indexOf(n.pokemonInfo),1),this.updateBag(),this.updateLeavePokemon(),this.updateGuildInfo(),s.label=2;case 2:return[2]}})})},n.prototype.touchTypeButton=function(e){switch(this.upgradeGroup.visible=e==this.upgradeButton,this.bossGroup.visible=e==this.bossButton,this.trainGroup.visible=e==this.trainButton,this.upgradeButton.bg=e==this.upgradeButton?"ui/common/button/greenBtn":"ui/common/button/greenBtnGray",this.bossButton.bg=e==this.bossButton?"ui/common/button/greenBtn":"ui/common/button/greenBtnGray",this.trainButton.bg=e==this.trainButton?"ui/common/button/greenBtn":"ui/common/button/greenBtnGray",e){case this.upgradeButton:this.updateUpgradeGroup();break;case this.bossButton:this.bossScroller.viewport.scrollV=0,this.updateBossGroup();break;case this.trainButton:this.updateTrainGroup()}},n.prototype.updateUpgradeGroup=function(){var t=this;switch(this.areaIcon.source="ui/scene/guild/a"+this.buildInfo.type,this.buildInfo.type){case 4:this.areaNameLabel.text=e.Lang.yaozhita;break;case 3:this.areaNameLabel.text=e.Lang.caozhishu;break;case 6:this.areaNameLabel.text=e.Lang.longzhichuan;break;case 2:this.areaNameLabel.text=e.Lang.shuizhixuanwo;break;case 5:this.areaNameLabel.text=e.Lang.ezhidongku;break;case 1:this.areaNameLabel.text=e.Lang.huozhirongyan}for(var n,i,a=0,o=0;o<e.Data.TGuildBuilding.length;o++){var s=e.Data.TGuildBuilding[o];s.id==this.buildInfo.type&&(this.buildInfo.degree>=s.degree&&s.level>=a&&(a=s.level,n=s),s.level==a+1&&(i=s))}if(this.currentBuildData=n,n){var r=function(n){t.nextLevel.text="LV."+n.level,t.currentLevel.horizontalCenter=15,t.memberAddLabel.text=e.Lang.chengyuanrenshuzengjia+": "+n.addMemberCount,t.pokemonCountLabel.text=e.Lang.kejihuangmouxibaokemengshuliang+": "+n.pokemonCount,t.effortLabel.text=e.Lang.meixiaoshikezengjianulizhi+": "+n.effortAdd,t.loveLabel.text=e.Lang.meixiaoshikezengjiaqinmidu+": "+n.loveAdd};this.currentLevel.text="LV."+n.level,i?(this.nextArrow.visible=this.nextLevel.visible=!0,this.currentLevel.horizontalCenter=15,this.upgradeProgress.maximum=i.degree,r(i)):(this.nextArrow.visible=this.nextLevel.visible=!1,this.currentLevel.horizontalCenter=117.5,this.upgradeProgress.maximum=999999999,r(n))}},n.prototype.updateBossGroup=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o;return __generator(this,function(s){switch(s.label){case 0:return this.currentBuildData?(this.bossItemGroup.removeChildren(),[4,e.DataManager.playerModel.getMyGuildBossList()]):[3,2];case 1:t=s.sent(),n=0;for(i in e.Data.TGuildBoss)e.Data.TGuildBoss.hasOwnProperty(i)&&(a=e.Data.TGuildBoss[i],a.buildType==this.currentBuildData.id&&t.indexOf(a.id)<0&&(o=this.bossItems[n],o||(o=new e.GuildBossItem,this.bossItems[n]=o),o.setData(a,a.buildLevel>this.currentBuildData.level),this.bossItemGroup.addChild(o),n++));s.label=2;case 2:return[2]}})})},n.prototype.updateTrainGroup=function(){this.updatePokemonList(),this.updateLeavePokemon()},n.prototype.updateLeavePokemon=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,a,s;return __generator(this,function(r){switch(r.label){case 0:for(t=e.DataManager.playerModel.getMyGuildInfo(),n=[],i=e.splitStringToNumberArray(this.currentBuildData.ContainAttribute,";"),a=0;a<t.leavePokemon.length;a++)o=e.DataManager.playerModel.getPokemonInfoById(t.leavePokemon[a].pokemonId),-1!=i.indexOf(e.Data.TElf[o.type].attribute)&&n.push({pokemonInfo:o,leaveInfo:t.leavePokemon[a]});this.leaveLabel.text=e.Lang.dangqianjifangbaokemengshuliang+": "+n.length+"/"+this.currentBuildData.pokemonCount+"   "+e.Lang.jifangbaokemengsuoxugongxiandu+": "+this.currentBuildData.cost,this._canLeave=n.length<this.currentBuildData.pokemonCount,this.leaveLabel.textColor=this._canLeave?gameConfig.TextColors.green:gameConfig.TextColors.red,this.pokemonGroup.removeChildren(),this._stagePokemon=[],a=0,r.label=1;case 1:return a<n.length?(s=this._leavePokemonList[a],s||(s=new e.GuildLeavePokemon,this._leavePokemonList[a]=s,s.setDisplayPosition(598*Math.random(),389*Math.random())),s.stopRun(),[4,s.setPokemon(n[a])]):[3,4];case 2:r.sent(),s.run(s.displayPosition[0],s.displayPosition[1]),this.pokemonGroup.addChild(s.displayGroup),this._stagePokemon.push(s),r.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},n.prototype.updatePokemonList=function(){if(this.currentBuildData){for(var t=e.DataManager.playerModel.getMyGuildInfo(),n=e.DataManager.playerModel.playerAllPokemonList,i=[],a=0;a<t.leavePokemon.length;a++)i.push(t.leavePokemon[a].pokemonId);for(var o=e.splitStringToNumberArray(this.currentBuildData.ContainAttribute,";"),s=[],a=0;a<n.length;a++){var r=n[a];-1!=o.indexOf(e.Data.TElf[r.type].attribute)&&i.indexOf(r.id)<0&&s.push(r)}s=s.sort(function(t,n){var i=-1,a=e.Data.TElf[t.type],o=e.Data.TElf[n.type];return a.quality<o.quality&&(i=1),i}),this._pokemonBag=s,this.page=1,this.updateBag()}},n.prototype.moveNextPage=function(){var e=this.page+1;e>this._maxPage||(this.page=e,this.updateBag())},n.prototype.moveLastPage=function(){var e=this.page-1;1>e||(this.page=e,this.updateBag())},Object.defineProperty(n.prototype,"page",{get:function(){return this._currentPage},set:function(e){this._currentPage=e,this.leftArrowButton.visible=this._currentPage>1,this.rightArrowButton.visible=this._currentPage<this._maxPage,this.bagLabel.text=this._currentPage+"/"+this._maxPage},enumerable:!0,configurable:!0}),n.prototype.updateBag=function(){for(var t=this._pokemonBag,n=15*(this.page-1)+1,i=n+15,a=t.length,o=0;15>o;o++){this._bagPokemonList[o]||(this._bagPokemonList[o]=new e.GuildBagPokemon,this.bagGroup.addChild(this._bagPokemonList[o]));var s=this._bagPokemonList[o];s.setPokemonInfo(null),s.slot=n+o}for(var o=n;i>o;o++){var r=t[o-1];if(r){var u=(o-1)%15,s=this._bagPokemonList[u];if(!s)continue;s.setPokemonInfo(r)}}this._maxPage=Math.floor(a/15)+1,this.page=this.page},n.prototype.setInfo=function(e){this.buildInfo=e,this.touchTypeButton(this.upgradeButton),this.updateGuildInfo()},n.prototype.updateGuildInfo=function(){var t=e.DataManager.playerModel.getMyGuildInfo();this.infoLabel.text=e.Lang.qiangqiangongxiandu+":"+t.contributionValue,this.upgradeProgress.value=this.buildInfo.degree;for(var n=0,i=0,a=0,o=0;o<t.goldBuilding.length;o++)if(t.goldBuilding[o].type==this.buildInfo.type){n=t.goldBuilding[o].count;break}for(var o=0;o<t.bootyBuilding.length;o++)if(t.bootyBuilding[o].type==this.buildInfo.type){i=t.bootyBuilding[o].count;break}for(var o=0;o<t.gemBuilding.length;o++)t.gemBuilding[o].type==this.buildInfo.type&&(a=t.gemBuilding[o].count);var s=this.maxGoldCount-n;this.goldInfoLabel.text=e.Lang.jinrishengyucishu+":"+s+"\n"+e.Lang.yongyou+":"+e.setNumber(e.DataManager.playerModel.gold),this._goldCountEnough=s>0,this._goldCostEnough=e.DataManager.playerModel.gold>Number(e.Constants.guildGoldCost);var r=this.maxItemCount-i,u=e.DataManager.playerModel.getItemCount(Number(e.Constants.guildItemId));this.itemInfoLabel.text=e.Lang.jinrishengyucishu+":"+r+"\n"+e.Lang.yongyou+":"+e.setNumber(u),this._itemCountEnough=r>0,this._itemCostEnough=u>=Number(e.Constants.guildItemCost);var l=this.maxDiamondCount-a;this.diamondInfoLabel.text=e.Lang.jinrishengyucishu+":"+l+"\n"+e.Lang.yongyou+":"+e.setNumber(e.DataManager.playerModel.diamond),this._diamondCostEnough=e.DataManager.playerModel.diamond>Number(e.Constants.guildDiamondCost),this._diamondCountEnough=l>0},n.prototype.onShow=function(){egret.startTick(this.orderPokemon,this)},n.prototype.orderPokemon=function(){this._stagePokemon=this._stagePokemon.sort(function(e,t){return e.displayPosition[1]-t.displayPosition[1]});for(var e=0;e<this._stagePokemon.length;e++){var t=this._stagePokemon[e];this.pokemonGroup.setChildIndex(t.displayGroup,e)}return!0},n.prototype.closeHandle=function(){egret.stopTick(this.orderPokemon,this);for(var t=0;t<this._leavePokemonList.length;t++)this._leavePokemonList[t].stopRun();e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.MOVE_POKEMON_END="GuildBuild_MOVE_POKEMON_END",n.TOUCH_POKEMON="GuildBuild_TOUCH_POKEMON",n.TOUCH_BOSS="GuildBuild_TOUCH_BOSS",n.RECEIVE_POKEMON="GuildBuild_RECEIVE_POKEMON",n}(e.PanelComponent);e.GuildBuild=t,__reflect(t.prototype,"game.GuildBuild")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.typeButtonList=[],e.itemList=[],e.fragDic={},e.rarityDic={},e._FragDemandArr=[],e.skinName=GuildFragmentExchangeSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){for(var t in e.Data.TSuipianqiyuan){var n=e.Data.TSuipianqiyuan[t];this.fragDic[n.attribute]||(this.fragDic[n.attribute]={}),this.fragDic[n.attribute][n.rarity]||(this.fragDic[n.attribute][n.rarity]=[]),this.fragDic[n.attribute][n.rarity].push({id:n.pieceId,rarity:n.rarity})}var i=0;for(var t in e.Data.TAttribute){var n=e.Data.TAttribute[t],a=new e.IconButton;a.skinName=SkillTypeButtonSkin,a.icon="ui/scene/itemRecovery/type_"+n.Id,a.horizontalCenter=0,a.verticalCenter=-350+90*i,this.typeButtonList.push(a),this.typeGroup.addChild(a),i++}this.rarity1.icon="ui/scene/itemRecovery/type_103",this.rarity2.icon="ui/scene/itemRecovery/type_104",this.rarity3.icon="ui/scene/itemRecovery/type_106",this.donateButton.label=e.Lang.liebiao,this.applyButton.label=e.Lang.fabu,this.confirmButton.label=e.Lang.tijiao,this.updateFragList(0,0),this.typeGroup.$children[0].addChild(this.typeSelectImage),this.rarityGroup.$children[0].addChild(this.raritySelectImage),this.raritySelectImage.$setX(0),this.raritySelectImage.$setY(0),this.typeGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTypeHandle,this),this.rarityGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchRarityHandle,this),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchItemHandle,this),this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeHandle,this),this.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchConfirm,this),this.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchConfirm,this),this.applyButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchApply,this),this.donateButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchDonate,this)},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.touchApply=function(){this.applyGroup.visible=!0,this.donateGroup.visible=!1,this.updateFragList(this._TypeIndex,this._RarityIndex)},n.prototype.touchDonate=function(){this.applyGroup.visible=!1,this.donateGroup.visible=!0,this.updateDemandList()},n.prototype.touchConfirm=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return 1==e.DataManager.playerModel.getMyGuildInfo().isRefreshDonate?[2,e.showTips(e.Lang.jinricishuyiyongwan)]:[4,e.DataManager.playerModel.initDonate(this._CurItem)];
case 1:return t.sent(),[2]}})})},n.prototype.touchItemHandle=function(e){var t=e.target;t&&this.touchItem(t)},n.prototype.touchTypeHandle=function(e){var t=e.target,n=this.typeButtonList.indexOf(t);-1!=n&&(t.addChild(this.typeSelectImage),this.updateFragList(n,this._RarityIndex))},n.prototype.touchRarityHandle=function(e){var t=e.target,n=this.rarityGroup.$children.indexOf(t);-1!=n&&(t.addChild(this.raritySelectImage),this.raritySelectImage.$setX(0),this.raritySelectImage.$setY(0),this.updateFragList(this._TypeIndex,n))},n.prototype.updateDemandList=function(){var t=e.DataManager.playerModel.GuildInfo.donate;this.donateList.removeChildren(),this._FragDemandArr.length=t.length;for(var n in t)if(0!=t[n].quantity){if(!this._FragDemandArr[n]){var i=new e.GuildFragmentItem;this._FragDemandArr[n]=i}this._FragDemandArr[n].setData(t[n]),this.donateList.addChild(this._FragDemandArr[n])}},n.prototype.updateFragList=function(t,n){this._TypeIndex=t,this._RarityIndex=n,this.scroller.viewport.scrollV=0,this.itemGroup.removeChildren();var i=this.fragDic[t+1][n+1],a=e.splitStringToNumberArray(e.Constants.DonateLimit,";");if(i)for(var o=0;o<i.length;++o)this.itemList[o]||(this.itemList[o]=new e.ItemIcon),this.itemList[o].item={type:i[o].id,count:a[i[o].rarity-1]},this.itemGroup.addChild(this.itemList[o]);this.touchItem(this.itemList[0])},n.prototype.touchItem=function(e){return e?(this.fragSelectImage.visible=!0,this._CurItem=e.itemInfo,e.addChild(this.fragSelectImage),this.fragSelectImage.x=0,this.fragSelectImage.y=0,void(this.curFragIcon.item=e.itemInfo)):(this.fragSelectImage.visible=!1,void(this.curFragIcon.item=null))},Object.defineProperty(n,"Instance",{get:function(){return this._instance||(this._instance=new n),this._instance},enumerable:!0,configurable:!0}),n}(e.PanelComponent);e.GuildFragmentExchange=t,__reflect(t.prototype,"game.GuildFragmentExchange")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=GuildFragmentItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.donateButton.label=e.Lang.tijiao,this._PlayerAvatar=new e.BattleAvatar,this.playerShow.addChild(this._PlayerAvatar.displayGroup),this._touchEvent=[{target:this.donateButton,callBackFunc:this.touchDonate}],this.addEventAndNotify()},n.prototype.touchDonate=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(a){if(e.DataManager.playerModel.getItemCount(this._DonateInfo.demandItem.type)<=0)return[2,e.showTips("daojubuzu")];if(t=e.DataManager.playerModel.donateOther(this._DonateInfo.player,{type:this._DonateInfo.demandItem.type,count:1})){n=e.DataManager.playerModel.getMessageList(8);for(i in n)if(n[i].sender.id.sid==this._DonateInfo.player.sid&&n[i].sender.id.pid==this._DonateInfo.player.pid){this._DonateInfo.quantity--,e.DataManager.playerModel.getMessageList(8)[i].content=JSON.stringify(this._DonateInfo);break}}return[2]})})},n.prototype.setData=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return this._DonateInfo&&this._DonateInfo.player==t.player?[3,2]:(n=this,[4,e.DataManager.playerModel.getPlayerDetail(t.player)]);case 1:n._PlayerDetail=a.sent(),a.label=2;case 2:return i=this._PlayerDetail.playerInfo,this._DonateInfo=t,this._PlayerAvatar.setAvatar(i.gender),this._PlayerAvatar.setWing(i.wing,1),this._PlayerAvatar.setDecoration(i.orna,1),this.fragItem.item={type:t.demandItem.type,count:0},this.countLable.text=t.demandItem.count-t.quantity+"/"+t.demandItem.count,this.donateButton.visible=this._DonateInfo.player.sid!=e.DataManager.playerModel.sid||this._DonateInfo.player.pid!=e.DataManager.playerModel.pid,[2]}})})},n}(e.GameComponent);e.GuildFragmentItem=t,__reflect(t.prototype,"game.GuildFragmentItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=GuildItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.gonghuixuanyan.text=e.Lang.gonghuixuanyan,this._touchEvent=[{target:this.joinButton,callBackFunc:this.joinHandle}],this.addEventAndNotify()},n.prototype.setInfo=function(t,n){void 0===n&&(n=!1),this.guildInfo=t,this.badgeIcon.source="icon/guild/"+t.icon,this.nameLabel.text=t.name,this.declarationLabel.text=t.declaration,this.infoLabel.text=e.Lang.huizhang+": "+t.chairmanName+"\n"+e.Lang.chengyuan+": "+t.memberList.length+"/"+e.getGuildMaxMember(t.buildingList)+"\n"+e.Lang.jianshedu+": "+e.getGuildTotalDegree(t.buildingList);var i=e.DataManager.playerModel.guildApplyList;i.indexOf(t.id)>-1?(this.joinButton.label=e.Lang.yishenqing,this.joinButton.touchEnabled=!1):(this.joinButton.label=e.Lang.jiaru,this.joinButton.touchEnabled=!0),this.joinButton.visible=!n},n.prototype.joinHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.applyAddGuild(this.guildInfo.id)];case 1:return t.sent(),this.setInfo(this.guildInfo),[2]}})})},n}(e.GameComponent);e.GuildItem=t,__reflect(t.prototype,"game.GuildItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=GuildJournalSkin,e}return __extends(n,t),n.prototype.setData=function(t){this.timeLabel.text=e.formatTime(t.time);for(var n=t.pas,i=e.Data.TGuildLog[t.type].content,a=0;a<n.length;a++)i=i.replace("{"+a+"}",n[a]);this.detailLabel.text=i},n}(e.GameComponent);e.GuildJournal=t,__reflect(t.prototype,"game.GuildJournal")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.alreadyStop=!1,n.displayGroup=new eui.Group,n.displayGroup.touchEnabled=!1,n.displayGroup.addChild(n.display),n.display.touchEnabled=!0,n.display.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.NotificationCenter.getInstance().postNotification(e.GuildBuild.TOUCH_POKEMON,n)},n),n}return __extends(n,t),n.prototype.setPokemon=function(e){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return this.pokemonInfo=e.pokemonInfo,this.leaveInfo=e.leaveInfo,n=this.pokemonInfo.type,[4,t.prototype.setData.call(this,{delay:150,size:{col:4,row:4},resource:"anim/pokemon/"+n})];case 1:return i.sent(),this.display.scaleX=this.display.scaleY=1,this.display.alpha=1,this.alreadyStop=!1,[2]}})})},n.prototype.run=function(e,t){var n=this;if(void 0===e&&(e=null),void 0===t&&(t=null),!this.alreadyStop){var i=40;null==e&&(e=598*Math.random()),null==t&&(t=389*Math.random());var a,o,s,r;Math.random()>.5?(a=598*Math.random(),o=t,r=a>e?3:2,s=Math.abs(a-e)/i*1e3):(o=389*Math.random(),a=e,r=o>t?1:4,s=Math.abs(o-t)/i*1e3),this.setDisplayPosition(e,t),this.play(r),egret.Tween.get(this.display).to({x:a,y:o},s).call(function(){n.run(a,o)})}},n.prototype.stopRun=function(){this.stop(),egret.Tween.removeTweens(this.display),this.alreadyStop=!0},n}(e.VectorAnim);e.GuildLeavePokemon=t,__reflect(t.prototype,"game.GuildLeavePokemon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=GuildLeavePokemonDetailSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._anim=new e.ArtPokemonWithStar,this.animGroup.addChild(this._anim),this.confirmButton.label=e.Lang.linghui,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.confirmButton,callBackFunc:this.confirmHandle}],this.addEventAndNotify()},n.prototype.confirmHandle=function(){var t=this,n=e.CheckPanel.getInstance();n.setData(e.Lang.ninquedingyaolinghuidangqianbaokemengma,function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){return n&&(e.NotificationCenter.getInstance().postNotification(e.GuildBuild.RECEIVE_POKEMON,this),this.closeHandle()),[2]})})}),n.show()},n.prototype.closeHandle=function(){this._anim.stop(),e.removePopUp(this)},n.prototype.setInfo=function(t,n,i){this.pokemonInfo=t,this.leaveInfo=n,this._anim.setPokemonInfo(t);var a=e.Data.TElf[t.type];this.nameLabel.text="LV."+t.lv+" "+a.name,this.genderIcon.source=1==t.gender?"ui/scene/team/male":"ui/scene/team/female",this.typeIcon.source="icon/skillType/"+a.attribute;var o=n.leaveTime,s=e.getNowTime(),r=Math.floor((s.getTime()-o.getTime())/36e5);r=Math.min(r,i.maxTime),this.totalTimeLabel.text=e.formatString(e.Lang.yijifangshijian,r),this.maxTimeLabel.text=e.formatString(e.Lang.zuigaojifangshijian,i.maxTime),this.effortLabel.text=e.Lang.kezengjianulizhi+": "+r*i.effortAdd,this.loveLabel.text=e.Lang.kezengjiaqinmidu+": "+r*i.loveAdd},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.GuildLeavePokemonDetail=t,__reflect(t.prototype,"game.GuildLeavePokemonDetail")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=GuildLeavePokemonResultSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._anim=new e.ArtPokemonWithStar,this.animGroup.addChild(this._anim),this._touchEvent=[{target:this.confirmButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},n.prototype.closeHandle=function(){this._anim.stop(),e.removePopUp(this)},n.prototype.setInfo=function(t,n){var i=e.Data.TElf[n.type];this._anim.setPokemonInfo(n),this.nameLabel.text="LV."+n.lv+" "+i.name,this.genderIcon.source=1==n.gender?"ui/scene/team/male":"ui/scene/team/female",this.typeIcon.source="icon/skillType/"+i.attribute,this.loveLabel.text=e.Lang.dengji+": "+t.intimacyLv+" -> "+n.intimacyLv,this.effortDetail.setInfo(n),this.effortDetail.setEffortChangeInfo(t.effort,n.effort)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.GuildLeavePokemonResult=t,__reflect(t.prototype,"game.GuildLeavePokemonResult")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=GuildMemberSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.rejectButton,callBackFunc:this.rejectHandle},{target:this.playerIcon,callBackFunc:this.touchIcon}],this.addEventAndNotify()},n.prototype.touchIcon=function(){e.DataManager.playerModel.showPlayerDetail(this.playerId)},n.prototype.rejectHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return 0!=this._type?[3,2]:[4,e.DataManager.playerModel.approveAddGuild(this.playerId,!1)];case 1:t=n.sent(),t&&e.NotificationCenter.getInstance().postNotification(e.GuildSetting.APPLY_UPDATE,this.playerInfo),n.label=2;case 2:return[2]}})})},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:return 0!=this._type?[3,2]:[4,e.DataManager.playerModel.approveAddGuild(this.playerId,!0)];case 1:return t=i.sent(),t&&e.NotificationCenter.getInstance().postNotification(e.GuildSetting.APPLY_UPDATE,this.playerInfo),[3,3];case 2:1==this._type&&(n=e.GuildMemberManager.getInstance(),n.setInfo(this.memberInfo),n.show()),i.label=3;case 3:return[2]}})})},n.prototype.setApplyInfo=function(t){this._type=0,this.playerId=t.id,this.rejectButton.visible=!0,this.rejectButton.label=e.Lang.jujue,this.confirmButton.label=e.Lang.tongyi,this.setInfo(t),this.positionLabel.visible=!1},n.prototype.setNormalInfo=function(t){this.memberInfo=t;var n=t.playerInfo;this._type=1,this.rejectButton.visible=!1;var i=e.DataManager.playerModel.getMyGuildInfo();3==i.position||2==i.position?n.id.sid==e.DataManager.playerModel.sid&&n.id.pid==e.DataManager.playerModel.pid?this.confirmButton.visible=!1:3==t.position?this.confirmButton.visible=!1:(this.confirmButton.visible=!0,this.confirmButton.label=e.Lang.guanli):this.confirmButton.visible=!1,this.setInfo(n),this.positionLabel.visible=!0,this.positionLabel.text=e.getGuildPositionText(t.position);var a=(e.getNowTime().getTime()-t.time.getTime())/864e5|0;this.infoLabel.text=e.Lang.lixiantianshu+": "+Math.max(a,0)},n.prototype.setInfo=function(t){this.playerInfo=t,this.playerId=t.id,this.nameLabel.text=t.name,this.playerIcon.icon=t.gender,this.vipLabel.text=e.getVipLevelByRecharge(t.vipExp).toString(),this.infoLabel.text=e.Lang.zhanli+": "+e.setNumber(t.fight)},n}(e.GameComponent);e.GuildMember=t,__reflect(t.prototype,"game.GuildMember")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=GuildMemberMangerSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.deleteButton.label=e.Lang.tichugonghui,this.giftButton.label=e.Lang.zhuangranggonghui,this._touchEvent=[{target:this.changeButton,callBackFunc:this.changeHandle},{target:this.deleteButton,callBackFunc:this.deleteHandle},{target:this.giftButton,callBackFunc:this.giftHandle},{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},n.prototype.changeHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return 2!=this.memberInfo.position?[3,2]:[4,e.DataManager.playerModel.changeMemberPosition(this.memberInfo,1)];case 1:return t.sent(),[3,4];case 2:return[4,e.DataManager.playerModel.changeMemberPosition(this.memberInfo,2)];case 3:t.sent(),t.label=4;case 4:return e.NotificationCenter.getInstance().postNotification(e.GuildSetting.MEMBER_UPDATE),this.closeHandle(),[2]}})})},n.prototype.deleteHandle=function(){var t=this,n=e.CheckPanel.getInstance();n.setData(e.Lang.ninquedingyaotichugaichengyuanma,function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n?[4,e.DataManager.playerModel.changeMemberPosition(this.memberInfo,0)]:[3,2];case 1:t.sent(),e.NotificationCenter.getInstance().postNotification(e.GuildSetting.MEMBER_UPDATE),this.closeHandle(),t.label=2;case 2:return[2]}})})}),n.show()},n.prototype.giftHandle=function(){var t=this,n=e.CheckPanel.getInstance();n.setData(e.Lang.ninquedingyaojianggonghuizhuanranggeigaichengyuanma,function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n?[4,e.DataManager.playerModel.changeMemberPosition(this.memberInfo,3)]:[3,2];case 1:t.sent(),e.NotificationCenter.getInstance().postNotification(e.GuildSetting.MEMBER_UPDATE),this.closeHandle(),t.label=2;case 2:return[2]}})})}),n.show()},n.prototype.setInfo=function(t){this.memberInfo=t;var n=e.DataManager.playerModel.getMyGuildInfo();3==n.position?(this.changeButton.visible=this.giftButton.visible=!0,2==t.position?this.changeButton.label=e.Lang.chexiaofuhuizhang:this.changeButton.label=e.Lang.renmingfuhuizhang):this.changeButton.visible=this.giftButton.visible=!1},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.GuildMemberManager=t,__reflect(t.prototype,"game.GuildMemberManager")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=GuildMemberNewSkin,e._touchEvent=[{target:e.detailButton,callBackFunc:e.detailHandle}],e.addEventAndNotify(),e.detailButton.icon="ui/scene/guild/chakan",e}return __extends(n,t),n.prototype.detailHandle=function(){e.DataManager.playerModel.showPlayerDetail(this.playerId)},n.prototype.setInfo=function(t){this.positionImage.source="ui/scene/guild/position_"+t.position,this.allContributeLabel.text=t.contributionValue.toString(),this.contributeLabel.text=e.formatString(e.Lang.jinrigongxian,t.dailyContributionValue),this.nameLabel.text=t.playerInfo.name,this.fightLabel.text=e.formatString(e.Lang.zhandouli2,e.setNumber(t.playerInfo.fight)),this.levelLabel.text="LV."+t.playerInfo.level,this.playerImage.source="icon/player/"+t.playerInfo.gender,this.playerId=t.playerInfo.id,this.vipLabel.text=e.getVipLevelByRecharge(t.playerInfo.vipExp).toString()},n}(e.GameComponent);e.GuildMemberNew=t,__reflect(t.prototype,"game.GuildMemberNew")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._memberList=[],n._journalList=[],n.skinName=GuildMemberSceneSkin,n._touchEvent=[{target:n.closeButton,callBackFunc:n.closeHandle},{target:n.journalButton,callBackFunc:n.touchTypeButton},{target:n.memberButton,callBackFunc:n.touchTypeButton},{target:n.quitButton,callBackFunc:n.quitGuild}],n.addEventAndNotify(),n.journalButton.label=e.Lang.rizhi,n.quitButton.label=e.Lang.tuichugonghui,n.memberButton.label=e.Lang.chengyuan,n}return __extends(n,t),n.prototype.onShow=function(){this.touchTypeButton(this.memberButton)},n.prototype.touchTypeButton=function(t){switch(this.currentButton&&(this.currentButton.bg="ui/common/button/greenBtnGray"),this.currentButton=t,this.currentButton.bg="ui/common/button/greenBtn",this.titleLabel.text=t==this.memberButton?e.Lang.gonghuichengyuan:e.Lang.gonghuirizhi,this.memberGroup.visible=t==this.memberButton,t){case this.journalButton:this.updateJournal();break;case this.memberButton:this.updateMember()}},n.prototype.updateJournal=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(a){switch(a.label){case 0:return this.scroller.viewport.scrollV=0,this.itemGroup.removeChildren(),[4,e.DataManager.playerModel.getGuildJournal()];case 1:if(t=a.sent(),t.length>0)for(this.noneLabel.visible=!1,n=0;n<t.length;n++)i=this._journalList[n],i||(i=new e.GuildJournal,this._journalList[n]=i),i.setData(t[n]),this.itemGroup.addChild(i);else this.noneLabel.visible=!0,this.noneLabel.text=e.Lang.meiyourizhi;return[2]}})})},n.prototype.updateMember=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(a){switch(a.label){case 0:return this.scroller.viewport.scrollV=0,this.itemGroup.removeChildren(),[4,e.DataManager.playerModel.getGuildMember()];case 1:if(t=a.sent(),t.length>0)for(this.noneLabel.visible=!1,n=0;n<t.length;n++)i=this._memberList[n],i||(i=new e.GuildMemberNew,this._memberList[n]=i),i.setInfo(t[n]),this.itemGroup.addChild(i);else this.noneLabel.visible=!0,this.noneLabel.text=e.Lang.meiyouchengyuan;return[2]}})})},n.prototype.quitGuild=function(){var t=this,n=e.CheckPanel.getInstance();n.setData(e.Lang.ninquedingyaotuichudangqiangonghuima,function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n?[4,e.DataManager.playerModel.quitGuild()]:[3,2];case 1:t.sent(),this.closeHandle(),t.label=2;case 2:return[2]}})})}),n.show()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.GuildMemberScene=t,__reflect(t.prototype,"game.GuildMemberScene")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._bossList=[],e.skinName=GuildPublicSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.selfBossButton.label=e.Lang.wodeboss,this.otherBossButton.label=e.Lang.tarenboss,this.journalButton.label=e.Lang.rizhi,this.memberButton.label=e.Lang.chengyuan,this.quitButton.label=e.Lang.tuichugonghui,this._touchEvent=[{target:this.selfBossButton,callBackFunc:this.touchTypeButton},{target:this.otherBossButton,callBackFunc:this.touchTypeButton},{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.quitButton,callBackFunc:this.quitGuild},{target:this.addCountButton,callBackFunc:this.buyCount}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.touchBoss,n.TOUCH_BOSS)},n.prototype.buyCount=function(){var t=this,n=Number(e.Constants.guildBossPrice)+Number(e.Constants.guildBossAddPrice)*e.DataManager.playerModel.getActivityInfo().ext.guildBossBuyCount,i=e.CheckPanel.getInstance();i.setData(e.formatString(e.Lang.ninquedingyaohuafeiduoshaozuanshigoumaiyicitiaozhancishu,n),function(i){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return i?e.DataManager.playerModel.diamond>=n?[4,e.DataManager.playerModel.buyGuildBossCount(n)]:[3,2]:[3,3];case 1:return t.sent(),this.updateInfo(),[3,3];case 2:e.showTips(e.Lang.nindehuobibuzu,!0),t.label=3;case 3:return[2]}})})}),i.show()},n.prototype.touchBoss=function(t){return __awaiter(this,void 0,void 0,function(){var n,i=this;return __generator(this,function(a){switch(a.label){case 0:return t.finish?[4,e.DataManager.playerModel.sendGuildBossReward(t.bossInfo.bossId)]:[3,2];case 1:return a.sent(),this.touchTypeButton(this.currentButton),[3,3];case 2:if(this._bossCount<=0)return e.showTips(e.Lang.nindetiaozhancishubuzu,!0),[2];n=e.CheckPanel.getInstance(),n.setData(e.Lang.ninquedingyaotiaozhandangqianbossma,function(n){return __awaiter(i,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return n?[4,e.DataManager.playerModel.enterGuildBoss(t.bossInfo)]:[3,2];case 1:i=a.sent(),i?this.startBattle(t.bossInfo):e.showTips(e.Lang.chuxiancuowu,!0),a.label=2;case 2:return[2]}})})}),n.show(),a.label=3;case 3:return[2]}})})},n.prototype.startBattle=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),n=e.BattleScene.getInstance(),n.guildBossInfo=t,[4,n.initBattle(7)];case 1:return i.sent(),e.hideWaitPanel(),e.GameLayer.battleLayer.addChild(n),n.run(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),[2]}})})},n.prototype.endBattle=function(t){e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!0,e.NotificationCenter.getInstance().removeObserver(this,e.BattleScene.QUIT_BATTLE),this.touchTypeButton(this.currentButton),this.updateInfo()},n.prototype.quitGuild=function(){var t=this,n=e.CheckPanel.getInstance();n.setData(e.Lang.ninquedingyaotuichudangqiangonghuima,function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n?[4,e.DataManager.playerModel.quitGuild()]:[3,2];case 1:t.sent(),this.closeHandle(),t.label=2;case 2:return[2]}})})}),n.show()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.touchTypeButton=function(e){switch(this.currentButton&&(this.currentButton.bg="ui/common/button/greenBtnGray"),this.currentButton=e,this.currentButton.bg="ui/common/button/greenBtn",this.bossScroller.visible=e==this.selfBossButton||e==this.otherBossButton,e){case this.selfBossButton:this.updateBossList(!0);break;case this.otherBossButton:this.updateBossList(!1)}},n.prototype.updateBossList=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s,r;return __generator(this,function(u){switch(u.label){case 0:return this.noneLabel.visible=!0,this.noneLabel.text=e.Lang.meiyouboss,this.bossItemGroup.removeChildren(),[4,e.DataManager.playerModel.getGuildBossList()];case 1:for(n=u.sent(),i=0,a=n.length-1,o=a;o>=0;o--)s=n[o],r=void 0,t?s.playerInfo.id.pid==e.DataManager.playerModel.pid&&s.playerInfo.id.sid==e.DataManager.playerModel.sid&&(this.noneLabel.visible=!1,r=this._bossList[i],r||(r=new e.GuildPublicBossItem,this._bossList[i]=r),r.setInfo(s,t),this.bossItemGroup.addChild(r),i++):s.playerInfo.id.pid==e.DataManager.playerModel.pid&&s.playerInfo.id.sid==e.DataManager.playerModel.sid||(this.noneLabel.visible=!1,r=this._bossList[i],r||(r=new e.GuildPublicBossItem,this._bossList[i]=r),r.setInfo(s,t),this.bossItemGroup.addChild(r),i++);return[2]}})})},n.prototype.updateInfo=function(){this._bossCount=e.DataManager.playerModel.getMyGuildInfo().bossCount,this.infoLabel.text=e.Lang.jinrishengyutiaozhancishu+": "+this._bossCount},n.prototype.onShow=function(){this.updateInfo(),this.touchTypeButton(this.selfBossButton)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.TOUCH_BOSS="GuildPublic_TOUCH_BOSS",n}(e.PanelComponent);e.GuildPublic=t,__reflect(t.prototype,"game.GuildPublic")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.rewardItemList=[],e.finish=!1,e.skinName=GuildPublicBossItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.rankButton.icon="ui/scene/rank/rank",this.confirmButton.label=e.Lang.tiaozhan,this.diaoluo.text=e.Lang.diaoluo,this._touchEvent=[{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.rankButton,callBackFunc:this.touchRank}],this.addEventAndNotify(),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t.showDetail()},this)},n.prototype.touchRank=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:return[4,e.DataManager.playerModel.getGuildRank(this.bossInfo)];case 1:return(t=i.sent())?(n=e.GuildBossRank.getInstance(),[4,n.updateRankList(t)]):[3,3];case 2:return i.sent(),n.show(),[3,4];case 3:e.showTips(e.Lang.dangqianmeiyoupaimingo,!0),i.label=4;case 4:return[2]}})})},n.prototype.setInfo=function(t,n){this.bossInfo=t,this.self=n,this.bossData=e.Data.TGuildBoss[t.bossId],this.artPokemon||(this.artPokemon=new e.TeamArtPokemon,this.artGroup.addChild(this.artPokemon.display)),this.artPokemon.setPokemon(this.bossData.showPokemon,!0),this.typeImage.source="icon/skillType/"+this.bossData.buildType,this.levelLabel.text="LV."+this.bossData.level,this.ownerLabel.text=e.Lang.kaiqizhe+": "+t.playerInfo.name,this.updateProgress();var i;i=n?e.splitStringToNumberArray(this.bossData.openLootLook,";"):e.splitStringToNumberArray(this.bossData.helpLootLook,";");for(var a=0;a<i.length;a++){var o=i[a],s=this.rewardItemList[a];s||(s=new e.ItemIcon,this.rewardItemList[a]=s),s.item={type:o,count:0},this.rewardGroup.addChild(s)}},n.prototype.updateProgress=function(){if(this.finish=!1,this.confirmButton.label=e.Lang.tiaozhan,0==this.bossInfo.bossHpPercent.length)this.progressLabel.text=e.Lang.shengyuxueliang+": 100%";else{for(var t=0,n=0;n<this.bossInfo.bossHpPercent.length;n++)t+=this.bossInfo.bossHpPercent[n];this.progressLabel.text=e.Lang.shengyuxueliang+": "+(100-Math.floor(100*(1-t/this.bossInfo.bossHpPercent.length)))+"%",0==t&&(this.finish=!0,this.self?this.confirmButton.label=e.Lang.lingqujiangli:this.confirmButton.label=e.Lang.yiwancheng)}},n.prototype.confirmHandle=function(){e.NotificationCenter.getInstance().postNotification(e.GuildPublic.TOUCH_BOSS,this)},n}(e.GameComponent);e.GuildPublicBossItem=t,__reflect(t.prototype,"game.GuildPublicBossItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._animList=[],e.skinName=GuildSceneSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.otherButton.icon="ui/scene/guild/btn1",this.memberButton.icon="ui/scene/guild/btn2",this.chairmanButton.icon="ui/scene/guild/btn3",this.battleButton.icon="ui/scene/guild/btn4",this.fragButton.icon="ui/scene/guild/btn5",this._adjust=!0,this._touchEvent=[{target:this.fairyButton,callBackFunc:this.touchBuild},{target:this.waterButton,callBackFunc:this.touchBuild},{target:this.darkButton,callBackFunc:this.touchBuild},{target:this.dragonButton,callBackFunc:this.touchBuild},{target:this.fireButton,callBackFunc:this.touchBuild},{target:this.grassButton,callBackFunc:this.touchBuild},{target:this.publicButton,callBackFunc:this.touchBuild},{target:this.copyButton,callBackFunc:this.touchBuild},{target:this.battleButton,callBackFunc:this.touchBuild},{target:this.otherButton,callBackFunc:this.touchBuild},{target:this.memberButton,callBackFunc:this.touchBuild},{target:this.chairmanButton,callBackFunc:this.touchBuild},{target:this.technologyButton,callBackFunc:this.touchBuild},{target:this.fragButton,callBackFunc:this.touchBuild}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateMyGuildInfo,notifyName:e.PlayerModel.MY_GUILD_INFO_UPDATE,execute:!1},{source:e.DataManager.playerModel,target:this,callBackFunc:this.setInfo,notifyName:e.PlayerModel.GUILD_INFO_UPDATE,execute:!1}],this.addEventAndNotify()},n.prototype.firstShow=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(a){return this._animPokemon=new e.PokemonIconAnim,this._animPokemon.setPokemon(1046,!1),this._animPokemon.setDisplayPosition(290,453),this._animPokemon.setScale(.5),this.animGroup.addChild(this._animPokemon.display),egret.Tween.get(this.shipImage,{loop:!0}).to({y:850},1e3).to({y:853},1e3),t=new e.SequenceImage,this._animList.push(t),t.setData({delay:100,size:{row:1,col:3},resource:"anim/huo_3"}),t.setDisplayPosition(611,632),this.animGroup.addChild(t.display),t.setScale(.8),n=new e.SequenceImage,this._animList.push(n),n.setData({delay:100,size:{row:1,col:3},resource:"anim/huo_3"}),n.setDisplayPosition(659,632),this.animGroup.addChild(n.display),n.setScale(.8),i=new e.SequenceImage,this._animList.push(i),i.setData({delay:100,size:{row:1,col:3},resource:"anim/fc"}),i.setDisplayPosition(162,763),this.animGroup.addChild(i.display),this._bird=new e.SequenceImage,this._bird.setData({delay:150,size:{row:1,col:4},resource:"anim/niao"}),this.birdGroup.addChild(this._bird.display),this.runBird(),[2]})})},n.prototype.runBird=function(){var e,t,n=this,i=0;Math.random()<.5?(i=750,e=-50,this._bird.setScaleX(1)):(i=-50,e=750,this._bird.setScaleX(-1));var a=500*Math.random()+100;t=500*Math.random()+100,this.birdGroup.x=i,this.birdGroup.y=a,egret.Tween.get(this.birdGroup).to({x:e,y:t},2e4).call(function(){n.runBird()})},n.prototype.updateMyGuildInfo=function(){return this.myGuildInfo=e.DataManager.playerModel.getMyGuildInfo(),0==this.myGuildInfo.guildId||0==this.myGuildInfo.position?void this.backHandle():(this.positionImage.source="ui/scene/guild/position_"+this.myGuildInfo.position,void(this.totalContributeLabel.text=e.Lang.wodegongxiandu+": "+this.myGuildInfo.contributionValue))},n.prototype.touchBuild=function(t){var n;switch(t){case this.fairyButton:n=4;break;case this.waterButton:n=2;break;case this.darkButton:n=5;break;case this.dragonButton:n=6;break;case this.fireButton:n=1;break;case this.grassButton:n=3;break;case this.publicButton:var i=e.GuildPublic.getInstance();i.show();break;case this.chairmanButton:if(3==this.myGuildInfo.position||2==this.myGuildInfo.position){var a=e.GuildSetting.getInstance();a.setCurrentInfo(this.guildInfo),a.show()}else e.showTips(e.Lang.zhiyouhuizhanghefuhuizhangkeyijinruo,!0);break;case this.memberButton:var o=e.GuildMemberScene.getInstance();o.show();break;case this.otherButton:var s=e.CreateOrJoinGuild.getInstance();s.findAndShow();break;case this.technologyButton:e.GuildTechnology.getInstance().show();break;case this.copyButton:e.showTips(e.Lang.zanweikaifang,!0);break;case this.battleButton:e.showTips(e.Lang.zanweikaifang,!0);break;case this.fragButton:e.GuildFragmentExchange.Instance.show()}if(n){for(var r=void 0,u=0;u<this.guildInfo.buildingList.length;u++)this.guildInfo.buildingList[u].type==n&&(r=this.guildInfo.buildingList[u]);r||(r={type:n,degree:0},this.guildInfo.buildingList.push(r));var l=e.GuildBuild.getInstance();l.setInfo(r),l.show()}},n.prototype.backHandle=function(){this.stopAnim(),e.navPanel(1)},n.prototype.onCreate=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,e.DataManager.playerModel.getOwnGuildInfo()];case 1:return t=n.sent(),this.setInfo(t),this.updateMyGuildInfo(),this.playAnim(),[2]}})})},n.prototype.playAnim=function(){for(var e=0;e<this._animList.length;e++)this._animList[e].play(1,0);egret.Tween.resumeTweens(this.shipImage),this._animPokemon.play(1),this._bird.play(1),egret.Tween.resumeTweens(this.birdGroup)},n.prototype.stopAnim=function(){for(var e=0;e<this._animList.length;e++)this._animList[e].stop();
egret.Tween.pauseTweens(this.shipImage),this._animPokemon.stop(),this._bird.stop(),egret.Tween.pauseTweens(this.birdGroup)},n.prototype.setInfo=function(t){this.guildInfo=t,this.myGuildInfo=e.DataManager.playerModel.getMyGuildInfo(),this.idLabel.text=e.Lang.gonghuiid+": "+t.id,this.badgeIcon.source="icon/guild/"+t.icon,this.nameLabel.text=t.name,this.noticeLabel.text=t.notice,this.memberLabel.text=e.Lang.chengyuanshu+": "+t.memberList.length+"/"+e.getGuildMaxMember(t.buildingList),this.totalDegreeLabel.text=e.Lang.jianshedu+": "+e.getGuildTotalDegree(t.buildingList),this.levelLabel1.text=this.levelLabel2.text=this.levelLabel3.text=this.levelLabel4.text=this.levelLabel5.text=this.levelLabel6.text="LV.0";for(var n=0;n<t.buildingList.length;n++){for(var i=t.buildingList[n],a=0,o=0;o<e.Data.TGuildBuilding.length;o++){var s=e.Data.TGuildBuilding[o];s.id==i.type&&s.degree<=i.degree&&(a=Math.max(a,s.level))}this["levelLabel"+i.type].text="LV."+a}},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.SceneComponent);e.GuildScene=t,__reflect(t.prototype,"game.GuildScene")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=GuildSelectAreaSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeHandle,this),this.infoGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchInfo,this);for(var t=1;6>=t;t++){var n=new e.GuildAreaInfo;n.setData(t),this.infoGroup.addChild(n)}},n.prototype.touchInfo=function(t){var n=t.target,i=n.attribute;i&&(e.NotificationCenter.getInstance().postNotification(e.CreateOrJoinGuild.SELECT_AREA,i),this.closeHandle())},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.GuildSelectArea=t,__reflect(t.prototype,"game.GuildSelectArea")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._maxCount=8,e.skinName=GuildSelectBadgeSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.iconGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchIcon,this),this.addEventAndNotify();for(var e=1;e<=this._maxCount;e++){var t=new eui.Image("icon/guild/"+e);t.name=e.toString(),this.iconGroup.addChild(t)}},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.touchIcon=function(t){var n=Number(t.target.name);n&&(e.NotificationCenter.getInstance().postNotification(e.CreateOrJoinGuild.SELECT_BADGE,n),this.closeHandle())},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.GuildSelectBadge=t,__reflect(t.prototype,"game.GuildSelectBadge")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._memberApplyList=[],e._memberManagerList=[],e.skinName=GuildSettingSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.gonghuihuizhang.text=e.Lang.gonghuihuizhang,this.gonghuigonggao.text=e.Lang.gonghuigonggao,this.gonghuixuanyan.text=e.Lang.gonghuixuanyan+":",this.changeBadgeButton.label=e.Lang.genghuan,this.confirmNoticeButton.label=e.Lang.xiugaigonggao,this.confirmDeclareButton.label=e.Lang.xiugaixuanyan,this.settingButton.label=e.Lang.shezhi,this.applyButton.label=e.Lang.shenqingliebiao,this.memberButton.label=e.Lang.chengyuanguanli,this._touchEvent=[{target:this.settingButton,callBackFunc:this.touchTypeButton},{target:this.applyButton,callBackFunc:this.touchTypeButton},{target:this.memberButton,callBackFunc:this.touchTypeButton},{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.changeBadgeButton,callBackFunc:this.changeBadge},{target:this.confirmNoticeButton,callBackFunc:this.changeNotice},{target:this.confirmDeclareButton,callBackFunc:this.changeDeclare}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.selectBadge,e.CreateOrJoinGuild.SELECT_BADGE),e.NotificationCenter.getInstance().addObserver(this,this.updateApply,n.APPLY_UPDATE),e.NotificationCenter.getInstance().addObserver(this,this.updateMemberList,n.MEMBER_UPDATE)},n.prototype.updateApply=function(e){var t=this._applyList.indexOf(e);t>-1&&(this._applyList.splice(t,1),this.updateApplyList())},n.prototype.changeDeclare=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.changeGuildDeclare(this.declareLabel.text)];case 1:return t.sent(),this.setCurrentInfo(this._guildInfo),[2]}})})},n.prototype.changeNotice=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.changeGuildNotice(this.noticeLabel.text)];case 1:return t.sent(),this.setCurrentInfo(this._guildInfo),[2]}})})},n.prototype.selectBadge=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,e.DataManager.playerModel.changeGuildBadge(t)];case 1:return n.sent(),this.setCurrentInfo(this._guildInfo),[2]}})})},n.prototype.changeBadge=function(){e.GuildSelectBadge.getInstance().show()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.touchTypeButton=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return this.currentButton&&(this.currentButton.bg="ui/common/button/greenBtnGray"),this.currentButton=t,this.currentButton.bg="ui/common/button/greenBtn",this.settingGroup.visible=t==this.settingButton,this.memberScroller.visible=t!=this.settingButton,t!=this.applyButton?[3,2]:(n=this,[4,e.DataManager.playerModel.getGuildApplyList()]);case 1:n._applyList=i.sent(),this.updateApplyList(),i.label=2;case 2:return t==this.memberButton&&this.updateMemberList(),[2]}})})},n.prototype.updateApplyList=function(){this.memberScroller.viewport.scrollV=0,this.memberItemGroup.removeChildren();for(var t=0;t<this._applyList.length;t++){var n=this._memberApplyList[t];n||(n=new e.GuildMember,this._memberApplyList[t]=n),n.setApplyInfo(this._applyList[t]),this.memberItemGroup.addChild(n)}},n.prototype.updateMemberList=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(a){switch(a.label){case 0:return this.memberScroller.viewport.scrollV=0,this.memberItemGroup.removeChildren(),[4,e.DataManager.playerModel.getGuildMember()];case 1:for(t=a.sent(),n=0;n<t.length;n++)i=this._memberManagerList[n],i||(i=new e.GuildMember,this._memberManagerList[n]=i),i.setNormalInfo(t[n]),this.memberItemGroup.addChild(i);return[2]}})})},n.prototype.setCurrentInfo=function(e){this._guildInfo=e,this.badgeIcon.source="icon/guild/"+e.icon,this.noticeLabel.text=e.notice,this.declareLabel.text=e.declaration},n.prototype.onShow=function(){this.touchTypeButton(this.settingButton)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.APPLY_UPDATE="GuildSetting_APPLY_UPDATE",n.MEMBER_UPDATE="GuildSetting_MEMBER_UPDATE",n}(e.PanelComponent);e.GuildSetting=t,__reflect(t.prototype,"game.GuildSetting")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;n._typeButtons=[],n._natureLabels=[],n._technologyList=[],n._journalList=[],n._guildExperienceCount=Number(e.Constants.guildExperienceCount),n._ExpCostItem={type:7,count:Number(e.Constants.guildSciencecontribution)},n._TenExpCostItem={type:7,count:10*Number(e.Constants.guildSciencecontribution)},n._attributeLabelList=[],n.skinName=GuildTechnologySkin,n._touchEvent=[{target:n.closeButton,callBackFunc:n.closeHandle},{target:n.selfTechnologyButton,callBackFunc:n.touchChangePageButton},{target:n.guildTechnologyButton,callBackFunc:n.touchChangePageButton},{target:n.journalButton,callBackFunc:n.touchChangePageButton},{target:n.EXPButton,callBackFunc:n.touchAddButton},{target:n.TenEXPButton,callBackFunc:n.touchAddButton}],n._notify=[{source:e.DataManager.playerModel,target:n,execute:!1,callBackFunc:n.updateMyTechnology,notifyName:e.PlayerModel.GUILD_MYTECHNOLOGY_UPDATE},{source:e.DataManager.playerModel,target:n,execute:!1,callBackFunc:n.updateGuildTechnology,notifyName:e.PlayerModel.GUILD_GUILDTECHNOLOGY_UPDATE}],n.addEventAndNotify(),n._typeButtons=[n.typeButton1,n.typeButton2,n.typeButton3,n.typeButton4,n.typeButton5,n.typeButton6,n.typeButton7,n.typeButton8],n._natureLabels=[n.natureLabel1,n.natureLabel2,n.natureLabel3,n.natureLabel4,n.natureLabel5,n.natureLabel6,n.natureLabel7,n.natureLabel8],n.radioGroup=new e.RadioGroup(n.typeButtonGroup,n._typeButtons,n.touchTypeButton,n);for(var i=0;i<n._typeButtons.length;i++)n._typeButtons[i]&&(n._typeButtons[i].icon="ui/scene/guild/natureBtn"+(i+1));return n.selfTechnologyButton.bg="ui/common/button/greenBtnGray",n.guildTechnologyButton.bg="ui/common/button/greenBtnGray",n.journalButton.bg="ui/common/button/greenBtnGray",n.selfTechnologyButton.image="langs/gerenkeji",n.guildTechnologyButton.image="langs/gonghuikeji",n.journalButton.image="langs/rizhi",n._TypeButton=n.typeButton1,n.touchChangePageButton(n.selfTechnologyButton),n}return __extends(n,t),n.prototype.touchChangePageButton=function(e){switch(this._changePageButton&&(this._changePageButton.bg="ui/common/button/greenBtnGray"),this._changePageButton=e,this._changePageButton.bg="ui/common/button/greenBtn",this.bgImage.source=e==this.selfTechnologyButton?"ui/scene/guild/b4":"ui/scene/player/bg",this.selfGroup.visible=e==this.selfTechnologyButton,this.scroller.visible=e!=this.selfTechnologyButton,e){case this.selfTechnologyButton:this.updateMyTechnology();break;case this.guildTechnologyButton:this.updateGuildTechnology();break;case this.journalButton:this.updateJournalList()}},n.prototype.touchAddButton=function(t){var n=e.DataManager.playerModel.getDonateCount(this.getNatureId(this._TypeButton),!0);if(n){var i=this._ExpCostItem,a=1;t==this.TenEXPButton&&(i=this._TenExpCostItem,a=10),e.checkCanBuy(i)?e.DataManager.playerModel.donateMyScience(this.getNatureId(this._TypeButton),a):e.showTips(e.Lang.nindegongxiandubuzu,!0)}else e.showTips(e.Lang.nindejuanxiancishubuzu,!0)},n.prototype.getNatureId=function(e){for(var t=0;t<this._typeButtons.length;t++)if(this._typeButtons[t]==e)return t+1},n.prototype.touchTypeButton=function(t){this._TypeButton=t;var n=e.DataManager.playerModel.getScienceInfo(this.getNatureId(t),!0),i=e.getTSocietypersonageScience(n);if(i){this.checkImage.source=t.iconDisplay.source,this.checkLvLabel.text="Lv."+n.lv;var a=e.DataManager.playerModel.getDonateCount(this.getNatureId(t),!0);if(this.mCountLabel.text=e.formatString(e.Lang.shengyukejuanxiancishu,a),e.Data.TEffect[i.AbilityDPS])this._currentAttribute=new e.EquipAttribute,e.parseEquipAttribute(this._currentAttribute,e.Data.TEffect[i.AbilityDPS]),e.createAttributeLabel(this.attributeGroup,this._currentAttribute,this._attributeLabelList);else{this.attributeGroup.removeChildren(),this._attributeLabelList=[];var o=new eui.Label,s=e.Data.TAttribute[this.getNatureId(t)].Name;o.text=e.formatString(e.Lang.mouxijinengshanghaijiaji,s,0),this.attributeGroup.addChild(o),this._attributeLabelList.push(o)}for(var r=0;r<this._attributeLabelList.length;r++){var o=this._attributeLabelList[r];o.textColor=15531802,o.strokeColor=0,o.stroke=2,o.size=22,o.y=24*r}i.cost?(this.checkLabel.text=e.setNumber(n.exp)+" / "+e.setNumber(i.cost),this.checkBarImage.scaleX=Math.max(Math.min(Number(n.exp)/Number(i.cost),1),0)):(this.checkBarImage.scaleX=1,this.checkLabel.text=e.Lang.dangqankejidadaomanji,this.TenEXPButton.touchEnabled=this.EXPButton.touchEnabled=!1)}},n.prototype.updateMyTechnology=function(){for(var t=0;t<this._natureLabels.length;t++){var n=e.DataManager.playerModel.getScienceInfo(t+1,!0);this._natureLabels[t].text="Lv."+n.lv}this.goleAddEXPLabel.text=e.Lang.kejijingyan+"+"+this._guildExperienceCount,this.contributeAddEXPLabel.text=e.Lang.kejijingyan+"+"+10*this._guildExperienceCount,this.EXPButton.item=this._ExpCostItem,this.TenEXPButton.item=this._TenExpCostItem,this.contributionLabel.text=e.DataManager.playerModel.getMyGuildInfo().contributionValue.toString(),this.touchTypeButton(this._TypeButton)},n.prototype.updateGuildTechnology=function(){this.scroller.viewport.scrollV=0,this.itemGroup.removeChildren();for(var t=e.getGuildScienceCount(),n=0;t>n;n++){this._technologyList[n]||(this._technologyList[n]=new e.GuildTechnologyItem);var i=this._technologyList[n],a=e.DataManager.playerModel.getScienceInfo(n+1);i.setInfo(a),this.itemGroup.addChild(i)}},n.prototype.updateJournalList=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(a){switch(a.label){case 0:return this.scroller.viewport.scrollV=0,this.itemGroup.removeChildren(),[4,e.DataManager.playerModel.getGuildTechnologyJournal()];case 1:for(t=a.sent(),n=0;n<t.length;n++)this._journalList[n]||(this._journalList[n]=new e.GuildJournal),i=this._journalList[n],i.setData(t[n]),this.itemGroup.addChild(i);return[2]}})})},n.prototype.onShow=function(){this.touchChangePageButton(this._changePageButton)},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.GuildTechnology=t,__reflect(t.prototype,"game.GuildTechnology")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._attributeLabelList=[],n._nextAttributeLabelList=[],n._costItem1={type:1,count:Number(e.Constants.guildSciencegold)},n._costItem2={type:1,count:10*Number(e.Constants.guildSciencegold)},n.skinName=GuildTechnologyItemSkin,n._touchEvent=[{target:n.costButton1,callBackFunc:n.touchHandle},{target:n.costButton2,callBackFunc:n.touchHandle}],n.addEventAndNotify(),n.costButton1.item=n._costItem1,n.costButton2.item=n._costItem2,n}return __extends(n,t),n.prototype.touchHandle=function(t){var n=e.DataManager.playerModel.getDonateCount(this.typeId);if(n){var i=this._costItem1,a=1;t==this.costButton2&&(i=this._costItem2,a=10),e.checkCanBuy(i)&&e.DataManager.playerModel.donateGuildScience(this.typeId,a)}else e.showTips(e.Lang.nindejuanxiancishubuzu,!0)},n.prototype.setLabelStyle=function(){var e=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.textColor=15531802,n.size=24}};e(this._attributeLabelList),e(this._nextAttributeLabelList)},n.prototype.setInfo=function(t){var n=e.getTSocietyScience(t);if(n){var i=e.getTSocietyScience({id:t.id,lv:t.lv+1,exp:t.exp});this.typeId=n.id,this.IconImage.source="ui/scene/guild/i"+t.id,this.nameLabel.text=n.zhushi+"Lv."+t.lv;var a=e.DataManager.playerModel.getDonateCount(this.typeId);if(this.gCountLabel.text=e.formatString(e.Lang.shengyukejuanxiancishu,a),e.Data.TEffect[n.effectId])this._currentAttribute=new e.EquipAttribute,e.parseEquipAttribute(this._currentAttribute,e.Data.TEffect[n.effectId]),e.createAttributeLabel(this.attributeGroup,this._currentAttribute,this._attributeLabelList);else{this.attributeGroup.removeChildren();var o=new eui.Label(e.Lang.meiyoushuxingjiacheng);this.attributeGroup.addChild(o),this._attributeLabelList.push(o)}e.Data.TEffect[i.effectId]&&(this._currentAttribute=new e.EquipAttribute,e.parseEquipAttribute(this._currentAttribute,e.Data.TEffect[i.effectId]),e.createAttributeLabel(this.nextAttributeGroup,this._currentAttribute,this._nextAttributeLabelList)),n.needgold?(this.progressLabel.text=e.setNumber(t.exp)+"/"+e.setNumber(n.needgold),this.progressImage.scaleX=Math.max(Math.min(t.exp/Number(n.needgold),1),0)):(this.progressLabel.text=e.Lang.dangqankejidadaomanji,this.progressImage.scaleX=1,this.costButton1.touchEnabled=this.costButton2.touchEnabled=!1),this.setLabelStyle()}},n}(e.GameComponent);e.GuildTechnologyItem=t,__reflect(t.prototype,"game.GuildTechnologyItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=GymAvatarSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._avatar=new e.BattleAvatar,this.animGroup.addChild(this._avatar.displayGroup),this.shadow=new eui.Image("anim/pokemon/shadow"),this.shadow.x=-22,this.shadow.y=-18,this._avatar.displayGroup.addChildAt(this.shadow,0),this._touchEvent=[{target:this.treasureIcon,callBackFunc:this.touchTreasure},{target:this.touchGroup,callBackFunc:this.touchAvatar}],this.addEventAndNotify()},n.prototype.touchAvatar=function(){if(this.gymInfo&&this.gymInfo.mission==this.missionData.id){var t=e.GymSelectTeam.getInstance();t.setInfo(this.gymInfo,this.missionData),t.show()}else e.showTips(e.Lang.nindangqiantiaozhandebushicixunlianshio,!0)},n.prototype.touchTreasure=function(){var t=e.LivelyPreview.getInstance();t.setGymData(this.missionData),t.show()},n.prototype.setBoss=function(e){this.missionData=e,this.reset(),this._avatar.setGymAvatar(this.missionData.npcShow,!0,!1,e.Direction)},n.prototype.setMission=function(e){this.missionData=e,this.reset(),this._avatar.setGymAvatar(this.missionData.npcShow,!1,!1,e.Direction)},n.prototype.setPlayer=function(e,t){this.missionData=e,this.reset();var n=t.playerInfo;this._avatar.setGymAvatar(n.gender,!1,!0,e.Direction),this._avatar.setWing(n.wing,1),this._avatar.setDecoration(n.orna,1),this.nameLabel.visible=!0,this.nameLabel.text="s"+n.id.sid+"."+n.name},n.prototype.reset=function(){this.nameLabel.visible=!1,this.treasureIcon.visible=!1,this.missionData.rewardBoxPreview&&(this.treasureIcon.visible=!0),this._avatar.setScale(.6)},n}(e.GameComponent);e.GymAvatar=t,__reflect(t.prototype,"game.GymAvatar")}(game||(game={}));var game;!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.postTouchNotify=function(){this.play()},n.prototype.endMovePokemon=function(t){e.NotificationCenter.getInstance().postNotification(e.GymTeamConfig.MOVE_POKEMON_END,{icon:this,event:t})},n}(e.TeamBagPokemonIcon);e.GymBagPokemon=t,__reflect(t.prototype,"game.GymBagPokemon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.missionList=[],e.skinName=GymButtonSkin,e.touchEnabled=!0,e.touchChildren=!1,e}return __extends(n,t),n.prototype.setData=function(t){this.gymData=t,this.x=t.LocationX,this.y=t.LocationY,this.limitLabel.text="LV."+t.LevelLimit+"开启",this.missionList=[];for(var n=e.splitStringToNumberArray(this.gymData.Include,";"),i=0;i<n.length;i++){var a=n[i],o=e.Data.TGYMStageInfo[a];o&&(this.missionList.push(o),o.isBoss&&(this.bossData=o))}},n.prototype.updateInfo=function(t){if(this.gymInfo=t,t){this.limitLabel.visible=this.resetIcon.visible=!1,this.gymAvatar.visible=!0;var n=t.mission;if(0==n){var i=e.DataManager.playerModel.playerLevel;i<this.gymData.LevelLimit&&(this.limitLabel.visible=!0,this.gymAvatar.visible=!1)}else-1==n&&(this.resetIcon.visible=!0);t.bossInfo?this.gymAvatar.setPlayer(this.bossData,t.bossInfo):this.gymAvatar.setBoss(this.bossData)}},n}(e.GameComponent);e.GymButton=t,__reflect(t.prototype,"game.GymButton")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=GymHonorItemSkin,e}return __extends(n,t),n.prototype.setData=function(t){this.levelData=t,this.levelLabel.text="LV."+t.level;var n=new e.EquipAttribute;e.parseEquipAttribute(n,e.Data.TEffect[t.effectID]),e.setAttributeLabel(n,[this.detailLabel])},n.prototype.updateLevel=function(e){this.levelLabel.textColor=this.detailLabel.textColor=e>=this.levelData.level?gameConfig.TextColors.green:gameConfig.TextColors.grayWhite},n}(e.GameComponent);e.GymHonorItem=t,__reflect(t.prototype,"game.GymHonorItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e.skinName=GymHonorPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.goButton.image="ui/scene/gym/qudaoguan",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.goButton,callBackFunc:this.goHandle}],this.addEventAndNotify();for(var t in e.Data.TGYMLv)if(e.Data.TGYMLv.hasOwnProperty(t)){var n=e.Data.TGYMLv[t];if(n.effectID){var i=new e.GymHonorItem;i.setData(n),this._itemList.push(i),this.itemGroup.addChild(i)}}},n.prototype.onShow=function(){var t=e.DataManager.playerModel.playerGymInfo;this.levelLabel.text="LV."+t.honorLevel;var n=e.Data.TGYMLv[t.honorLevel];n.ex?(this.expBar.maximum=n.ex,this.expLabel.text=e.setNumber(t.honorExp)+"/"+e.setNumber(n.ex)):(this.expBar.maximum=t.honorExp,this.expLabel.text=e.Lang.yimanji),this.expBar.value=t.honorExp;for(var i=0;i<this._itemList.length;i++)this._itemList[i].updateLevel(t.honorLevel);this._avatar||(this._avatar=new e.BattleAvatar,this.avatarGroup.addChild(this._avatar.displayGroup)),this._avatar.setAvatar(e.DataManager.playerModel.playerRole),this._avatar.setWing(e.DataManager.playerModel.playerWing,1),this._avatar.setDecoration(e.DataManager.playerModel.playerDecoration,1)},n.prototype.goHandle=function(){e.navPanel(72)},n.prototype.closeHandle=function(){this._avatar&&this._avatar.stop(),e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.GymHonorPanel=t,__reflect(t.prototype,"game.GymHonorPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._avatarList=[],e.skinName=GymInsideSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.rankButton.icon="ui/scene/gym/paihang",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.rankButton,callBackFunc:this.rankHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateInfo,notifyName:e.PlayerModel.GYM_INFO_UPDATE,execute:!1}],this.addEventAndNotify(),this._battleBone=new e.SkeletonBase,this._battleBone.createBones("wuqijiaocha")},n.prototype.rankHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:return[4,e.DataManager.playerModel.getGymRank(this.gymInfo)];case 1:return(t=i.sent())?(n=e.GymRank.getInstance(),[4,n.updateRankList(t)]):[3,3];case 2:return i.sent(),n.show(),[3,4];case 3:e.showTips(e.Lang.dangqianmeiyoupaimingo,!0),i.label=4;case 4:return[2]}})})},n.prototype.closeHandle=function(){this._battleBone.stop(),e.removePopUp(this)},n.prototype.updateInfo=function(){this.parent&&this.setInfo(this.gymInfo,this.missionList)},n.prototype.setInfo=function(t,n){if(-1==t.mission)return e.showTips(e.Lang.tiaozhandaoguanjieshu,!0),void this.closeHandle();this._battleBone.parent&&this._battleBone.parent.removeChild(this._battleBone),this.bg.source="ui/scene/gym/gym"+t.id,this.gymInfo=t,this.missionList=n,this.avatarGroup.removeChildren();for(var i=0;i<this.missionList.length;i++){var a=this._avatarList[i];a||(a=new e.GymAvatar,this._avatarList[i]=a),a.gymInfo=t;var o=this.missionList[i];o.isBoss?t.bossInfo?a.setPlayer(o,t.bossInfo):a.setBoss(o):a.setMission(o),a.x=o.locationX,a.y=o.locationY,this.avatarGroup.addChild(a),o.id==t.mission?(a.boneGroup.addChild(this._battleBone),this._battleBone.play(null,0)):o.id<t.mission&&(a.treasureIcon.visible=!1)}},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.GymInside=t,__reflect(t.prototype,"game.GymInside")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._gymButtonList=[],e.skinName=GymPanelSkin,e.touchEnabled=!1,e.init(),e}return __extends(n,t),n.prototype.init=function(){n.GYM_OPEN_TIME=e.splitStringToNumberArray(e.Constants.GYMOpenTime,":"),n.GYM_CLOSE_TIME=e.splitStringToNumberArray(e.Constants.GYMClosingHours,":"),this.zhuanPanButton.image="ui/scene/gym/daoguanzhuanpan",this.zhuanPanButton.imageScale=1.3,this.ruleButton.icon="ui/scene/gym/guize",this.openTime.text="开放时间:\r"+e.Constants.GYMOpenTime+"至"+e.Constants.GYMClosingHours,this._touchEvent=[{target:this.closeGroup,callBackFunc:this.closeHandle},{target:this.backButton,callBackFunc:this.closeHandle},{target:this.ruleButton,callBackFunc:this.ruleHandle},{target:this.zhuanPanButton,callBackFunc:this.openZhuanPan}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateGymInfo,notifyName:e.PlayerModel.GYM_INFO_UPDATE,execute:!1},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateCoinCount,notifyName:e.PlayerModel.GYM_COIN_UPDATE,execute:!0}],this.addEventAndNotify();for(var t in e.Data.TGYM)if(e.Data.TGYM.hasOwnProperty(t)){var i=e.Data.TGYM[t],a=new e.GymButton;a.setData(i),this._gymButtonList.push(a),this.gymButtonGroup.addChild(a);var o=new e.GymAvatar;o.x=i.AvatarLocationX,o.y=i.AvatarLocationY,this.avatarGroup.addChild(o),a.gymAvatar=o}this._battleBone=new e.SkeletonBase,this._battleBone.createBones("wuqijiaocha"),this.gymButtonGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchGym,this)},n.prototype.openZhuanPan=function(){e.GymZhuanPan.getInstance().show()},n.prototype.updateCoinCount=function(){this.ownCoinLabel.text="拥有:"+e.setNumber(e.DataManager.playerModel.getItemCount(n.GYM_COIN_ID))},n.prototype.ruleHandle=function(){var t=e.PvpRulePanel.getInstance();t.setText(e.Data.TGYMRule[1].info),t.show()},n.prototype.touchGym=function(t){var n=this,i=t.target;if(i.gymData)if(i.limitLabel.visible)e.showTips(i.limitLabel.text,!0);else{for(var a,o=-1,s=e.DataManager.playerModel.gymList,r=0;r<s.length;r++){var u=s[r];if(u.mission>0){o=u.id,a=u;break}}if(o>=0&&i.gymInfo.id!=o){var l=e.CheckPanel.getInstance();l.setData(e.Lang.ninzhengzaitiaozhanqitadaoguanqiangzhijinru,function(t){return __awaiter(n,void 0,void 0,function(){var n;return __generator(this,function(o){switch(o.label){case 0:return t?[4,e.DataManager.playerModel.quitChallengeGym(a)]:[3,2];case 1:o.sent(),n=e.GymSettingPanel.getInstance(),n.setGym(i.gymData,i.gymInfo),n.show(),o.label=2;case 2:return[2]}})})}),l.show()}else{var c=e.GymSettingPanel.getInstance();c.setGym(i.gymData,i.gymInfo),c.show()}}},n.prototype.closeHandle=function(){e.removePopUp(this),this._battleBone.stop()},n.prototype.onShow=function(){this.updateGymInfo()},n.prototype.updateGymInfo=function(){this._battleBone.parent&&this._battleBone.parent.removeChild(this._battleBone);for(var t=0;t<this._gymButtonList.length;t++){var n=this._gymButtonList[t],i=e.DataManager.playerModel.getGymInfo(n.gymData.Id);n.updateInfo(i),i.mission>0&&(this._battleBone.play(null,0),n.animGroup.addChild(this._battleBone))}},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.GYM_COIN_ID=Number(e.Constants.GYMCoinId),n}(e.PanelComponent);e.GymPanel=t,__reflect(t.prototype,"game.GymPanel")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=GymPokemonIconSkin,t.touchChildren=!1,t.init(),t}return __extends(t,e),t.prototype.init=function(){this.hpBar.maximum=100},t.prototype.setPokemon=function(e,t){this.pokemonIcon.pokemon=e,this._pokemonType=e,this._hp=t},t.prototype.showHp=function(e){this._pokemonType||(e=!1),this.hpBar.visible=this.dieImage.visible=!1,e&&(0==this._hp?this.dieImage.visible=!0:(this.hpBar.visible=!0,this.hpBar.value=this._hp))},t}(e.GameComponent);e.GymPokemonIcon=t,__reflect(t.prototype,"game.GymPokemonIcon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.postTouchNotify=function(){this.play()},n.prototype.endMovePokemon=function(t){e.NotificationCenter.getInstance().postNotification(e.GymTeamConfig.MOVE_POKEMON_END,{icon:this,event:t})},n.prototype.updatePoint=function(){this.point.visible=!1},n}(e.TeamPokemonIcon);e.GymPokemonSlot=t,__reflect(t.prototype,"game.GymPokemonSlot")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e._rankItemList=[],e.skinName=GymRankSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this.ruleLabel.text=e.Lang.daoguanpaihangguize,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},i.prototype.closeHandle=function(){e.removePopUp(this)},i.prototype.updateRankList=function(e){this.rankScroller.viewport.scrollV=0;var t=e.ranks;this.itemGroup.removeChildren();for(var i=0;i<t.length;i++){var a=this._rankItemList[i];a||(a=new n,this._rankItemList[i]=a);var o=t[i];a.setInfo(o),this.itemGroup.addChild(a)}this.noneLabel.visible=0==t.length},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.PanelComponent);e.GymRank=t,__reflect(t.prototype,"game.GymRank");var n=function(t){function n(){var e=t.call(this)||this;return e.skinName=GymRankItemSkin,e}return __extends(n,t),n.prototype.setInfo=function(t){this.nameLabel.text="第"+t.rank+"名: "+t.info.name,this.countLabel.text="总伤害: "+e.setNumber(t.value)},n}(e.GameComponent);e.GymRankItem=n,__reflect(n.prototype,"game.GymRankItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._teamList=[],e.skinName=GymSelectTeamSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.image="langs/kaishizhandou",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.confirmButton,callBackFunc:this.startBattle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateInfo,notifyName:e.PlayerModel.GYM_SELECT_TEAM,execute:!1}],this.addEventAndNotify();for(var t=0;3>t;t++){var n=new e.GymTeam;n.setTeamId(t),this.teamGroup.addChild(n),this._teamList.push(n)}},n.prototype.setInfo=function(e,t){this.gymInfo=e,this.missionData=t,this.updateInfo()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.updateInfo=function(){for(var t=e.DataManager.playerModel.playerGymInfo,n=0;n<this._teamList.length;n++){var i=this._teamList[n],a=e.DataManager.playerModel.getGymTeamInfo(i.teamId);i.showHp(this.gymInfo.mission>0),i.showSet(this.gymInfo.mission<=0,i.teamId==t.selectTeam),i.updateInfo(a)}},n.prototype.startBattle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,s,u,l,c,s,h,p,g,d;return __generator(this,function(m){switch(m.label){case 0:if(t=e.getNowTime(),n=t.getHours(),i=t.getMinutes(),n<e.GymPanel.GYM_OPEN_TIME[0]||n==e.GymPanel.GYM_OPEN_TIME[0]&&i<e.GymPanel.GYM_OPEN_TIME[1]||n>e.GymPanel.GYM_CLOSE_TIME[0]||n==e.GymPanel.GYM_CLOSE_TIME[0]&&i>=e.GymPanel.GYM_CLOSE_TIME[1])return e.showTips(e.Lang.xianzaibuzaizhandoushijianneio,!0),this.closeHandle(),e.GymInside.getInstance().closeHandle(),[2];for(a=e.DataManager.playerModel.playerGymInfo,s=0;s<a.teamList.length;s++)if(a.teamList[s].id==a.selectTeam){o=a.teamList[s];break}if(!o)return[2];for(r=!1,s=0;s<o.pokemonList.length;s++)if(u=o.hpState[s],u>0){r=!0;break}if(!r)return e.showTips(e.Lang.dangqianduiwumeiyoukeyizhandoudebaokemengo,!0),[2];for(this.closeHandle(),e.showWaitPanel(),l=[],c=e.copyObject(e.DataManager.playerModel.teamConfig),c.helpAttribute=null,s=0;s<o.pokemonList.length;s++)h=e.DataManager.playerModel.getPokemonInfoById(o.pokemonList[s]),p=e.parseBattlePokemonData(h,0,s+1,!1,!1,e.DataManager.playerModel.playerTitleList,e.DataManager.playerModel.getBadgeList(),e.DataManager.playerModel.playerAllRole,1,!1,e.DataManager.playerModel.playerVip,c),l.push(p);return g=e.BattleScene.getInstance(),g.gymData=this.missionData,g.gymInfo=this.gymInfo,g.playerGymInfo=a,g.gymPlayerTeam=l,g.gymPlayerHp=o.hpState,g.gymTeamInfo=o,[4,e.HttpRequest.StartGYMBattleAsync()];case 1:return d=m.sent(),d?[4,g.initBattle(14)]:[3,3];case 2:return m.sent(),e.hideWaitPanel(),e.GameLayer.battleLayer.addChild(g),g.run(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),[3,4];case 3:return e.showTips(e.Lang.xianzaibuzaizhandoushijianneio,!0),this.closeHandle(),e.GymInside.getInstance().closeHandle(),[2];
case 4:return[2]}})})},n.prototype.endBattle=function(){e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!0,e.NotificationCenter.getInstance().removeObserver(this,e.BattleScene.QUIT_BATTLE)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.GymSelectTeam=t,__reflect(t.prototype,"game.GymSelectTeam")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.missionList=[],e._teamList=[],e.skinName=GymSettingPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.buyCountNeedDiamond=e.splitStringToNumberArray(e.Constants.GYMResetCost,"|"),this.rankButton.icon="ui/scene/gym/paihang",this.confirmButton.image="ui/scene/gym/jinrudaoguan",this.resetButton.image="ui/scene/gym/daoguanchongzhi",this.resetButton.imageScale=1.5,this.tipsLabel.textFlow=[{text:"小提示:",style:{textColor:gameConfig.TextColors.white}},{text:"每个玩家可设置3个队伍,进入道馆后不可更改,战斗途中不可回血",style:{textColor:gameConfig.TextColors.yellow}}],this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.rankButton,callBackFunc:this.rankHandle},{target:this.addButton,callBackFunc:this.addHandle},{target:this.resetButton,callBackFunc:this.resetHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateInfo,notifyName:e.PlayerModel.GYM_SELECT_TEAM,execute:!1}],this.addEventAndNotify(),this.gymAvatar=new e.GymAvatar,this.avatarGroup.addChild(this.gymAvatar);for(var t=0;3>t;t++){var n=new e.GymTeam;n.setTeamId(t),this.teamGroup.addChild(n),this._teamList.push(n)}},n.prototype.resetHandle=function(){var t=this,n=this.gymInfo.mission;if(0==n)return void e.showTips(e.Lang.dangqiandaoguanbuxuyaochongzhi,!0);if(this.canResetCount>0){var i=e.CheckPanel.getInstance();i.setData(e.Lang.ninquedingyaochongzhidangqiandaoguanma,function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n?[4,e.DataManager.playerModel.resetGym(this.gymInfo)]:[3,2];case 1:t.sent(),this.setGym(this.gymData,this.gymInfo),this.updateInfo(),t.label=2;case 2:return[2]}})})}),i.show()}else e.showTips(e.Lang.nindecishubuzu,!0)},n.prototype.addHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o=this;return __generator(this,function(s){return t=e.DataManager.playerModel.playerGymInfo.buyCount,n=e.Data.TVip[e.DataManager.playerModel.playerVip].GYMResetForPay,t>=n?(e.showTips(e.Lang.jinrikegoumaicishuyiyongwan,!0),[2]):(i=this.buyCountNeedDiamond[t])?(a=e.CheckPanel.getInstance(),a.setData(e.formatString(e.Lang.ninquedingyaohuafeiduoshaozuanshigoumaiyicichongzhicishu,i),function(t){return __awaiter(o,void 0,void 0,function(){var n;return __generator(this,function(a){switch(a.label){case 0:return t?(n=e.DataManager.playerModel.diamond,n>=i?[4,e.DataManager.playerModel.buyGymCount()]:[3,2]):[3,3];case 1:return a.sent(),this.updateInfo(),[3,3];case 2:e.showTips(e.Lang.nindehuobibuzu,!0),a.label=3;case 3:return[2]}})})}),a.show(),[2]):(e.showTips(e.Lang.jinrikegoumaicishuyiyongwan,!0),[2])})})},n.prototype.rankHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:return[4,e.DataManager.playerModel.getGymRank(this.gymInfo)];case 1:return(t=i.sent())?(n=e.GymRank.getInstance(),[4,n.updateRankList(t)]):[3,3];case 2:return i.sent(),n.show(),[3,4];case 3:e.showTips(e.Lang.dangqianmeiyoupaimingo,!0),i.label=4;case 4:return[2]}})})},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,u,l,c=this;return __generator(this,function(h){for(t=!1,n=0;n<e.DataManager.playerModel.playerGymInfo.teamList.length;n++)if(i=e.DataManager.playerModel.playerGymInfo.teamList[n],i.pokemonList.length>=6){t=!0;break}if(!t)return e.showTips(e.Lang.ninzhishaoxuyaoyizhiwanzhengdeduiwu,!0),[2];if(a=this.gymInfo.mission,-1==a)e.showTips(e.Lang.dangqiandaoguanxuyaochongzhio,!0);else{if(o=e.getNowTime(),s=o.getHours(),r=o.getMinutes(),s<e.GymPanel.GYM_OPEN_TIME[0]||s==e.GymPanel.GYM_OPEN_TIME[0]&&r<e.GymPanel.GYM_OPEN_TIME[1]||s>e.GymPanel.GYM_CLOSE_TIME[0]||s==e.GymPanel.GYM_CLOSE_TIME[0]&&r>=e.GymPanel.GYM_CLOSE_TIME[1])return e.showTips(e.Lang.xianzaibuzaizhandoushijianneio,!0),[2];if(0==a){if(this.gymInfo.bossInfo&&this.gymInfo.bossInfo.playerInfo.id.sid==e.DataManager.playerModel.sid&&this.gymInfo.bossInfo.playerInfo.id.pid==e.DataManager.playerModel.pid)return e.showTips(e.Lang.ninyichengweidaoguanzhu,!0),[2];u=e.CheckPanel.getInstance(),u.setData(e.Lang.ninquedingyaoyidangqianzhenrongtiaozhandaoguanma,function(t){return __awaiter(c,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return t?[4,e.DataManager.playerModel.enterGym(this.gymInfo,this.missionList[0].id)]:[3,2];case 1:n=a.sent(),n&&(i=e.GymInside.getInstance(),i.setInfo(this.gymInfo,this.missionList),i.show(),this.closeHandle()),a.label=2;case 2:return[2]}})})}),u.show()}else l=e.GymInside.getInstance(),l.setInfo(this.gymInfo,this.missionList),l.show(),this.closeHandle()}return[2]})})},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.onShow=function(){this.updateInfo()},n.prototype.setGym=function(t,n){this.resetLabel.visible=this.addButton.visible=!1,this.gymData=t,this.missionList=[];for(var i=e.splitStringToNumberArray(this.gymData.Include,";"),a=0;a<i.length;a++){var o=i[a],s=e.Data.TGYMStageInfo[o];s&&(this.missionList.push(s),s.isBoss&&(this.bossData=s))}this.gymInfo=n,this.nameLabel.text=t.Name;n.mission;this.resetLabel.visible=this.addButton.visible=!0,n.bossInfo?this.gymAvatar.setPlayer(this.bossData,n.bossInfo):this.gymAvatar.setBoss(this.bossData)},n.prototype.updateInfo=function(){var t=e.DataManager.playerModel.playerGymInfo;this.canResetCount=e.Data.TVip[e.DataManager.playerModel.playerVip].GYMResetCount-t.resetCount,this.resetPoint.visible=0!=this.gymInfo.mission&&this.canResetCount>0,this.resetLabel.text="今日可重置次数:"+this.canResetCount;for(var n=0;n<this._teamList.length;n++){var i=this._teamList[n],a=e.DataManager.playerModel.getGymTeamInfo(i.teamId);i.showHp(this.gymInfo.mission>0),i.showSet(this.gymInfo.mission<=0,i.teamId==t.selectTeam),i.updateInfo(a)}},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.GymSettingPanel=t,__reflect(t.prototype,"game.GymSettingPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.pokemonList=[],e.skinName=GymTeamSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.icon="ui/scene/gym/tiaozheng",this._touchEvent=[{target:this.confirmButton,callBackFunc:this.confirmHandle}],this.addEventAndNotify();for(var t=0;6>t;t++){var n=new e.GymPokemonIcon;this.pokemonList.push(n),this.pokemonGroup.addChild(n)}},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a;return __generator(this,function(o){switch(o.label){case 0:return this.canSet?(t=e.GymTeamConfig.getInstance(),t.setTeamInfo(this.teamInfo,this),t.show(),[3,4]):[3,1];case 1:if(this.select)return[3,4];for(n=!1,i=0;i<this.teamInfo.pokemonList.length;i++)if(a=this.teamInfo.hpState[i],a>0){n=!0;break}return n?[4,e.DataManager.playerModel.selectGymTeam(this.teamInfo)]:[3,3];case 2:return o.sent(),[3,4];case 3:e.showTips(e.Lang.dangqianduiwumeiyoukeyizhandoudebaokemengo,!0),o.label=4;case 4:return[2]}})})},n.prototype.setTeamId=function(e){this.teamId=e,this.teamImage.source="ui/scene/gym/duiwu"+(e+1)},n.prototype.updateInfo=function(t){this.point.visible=!1,this.teamInfo=t;for(var n=0;n<this.pokemonList.length;n++){var i=this.pokemonList[n],a=t.pokemonList[n],o=t.hpState[n];if(a){var s=e.DataManager.playerModel.getPokemonInfoById(a);i.setPokemon(s.type,o)}else this.canSet&&(this.point.visible=!0),i.setPokemon(null,100)}},n.prototype.showHp=function(e){for(var t=0;t<this.pokemonList.length;t++)this.pokemonList[t].showHp(e)},n.prototype.showSet=function(e,t){this.canSet=e,this.select=t,e?this.confirmButton.icon="ui/scene/gym/tiaozheng":t?this.confirmButton.icon="ui/scene/gym/chuzhan":this.confirmButton.icon="ui/scene/gym/daiming"},n}(e.GameComponent);e.GymTeam=t,__reflect(t.prototype,"game.GymTeam")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._currentPage=1,e._maxPage=2,e._bagPokemonList=[],e._totalPokemon=[],e._pokemonBag=[],e._slotList=[],e.skinName=GymTeamConfigSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.leftArrowButton,callBackFunc:this.moveLastPage},{target:this.rightArrowButton,callBackFunc:this.moveNextPage},{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.movePokemonEnd,n.MOVE_POKEMON_END);for(var t=0;6>t;t++){var i=new e.GymPokemonSlot;this._slotList.push(i),this.teamPokemonGroup.addChild(i)}},n.prototype.moveNextPage=function(){var e=this.page+1;e>this._maxPage||(this.page=e,this.updateBag())},n.prototype.moveLastPage=function(){var e=this.page-1;1>e||(this.page=e,this.updateBag())},Object.defineProperty(n.prototype,"page",{get:function(){return this._currentPage},set:function(e){this._currentPage=e,this.leftArrowButton.visible=this._currentPage>1,this.rightArrowButton.visible=this._currentPage<this._maxPage,this.bagLabel.text=this._currentPage+"/"+this._maxPage},enumerable:!0,configurable:!0}),n.prototype.updateBag=function(){this._pokemonBag=[];for(var t=e.DataManager.playerModel.totalGymPokemon,n=0;n<this._totalPokemon.length;n++)t.indexOf(this._totalPokemon[n].id)<0&&this._pokemonBag.push(this._totalPokemon[n]);for(var i=this._pokemonBag,a=15*(this.page-1)+1,o=a+15,s=i.length,n=0;15>n;n++){this._bagPokemonList[n]||(this._bagPokemonList[n]=new e.GymBagPokemon,this.bagGroup.addChild(this._bagPokemonList[n]));var r=this._bagPokemonList[n];r.setPokemonInfo(null),r.slot=a+n}for(var n=a;o>n;n++){var u=i[n-1];if(u){var l=(n-1)%15,r=this._bagPokemonList[l];if(!r)continue;r.setPokemonInfo(u),r.helpImage.visible=!1}}this._maxPage=Math.floor(s/15)+1,this.page=this.page},n.prototype.movePokemonEnd=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s,r,u,l,s,r,u,c,l;return __generator(this,function(h){return n=t.icon,n.stop(),i=t.event,a=i.stageX,o=i.stageY,e.checkPointAtRect(a,o,33,426,770,120)?(s=this.teamInfo.pokemonList,r=s.indexOf(n.pokemonInfo.id),r>=0?n.resetPokemon():(u=a-33,l=Math.floor(u/107),this._slotList[l]?this.changeTeamAndBag(this._slotList[l],n):n.resetPokemon())):e.checkPointAtRect(a,o,47,554,624,372)?(s=this.teamInfo.pokemonList,r=s.indexOf(n.pokemonInfo.id),u=a-47,c=o-554,l=Math.floor(u/126)+5*Math.floor(c/126),r>=0?this.changeTeamAndBag(n,this._bagPokemonList[l]):n.resetPokemon()):n.resetPokemon(),[2]})})},n.prototype.changeTeamAndBag=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a,o,s,i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:if(!t.pokemonInfo)return[3,7];if(!n.pokemonInfo)return[3,4];if(i=0,a=e.Data.TElf[n.pokemonInfo.type].battleId,t.pokemonInfo.type!=n.pokemonInfo.type)for(o=0;o<this._slotList.length;o++)s=this._slotList[o],s.pokemonInfo&&e.Data.TElf[s.pokemonInfo.type].battleId==a&&i++;return 0!=i?[3,2]:[4,e.DataManager.playerModel.changeGymPokemon(this.teamInfo,t.pokemonInfo,n.pokemonInfo)];case 1:return r.sent(),[3,3];case 2:e.showTips(e.Lang.ninzuiduoshangzhenxiangtongbaokemeng,!0),r.label=3;case 3:return[3,6];case 4:return[4,e.DataManager.playerModel.cancelGymPokemon(this.teamInfo,t.pokemonInfo)];case 5:r.sent(),r.label=6;case 6:return[3,10];case 7:if(!n.pokemonInfo)return[3,10];for(i=0,a=e.Data.TElf[n.pokemonInfo.type].battleId,o=0;o<this._slotList.length;o++)s=this._slotList[o],s.pokemonInfo&&e.Data.TElf[s.pokemonInfo.type].battleId==a&&i++;return 0!=i?[3,9]:[4,e.DataManager.playerModel.equipGymPokemon(this.teamInfo,n.pokemonInfo)];case 8:return r.sent(),[3,10];case 9:e.showTips(e.Lang.ninzuiduoshangzhenxiangtongbaokemeng,!0),r.label=10;case 10:return this.updateBag(),this.updateSlot(),[2]}})})},n.prototype.updateSlot=function(){for(var t=this.teamInfo.pokemonList,n=0;n<this._slotList.length;n++){var i=this._slotList[n];i.setPokemonInfo(e.DataManager.playerModel.getPokemonInfoById(t[n]))}},n.prototype.closeHandle=function(){e.removePopUp(this),this.gymTeam.updateInfo(this.teamInfo)},n.prototype.setTeamInfo=function(t,n){this.gymTeam=n,this._totalPokemon=e.DataManager.playerModel.playerAllPokemonList,this.teamInfo=t,this.page=1,this.updateBag(),this.updateSlot()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.MOVE_POKEMON_END="GymTeamConfig_MOVE_POKEMON_END",n}(e.PanelComponent);e.GymTeamConfig=t,__reflect(t.prototype,"game.GymTeamConfig")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.onLooting=!1,n._currentIndex=1,n._meetTime=0,n._timeOut=null,n.skipAnim=!1,n._rewardItem=[],n.costCount=Number(e.Constants.GYMWOFCost),n.skinName=GymZhuanPanSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this._reward={};for(var t in e.Data.TGYMReward)if(e.Data.TGYMReward.hasOwnProperty(t)){var n=e.Data.TGYMReward[t];this._reward[n.type]||(this._reward[n.type]=[]),this._reward[n.type].push(n)}egret.localStorage.getItem("skipWOF")&&"on"==egret.localStorage.getItem("skipWOF")?this.skipAnim=!0:this.skipAnim=!1,this.confirmButton.label="GO",this._touchEvent=[{target:this.confirmButton,callBackFunc:this.goHandle},{target:this.skipGroup,callBackFunc:this.changeSkip},{target:this.closeButton,callBackFunc:this.closeHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateCoinCount,notifyName:e.PlayerModel.GYM_COIN_UPDATE,execute:!0}],this.addEventAndNotify(),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t.showDetail()},this),this.costItem={type:e.GymPanel.GYM_COIN_ID,count:this.costCount},this.updateSkip(),this.confirmButton.label="GO"},n.prototype.updateCoinCount=function(){var t=e.DataManager.playerModel.getItemCount(e.GymPanel.GYM_COIN_ID);this.costLabel.text=e.setNumber(t)+"/"+this.costCount,this.costLabel.textColor=t>=this.costCount?gameConfig.TextColors.green:gameConfig.TextColors.red},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.onShow=function(){this.updateReward()},n.prototype.updateReward=function(){this.rewardGroup.removeChildren();for(var t=e.Data.TGYMLv[e.DataManager.playerModel.playerGymInfo.honorLevel],n=this._reward[t.wofType],i=0;i<n.length;i++){var a=n[i],o=e.splitStringToNumberArray(a.items,";"),s=this._rewardItem[i];s||(s=new e.ItemIcon,this._rewardItem[i]=s),s.item={type:o[0],count:o[1]};var r=this.getIconPosition(i+1);s.x=r[0],s.y=r[1],this.rewardGroup.addChildAt(s,0),0==i&&(this._starIndex=a.id)}},n.prototype.goHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i=this;return __generator(this,function(a){switch(a.label){case 0:return e.DataManager.playerModel.getItemCount(this.costItem.type)>=this.costItem.count?this.skipAnim?(t=this,[4,e.DataManager.playerModel.buyGYMWheelOfFortune(this.costItem)]):[3,2]:[3,5];case 1:return t._currentIndex=a.sent(),this._currentIndex=this._currentIndex-this._starIndex+1,this.onLooting=!1,this.showReward(),[3,4];case 2:return this.onLooting=!0,this.lightImg.visible=!0,this.startRollItem(),[4,e.DataManager.playerModel.buyGYMWheelOfFortune(this.costItem)];case 3:n=a.sent(),n=n-this._starIndex+1,egret.setTimeout(function(){i._meetTime=0,i.endRollItem(n)},this,2e3),a.label=4;case 4:return[3,6];case 5:e.showTips(e.Lang.nindehuobibuzu,!0),a.label=6;case 6:return[2]}})})},n.prototype.endRollItem=function(e){null!=this._timeOut&&egret.clearTimeout(this._timeOut),e&&this.startRollItem(50,e)},n.prototype.startRollItem=function(e,t,n){var i=this;if(void 0===e&&(e=50),void 0===t&&(t=null),void 0===n&&(n=null),this.stage){this.stage.touchChildren=!1;var a=this.getIconPosition(this._currentIndex);if(this.lightImg.x=a[0]-8,this.lightImg.y=a[1]-7,t)if(this._currentIndex==t){if(this._meetTime)return void egret.setTimeout(function(){i.onLooting=!1,i.stage.touchChildren=!0,i.showReward()},this,500);this._meetTime++,n=10}else n&&(e+=n);this._timeOut=egret.setTimeout(function(){i._timeOut=null,i._currentIndex++,i._currentIndex>20&&(i._currentIndex=1),i.startRollItem(e,t,n)},this,e)}},n.prototype.showReward=function(){this._currentIndex=this._currentIndex-1+this._starIndex;var t=e.splitStringToNumberArray(e.Data.TGYMReward[this._currentIndex].items,";"),n=e.IdleRewardPanel.getInstance();n.setReward([{type:t[0],count:t[1]}],null),n.show()},n.prototype.getIconPosition=function(e){var t=[0,0];return 6>=e?t[0]=128*(e-1):11>=e?(t[0]=640,t[1]=120*(e-6)):16>=e?(t[1]=600,t[0]=640-128*(e-11)):t[1]=600-120*(e-16),t},n.prototype.changeSkip=function(){this.skipAnim=!this.skipAnim,this.updateSkip()},n.prototype.updateSkip=function(){this.skipImage.visible=this.skipAnim,this.skipAnim?egret.localStorage.setItem("skipWOF","on"):egret.localStorage.setItem("skipWOF","off")},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.GymZhuanPan=t,__reflect(t.prototype,"game.GymZhuanPan")}(game||(game={}));var game;!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.postTouchNotify=function(){this.play()},n.prototype.endMovePokemon=function(t){e.NotificationCenter.getInstance().postNotification(e.HelpPokemonPanel.MOVE_POKEMON_END,{icon:this,event:t})},n}(e.TeamBagPokemonIcon);e.HelpBagPokemon=t,__reflect(t.prototype,"game.HelpBagPokemon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._currentPage=1,e._maxPage=2,e._bagPokemonList=[],e._totalPokemon=[],e._pokemonBag=[],e._slotList=[],e.skinName=HelpPokemonSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.leftArrowButton,callBackFunc:this.moveLastPage},{target:this.rightArrowButton,callBackFunc:this.moveNextPage},{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.movePokemonEnd,n.MOVE_POKEMON_END);for(var t in e.Data.TElfHelpGrid){var i=new e.HelpPokemonSlot;i.gridData=e.Data.TElfHelpGrid[t],this._slotList.push(i),this.teamPokemonGroup.addChild(i)}},n.prototype.movePokemonEnd=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s,r,u,l,c,r,u,l,h,c;return __generator(this,function(p){return n=t.icon,n.stop(),i=t.event,a=i.stageX,o=i.stageY,this.teamPokemonGroup.hitTestPoint(a,o)?(s=this.getPutSlotIndex(a,o),r=e.DataManager.playerModel.teamConfig.helps,u=r.indexOf(n.pokemonInfo.id),u>=0?n.resetPokemon():(l=a-33,c=Math.floor(l/107),r.length>=this._unlockCount&&c>=this._unlockCount?(e.showTips(e.Lang.caoweiweijiesuo,!0),n.resetPokemon()):this.changeTeamAndBag(this._slotList[c],n,s))):this.bagGroup.hitTestPoint(a,o)?(r=e.DataManager.playerModel.teamConfig.helps,u=r.indexOf(n.pokemonInfo.id),l=a-47,h=o-590,c=Math.floor(l/126)+5*Math.floor(h/126),u>=0?this.changeTeamAndBag(n,this._bagPokemonList[c],u):n.resetPokemon()):n.resetPokemon(),[2]})})},n.prototype.getPutSlotIndex=function(e,t){for(var n=0;n<this._slotList.length;++n)if(this._slotList[n].hitTestPoint(e,t))return n;return-1},n.prototype.changeTeamAndBag=function(t,n,i){return void 0===i&&(i=0),__awaiter(this,void 0,void 0,function(){return __generator(this,function(a){switch(a.label){case 0:return-1==i?[2]:t&&t.pokemonInfo?n&&n.pokemonInfo?[4,e.DataManager.playerModel.changeHelpPokemon(t.pokemonInfo,n.pokemonInfo,i)]:[3,2]:[3,5];case 1:return a.sent(),[3,4];case 2:return[4,e.DataManager.playerModel.cancelHelpPokemon(t.pokemonInfo,i)];case 3:a.sent(),a.label=4;case 4:return[3,7];case 5:return n.pokemonInfo?[4,e.DataManager.playerModel.equipHelpPokemon(n.pokemonInfo,i)]:[3,7];case 6:a.sent(),a.label=7;case 7:return this.updateBag(),this.updateSlot(),[2]}})})},n.prototype.moveNextPage=function(){var e=this.page+1;e>this._maxPage||(this.page=e,this.updateBag())},n.prototype.moveLastPage=function(){var e=this.page-1;1>e||(this.page=e,this.updateBag())},n.prototype.updateBag=function(){this._pokemonBag=[];for(var t=e.DataManager.playerModel.playerTeamPokemonList,n=e.DataManager.playerModel.teamConfig.helps,i=0;i<this._totalPokemon.length;i++)t.indexOf(this._totalPokemon[i])<0&&n.indexOf(this._totalPokemon[i].id)<0&&this._pokemonBag.push(this._totalPokemon[i]);for(var a=this._pokemonBag,o=15*(this.page-1)+1,s=o+15,r=a.length,i=0;15>i;i++){this._bagPokemonList[i]||(this._bagPokemonList[i]=new e.HelpBagPokemon,this.bagGroup.addChild(this._bagPokemonList[i]));var u=this._bagPokemonList[i];u.setPokemonInfo(null),u.slot=o+i}for(var i=o;s>i;i++){var l=a[i-1];if(l){var c=(i-1)%15,u=this._bagPokemonList[c];if(!u)continue;u.setPokemonInfo(l)}}this._maxPage=Math.floor(r/15)+1,this.page=this.page},Object.defineProperty(n.prototype,"page",{get:function(){return this._currentPage},set:function(e){this._currentPage=e,this.leftArrowButton.visible=this._currentPage>1,this.rightArrowButton.visible=this._currentPage<this._maxPage,this.bagLabel.text=this._currentPage+"/"+this._maxPage},enumerable:!0,configurable:!0}),n.prototype.onShow=function(){this._totalPokemon=e.DataManager.playerModel.playerAllPokemonList,this.page=1,this.updateBag(),this.updateSlot()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.updateSlot=function(){this._unlockCount=0;for(var t=e.DataManager.playerModel.teamConfig.helps,n=e.DataManager.playerModel.playerLevel,i=0;i<this._slotList.length;i++){var a=this._slotList[i],o=a.gridData;n<o.unlockLevel?a.setLock(!0,o.unlockLevel):(a.setLock(!1,o.unlockLevel),this._unlockCount++),a.setPokemonInfo(e.DataManager.playerModel.getPokemonInfoById(t[i]))}this.attribute.setState(e.DataManager.playerModel.teamConfig.helpAttribute)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.MOVE_POKEMON_END="HelpPokemonPanel_MOVE_POKEMON_END",n}(e.PanelComponent);e.HelpPokemonPanel=t,__reflect(t.prototype,"game.HelpPokemonPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.postTouchNotify=function(){this.play()},n.prototype.endMovePokemon=function(t){e.NotificationCenter.getInstance().postNotification(e.HelpPokemonPanel.MOVE_POKEMON_END,{icon:this,event:t})},n.prototype.updatePoint=function(){this.point.visible=!1},n}(e.TeamPokemonIcon);e.HelpPokemonSlot=t,__reflect(t.prototype,"game.HelpPokemonSlot")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;n._slotList=[],n.skinName=OtherHelpPokemonSkin,n._touchEvent=[{target:n.closeButton,callBackFunc:n.closeHandle}],n.addEventAndNotify();for(var i in e.Data.TElfHelpGrid){var a=new e.HelpPokemonSlot(!1);a.gridData=e.Data.TElfHelpGrid[i],n._slotList.push(a),n.teamPokemonGroup.addChild(a)}return n}return __extends(n,t),n.prototype.setData=function(e){for(var t=e.helpPms,n=0;n<this._slotList.length;++n){var i=this._slotList[n];t[n]&&0!=t[n].type?i.setPokemonInfo(t[n]):i.setPokemonInfo(null)}this.attribute0.setState(e.team.helpAttribute)},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.OtherHelpPokemon=t,__reflect(t.prototype,"game.OtherHelpPokemon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=FurnitureDetailSkin,e}return __extends(n,t),n.prototype.setInfo=function(t){var n=e.Data.TFurnitureQuality[t.quality];this.gradeDisplay.source="icon/item/q"+(n.color-1),this.levelLabel.text=t.level.toString(),this.qualityLabel.text=n.quality+"/"+e.Constants.MaxFurnitureQuality;var i=e.Data.TFurniture[t.type];this.setData(i);var a=e.Data.TFurnitureLv[t.level],o=e.Data.TFHomeLandLv[e.DataManager.playerModel.homeInfo.level];this.baseLabel1.visible=this.baseLabel2.visible=this.nextBaseLabel1.visible=this.nextBaseLabel2.visible=this.addLabel1.visible=this.nextAddLabel1.visible=this.addLabel2.visible=this.nextAddLabel2.visible=!1;var s=e.Data.TEffect[i.effectId],r=new e.EquipAttribute;e.parseEquipAttribute(r,s),e.parseFurnitureBaseAttribute(r,e.MaxFurnitureQuality,n.quality,a.basicUp,o.basicAbility),e.setFurnitureAttribute(r,[this.baseLabel1,this.baseLabel2],"基础属性:  ");var u=e.Data.TFurnitureLv[t.level+1];if(u){var l=new e.EquipAttribute;e.parseEquipAttribute(l,s),e.parseFurnitureBaseAttribute(l,e.MaxFurnitureQuality,n.quality,u.basicUp,o.basicAbility),e.setFurnitureAttribute(l,[this.nextBaseLabel1,this.nextBaseLabel2],"下一等级:  ")}if(t.extId){var c=e.Data.TEffect[e.Data.TFurnitureExtraType[t.extId].effectId],h=new e.EquipAttribute;if(e.parseEquipAttribute(h,c),e.parseFurnitureExtAttribute(h,t.extNum,a.basicUp,o.basicAbility),e.setFurnitureAttribute(h,[this.addLabel1,this.addLabel2],"附加属性:  "),u){var l=new e.EquipAttribute;e.parseEquipAttribute(l,c),e.parseFurnitureExtAttribute(l,t.extNum,u.basicUp,o.basicAbility),e.setFurnitureAttribute(l,[this.nextAddLabel1,this.nextAddLabel2],"下一等级:  ")}}},n.prototype.setData=function(e){this.nameLabel.text=e.itemName,this.itemDisplay.source="icon/item/"+e.icon,this.detailLabel.text=e.text},n}(e.GameComponent);e.FurnitureDetail=t,__reflect(t.prototype,"game.FurnitureDetail")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._hang=6,e._lie=6,e.offsetX=0,e.offsetY=0,e.onMove=!1,e._cubeImage=[],e.canMove=!1,e.skinName=FurnitureItemSkin,e.touchChildren=!1,e.touchEnabled=!0,e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.touchBegin,e),e}return __extends(n,t),Object.defineProperty(n.prototype,"hang",{get:function(){return this._hang},set:function(e){this._hang=e,this.furnitureInfo&&(this.furnitureInfo.posY=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lie",{get:function(){return this._lie},set:function(e){this._lie=e,this.furnitureInfo&&(this.furnitureInfo.posX=e)},enumerable:!0,configurable:!0}),n.prototype.touchBegin=function(e){this.alpha=.5,this.canMove=!0},n.prototype.updateState=function(e){for(var t=0;t<this._cubeImage.length;t++){var n=this._cubeImage[t];n.parent&&(n.source=e?"icon/furniture/2":"icon/furniture/1")}},n.prototype.endMove=function(){this.alpha=1,this.canMove=!1;for(var e=0;e<this._cubeImage.length;e++){var t=this._cubeImage[e];t.parent&&(t.source="icon/furniture/3")}},n.prototype.setInfo=function(t){this.furnitureInfo=t,this.hang=t.posY,this.lie=t.posX,this.setData(e.Data.TFurniture[t.type])},n.prototype.setData=function(t){if(this.furnitureData=t,t){this.furnitureImage.source="icon/furniture/"+t.id;var n=e.splitStringToNumberArray(t.position,";");this.offsetX=n[0],this.offsetY=n[1],this.cubeGroup.x=this.offsetX,this.cubeGroup.y=this.offsetY;var i=e.splitStringToNumberArray(t.size,";");this.sizeHang=i[1],this.sizeLie=i[0],this.onMove=!1}},n.prototype.showCube=function(){this.cubeGroup.removeChildren();var e;e=this.onMove?"icon/furniture/3":"icon/furniture/2";for(var t=0,n=0;n<this.sizeHang;n++)for(var i=0;i<this.sizeLie;i++){var a=this._cubeImage[t];a||(a=new eui.Image,this._cubeImage[t]=a),a.source=e,a.x=50*i,a.y=50*n,t++,this.cubeGroup.addChild(a)}},n.prototype.hideCube=function(){this.cubeGroup.removeChildren()},n.prototype.onCreate=function(){},n.prototype.onDestroy=function(){this.hideCube(),this.onMove=!1,this.canMove=!1,this.alpha=1,this.touchEnabled=!0,this.removeFromParent()},n}(e.GameComponent);e.FurnitureItem=t,__reflect(t.prototype,"game.FurnitureItem",["game.PoolItem"])}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._attributeItem=[],e.skinName=HomeAttributeSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.onShow=function(){var t=e.DataManager.playerModel.homeInfo.level,n=e.Data.TFHomeLandLv[t];this.levelLabel.text="规模: "+t,this.setLabel.text=e.Lang.jianzhufangzhishu+": "+e.DataManager.playerModel.settingFurniture.length+"/"+n.setMax,this.attributeGroup.removeChildren();var i=e.DataManager.playerModel.homeAttribute,a=[],o=0;for(var s in i)if(i[s]>0){var r=this._attributeItem[o];r||(r=new e.HomeAttributeItem,this._attributeItem[o]=r),o++,this.attributeGroup.addChild(r),a.push(r.detailLabel)}e.setFurnitureAttribute(i,a,"")},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.HomeAttribute=t,__reflect(t.prototype,"game.HomeAttribute")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=HomeAttributeItemSkin,t}return __extends(t,e),t}(e.GameComponent);e.HomeAttributeItem=t,__reflect(t.prototype,"game.HomeAttributeItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.displayGroup=new eui.Group,e.displayGroup.width=e.displayGroup.height=100,e.displayGroup.touchChildren=e.displayGroup.touchEnabled=!1,e.displayGroup.addChild(e._bitmap),e._shadow=new eui.Image("anim/pokemon/shadow"),e._shadow.x=30,e._shadow.y=35,e.displayGroup.addChildAt(e._shadow,0),e}return __extends(n,t),n.prototype.changeDirection=function(e){this.direction!=e&&(this.direction=e,this.changeWingDirection(e),this.changeDecorationDirection(e),this.play(e))},n.prototype.setAvatar=function(e,n){this.avatarId=e,this.type=n;var i;0==n?i="anim/role/"+e:1==n&&(i="anim/role/"+e+"_swim"),t.prototype.setData.call(this,{delay:150,size:{col:4,row:4},resource:i})},n.prototype.setWing=function(t){t?(this._wing||(this._wing=new e.AvatarWing,this._wing.displayGroup.scaleX=this._wing.displayGroup.scaleY=.7),this.displayGroup.addChild(this._wing.displayGroup),this._wing.displayGroup.x=15,this._wing.displayGroup.y=-60+e.Data.TPlayerRole[this.avatarId].wingY+30,this._wing.setWing(t)):this._wing&&this._wing.removeFromParent()},n.prototype.setDecoration=function(t){t?(this._decoration||(this._decoration=new e.AvatarDecoration,this._decoration.displayGroup.scaleX=this._decoration.displayGroup.scaleY=.7),this._decoration.displayGroup.x=13,this._decoration.displayGroup.y=-70+e.Data.TPlayerRole[this.avatarId].decorationY+30,this._decoration.setDecoration(t),this.displayGroup.addChild(this._decoration.displayGroup)):this._decoration&&this._decoration.removeFromParent()},n.prototype.changeWingDirection=function(e){if(this._wing&&this._wing.displayGroup.parent)switch(this._wing.setDirection(e),e){case 4:this.displayGroup.setChildIndex(this._wing.displayGroup,99);break;case 1:this.displayGroup.setChildIndex(this._wing.displayGroup,0);break;case 2:this.displayGroup.setChildIndex(this._wing.displayGroup,99);break;case 3:this.displayGroup.setChildIndex(this._wing.displayGroup,99)}},n.prototype.changeDecorationDirection=function(e){if(this._decoration&&this._decoration.displayGroup.parent)switch(this._decoration.setDirection(e),e){case 4:this.displayGroup.setChildIndex(this._decoration.displayGroup,98);break;case 1:this.displayGroup.setChildIndex(this._decoration.displayGroup,999);break;case 2:this.displayGroup.setChildIndex(this._decoration.displayGroup,98);break;case 3:this.displayGroup.setChildIndex(this._decoration.displayGroup,98)}},n}(e.VectorAnim);e.HomeAvatar=t,__reflect(t.prototype,"game.HomeAvatar")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._iconList=[],e.skinName=HomeBagSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify(),this.typeButton1.label=e.Lang.zawu,this.typeButton2.label=e.Lang.fangzi,this.typeButton3.label=e.Lang.shumu,this.typeButton4.label=e.Lang.dimian,this.typeButton1.type=1,this.typeButton2.type=2,this.typeButton3.type=3,this.typeButton4.type=4,this.radioGroup=new e.RadioGroup(this.typeButtonGroup,[this.typeButton1,this.typeButton2,this.typeButton3,this.typeButton4],this.touchTypeButton,this,this.buttonChangeHandle)
},n.prototype.touchTypeButton=function(e){this.currentButton&&this.currentButton.parent.setChildIndex(this.currentButton,3),this.currentButton=e,e.parent.setChildIndex(e,4),this.updateBagList()},n.prototype.updateBagList=function(){this.itemGroup.removeChildren();for(var t=0,n=this.currentButton.type,i=e.DataManager.playerModel.homeInfo.furnitures,a=0;a<i.length;a++){var o=i[a],s=e.Data.TFurniture[o.type];if(s.type==n){var r=this._iconList[t];r||(r=new e.HomeItem,this._iconList[t]=r),r.bagPanel=this,r.setInfo(o),this.itemGroup.addChild(r),t++}}this.noneLabel.visible=0==t},n.prototype.closeHandle=function(){egret.clearInterval(this._interval),e.removePopUp(this)},n.prototype.onShow=function(){this.radioGroup.touchButton(this.currentButton||this.typeButton1),this.updatePoint(),this._interval=egret.setInterval(this.updatePoint,this,1e3)},n.prototype.updatePoint=function(){this.bagPoint1.visible=!1,this.bagPoint2.visible=!1,this.bagPoint3.visible=!1,this.bagPoint4.visible=!1;for(var t=e.DataManager.playerModel.homeInfo.furnitures,n=0;n<t.length;n++){var i=t[n],a=i.level,o=e.Data.TFurnitureLv[a],s=e.Data.TFurniture[i.type];if(!this["bagPoint"+s.type].visible&&o.upItem){for(var r=e.splitStringToNumberArray(o.upItem),u=!0,l=0;l<r.length;l++){var c=r[l],h=e.DataManager.playerModel.getItemCount(c[0]);if(h<c[1]){u=!1;break}}u&&(this["bagPoint"+s.type].visible=!0)}}},n.prototype.buttonChangeHandle=function(e,t){t?(e.labelDisplay.textColor=16774656,e.bgDisplay.source="ui/common/button/select"):(e.labelDisplay.textColor=16777215,e.bgDisplay.source="ui/common/button/unselect")},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.HomeBag=t,__reflect(t.prototype,"game.HomeBag")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=HomeBagTypeButtonSkin,t.touchChildren=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"bg",{set:function(e){this._bg=e,this.bgDisplay&&(this.bgDisplay.source=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{set:function(e){this._label=e,this.labelDisplay&&(this.labelDisplay.text=e)},enumerable:!0,configurable:!0}),t}(e.BaseButton);e.HomeBagTypeButton=t,__reflect(t.prototype,"game.HomeBagTypeButton")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._canExpand=!0,n._costItem=new e.ItemIcon,n.skinName=HomeExpandSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.expandButton.label=e.Lang.kuojian,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.expandButton,callBackFunc:this.expandHandle}],this.addEventAndNotify()},n.prototype.expandHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._canExpand?this._itemEnough?[4,e.DataManager.playerModel.upgradeHome()]:(e.showTips(e.Lang.nindehuobibuzu,!0),[2]):[3,2];case 1:return t.sent(),this.onShow(),[3,3];case 2:this.closeHandle(),t.label=3;case 3:return[2]}})})},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.onShow=function(){var t=e.DataManager.playerModel.homeInfo,n=e.Data.TFHomeLandLv[t.level];this.currentLevelLabel.text=e.Lang.guimo+": "+n.level,this.currentSetLabel.text=e.Lang.jianzhufangzhishu+": "+n.setMax,this.currentBaseLabel.text=e.Lang.jianzhujichushuxing+": +"+(100*n.basicAbility).toFixed(1)+"%",this.currentAddLabel.text=e.Lang.jianzhufujiashuxing+": +"+(100*n.extraAbility).toFixed(1)+"%";var i=e.Data.TFHomeLandLv[t.level+1];this.costGroup.removeChildren(),i?(this._canExpand=!0,this.nextSetLabel.visible=this.nextBaseLabel.visible=this.nextAddLabel.visible=!0,this.nextSetLabel.text=e.Lang.jianzhufangzhishu+": "+i.setMax,this.nextBaseLabel.text=e.Lang.jianzhujichushuxing+": +"+(100*i.basicAbility).toFixed(1)+"%",this.nextAddLabel.text=e.Lang.jianzhufujiashuxing+": +"+(100*i.extraAbility).toFixed(1)+"%",this.expandButton.label=e.Lang.kuojian,this._itemEnough=!0,this._costItem.item={type:2,count:n.UpItems},this._itemEnough=e.DataManager.playerModel.diamond>=n.UpItems,this._costItem.countLabel.textColor=this._itemEnough?gameConfig.TextColors.green:gameConfig.TextColors.red,this.costGroup.addChild(this._costItem),this.nextLevelLabel.text=e.Lang.guimo+": "+i.level):(this.expandButton.label=e.Lang.queding,this._canExpand=!1,this.nextSetLabel.visible=this.nextBaseLabel.visible=this.nextAddLabel.visible=!1,this.nextLevelLabel.text=e.Lang.yimanji)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.HomeExpand=t,__reflect(t.prototype,"game.HomeExpand")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=HomeItemSkin,e.touchChildren=!1,e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchHandle,e),e}return __extends(n,t),n.prototype.touchHandle=function(){var t=e.HomeItemDetail.getInstance();t.setItem(this.furnitureInfo,this),t.show()},n.prototype.setInfo=function(t){this.furnitureInfo=t;var n=e.Data.TFurniture[t.type];this.setData(n),this.levelLabel.text="等级"+t.level;var i=e.Data.TFurnitureQuality[t.quality];this.gradeDisplay.source="icon/item/q"+(i.color-1),this.setGroup.visible=t.placed>0;var a=e.Data.TFurnitureLv[t.level];if(a.upItem){for(var o=e.splitStringToNumberArray(a.upItem),s=!0,r=0;r<o.length;r++){var u=o[r],l=e.DataManager.playerModel.getItemCount(u[0]);if(l<u[1]){s=!1;break}}this.point.visible=s}else this.point.visible=!1},n.prototype.setData=function(e){this.furnitureData=e,this.nameLabel.text=e.itemName,this.itemDisplay.source="icon/item/"+e.icon},n}(e.GameComponent);e.HomeItem=t,__reflect(t.prototype,"game.HomeItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._iconList=[],n._costItem=[],n._baseRecoverItem=[],n._levelRecoverItem={},n._discount=Number(e.Constants.FurnitureRecoverPer),n.skinName=HomeItemDetailSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){for(var t=e.splitStringToNumberArray(e.Constants.FurnitureRecoverItems),n=0;n<t.length;n++){var i={type:t[n][0],count:t[n][1]};this._baseRecoverItem.push(i)}var a=[];for(var n in e.Data.TFurnitureLv){for(var o=e.Data.TFurnitureLv[n],s=[],r=0;r<a.length;r++){var i=a[r];s.push({type:i[0],count:i[1]})}this._levelRecoverItem[o.ID]=s;for(var u=e.splitStringToNumberArray(o.upItem),l=0;l<u.length;l++){for(var c=u[l],h=!1,p=0;p<a.length;p++)if(a[p][0]==c[0]){a[p][1]+=c[1],h=!0;break}h||a.push(c)}}this.setButton.label=e.Lang.fangzhi,this.strengthenButton.label=e.Lang.qianghua,this.recycleButton.label=e.Lang.huishou,this._touchEvent=[{target:this.setButton,callBackFunc:this.setHandle},{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.strengthenButton,callBackFunc:this.strengthenHandle},{target:this.recycleButton,callBackFunc:this.recycleHandle}],this.addEventAndNotify(),this.costGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t.showDetail&&t.showDetail()},this)},n.prototype.recycleHandle=function(){var t=this;if(this.furnitureInfo.placed)return void e.showTips(e.Lang.shiyongzhongdejiajubunenghuishouo,!0);for(var n=this.furnitureInfo.level,i=[],a=0;a<this._baseRecoverItem.length;a++){var o={type:this._baseRecoverItem[a].type,count:this._baseRecoverItem[a].count};i.push(o)}for(var s=this._levelRecoverItem[n],a=0;a<s.length;a++){for(var r=s[a],u=r.count*this._discount|0,l=!1,c=0;c<i.length;c++)if(i[c].type==r.type){i[c].count+=u,l=!0;break}l||i.push({type:r.type,count:u})}for(var h="",a=0;a<i.length;a++){var p=e.Data.TItem[i[a].type];h+=p.name+"x"+e.setNumber(i[a].count)+" "}var g=e.CheckPanel.getInstance();g.setData(e.formatString(e.Lang.ninquedingyaohuishoudangqianjiajuma,h,100*this._discount),function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n?[4,e.DataManager.playerModel.recycleFurniture(this.furnitureInfo)]:[3,2];case 1:t.sent(),this.homeItem&&this.homeItem.bagPanel&&this.homeItem.bagPanel.updateBagList(),this.closeHandle(),t.label=2;case 2:return[2]}})})}),g.show()},n.prototype.strengthenHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._itemEnough?[4,e.DataManager.playerModel.UpgradeFurniture(this.furnitureInfo,this._costItem)]:(e.showTips(e.Lang.nindedaojubuzu,!0),[2]);case 1:return t.sent(),this.setItem(this.furnitureInfo,this.homeItem),this.homeItem.setInfo(this.furnitureInfo),[2]}})})},n.prototype.setItem=function(t,n){void 0===n&&(n=null),this.furnitureInfo=t,this.homeItem=n,this.detail.setInfo(t),t.placed?this.setButton.label=e.Lang.shouhui:this.setButton.label=e.Lang.fangzhi,this.costGroup.removeChildren();var i=e.Data.TFurnitureLv[t.level+1];if(i){this.strengthenButton.label=e.Lang.qianghua,this.strengthenButton.touchEnabled=!0,this._itemEnough=!0;var a=e.splitStringToNumberArray(e.Data.TFurnitureLv[t.level].upItem);this._costItem=[];for(var o=0;o<a.length;o++){var s=a[o],r=this._iconList[o];r||(r=new e.ItemIcon,this._iconList[o]=r);var u={type:s[0],count:s[1]};this._costItem.push(u),r.item=u,this.costGroup.addChild(r);var l=e.DataManager.playerModel.getItemCount(s[0]);l<s[1]?(this._itemEnough=!1,r.countLabel.textColor=gameConfig.TextColors.red):r.countLabel.textColor=gameConfig.TextColors.green}}else this.strengthenButton.label=e.Lang.yidadingji,this.strengthenButton.touchEnabled=!1},n.prototype.setHandle=function(){if(0==this.furnitureInfo.placed){var t=e.Data.TFHomeLandLv[e.DataManager.playerModel.homeInfo.level],n=e.DataManager.playerModel.settingFurniture.length;if(n>=t.setMax)return void e.showTips(e.Lang.nindebaifangshuyidashangxian,!0)}e.NotificationCenter.getInstance().postNotification(e.HomeScene.SET_FURNITURE,this.furnitureInfo),this.closeHandle(),this.homeItem&&this.homeItem.bagPanel.closeHandle()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.HomeItemDetail=t,__reflect(t.prototype,"game.HomeItemDetail")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._buildList={},e._buildTypeButtonList=[],e._equipList={},e.equipTypeButtonList=[],e._iconList=[],e._costItemIcon=[],e._moneyEnough=!1,e._itemEnough=!1,e._equipBaseLabel=[],e.skinName=HomeMakeSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.buildButton.label=e.Lang.jianzhu,this.equipButton.label=e.Lang.shenqi,this.makeButton.label=e.Lang.dazao,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.makeButton,callBackFunc:this.makeHandle}],this.addEventAndNotify();var n=0;for(var i in e.Data.TFurnitureMake){var a=e.Data.TFurnitureMake[i];if(1==a.type1){if(!this._buildList[a.type2]){this._buildList[a.type2]=[];var o=new e.LabelButton;switch(o.skinName=HomeMakeBuildButtonSkin,this._buildTypeButtonList.push(o),o.horizontalCenter=110*(n-1),n++,this.buildTypeGroup.addChild(o),a.type2){case 1:o.label=e.Lang.zawu;break;case 2:o.label=e.Lang.fangzi;break;case 3:o.label=e.Lang.shumu}o.name=a.type2.toString(),o.verticalCenter=0}this._buildList[a.type2].push(a)}else{if(!this._equipList[a.type2]){this._equipList[a.type2]=[];var o=new e.LabelButton;switch(o.skinName=HomeMakeTypeButtonSkin,o.noScale=!0,this.equipTypeButtonList.push(o),this.equipTypeGroup.addChild(o),a.type2){case 1:o.label="火格系";break;case 2:o.label="水普系";break;case 3:o.label="草虫系";break;case 4:o.label="妖超电系";break;case 5:o.label="恶钢岩系";break;case 6:o.label="龙飞系";break;case 7:o.label="冰地系";break;case 8:o.label="鬼毒系";break;case 9:o.label=e.Lang.zhuanshu}o.name=a.type2.toString()}this._equipList[a.type2].push(a)}}this.equipButton.labelDisplay.verticalCenter=this.buildButton.labelDisplay.verticalCenter=5,this.typeRadioGroup=new e.RadioGroup(this.typeButtonGroup,[this.equipButton,this.buildButton],this.touchTypeButton,this,this.changeTypeButton),this.buildRadioGroup=new e.RadioGroup(this.buildTypeGroup,this._buildTypeButtonList,this.touchBuildButton,this,this.changeBuildButton),this._equipRadioGroup=new e.RadioGroup(this.equipTypeGroup,this.equipTypeButtonList,this.touchEquipButton,this,this.changeEquipButton),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var n=e.target;n.makeData&&t.selectItem(n)},this),this.costGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t.showDetail&&t.showDetail()},this);var s=new e.EquipAttribute,r=e.Data.TEArtifactUpLv[0],u=e.Data.TEArtifactStarLv[0];e.parseEquipAttribute(s,e.Data.TEffect[r.effectId]),e.parseEquipAttribute(s,e.Data.TEffect[u.effectId]),e.createAttributeLabel(this.equipAttributeGroup,s,this._equipBaseLabel)},n.prototype.makeHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:return this._moneyEnough?this._itemEnough?1!=this._selectIcon.makeData.type1?[3,2]:[4,e.DataManager.playerModel.makeFurniture(this._selectIcon.furnitureData.id)]:(e.showTips(e.Lang.nindedaojubuzu,!0),[2]):(e.showTips(e.Lang.nindehuobibuzu,!0),[2]);case 1:return i.sent(),[3,4];case 2:return[4,e.DataManager.playerModel.makeArtifact(this._selectIcon.equipData.id)];case 3:i.sent(),i.label=4;case 4:for(t=0;t<this._iconList.length;t++)n=this._iconList[t],n.parent&&n.updatePoint();return this.selectItem(this._selectIcon),[2]}})})},n.prototype.touchEquipButton=function(t){this.itemGroup.removeChildren();for(var n=this._equipList[t.name],i=0;i<n.length;i++){var a=this._iconList[i];a||(a=new e.HomeMakeItem,this._iconList[i]=a),a.setBuildData(n[i],2),this.itemGroup.addChild(a),0==i&&this.selectItem(a)}},n.prototype.changeEquipButton=function(e,t){e.bg=t?"ui/common/button/yellowBtn":"ui/common/button/smallGrayBtn"},n.prototype.touchBuildButton=function(t){this.itemGroup.removeChildren();for(var n=this._buildList[t.name],i=0;i<n.length;i++){var a=this._iconList[i];a||(a=new e.HomeMakeItem,this._iconList[i]=a),a.setBuildData(n[i],1),this.itemGroup.addChild(a),0==i&&this.selectItem(a)}},n.prototype.selectItem=function(e){this._selectIcon&&(this._selectIcon.select=!1),this._selectIcon=e,this._selectIcon.select=!0,1==e.type?this.setFurniture(e):this.setEquip(e),this.setMakeData(e.makeData)},n.prototype.setEquip=function(t){this.furnitureDetailGroup.visible=!1,this.equipDetailGroup.visible=!0;var n=t.equipData;if(this.nameLabel.text=e.Lang.mingcheng+": "+n.itemName,n.attributeId){for(var i="",a=e.splitStringToNumberArray(n.attributeId,";"),o=0;o<a.length;o++)i+=e.Data.TAttribute[a[o]].Name+" ";this.canEquipLabel.text=e.Lang.kezhuangbei+":  "+i}else{for(var s="",r=e.splitStringToNumberArray(n.elfId,";"),o=0;o<r.length;o++)s+=e.Data.TElf[r[o]].name+"  ";this.canEquipLabel.text=e.Lang.kezhuangbei+":  "+s}var u;for(var o in e.Data.TEArtifactAbility){var l=e.Data.TEArtifactAbility[o];if(l.type==n.abilityType){u=l;break}}if(u){for(var s=u.textE,c=e.splitStringToNumberArray(u.anum1,";"),o=0;o<c.length;o++)s=s.replace("{"+o+"}",c[o]);this.equipAbilityLabel.text=""+s}},n.prototype.setMakeData=function(t){var n=e.splitStringToNumberArray(t.price,";"),i=e.DataManager.playerModel.getItemCount(n[0]);this._moneyEnough=i>=n[1],this.costLabel.textColor=this._moneyEnough?gameConfig.TextColors.green:gameConfig.TextColors.red,this.costIcon.source="icon/item/"+n[0],this.costLabel.text=e.setNumber(n[1]),this._itemEnough=!0,this.costGroup.removeChildren();for(var a=e.splitStringToNumberArray(t.makeItem),o=0;o<a.length;o++){var s=a[o],r=this._costItemIcon[o];r||(r=new e.ItemIcon,this._costItemIcon[o]=r),r.item={type:s[0],count:s[1]};var u=e.DataManager.playerModel.getItemCount(s[0]);r.countLabel.text=u+"/"+s[1],u<s[1]?(this._itemEnough=!1,r.countLabel.textColor=gameConfig.TextColors.red):r.countLabel.textColor=gameConfig.TextColors.green,this.costGroup.addChild(r)}},n.prototype.setFurniture=function(t){this.furnitureDetailGroup.visible=!0,this.equipDetailGroup.visible=!1;var n=t.furnitureData;this.nameLabel.text="名称: "+n.itemName,this.baseLabel1.visible=this.baseLabel2.visible=!1;var i=e.Data.TEffect[n.effectId];if(i){var a=new e.EquipAttribute;e.parseEquipAttribute(a,i),e.setFurnitureAttribute(a,[this.baseLabel1,this.baseLabel2],"1级基础属性: ")}this.infoLabel.text="随机生成一个品相\r(品相越高,属性越强)\r随机生成0-1项附加属性\r提升房屋规模可增加所有家具属性";var o=e.DataManager.playerModel.getFurnitureTypeCount(n.id);this.ownLabel.text="持有数: "+o},n.prototype.changeBuildButton=function(e,t){e.bg=t?"ui/common/button/teamYellow":"ui/common/button/teamGray"},n.prototype.touchTypeButton=function(t){switch(t){case this.buildButton:this.buildTypeGroup.visible=!0,this.equipTypeGroup.visible=!1,this.buildRadioGroup.touchButton(this._buildTypeButtonList[0]);break;case this.equipButton:e.DataManager.playerModel.playerLevel>=Number(e.Constants.artifactMakeOpenLv)?(this.buildTypeGroup.visible=!1,this.equipTypeGroup.visible=!0,this._equipRadioGroup.touchButton(this.equipTypeButtonList[0])):(this.typeRadioGroup.touchButton(this.buildButton),e.showTips(e.formatString(e.Lang.dengjijiesuo,e.Constants.artifactMakeOpenLv),!0))}},n.prototype.changeTypeButton=function(e,t){e.bg=t?"ui/common/button/taskSelect":"ui/common/button/taskUnselect"},n.prototype.onShow=function(){this.typeRadioGroup.touchButton(this.buildButton),this.updatePoint(),this._interval=egret.setInterval(this.updatePoint,this,1e3)},n.prototype.updatePoint=function(){this.equipPoint.visible=this.furniturePoint.visible=!1;for(var t=0;t<this._buildTypeButtonList.length;t++)this._buildTypeButtonList[t].point=!1;for(var t=0;t<this.equipTypeButtonList.length;t++)this.equipTypeButtonList[t].point=!1;for(var t in e.Data.TFurnitureMake){var n=e.Data.TFurnitureMake[t];if(1==n.type1){if(this._buildTypeButtonList[n.type2-1].point)continue}else if(this.equipTypeButtonList[n.type2-1].point)continue;for(var i=e.splitStringToNumberArray(n.price,";"),a=e.DataManager.playerModel.getItemCount(i[0]),o=a>=i[1],s=!0,r=e.splitStringToNumberArray(n.makeItem),u=0;u<r.length;u++){var l=r[u],c=e.DataManager.playerModel.getItemCount(l[0]);c<l[1]&&(s=!1)}o&&s&&(1==n.type1?(this.furniturePoint.visible=!0,this._buildTypeButtonList[n.type2-1].point=!0):(this.equipPoint.visible=!0,this.equipTypeButtonList[n.type2-1].point=!0))}e.DataManager.playerModel.playerLevel<Number(e.Constants.artifactMakeOpenLv)&&(this.equipPoint.visible=!1)},n.prototype.closeHandle=function(){egret.clearInterval(this._interval),e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.HomeMake=t,__reflect(t.prototype,"game.HomeMake")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._equipBaseLabel=[],e._attributeItem=[],e.skinName=HomeMakeEquipResultSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.label=e.Lang.queding;var t=new e.EquipAttribute,n=e.Data.TEArtifactUpLv[0],i=e.Data.TEArtifactStarLv[0];e.parseEquipAttribute(t,e.Data.TEffect[n.effectId]),e.parseEquipAttribute(t,e.Data.TEffect[i.effectId]),e.createAttributeLabel(this.equipAttributeGroup,t,this._equipBaseLabel),this._touchEvent=[{target:this.confirmButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},n.prototype.setInfo=function(t){var n=e.Data.TEArtifact[t.type];if(this.nameLabel.text=n.itemName,n.attributeId){for(var i="",a=e.splitStringToNumberArray(n.attributeId,";"),o=0;o<a.length;o++)i+=e.Data.TAttribute[a[o]].Name+" ";this.canEquipLabel.text=e.Lang.kezhuangbei+":  "+i}else{for(var s="",r=e.splitStringToNumberArray(n.elfId,";"),o=0;o<r.length;o++)s+=e.Data.TElf[r[o]].name+"  ";this.canEquipLabel.text=e.Lang.kezhuangbei+":  "+s}for(var u=e.Data.TEArtifactAbility[t.ability],l=u.textE,c=e.splitStringToNumberArray(u.anum1,";"),o=0;o<c.length;o++)l=l.replace("{"+o+"}",c[o]);this.abilityLabel.text=l,this.extGroup.removeChildren();for(var h=0,p=new e.EquipAttribute,o=0;o<t.exts.length;o++){var g=e.Data.TEffect[t.exts[o]];g&&e.parseEquipAttribute(p,g)}var d=[];for(var o in p)if(p[o]>0){var m=this._attributeItem[h];m||(m=new e.HomeAttributeItem,this._attributeItem[h]=m),h++,this.extGroup.addChild(m),d.push(m.detailLabel)}e.setFurnitureAttribute(p,d,""),this.gradeDisplay.source="icon/item/q"+(u.color-1),this.itemDisplay.source="icon/item/"+n.icon},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.HomeMakeEquipResult=t,__reflect(t.prototype,"game.HomeMakeEquipResult")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=HomeMakeFurnitureRewardSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.label=e.Lang.queding,this._touchEvent=[{target:this.confirmButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},n.prototype.setInfo=function(e){this.detail.setInfo(e)},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.HomeMakeFurnitureReward=t,__reflect(t.prototype,"game.HomeMakeFurnitureReward")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=HomeMakeItemSkin,e.touchChildren=!1,e}return __extends(n,t),n.prototype.setBuildData=function(t,n){this.makeData=t,this.type=n,1==n?this.setFurnitureData(e.Data.TFurniture[t.itemID]):this.setEquipData(e.Data.TEArtifact[t.itemID]),this.updatePoint()},n.prototype.updatePoint=function(){var t=this.makeData,n=e.splitStringToNumberArray(t.price,";"),i=e.DataManager.playerModel.getItemCount(n[0]);this.moneyEnough=i>=n[1],this.itemEnough=!0;for(var a=e.splitStringToNumberArray(t.makeItem),o=0;o<a.length;o++){var s=a[o],r=e.DataManager.playerModel.getItemCount(s[0]);r<s[1]&&(this.itemEnough=!1)}this.point.visible=this.moneyEnough&&this.itemEnough},n.prototype.setEquipData=function(e){this.equipData=e,e&&(this.nameLabel.text=e.itemName,this.itemDisplay.source="icon/item/"+e.icon)},n.prototype.setFurnitureData=function(e){this.furnitureData=e,e&&(this.nameLabel.text=e.itemName,this.itemDisplay.source="icon/item/"+e.icon)},Object.defineProperty(n.prototype,"select",{set:function(e){this.selectImage.visible=e},enumerable:!0,configurable:!0}),n}(e.GameComponent);e.HomeMakeItem=t,__reflect(t.prototype,"game.HomeMakeItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._furniturePool=new e.ObjectPool(e.FurnitureItem),n._cubeX=50,n._cubeY=50,n._furnitureList=[],n._maxHang=16,n._maxLie=14,n._onset=!1,n._tansuoData=e.Data.TFSearch[1],n.skinName=HomeSceneSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this._matrix=[];for(var t=0;t<this._maxHang;t++)for(var i=0;i<this._maxLie;i++)this._matrix[t]||(this._matrix[t]=[]),this._matrix[t][i]=0;this.expandButton.image="ui/scene/home/kuojian",this.totalAttributeButton.image="ui/scene/home/zongshuxing",this.friendButton.image="ui/scene/home/haoyou",this.selfButton.image="ui/scene/home/geren",this.bagButton.image="ui/scene/home/cangku",this.makeButton.image="ui/scene/home/dazao",this.searchButton.image="ui/scene/home/tansuo",this.exitButton.image="ui/scene/home/tuichu",this.setButton.image="ui/scene/home/jianzhutiaozheng",this.selfButton.bg="ui/common/button/orangeBtn",this.moveGroup.visible=!1,this.setGroup.visible=!1,this.cancelButton.image="ui/scene/home/shouhui",this.saveButton.image="ui/scene/home/baocun",this.detailButton.image="ui/scene/home/chakan",this._touchEvent=[{target:this.expandButton,callBackFunc:this.expandHandle},{target:this.totalAttributeButton,callBackFunc:this.totalAttributeHandle},{target:this.friendButton,callBackFunc:this.friendHandle},{target:this.selfButton,callBackFunc:this.selfHandle},{target:this.bagButton,callBackFunc:this.bagHandle},{target:this.makeButton,callBackFunc:this.makeHandle},{target:this.searchButton,callBackFunc:this.searchHandle},{target:this.setButton,callBackFunc:this.setHandle},{target:this.exitButton,callBackFunc:this.exitHandle},{target:this.cancelButton,callBackFunc:this.cancelHandle},{target:this.saveButton,callBackFunc:this.saveHandle},{target:this.detailButton,callBackFunc:this.detailHandle}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.setFurniture,n.SET_FURNITURE),this.furnitureGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchFurnitureGroup,this),this.moveGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapHandle,this),this.moveGroup.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.moveHandle,this),this.moveGroup.addEventListener(egret.TouchEvent.TOUCH_END,this.endHandle,this)},n.prototype.detailHandle=function(){if(this._moveFurniture){var t=e.HomeItemDetail.getInstance();t.setItem(this._moveFurniture.furnitureInfo),t.show()}},n.prototype.saveHandle=function(){this._moveFurniture&&(this.endHandle(null),this.touchTapHandle(null)),this.setGroup.visible=!1,this.cancelButton.visible=!1,this.detailButton.visible=!1,this.normalGroup.visible=!0,this.moveGroup.visible=!1,this._onset=!1,e.HttpRequest.SavePlacedAsync(e.DataManager.playerModel.settingFurniture)},n.prototype.cancelHandle=function(){this._moveFurniture&&(this.cancelFurniture(this._moveFurniture),this._moveFurniture=null,this.moveGroup.visible=!1,this.cancelButton.visible=!1,this.detailButton.visible=!1)},n.prototype.cancelFurniture=function(e){e.furnitureInfo.placed=0,this.updateSetting();var t=this._furnitureList.indexOf(e);-1!=t&&this._furnitureList.splice(t,1),this._furniturePool.destroyObject(e)},n.prototype.updateSetting=function(){e.DataManager.playerModel.updateSettingFurniture(),this.updateHomeInfo(this.homeInfo.level,this.settingFurniture.length)},n.prototype.touchTapHandle=function(e){if(this._moveFurniture){var t;e&&(t=e.target),t!=this._moveFurniture&&(this.moveGroup.visible=!1,this.furnitureGroup.addChild(this._moveFurniture),this.updateGrid(this._moveFurniture,!1),this._moveFurniture.onMove=!1,this._moveFurniture.hideCube(),this._moveFurniture=null,this.cancelButton.visible=!1,this.detailButton.visible=!1,this.updateIndex())}},n.prototype.moveHandle=function(e){if(this._moveFurniture&&this._moveFurniture.canMove){var t=e.stageX-10,n=e.stageY,i=Math.floor(n/this._cubeY),a=Math.floor(t/this._cubeX);i=Math.max(i,0),a=Math.max(a,0),this._moveFurniture.hang=i,this._moveFurniture.lie=a,this._moveFurniture.x=a*this._cubeX-this._moveFurniture.offsetX,this._moveFurniture.y=i*this._cubeY-this._moveFurniture.offsetY;var o=this.checkCanSet(i,a,this._moveFurniture);o&&(this._endMoveLie=a,this._endMoveHang=i),this._moveFurniture.updateState(o)}},n.prototype.endHandle=function(e){this._moveFurniture&&this._moveFurniture.canMove&&(this._moveFurniture.endMove(),this._moveFurniture.hang=this._endMoveHang,this._moveFurniture.lie=this._endMoveLie,this._moveFurniture.x=this._endMoveLie*this._cubeX-this._moveFurniture.offsetX,this._moveFurniture.y=this._endMoveHang*this._cubeY-this._moveFurniture.offsetY)},n.prototype.updateIndex=function(){this._furnitureList=this._furnitureList.sort(function(e,t){var n=e.hang,i=e.lie,a=t.hang,o=t.lie;return a>n?-1:n==a?o>i?-1:i==o?-1:1:1});for(var e=0;e<this._furnitureList.length;e++){var t=this._furnitureList[e];t.parent&&t.parent.setChildIndex(t,e)}},n.prototype.touchFurnitureGroup=function(t){for(var n=t.localX,i=t.localY,a=Math.floor(i/this._cubeY),o=Math.floor(n/this._cubeX),s=0;s<this._furnitureList.length;s++){var r=this._furnitureList[s];if(a>=r.hang&&a<r.hang+r.sizeHang&&o>=r.lie&&o<r.lie+r.sizeLie){if(this._onset)this.moveFurniture(r);else{var u=e.HomeItemDetail.getInstance();u.setItem(r.furnitureInfo,null),u.show()}break}}},n.prototype.moveFurniture=function(e){this._moveFurniture=e,this._endMoveLie=e.lie,this._endMoveHang=e.hang,e.onMove=!0,this.updateGrid(e,!0),e.showCube(),this.moveGroup.visible=!0,this.moveGroup.addChild(e),this.cancelButton.visible=!0,this.detailButton.visible=!0},n.prototype.setFurniture=function(t){if(this._moveFurniture&&(this.endHandle(null),this.touchTapHandle(null)),t.placed){for(var n=0;n<this._furnitureList.length;n++)if(this._furnitureList[n].furnitureInfo==t){this.updateGrid(this._furnitureList[n],!0),this.cancelFurniture(this._furnitureList[n]);break}this._onset||this.saveHandle()}else{var i=this._furniturePool.createObject();i.setInfo(t),i.onMove=!0,this.addFurniture(i),this.enterSetMode(),i.onMove||(e.DataManager.playerModel.updateSettingFurniture(),this.updateHomeInfo(this.homeInfo.level,this.settingFurniture.length),this.moveFurniture(i))}},n.prototype.addFurniture=function(t){var n=!0;if(t.onMove){n=!1;for(var i=0;i<this._maxHang;i++){for(var a=0;a<this._maxLie;a++)if(this.checkCanSet(i,a,t)){t.hang=i,t.lie=a,t.onMove=!1,n=!0;break}if(n)break}}n?(t.furnitureInfo.placed=1,t.x=t.lie*this._cubeX-t.offsetX,t.y=t.hang*this._cubeY-t.offsetY,this.furnitureGroup.addChild(t),this._furnitureList.push(t),this.updateGrid(t,!1)):(e.showTips(e.Lang.ninmeiyoukeyibaifangdeweizhio,!0),this._furniturePool.destroyObject(t))},n.prototype.updateGrid=function(e,t){for(var n=e.lie,i=e.hang,a=e.sizeHang,o=e.sizeLie,s=0;a>s;s++)for(var r=0;o>r;r++){var u=this._grid.getNodeAt(n+r,i+s);u.walkable=t}},n.prototype.checkCanSet=function(e,t,n){for(var i=n.sizeHang,a=n.sizeLie,o=0;i>o;o++)for(var s=0;a>s;s++){var r=t+s,u=e+o;if(r>=this._maxLie||u>=this._maxHang)return!1;var l=this._grid.getNodeAt(t+s,e+o);if(l&&0==l.walkable)return!1}return!0},n.prototype.enterSetMode=function(){this._onset=!0,this.setGroup.visible=!0,this.normalGroup.visible=!1},n.prototype.exitHandle=function(){egret.clearInterval(this._interval),e.removePopUp(this)},n.prototype.setHandle=function(){this.enterSetMode()},n.prototype.searchHandle=function(){e.HomeSearch.getInstance().show()},n.prototype.makeHandle=function(){e.HomeMake.getInstance().show()},n.prototype.bagHandle=function(){e.HomeBag.getInstance().show()},n.prototype.selfHandle=function(){},n.prototype.friendHandle=function(){e.navPanel(24)},n.prototype.totalAttributeHandle=function(){e.HomeAttribute.getInstance().show()},n.prototype.expandHandle=function(){e.HomeExpand.getInstance().show()},n.prototype.onShow=function(){this.homeInfo=e.DataManager.playerModel.homeInfo,this.settingFurniture=e.DataManager.playerModel.settingFurniture,this.updateHomeInfo(this.homeInfo.level,this.settingFurniture.length),this.updateFurniture(this.settingFurniture),this.updatePoint(),this._interval=egret.setInterval(this.updatePoint,this,1e3)},n.prototype.updatePoint=function(){this.bagPoint.visible=!1,this.makePoint.visible=!1,this.searchPoint.visible=!1;for(var t=this.homeInfo.furnitures,n=0;n<t.length;n++){var i=t[n],a=i.level,o=e.Data.TFurnitureLv[a];if(o.upItem){for(var s=e.splitStringToNumberArray(o.upItem),r=!0,u=0;u<s.length;u++){var l=s[u],c=e.DataManager.playerModel.getItemCount(l[0]);if(c<l[1]){r=!1;break}}if(r){this.bagPoint.visible=!0;break}}}for(var n in e.Data.TFurnitureMake){var h=e.Data.TFurnitureMake[n];if(!(2==h.type1&&e.DataManager.playerModel.playerLevel<Number(e.Constants.artifactMakeOpenLv))){for(var p=e.splitStringToNumberArray(h.price,";"),g=e.DataManager.playerModel.getItemCount(p[0]),d=g>=p[1],r=!0,m=e.splitStringToNumberArray(h.makeItem),f=0;f<m.length;f++){var i=m[f],c=e.DataManager.playerModel.getItemCount(i[0]);c<i[1]&&(r=!1)}if(this.makePoint.visible=d&&r,this.makePoint.visible)break}}this.updateSearch()},n.prototype.updateSearch=function(){var t=this._tansuoData.count-this.homeInfo.search;if(t>0)return void(this.searchPoint.visible=!0);this._nowTime=e.getNowTime().getTime();for(var n,i,a=0;a<this.homeInfo.fgashapon.length;a++){var o=this.homeInfo.fgashapon[a];switch(o.id){case 1:n=o;break;case 11:i=o}}if(n.remainCount>0){var s=e.Data.TFGashapon[1],r=(this._nowTime-n.time.getTime())/1e3,u=s.freeInterval;if(r>u)return void(this.searchPoint.visible=!0)}if(e.DataManager.playerModel.playerLevel>=Number(e.Constants.ArtifactLookOpenLv)&&i.remainCount>0){var l=e.Data.TFGashapon[11],r=(this._nowTime-n.time.getTime())/1e3,u=l.freeInterval;
if(r>u)return void(this.searchPoint.visible=!0)}},n.prototype.updateFurniture=function(e){this._grid=new PF.Grid(this._maxLie,this._maxHang,this._matrix),this._furniturePool.destroyAllObject(),this._furnitureList=[];for(var t=0;t<e.length;t++){var n=this._furniturePool.createObject();n.setInfo(e[t]),this.addFurniture(n)}this.updateIndex()},n.prototype.updateHomeInfo=function(t,n){var i=e.Data.TFHomeLandLv[t];this.maxLevelLabel.text="规模等级: "+t,this.maxSetLabel.text="最大放置数: "+n+"/"+i.setMax},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.SET_FURNITURE="HomeScene_SET_FURNITURE",n}(e.PanelComponent);e.HomeScene=t,__reflect(t.prototype,"game.HomeScene")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._timeInterval=null,n._tansuoData=e.Data.TFSearch[1],n._xunbaoFreeData=e.Data.TFGashapon[1],n._xunbaoDiamondData=e.Data.TFGashapon[2],n._soushenFreeData=e.Data.TFGashapon[11],n._soushenDiamondData=e.Data.TFGashapon[12],n.skinName=HomeSearchSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.tansuoButton.label=e.Lang.tiansuo,this.xunbaoButton.label=e.Lang.xunbao,this.soushenButton.label=e.Lang.soushen,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.tansuoButton,callBackFunc:this.touchTypeButton},{target:this.xunbaoButton,callBackFunc:this.touchTypeButton},{target:this.soushenButton,callBackFunc:this.touchTypeButton},{target:this.tansuoConfirmButton,callBackFunc:this.tansuoHandle},{target:this.xunbaoFreeButton,callBackFunc:this.touchButton},{target:this.xunbaoDiamondButton,callBackFunc:this.touchButton},{target:this.soushenFreeButton,callBackFunc:this.touchButton},{target:this.soushenDiamondButton,callBackFunc:this.touchButton}],this.addEventAndNotify();for(var t=e.splitStringToNumberArray(this._tansuoData.itemShow,";"),n=0;n<t.length;n++){var i=new e.ItemIcon;i.item={type:t[n],count:0},this.tansuoRewardGroup.addChild(i)}this.tansuoConfirmButton.label=e.Lang.kaishitansuo,this.xunbaoFreeButton.label=e.Lang.mianfeixunbao,this.xunbaoDiamondButton.label=e.Lang.xunbaoshici,this.soushenFreeButton.label=e.Lang.mianfeisoushen,this.soushenDiamondButton.label=e.Lang.soushenshici,this.tansuoRewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t.showDetail&&t.showDetail()},this),this.xunbaoDiamondIcon.source="icon/item/"+this._xunbaoDiamondData.costItemType,this.xunbaoDiamondLabel.text=this._xunbaoDiamondData.costItemCount.toString(),this.xunbaoFreeIcon.source="icon/item/"+this._xunbaoFreeData.costItemType,this.xunbaoFreeLabel.text=this._xunbaoFreeData.costItemCount.toString(),this.soushenDiamondIcon.source="icon/item/"+this._soushenDiamondData.costItemType,this.soushenDiamondLabel.text=this._soushenDiamondData.costItemCount.toString(),this.soushenFreeIcon.source="icon/item/"+this._soushenFreeData.costItemType,this.soushenFreeLabel.text=this._soushenFreeData.costItemCount.toString()},n.prototype.tansuoHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._canTansuo?[4,e.DataManager.playerModel.fSearch()]:[3,2];case 1:return t.sent(),this.updateInfo(),[3,3];case 2:e.showTips(e.Lang.nindecishubuzu,!0),t.label=3;case 3:return[2]}})})},n.prototype.touchButton=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:switch(t){case this.xunbaoFreeButton:this._xunbaoFree?n=0:(n=this._xunbaoFreeData.costItemType,i=this._xunbaoFreeData.costItemCount),o=this._xunbaoInfo,a=1;break;case this.xunbaoDiamondButton:n=this._xunbaoDiamondData.costItemType,i=this._xunbaoDiamondData.costItemCount,a=2,o=this._xunbaoDiamondInfo;break;case this.soushenFreeButton:this._soushenFree?n=0:(n=this._soushenFreeData.costItemType,i=this._soushenFreeData.costItemCount),a=11,o=this._soushenInfo;break;case this.soushenDiamondButton:n=this._soushenDiamondData.costItemType,i=this._soushenDiamondData.costItemCount,a=12,o=this._soushenDiamondInfo}return n&&(s=e.DataManager.playerModel.getItemCount(n),i>s)?(e.showTips(e.Lang.nindedaojubuzu,!0),[2]):[4,e.DataManager.playerModel.fGashapon(a,o)];case 1:return r.sent(),this.updateInfo(),[2]}})})},n.prototype.touchTypeButton=function(t){return t==this.soushenButton&&e.DataManager.playerModel.playerLevel<Number(e.Constants.ArtifactLookOpenLv)?void e.showTips(e.formatString(e.Lang.dengjijiesuo,e.Constants.ArtifactLookOpenLv),!0):(this.tansuoButton.bg=t==this.tansuoButton?"ui/common/button/greenBtn":"ui/common/button/greenBtnGray",this.xunbaoButton.bg=t==this.xunbaoButton?"ui/common/button/greenBtn":"ui/common/button/greenBtnGray",this.soushenButton.bg=t==this.soushenButton?"ui/common/button/greenBtn":"ui/common/button/greenBtnGray",this.tansuoGroup.visible=t==this.tansuoButton,this.xunbaoGroup.visible=t==this.xunbaoButton,this.soushenGroup.visible=t==this.soushenButton,void this.updateInfo())},n.prototype.onShow=function(){this.homeInfo=e.DataManager.playerModel.homeInfo;for(var t=0;t<this.homeInfo.fgashapon.length;t++){var n=this.homeInfo.fgashapon[t];switch(n.id){case 1:this._xunbaoInfo=n;break;case 11:this._soushenInfo=n}}this.touchTypeButton(this.tansuoButton),this.updateInfo(),this._timeInterval=egret.setInterval(this.updateInfo,this,1e3)},n.prototype.updateInfo=function(){var t=this,n=this._tansuoData.count-this.homeInfo.search;this.tansuoCountLabel.text=e.Lang.shengyutansuocishu+": "+n,n>0?(this._canTansuo=!0,this.tansuoFreePoint.visible=!0,this.tansuoPoint.visible=!0):(this._canTansuo=!1,this.tansuoFreePoint.visible=this.tansuoPoint.visible=!1),this._nowTime=e.getNowTime().getTime();var i=function(n,i,a,o,s){n.visible=!1,s==t.xunbaoFreeButton?t._xunbaoFree=!1:t._soushenFree=!1,i.visible=!1,o.visible=!0,a.visible=!1,s.label=e.Lang.chouquyici},a=function(n,i,a,o,s,r,u){var l=(t._nowTime-r.time.getTime())/1e3,c=u.freeInterval;l>c?(n.visible=!0,s==t.xunbaoFreeButton?t._xunbaoFree=!0:t._soushenFree=!0,o.visible=!1,a.visible=!1,s.label=e.Lang.mianfeichouqu,i.visible=!0,i.text=e.Lang.shengyumianfeicishu+":"+r.remainCount):(n.visible=!1,s==t.xunbaoFreeButton?t._xunbaoFree=!1:t._soushenFree=!1,a.visible=!0,o.visible=!0,i.visible=!1,a.text=e.formatString(e.Lang.duoshaojijianhoumianfei,e.s2hms(c-l)),s.label=e.Lang.chouquyici)};this.xunbaoPoint.visible=!1,this._xunbaoInfo.remainCount<=0?i(this.xunbaoFreePoint,this.xunbaoCountLabel,this.xunbaoTimeLabel,this.xunbaoFreeCostGroup,this.xunbaoFreeButton):(a(this.xunbaoFreePoint,this.xunbaoCountLabel,this.xunbaoTimeLabel,this.xunbaoFreeCostGroup,this.xunbaoFreeButton,this._xunbaoInfo,this._xunbaoFreeData),this._xunbaoFree&&(this.xunbaoPoint.visible=!0)),this.soushenPoint.visible=!1,this._soushenInfo.remainCount<=0?i(this.soushenFreePoint,this.soushenCountLabel,this.soushenTimeLabel,this.soushenFreeCostGroup,this.soushenFreeButton):(a(this.soushenFreePoint,this.soushenCountLabel,this.soushenTimeLabel,this.soushenFreeCostGroup,this.soushenFreeButton,this._soushenInfo,this._soushenFreeData),this._soushenFree&&(this.soushenPoint.visible=!0)),e.DataManager.playerModel.playerLevel<Number(e.Constants.ArtifactLookOpenLv)&&(this.soushenPoint.visible=!1)},n.prototype.closeHandle=function(){egret.clearInterval(this._timeInterval),e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.HomeSearch=t,__reflect(t.prototype,"game.HomeSearch")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=HuntBallSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.addButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showBuy,this),this.ballButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.NotificationCenter.getInstance().postNotification(n.TOUCH,t)},this)},n.prototype.setData=function(t){this.ballData=e.Data.TItem[t],this.ballButton.icon="icon/item/"+t,this.updateCount()},n.prototype.updateCount=function(){this.ownCount=e.DataManager.playerModel.getItemCount(this.ballData.id),this.countLabel.text="x"+this.ownCount},n.prototype.showBuy=function(){var t=this,n=this,i=e.CheckPanel.getInstance(),a=1;(13001==n.ballData.id||13004==n.ballData.id)&&(a=5);var o=e.Data.TItem[n.ballData.buyItemType],s=n.ballData.buyPrice*a;i.setData(e.formatString(e.Lang.quedinghuafeishengmegoumaishenm,o.name+"x"+s,n.ballData.name+"x"+a),function(i){return __awaiter(t,void 0,void 0,function(){var t;return __generator(this,function(o){switch(o.label){case 0:return i?(t=e.DataManager.playerModel.getItemCount(n.ballData.buyItemType),t>=s?[4,e.DataManager.playerModel.buyItem({type:n.ballData.id,count:a},{type:n.ballData.buyItemType,count:s})]:[3,2]):[3,3];case 1:return o.sent(),n.updateCount(),[3,3];case 2:e.showTips(e.Lang.nindehuobibuzu,!0),o.label=3;case 3:return[2]}})})}),i.show()},Object.defineProperty(n.prototype,"select",{set:function(e){this.ballButton.scaleX=this.ballButton.scaleY=e?1.3:1},enumerable:!0,configurable:!0}),n.TOUCH="HuntBall_TOUCH",n}(e.GameComponent);e.HuntBall=t,__reflect(t.prototype,"game.HuntBall")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=HuntItemSkin,e.touchChildren=!1,e}return __extends(n,t),n.prototype.setData=function(t){this.huntData=t,this.nameLabel.text=t.name,this.limitLabel.text=e.formatString(e.Lang.duoshaoguankaifang,t.limit);var n=e.DataManager.playerModel.playerLevel;this.limitLabel.visible=n<t.limit,this.lock=n<t.limit,this.imageDisplay.source="ui/scene/hunt/"+t.id+"_min"},Object.defineProperty(n.prototype,"select",{set:function(e){this.selectRect.visible=e},enumerable:!0,configurable:!0}),n.prototype.update=function(){this.setData(this.huntData)},n}(e.GameComponent);e.HuntItem=t,__reflect(t.prototype,"game.HuntItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._pokemonList=[],e._dataList=[],e.skinName=HuntLootDetailSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.leftArrow,callBackFunc:this.leftHandle},{target:this.rightArrow,callBackFunc:this.rightHandle}],this.addEventAndNotify(),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target&&e.target.showDetail&&e.target.showDetail()},this);var t={};this._dataList=[];for(var n=0;n<e.Data.THuntLoot.length;n++){var i=e.Data.THuntLoot[n];t[i.PokemonID]||(t[i.PokemonID]=i.PokemonID,this._dataList.push(i))}this._dataList.sort(function(t,n){var i=e.Data.TElf[t.PokemonID],a=e.Data.TElf[n.PokemonID];return i&&a?i.quality-a.quality:0}),this._currentPage=1,this._maxPage=Math.ceil(this._dataList.length/20),this.updatePage()},n.prototype.leftHandle=function(){this._currentPage--,this.updatePage()},n.prototype.rightHandle=function(){this._currentPage++,this.updatePage()},n.prototype.updatePage=function(){this.itemGroup.removeChildren();for(var t=20*(this._currentPage-1),n=t+20,i=t;n>i;i++){var a=this._dataList[i];if(!a)break;var o=this._pokemonList[i];o||(o=new e.HuntPokemonItem,this._pokemonList[i]=o),o.setPokemon(a.PokemonID),this.itemGroup.addChild(o)}this.pageLabel.text=this._currentPage+"/"+this._maxPage,this.leftArrow.visible=this._currentPage>1,this.rightArrow.visible=this._currentPage<this._maxPage},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.HuntLootDetail=t,__reflect(t.prototype,"game.HuntLootDetail")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._ballList=[],e._pokemonList=[],e._page=1,e._animList=[],e._showIDs={},e._animRun=!1,e._smallTitles=["","langs/gaojilvchuxian","langs/zhongjilvchuxian","langs/dijilvchuxian","langs/jidijilvchuxian"],e.skinName=HuntPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._adjust=!0,this.typeButton1.noScale=this.typeButton2.noScale=this.typeButton3.noScale=!0,this.typeButton1.image="langs/chujishouliequ",this.typeButton2.image="langs/zhongjishouliequ",this.typeButton3.image="langs/gaojishouliequ",this.smallTitleImage1.source="langs/gaojilvchuxian",this.enterButton.image="langs/Tx_jinru",this.previewButton.icon="ui/scene/book/xiangqing",this.replaceButton.image="langs/Tx_zhijiejc",this.replaceButton.bg="ui/common/button/orange",this.replaceButton.visible=this.replaceBg.visible=this.replaceCostImage.visible=this.replaceLabel.visible=this.replaceIcon.visible=!1,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.enterButton,callBackFunc:this.enterHandle},{target:this.replaceButton,callBackFunc:this.enterHandle},{target:this.costItemIcon,callBackFunc:this.costHandle},{target:this.previewButton,callBackFunc:this.showLootDetail}],this.addEventAndNotify(),this._radioGroup=new e.RadioGroup(this.typeButtonGroup,[this.typeButton1,this.typeButton2,this.typeButton3],this.touchTypeButton,this,this.changeTypeButton),this.itemGroup1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showPokemonDetail,this),this.itemGroup2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showPokemonDetail,this),this.itemGroup3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showPokemonDetail,this)},n.prototype.changeTypeButton=function(e,t){e.bg=t?"ui/scene/bag/select":"ui/scene/bag/unSelect"},n.prototype.touchTypeButton=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:switch(this._currentButton=e,e){case this.typeButton1:this.page=1;break;case this.typeButton2:this.page=2;break;case this.typeButton3:this.page=3}return[4,this.updateInfo()];case 1:return t.sent(),[2]}})})},Object.defineProperty(n.prototype,"page",{get:function(){return this._page},set:function(e){this._page=Math.max(1,Math.min(this._huntDataList.length,e))},enumerable:!0,configurable:!0}),n.prototype.showPokemonDetail=function(e){var t=e.target;t.showDetail()},n.prototype.showLootDetail=function(){e.HuntLootDetail.getInstance().show()},n.prototype.costHandle=function(){var t=e.ItemInfoPanel.getInstance();t.setData(e.Data.TItem[this._currentHuntData.costItemType]),t.show()},n.prototype.updateInfo=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,u,l,c,h,p,s,g,d,m,s,f,s,a,_=this;return __generator(this,function(y){for(this._currentHuntData=this._huntDataList[this.page-1],this.costItemIcon.source="icon/item/"+this._currentHuntData.costItemType,t=e.DataManager.playerModel.getItemCount(this._currentHuntData.costItemType),n=this._currentHuntData.costItemCount,this._currentHuntData.coefficient&&(n+=e.DataManager.playerModel.getPlayerInfo().level*this._currentHuntData.coefficient),this.costItemLabel.text=""+e.setNumber(n),this.costItemLabel.textColor=t>=n?gameConfig.TextColors.green:gameConfig.TextColors.red,this._canEnter=t>=n,this._nowTime=e.getNowTime(),this.timeLabel.text=e.Lang.xianzhishijian+": "+e.s2hms(this._currentHuntData.time),i=e.splitStringToNumberArray(this._currentHuntData.HuntDescribe,"|"),this.smallTitleImage1.source=this._smallTitles[i[0]],this.smallTitleImage2.source=this._smallTitles[i[1]],this.smallTitleImage3.source=this._smallTitles[i[2]],this._currentHuntData.replace?(a=e.splitStringToNumberArray(this._currentHuntData.replace,";"),this.replaceButton.visible=this.replaceBg.visible=this.replaceCostImage.visible=this.replaceLabel.visible=this.replaceIcon.visible=!0,this.replaceIcon.source="icon/item/"+a[0],this.replaceLabel.text=""+a[1]):this.replaceButton.visible=this.replaceBg.visible=this.replaceCostImage.visible=this.replaceLabel.visible=this.replaceIcon.visible=!1,this.pokemonBallGroup.removeChildren(),o=e.splitStringToNumberArray(this._currentHuntData.AvailableID),s=0;s<o.length;s++)this._ballList[s]||(this._ballList[s]=new e.HuntBall),r=this._ballList[s],r.setData(o[s]),this.pokemonBallGroup.addChild(r);if(u=e.DataManager.playerModel.huntLootData.filter(function(e){return e.id==_._currentHuntData.id})[0]){for(l=[],c=[],h=[],p=[],s=0;s<u.hunts.length;s++)g=u.hunts[s],g&&(2==g.getDifficulty?h.push(g):1==g.getDifficulty?c.push(g):l.push(g),p.push({id:s,weight:g.weight,data:g.pokemonId}));for(d=0,m=function(t,n){t.removeChildren(),n.sort(function(t,n){var i=e.Data.TElf[t.pokemonId],a=e.Data.TElf[n.pokemonId];return i&&a?i.quality-a.quality:-1});for(var i=0;i<n.length;i++){_._pokemonList[d]||(_._pokemonList[d]=new e.HuntPokemonItem);var a=_._pokemonList[d];a.setPokemon(n[i].pokemonId,!1),t.addChild(a),d++}},m(this.itemGroup1,l),m(this.itemGroup2,c),m(this.itemGroup3,h),s=d;s<this._pokemonList.length;s++)this._pokemonList[s].stop();if(!this._showIDs[this._currentHuntData.id]){for(f=[],s=0;5>s;s++)a=e.loot(p),p.splice(p.indexOf(a),1),f.push(a);this._showIDs[this._currentHuntData.id]=f}this.updateAnim()}return[2]})})},n.prototype.updateAnim=function(){return __awaiter(this,void 0,void 0,function(){var e,t,n,i,t,a=this;return __generator(this,function(o){switch(o.label){case 0:e=this._showIDs[this._currentHuntData.id],t=0,o.label=1;case 1:return t<this._animList.length?(n=this._animList[t],[4,n.setData({delay:200,size:{row:4,col:4},resource:"anim/pokemon/"+e[t].data})]):[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:if(this._animRun)return[2];for(i=function(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),a._animRun){var o=10;null==t&&(t=250*Math.random()),null==n&&(n=100*Math.random());var s,r,u,l;Math.random()>.5?(s=250*Math.random(),r=n,l=s>t?3:2,u=Math.abs(s-t)/o*1e3):(r=100*Math.random(),s=t,l=r>n?1:4,u=Math.abs(r-n)/o*1e3),e.setDisplayPosition(t,n),e.play(l),egret.Tween.get(e.display).to({x:s,y:r},u).call(function(){i(e,s,r)})}},this._animRun=!0,t=0;t<this._animList.length;t++)i(this._animList[t]);return[2]}})})},n.prototype.closeHandle=function(){for(var t=0;t<this._pokemonList.length;t++)this._pokemonList[t].stop();for(var t=0;t<this._animList.length;t++)this._animList[t].stop();this._human.stop(),this._animRun=!1,e.removePopUp(this)},n.prototype.enterHandle=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s,r,u,l=this;return __generator(this,function(c){switch(c.label){case 0:if(e.DataManager.playerModel.playerLevel<this._currentHuntData.limit)return e.showTips(e.formatString(e.Lang.duoshaoguankaifang,this._currentHuntData.limit),!0),[2];if(n=null,t==this.replaceButton&&(i=e.splitStringToNumberArray(this._currentHuntData.replace,";"),n={type:i[0],count:i[1]}),!n&&!this._canEnter||n&&!e.checkCanBuy(n))return e.showTips(e.Lang.nindedaojubuzu,!0),[2];for(a=!1,o=e.splitStringToNumberArray(this._currentHuntData.AvailableID),s=0;s<o.length;s++)if(r=e.DataManager.playerModel.getItemCount(o[s]),r>0){a=!0;break}return a?[3,1]:(u=e.CheckPanel.getInstance(),u.setData(e.Lang.ninmeiyouxiedaorenhejinglingqiuquerenjinruma,function(e){return __awaiter(l,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return e?[4,this.enter(n)]:[3,2];case 1:t.sent(),this.closeHandle(),t.label=2;case 2:return[2]}})})}),u.show(),[3,3]);case 1:return[4,this.enter(n)];case 2:c.sent(),this.closeHandle(),c.label=3;case 3:return[2]}})})},n.prototype.enter=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return e.DataManager.playerModel.checkPokemonBagFull()?(e.showTips(e.Lang.nindebaokemengbeibaoyiman,!0),[2]):(e.showWaitPanel(),[4,e.DataManager.playerModel.startHunt(this._currentHuntData,t)]);case 1:return n=a.sent(),n?[4,e.loadBones("zhuadaoguai")]:[3,5];case 2:return a.sent(),[4,e.loadBones("meizhuadaoguai")];case 3:return a.sent(),[4,e.loadGroup("hunt")];case 4:return a.sent(),i=e.HuntScene.getInstance(),i.setHunt(this._currentHuntData),i.show(),e.hideWaitPanel(),[3,6];case 5:e.hideWaitPanel(),e.showTips(e.Lang.chuxiancuowu,!0),a.label=6;case 6:return[2]}})})},n.prototype.firstShow=function(){return __awaiter(this,void 0,void 0,function(){var t,t,n;return __generator(this,function(i){switch(i.label){case 0:this._huntDataList=[];for(t in e.Data.THunt)e.Data.THunt.hasOwnProperty(t)&&this._huntDataList.push(e.Data.THunt[t]);for(t=0;5>t;t++)n=new e.SequenceImage,n.setScale(.6),this._animList.push(n),this.animGroup.addChild(n.display);return this._human=new e.SequenceImage,this._human.setScale(.5),[4,this._human.setData({delay:200,size:{row:4,col:4},resource:"anim/role/5009"})];case 1:return i.sent(),this.avatarGroup.addChild(this._human.display),this._currentButton=this.typeButton1,[2]}})})},n.prototype.onShow=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.openHunt()];case 1:return t.sent(),this._human.play(1),this._radioGroup.touchButton(this._currentButton),[2]}})})},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.ballIds=[13001,13002,13003],n}(e.PanelComponent);e.HuntPanel=t,__reflect(t.prototype,"game.HuntPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.displayGroup=new eui.Group,n.displayGroup.width=n.displayGroup.height=100,n.displayGroup.touchEnabled=!1,n._bitmap.x=50,n._bitmap.y=100,n.displayGroup.addChild(n.display),n.nameLabel=new eui.Label,n.nameLabel.size=20,n.nameLabel.horizontalCenter=0,n.nameLabel.bottom=0,n.nameLabel.stroke=2,n.displayGroup.addChild(n.nameLabel),n.nameLabel.touchEnabled=!1,n.display.touchEnabled=!0,n.display.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.NotificationCenter.getInstance().postNotification(e.HuntScene.TOUCH_POKEMON,n)},n),n}return __extends(n,t),n.prototype.setPokemon=function(n){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return this.pokemonId=n,i=e.Data.TElf[n],this.nameLabel.text=i.name,this.nameLabel.textColor=e.TeamBagPokemonIcon.textColor[i.quality],[4,t.prototype.setData.call(this,{delay:150,size:{col:4,row:4},resource:"anim/pokemon/"+n})];case 1:return a.sent(),this.nameLabel.visible=!0,this.display.scaleX=this.display.scaleY=1,this.display.alpha=1,[2]}})})},n.prototype.setDisplayPosition=function(e,t){this.displayGroup.x=e,this.displayGroup.y=t},Object.defineProperty(n.prototype,"displayPosition",{get:function(){return[this.displayGroup.x,this.displayGroup.y]},enumerable:!0,configurable:!0}),n.prototype.run=function(){var t,n=this,i=Math.random();i>.5?(this.startX=-100,this.endX=820,this._dir=3):(this.startX=820,this.endX=-100,this._dir=2),i=Math.random(),t=574*i,this.setDisplayPosition(this.startX,t),this.play(this._dir),this.runTime=1e4+5e3*Math.random(),egret.Tween.get(this.displayGroup).to({x:this.endX},this.runTime).call(function(){e.NotificationCenter.getInstance().postNotification(e.HuntScene.POKEMON_MOVE_END,n)})},n.prototype.removeTween=function(){egret.Tween.removeTweens(this._bitmap),egret.Tween.removeTweens(this.displayGroup)},n.prototype.showSuccess=function(){egret.Tween.get(this.display).to({scaleX:.5,scaleY:.5,alpha:0},460)},n.prototype.showFails=function(){var t=this,n=(this.endX-this.startX)/this.runTime,i=(this.endX-this.displayGroup.x)/n;egret.Tween.get(this.display).to({scaleX:.5,scaleY:.5,alpha:0},460).wait(2290).to({scaleX:1,scaleY:1,alpha:1},670).call(function(){t.play(t._dir),egret.Tween.get(t.displayGroup).to({x:t.endX},i).call(function(){e.NotificationCenter.getInstance().postNotification(e.HuntScene.POKEMON_MOVE_END,t)})})},n}(e.VectorAnim);e.HuntPokemon=t,__reflect(t.prototype,"game.HuntPokemon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.skinName=HuntPokemonItemSkin,n.touchChildren=!1,n._pokemon=new e.TeamArtPokemon,n.pokemonGroup.addChild(n._pokemon.display),n}return __extends(n,t),n.prototype.setPokemon=function(t,n){void 0===n&&(n=!0),this.id=t,this.pokemonData=e.Data.TElf[t],this._pokemon.setPokemon(t,n)},n.prototype.play=function(){this._pokemon.play(1)},n.prototype.stop=function(){this._pokemon.stop()},n.prototype.stay=function(){this._pokemon.stay()},n.prototype.showDetail=function(){var t=e.PokemonDetail.getInstance();t.setCurrentPokemon(this.id),t.show()},n}(e.GameComponent);e.HuntPokemonItem=t,__reflect(t.prototype,"game.HuntPokemonItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._pokemonList=[],e.skinName=HuntResultSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.confirmButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},n.prototype.closeHandle=function(){this._bone.stop();for(var t=0;t<this._pokemonList.length;t++){var n=this._pokemonList[t];n.stop()}e.removePopUp(this),e.NotificationCenter.getInstance().postNotification("enterScene","狩猎场结束")},n.prototype.setReward=function(t){this.rewardScroller.viewport.scrollV=0,this._bone||(this._bone=new e.SkeletonBase,this.boneGroup.addChild(this._bone),this._bone.createBones("niudan")),this._bone.play(null,0),this.rewardGroup.removeChildren(),this.createPokemon(t)},n.prototype.createPokemon=function(t){for(var n=0;n<t.length;n++){this._pokemonList[n]||(this._pokemonList[n]=new e.IdleRewardPokemon);var i=this._pokemonList[n];i.setData(t[n]),this.rewardGroup.addChild(i)}},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.HuntResult=t,__reflect(t.prototype,"game.HuntResult")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._ballList=[],n._interval=null,n._pokemonList=[],n._pokemonLootList=[],n._stagePokemon=[],n._pokemonIconPool=new e.ObjectPool(e.PokemonIcon),n._catchPokemonInfo=[],n.skinName=HuntSceneSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){var t=this;this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,function(e){t.touchBall(e)},e.HuntBall.TOUCH),e.NotificationCenter.getInstance().addObserver(this,function(e){t.touchPokemon(e)},n.TOUCH_POKEMON),e.NotificationCenter.getInstance().addObserver(this,function(e){t.pokemonMoveEnd(e)},n.POKEMON_MOVE_END)},n.prototype.onShow=function(){e.SoundManager.playBgSound("music/shouliequ")},n.prototype.closeHandle=function(){var t=this,n=e.CheckPanel.getInstance();n.setData(e.Lang.ninquedingyaotuichuma,function(e){e&&t.quit()}),n.show()},n.prototype.quit=function(){this._quit=!0,egret.stopTick(this.orderPokemon,this),null!=this._interval&&egret.clearInterval(this._interval);for(var t=0;t<this._stagePokemon.length;t++){var n=this._stagePokemon[t];n.stop(),n.removeTween()}if(this._catchPokemonInfo.length>0){var i=e.HuntResult.getInstance();i.setReward(this._catchPokemonInfo),i.show()}else e.NotificationCenter.getInstance().postNotification("enterScene","狩猎场结束");e.removePopUp(this),e.IdleScene.getInstance().playMusic()},n.prototype.touchBall=function(e){for(var t=0;t<this._ballList.length;t++)this.changeBall(this._ballList[t],!1);this.selectBall(e),this.changeBall(e,!0)},n.prototype.touchPokemon=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:return this._currentBall.ownCount>0?[4,e.DataManager.playerModel.huntCatChPokemon(t.pokemonId,this._currentBall.ballData.id)]:[3,10];case 1:return n=r.sent(),null==n?(e.showTips(e.Lang.chuxiancuowu,!0),[2]):(this._currentBall.updateCount(),t.display.touchEnabled=!1,t.stop(),t.removeTween(),[4,e.loadRes("ui/scene/hunt/ball_"+this._currentBall.ballData.id)]);case 2:return i=r.sent(),a=!1,n.type&&(a=!0,this._catchPokemonInfo.push(n)),a?[4,e.getBone("zhuadaoguai")]:[3,6];case 3:return o=r.sent(),o.setSlot("qiu",!0,i),o.x=50,o.y=100,t.showSuccess(),t.displayGroup.addChildAt(o,1),[4,o.play(null,1)];case 4:return r.sent(),e.destroyBone(o),t.nameLabel.visible=!1,this.successCatchPokemon(t.pokemonId),[4,e.delay(2e3*Math.random())];case 5:return r.sent(),this.pokemonMoveEnd(t),[3,9];case 6:return[4,e.getBone("meizhuadaoguai")];case 7:return s=r.sent(),s.setSlot("qiu",!0,i),s.x=50,s.y=100,t.showFails(),t.displayGroup.addChildAt(s,1),[4,s.play(null,1)];case 8:r.sent(),e.destroyBone(s),r.label=9;case 9:return t.display.touchEnabled=!0,[3,11];case 10:this._currentBall.showBuy(),r.label=11;case 11:return[2]}})})},n.prototype.successCatchPokemon=function(e){var t=this._pokemonIconPool.createObject();t.pokemon=e,this.getPokemonGroup.addChild(t),this.updateCatchLabel()},n.prototype.pokemonMoveEnd=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._quit?[2]:[4,e.setPokemon(this.randomPokemon())];case 1:return t.sent(),e.run(),[2]}})})},n.prototype.selectBall=function(e){this._currentBall=e},n.prototype.changeBall=function(e,t){e.select=t},n.prototype.setHunt=function(t){this.huntData=t,this.bg.source="ui/scene/hunt/"+t.id,this._catchPokemonInfo=[],this.scroller.viewport.scrollH=0,this._pokemonIconPool.destroyAllObject(),this._quit=!1,this.ballGroup.removeChildren();for(var n=e.splitStringToNumberArray(t.AvailableID),i=0;i<n.length;i++){this._ballList[i]||(this._ballList[i]=new e.HuntBall);var a=this._ballList[i];a.horizontalCenter=249*(i-1),a.verticalCenter=0,a.setData(n[i]),this.ballGroup.addChild(a)}this.touchBall(this._ballList[0]);for(var i=0;i<this._ballList.length;i++)this._ballList[i].updateCount();this._starTime=e.getNowTime(),this.updateTime(),this._interval=egret.setInterval(this.updateTime,this,1e3),this._pokemonLootList=[];var o=e.DataManager.playerModel.huntLootData.filter(function(e){return e.id==t.id})[0];if(o)for(var s=o.hunts,i=0;i<s.length;i++){var r=s[i];r&&this._pokemonLootList.push({id:i,weight:r.weight,data:r.pokemonId})}this.runPokemon(),egret.startTick(this.orderPokemon,this),this.updateCatchLabel()},n.prototype.orderPokemon=function(){this._stagePokemon=this._stagePokemon.sort(function(e,t){return e.displayPosition[1]-t.displayPosition[1]});for(var e=0;e<this._stagePokemon.length;e++){var t=this._stagePokemon[e];this.pokemonGroup.setChildIndex(t.displayGroup,e)}return!0},n.prototype.runPokemon=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(a){switch(a.label){case 0:this._stagePokemon=[],this.pokemonGroup.removeChildren(),t=0,a.label=1;case 1:return 8>t?(n=this._pokemonList[t],n||(n=new e.HuntPokemon,this._pokemonList[t]=n),[4,n.setPokemon(this.randomPokemon())]):[3,5];case 2:return a.sent(),this._quit?[2]:(this.pokemonGroup.addChild(n.displayGroup),this._stagePokemon.push(n),n.run(),i=2e3*Math.random(),[4,e.delay(i)]);case 3:a.sent(),a.label=4;case 4:return t++,[3,1];case 5:return[2]}})})},n.prototype.randomPokemon=function(){var t=e.loot(this._pokemonLootList);return t.data},n.prototype.updateTime=function(){this._nowTime=e.getNowTime();var t=(this._nowTime.getTime()-this._starTime.getTime())/1e3,n=this.huntData.time,i=n-t;this.timeLabel.text=e.Lang.shengyushijian+": "+e.s2hms(i),0>=i&&(e.showTips(e.Lang.shijiandao),this.quit())},n.prototype.updateCatchLabel=function(){this.totalLabel.text=e.Lang.yihuode+": "+this._catchPokemonInfo.length},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.TOUCH_POKEMON="HuntScene_TOUCH_POKEMON",n.POKEMON_MOVE_END="HuntScene_POKEMON_MOVE_END",n}(e.PanelComponent);e.HuntScene=t,__reflect(t.prototype,"game.HuntScene")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=CatchPokemonBallSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.enterButton.imageDisplay.source="langs/touzhi",this.addButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showBuy,this),this.ballButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.ballData?e.NotificationCenter.getInstance().postNotification(n.TOUCH,t):e.showTips(e.Lang.zanweikaifang,!0)
},this)},n.prototype.setData=function(t){switch(this.ballData=e.Data.TItem[t],this.ballButton.icon="icon/item/"+t,t){case 13001:this.infoLabel.text=e.Lang.yibanbuhuolv,this.ballNameImage.source="ui/scene/idle/Tx_putongqiu";break;case 13002:this.infoLabel.text=e.Lang.gaobuhuolv,this.ballNameImage.source="ui/scene/idle/Tx_chaojiqiu";break;case 13003:this.infoLabel.text=e.Lang.bizhong,this.ballNameImage.source="ui/scene/idle/Tx_dashiqiu";break;case 13004:this.infoLabel.text=e.Lang.weikaifang,this.infoLabel.textColor=gameConfig.TextColors.red,this.ballNameImage.source="ui/scene/idle/Tx_yuanyeqiu";break;case 13005:this.infoLabel.text=e.Lang.weikaifang,this.infoLabel.textColor=gameConfig.TextColors.red,this.ballNameImage.source="ui/scene/idle/Tx_chongfuqiu";break;case 13006:this.infoLabel.text=e.Lang.weikaifang,this.infoLabel.textColor=gameConfig.TextColors.red,this.ballNameImage.source="ui/scene/idle/Tx_anheiqiu";break;case 13007:this.infoLabel.text=e.Lang.weikaifang,this.infoLabel.textColor=gameConfig.TextColors.red,this.ballNameImage.source="ui/scene/idle/Tx_huangjinqiu"}this.updateCount()},n.prototype.updateCount=function(){this.ballData?this.ownCount=e.DataManager.playerModel.getItemCount(this.ballData.id):this.ownCount=0,this.countLabel.text="x"+this.ownCount},n.prototype.showBuy=function(){var t=this;if(!this.ballData)return void e.showTips(e.Lang.zanweikaifang,!0);var n=this,i=e.CheckPanel.getInstance(),a=1;13001==n.ballData.id&&(a=5);var o=e.Data.TItem[n.ballData.buyItemType],s=n.ballData.buyPrice*a;i.setData(e.formatString(e.Lang.quedinghuafeishengmegoumaishenm,o.name+"x"+s,n.ballData.name+"x"+a),function(i){return __awaiter(t,void 0,void 0,function(){var t;return __generator(this,function(o){switch(o.label){case 0:return i?(t=e.DataManager.playerModel.getItemCount(n.ballData.buyItemType),t>=s?[4,e.DataManager.playerModel.buyItem({type:n.ballData.id,count:a},{type:n.ballData.buyItemType,count:s})]:[3,2]):[3,3];case 1:return o.sent(),n.updateCount(),[3,3];case 2:e.showTips(e.Lang.nindehuobibuzu,!0),o.label=3;case 3:return[2]}})})}),i.show()},Object.defineProperty(n.prototype,"select",{set:function(e){this.ballButton.scaleX=this.ballButton.scaleY=e?1.3:1},enumerable:!0,configurable:!0}),n.TOUCH="CatchBall_TOUCH",n}(e.GameComponent);e.CatchPokemonBall=t,__reflect(t.prototype,"game.CatchPokemonBall")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e._itemIconList=[],e.skinName=CommonGetRewardPanelSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){var t=this;this.confirmButton.bg="ui/common/button/btn_02",this.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){null!=t.callback&&(t.callback(),t._type==n.Share||t._type==n.AddDesktop)},this),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){var n=t.$target;if(null!=n){var i=e.ItemInfoPanel.getInstance();i.setData(n.itemData),i.show()}},this),this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removePopUp(t)},this)},i.prototype.setData=function(t,i,a){this._type=t,this.callback=a,t==n.Share?(this.titleImage.source="ui/scene/idle/Tx_meirifx",this.descImage.source="ui/scene/idle/Tx_meirifsdqq",this.confirmButton.image="ui/scene/idle/Tx_meirifx",this.bgImage.source="ui/scene/team/UI_bg_meirifxshl"):t==n.AddDesktop&&(this.titleImage.source="ui/scene/idle/Tx_tianjiadzmshl",this.descImage.source="ui/scene/idle/Tx_tianjiayxtbdsj",this.confirmButton.image="ui/scene/idle/Tx_liketj",this.bgImage.source="ui/scene/team/UI_bg_tianjiadaozmshl"),this.itemGroup.removeChildren();for(var o=e.splitStringToNumberArray(i),s=0;s<o.length;s++)this._itemIconList[s]||(this._itemIconList[s]=new e.ItemIcon),this._itemIconList[s].item={type:o[s][0],count:o[s][1]},this._itemIconList[s].$setScaleX(.85),this._itemIconList[s].$setScaleY(.85),this._itemIconList[s].visible=!0,this.itemGroup.addChild(this._itemIconList[s]);return this},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.PanelComponent);e.CommonGetRewardPanel=t,__reflect(t.prototype,"game.CommonGetRewardPanel");var n;!function(e){e[e.Share=0]="Share",e[e.AddDesktop=1]="AddDesktop"}(n=e.CommonRewardType||(e.CommonRewardType={}))}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=FastBattleSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.freeButton.image="langs/mianfei",this.costButton.bgDisplay.source="ui/common/button/orange",this.closeButton.bg="ui/common/button/btn_07a",this.closeButton.image="langs/Tx_guanbick",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.freeButton,callBackFunc:this.buyHandle},{target:this.costButton,callBackFunc:this.buyHandle}],this.addEventAndNotify()},n.prototype.onShow=function(){this._artAnim.play("wait",0),this.updateInfo()},n.prototype.firstShow=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._artAnim?[3,2]:(t=this,[4,e.getBone("kuaisuzhandou")]);case 1:t._artAnim=n.sent(),this.animGroup.addChild(this._artAnim),n.label=2;case 2:return[2]}})})},n.prototype.updateInfo=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,u;return __generator(this,function(l){return t=e.DataManager.playerModel.getDungeonData(e.DataManager.playerModel.currentMission),n=Number(e.Constants.quickBattleTimes),this._earnGold=t.Gold*n,this._earnExp=t.Exp*n,this.goldLabel.text=e.setNumber(this._earnGold),this.expLabel.text=e.setNumber(this._earnExp),i=t.playExp*Number(e.Constants.quickBattleLead),this.playerExpLabel.text=e.setNumber(i),a=e.Data.TVip[e.DataManager.playerModel.playerVip],o=e.DataManager.playerModel.extension.quickBattleBuyCount,s=e.DataManager.playerModel.extension.quickBattleCount-o,r=Math.max(0,a.quickBattle-s),u=Math.max(0,a.quickBattleBuy-o),this.freeLabel.text=r+"/"+a.quickBattle,this.buyLabel.text=u+"/"+a.quickBattleBuy,this.costButton.item={type:2,count:Number(e.Constants.quickBattlePrice)+Number(e.Constants.quickBattleAddPrice)*o},this._free=r>0,this.freeButton.visible=this._free,this.costButton.visible=!this._free,[2]})})},n.prototype.closeHandle=function(){this._artAnim&&this._artAnim.stop(),e.removePopUp(this)},n.prototype.buyHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:if(!this._free){if(t=this.costButton.itemInfo,n=e.Data.TVip[e.DataManager.playerModel.playerVip].quickBattleBuy-e.DataManager.playerModel.extension.quickBattleBuyCount,0>=n)return e.showTips(e.Lang.jinrikuaisuzhandoucishubuzu,!0),[2];if(!e.checkCanBuy(t))return e.showTips(e.Lang.nindehuobibuzu,!0),[2]}return[4,this._artAnim.play("click",1)];case 1:return i.sent(),this._artAnim.play("wait",0),[4,e.DataManager.playerModel.getFastBattleReward(t)];case 2:return i.sent(),this.updateInfo(),[2]}})})},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.FastBattle=t,__reflect(t.prototype,"game.FastBattle")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=IdleAutoBattleProgressSkin,e}return __extends(n,t),n.prototype.childrenCreated=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return t.prototype.childrenCreated.call(this),this.progressBar.labelDisplay.visible=!1,this.boneGroup.removeChildren(),n=this,[4,e.getBone("loading")];case 1:return n._bone=i.sent(),this.boneGroup.addChild(this._bone),[2]}})})},n.prototype.play=function(){this._bone.play("wait_nozi",0)},n.prototype.stop=function(){this._bone.stop()},Object.defineProperty(n.prototype,"value",{get:function(){return this.progressBar.value},set:function(e){this.progressBar.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maximum",{get:function(){return this.progressBar.maximum},set:function(e){this.progressBar.maximum=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minimum",{set:function(e){this.progressBar.minimum=e},enumerable:!0,configurable:!0}),n}(eui.Component);e.IdleAutoBattleProgress=t,__reflect(t.prototype,"game.IdleAutoBattleProgress")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.displayGroup=new eui.Group,e.displayGroup.width=e.displayGroup.height=100,e.displayGroup.touchChildren=e.displayGroup.touchEnabled=!1,e.displayGroup.addChild(e._bitmap),e.ball=new eui.Image("icon/ball/1"),e.ball.anchorOffsetX=e.ball.anchorOffsetY=50,e.ball.scaleX=e.ball.scaleY=.25,e.shadow=new eui.Image("anim/pokemon/shadow"),e.shadow.x=30,e.shadow.y=35,e.displayGroup.addChildAt(e.shadow,0),e}return __extends(n,t),n.prototype.changeDirection=function(e){this.direction!=e&&(this.direction=e,this.changeWingDirection(e),this.changeDecorationDirection(e),this.play(e))},n.prototype.setAvatar=function(e,n,i,a){void 0===i&&(i=!1),void 0===a&&(a=!1),this.avatarId=e,this.type=n;var o;if(i?o="anim/human/"+e:0==n?o="anim/role/"+e:1==n&&(o="anim/role/"+e+"_swim"),a){var s=new eui.Image("ui/scene/idle/shaowgreen");s.x=24,s.y=27,this.displayGroup.addChildAt(s,1)}t.prototype.setData.call(this,{delay:150,size:{col:4,row:4},resource:o})},n.prototype.setWing=function(t){t?(this._wing||(this._wing=new e.AvatarWing,this._wing.displayGroup.scaleX=this._wing.displayGroup.scaleY=.7),this.displayGroup.addChild(this._wing.displayGroup),this._wing.displayGroup.x=15,this._wing.displayGroup.y=-60+e.Data.TPlayerRole[this.avatarId].wingY+20,this._wing.setWing(t)):this._wing&&this._wing.removeFromParent()},n.prototype.setDecoration=function(t){t?(this._decoration||(this._decoration=new e.AvatarDecoration,this._decoration.displayGroup.scaleX=this._decoration.displayGroup.scaleY=.7),this._decoration.displayGroup.x=13,this._decoration.displayGroup.y=-70+e.Data.TPlayerRole[this.avatarId].decorationY,this._decoration.setDecoration(t),this.displayGroup.addChild(this._decoration.displayGroup)):this._decoration&&this._decoration.removeFromParent()},n.prototype.changeWingDirection=function(e){if(this._wing&&this._wing.displayGroup.parent)switch(this._wing.setDirection(e),e){case 4:this.displayGroup.setChildIndex(this._wing.displayGroup,99);break;case 1:this.displayGroup.setChildIndex(this._wing.displayGroup,0);break;case 2:this.displayGroup.setChildIndex(this._wing.displayGroup,99);break;case 3:this.displayGroup.setChildIndex(this._wing.displayGroup,99)}},n.prototype.changeDecorationDirection=function(e){if(this._decoration&&this._decoration.displayGroup.parent)switch(this._decoration.setDirection(e),e){case 4:this.displayGroup.setChildIndex(this._decoration.displayGroup,98);break;case 1:this.displayGroup.setChildIndex(this._decoration.displayGroup,999);break;case 2:this.displayGroup.setChildIndex(this._decoration.displayGroup,98);break;case 3:this.displayGroup.setChildIndex(this._decoration.displayGroup,98)}},n.prototype.playAtk=function(t,n,i){var a=e.defer();i.push(a);var o,s,r=this.displayGroup.x,u=this.displayGroup.y,l=130;switch(t){case 1:o=0,s=1;break;case 4:o=0,s=-1;break;case 2:o=-1,s=0;break;case 3:o=1,s=0}return egret.Tween.get(this.displayGroup).wait(100).to({x:r-30*o,y:u-30*s},l).to({x:r+80*o,y:u+80*s},l).to({x:r,y:u},l/2).call(function(){i.indexOf(a)>-1&&(a.resolve(null),i.splice(i.indexOf(a),1))}),a.promise()},n.prototype.throwPokemonBall=function(t){var n=e.defer();t.push(n);var i=50,a=0;this.ball.alpha=1,this.ball.x=i,this.ball.y=a,this._bitmap.parent.addChild(this.ball);var o;if(2==this.direction||3==this.direction){o=300;var s=e.BeiSaiErPool.createObject();switch(s.setObject(this.ball),this.direction){case 2:s.p1p2p3=[[i,a],[i-100,a-100],[i-150,a+25]];break;case 3:s.p1p2p3=[[i,a],[i+100,a-100],[i+150,a+25]]}s.play(o,function(){e.BeiSaiErPool.destroyObject(s)})}else switch(o=300,this.direction){case 4:egret.Tween.get(this.ball).to({y:a-70,scaleX:.35,scaleY:.35},o/2).to({y:a-140,scaleX:.25,scaleY:.25},o/2);break;case 1:egret.Tween.get(this.ball).to({y:a+75,scaleX:.35,scaleY:.35},o/2).to({y:a+150,scaleX:.25,scaleY:.25},o/2)}return egret.Tween.get(this.ball).wait(o-50).call(function(){t.indexOf(n)>-1&&(n.resolve(null),t.splice(t.indexOf(n),1))}),n.promise()},n.prototype.shakePokemonBall=function(t){var n=e.defer();return t.push(n),egret.Tween.get(this.ball).to({rotation:30},50).to({rotation:0},50).to({rotation:-30},50).to({rotation:0},50).to({rotation:30},50).to({rotation:0},50).wait(500).call(function(){t.indexOf(n)>-1&&(n.resolve(null),t.splice(t.indexOf(n),1))}),n.promise()},n.prototype.receivePokemonBall=function(t){var n=e.defer();t.push(n);var i,a=50,o=0;if(2==this.direction||3==this.direction){i=300;var s=e.BeiSaiErPool.createObject();switch(s.setObject(this.ball),this.direction){case 2:s.p1p2p3=[[a-150,o+25],[a-100,o-100],[a,o]];break;case 3:s.p1p2p3=[[a+150,o+25],[a+100,o-100],[a,o]]}s.play(i,function(){e.BeiSaiErPool.destroyObject(s)})}else switch(i=300,this.direction){case 4:egret.Tween.get(this.ball).to({y:o-140+70,scaleX:.35,scaleY:.35},i/2).to({y:o,scaleX:.25,scaleY:.25},i/2);break;case 1:egret.Tween.get(this.ball).to({y:o+150-75,scaleX:.35,scaleY:.35},i/2).to({y:o,scaleX:.25,scaleY:.25},i/2)}return egret.Tween.get(this.ball).wait(i-50).to({alpha:0},i).call(function(){t.indexOf(n)>-1&&(n.resolve(null),t.splice(t.indexOf(n),1))}),n.promise()},n.prototype.brokenPokemonBall=function(){egret.Tween.get(this.ball).to({alpha:0},150)},n.prototype.resetBall=function(){this.ball.parent&&this.ball.parent.removeChild(this.ball)},n.prototype.playWinAct=function(){var t=this,n=e.defer();this.playCircle(2);var i=this.displayGroup.y;return egret.Tween.get(this.displayGroup).to({y:i-80},600).to({y:i},600).call(function(){t.play(t.direction),n.resolve(null)}),n.promise()},n.prototype.moveTo=function(e){},n}(e.VectorAnim);e.IdleAvatarAnim=t,__reflect(t.prototype,"game.IdleAvatarAnim")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._ballList=[],e._alreadyCatchPokemon=[],e.isFirstInit=!0,e.isPlaying=!1,e.skinName=IdleCatchPokemonPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var t,i,a,o=this;return __generator(this,function(s){switch(s.label){case 0:return this._adjust=!0,this.isFirstInit=!0,this.skillButton1.image="ui/scene/idle/skill1",this.skillButton2.image="ui/scene/idle/skill2",this.skillButton3.image="ui/scene/idle/skill3",this.skillButton4.image="ui/scene/idle/skill4",this.skillButton4.bg="ui/common/button/orangeBtn_1",this.helpButton.icon="ui/scene/idle/help",this._player||(this._player=new e.SequenceImage,this.playerGroup.addChild(this._player.display)),5001!=e.DataManager.playerModel.getPlayerInfo().gender?[3,2]:[4,this._player.setData({delay:180,size:{row:1,col:5},resource:"ui/scene/idle/B"})];case 1:return s.sent(),[3,4];case 2:return[4,this._player.setData({delay:180,size:{row:1,col:5},resource:"ui/scene/idle/G"})];case 3:s.sent(),s.label=4;case 4:return this._player.updateTexture(1,1),this.ShowRole(this._player.display,600,0),t=e.DataManager.playerModel.extension.firstPokemon,this._pokemon?[3,6]:(this._pokemon=new e.SequenceImage,[4,this._pokemon.setData({delay:150,size:{row:1,col:8},resource:"ui/scene/idle/00"+t})]);case 5:s.sent(),this._pokemon.play(1),this.pokemonGroup.addChild(this._pokemon.display),s.label=6;case 6:return this.ShowRole(this._pokemon.display,800,0),this._getHitEffet?[3,8]:(this._getHitEffet=new e.SequenceImage,[4,this._getHitEffet.setData({delay:150,size:{row:1,col:4},resource:"ui/scene/idle/gethit"})]);case 7:s.sent(),s.label=8;case 8:for(this._getHitEffet.updateTexture(1,1),this._getHitEffet.visible=!1,this.catchedpokemonGroup.addChildAt(this._getHitEffet.display,100),this._getHitEffet.display.x=20,this._getHitEffet.display.y=5,this._stoneX=this.stoneImage.x,this._stoneY=this.stoneImage.y,this.HPProgress.touchEnabled=!1,this._touchEvent=[{target:this.skillButton1,callBackFunc:function(){o._catchPmHP>0&&o.OnAttackPokemon()}},{target:this.skillButton2,callBackFunc:function(){0==o.isPlaying&&o._catchPmHP>0&&o.OnTrowStone()}},{target:this.skillButton3,callBackFunc:function(){o._catchPmHP>0&&o.OnPokemonGetHit(5)}},{target:this.skillButton4,callBackFunc:function(){return __awaiter(o,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.OnCatchDiscardPm(this._pokemonInfo.type)];case 1:return t.sent(),this.changeNextPokemon(),[2]}})})}},{target:this.helpButton,callBackFunc:function(){e.ZhanKuangZhanRule.getInstance().setText(e.Data.TMiningRule[2].info).show()}},{target:this.closeButton,callBackFunc:this.closeHandle}],e.NotificationCenter.getInstance().addObserver(this,function(e){o.touchBall(e)},e.CatchPokemonBall.TOUCH),this.addEventAndNotify(),i=0;i<n.ballIds.length;i++)a=new e.CatchPokemonBall,a.setData(n.ballIds[i]),this.ballGroup.addChild(a),this._ballList.push(a);return[2]}})})},n.prototype.onShow=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){for(this._alreadyCatchPokemon=[],e=0;e<this._ballList.length;e++)this._ballList[e].updateCount();return this.isFirstInit?this.isFirstInit=!1:(this.updateAlreadyPokemon(),this.ShowRole(this._player.display,600,0),this.ShowRole(this._pokemon.display,800,0)),[2]})})},n.prototype.ShowRole=function(e,t,n){if(e){var i=e.x,a=e.y;e.x=i-t,e.y=a-n,egret.Tween.get(e).to({x:i,y:a},1500,egret.Ease.sineIn)}},n.prototype.SetCatchPokemon=function(t){var n=this;this.artPokemon&&this.catchedpokemonGroup.removeChild(this.artPokemon.display),this.isPlaying=!1,this.artPokemon=new e.TeamArtPokemon,this.artPokemon.display.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){return __awaiter(n,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},this),this.catchedpokemonGroup.addChild(this.artPokemon.display),this._rand=new e.Random;var i=e.Data.TElf[t.type];this.artPokemon.setPokemon(t.type,!1),this.artPokemon.display.touchEnabled=!0,this._pokemonInfo=t,this._catchPmHP=100,this.nameLabel.text=i.name,this.nameLabel.textColor=e.TeamBagPokemonIcon.textColor[i.quality],this.sexImage.source=1==t.gender?"ui/scene/team/male":"ui/scene/team/female",this.HPProgress.oldImage.source="ui/scene/idle/a3",this.HPProgress.newImage.source="ui/scene/idle/a4",this.descLabel.visible=!0,this.descLabel.text="",effectUtils.typerEffect(this.descLabel,e.formatString(e.Lang.yeshengjinglingchuxian,i.name),100),egret.setTimeout(function(){n.descLabel.visible=!1},this,2500),this.OnHPChange(0),this.ShowRole(this.artPokemon.display,-600,0),this.ShowRole(this.hpGroup,800,0)},n.prototype.OnHPChange=function(e){this._catchPmHP-=e,this._catchPmHP<=0&&(this._catchPmHP=0,this.OnPokemonDied()),this.HPProgress.label=this._catchPmHP+"%",egret.Tween.get(this.HPProgress.newImage).to({scaleX:this._catchPmHP/100,scaleY:1},300,egret.Ease.sineIn)},n.prototype.touchBall=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a=this;return __generator(this,function(o){switch(o.label){case 0:return this._currentBall=t,this.isPlaying?[2]:e.DataManager.playerModel.getItemCount(this._currentBall.ballData.id)<=0?(e.showTips(e.Lang.qiushuliangbuzu),[2]):(this.isPlaying=!0,this._player.play(1,1,!0),[4,e.DataManager.playerModel.OnCatchSuccessAsync(this._pokemonInfo.type,this._catchPmHP,this._currentBall.ballData.id)]);case 1:for(n=o.sent(),i=0;i<this._ballList.length;i++)this._ballList[i].updateCount();return this._ballImage=new eui.Image,this._ballImage.visible=!1,this._ballImage.source=this._currentBall.ballButton.iconDisplay.source,this._ballImage.x=this._stoneX,this._ballImage.y=this._stoneY,this._ballImage.scaleX=.5,this._ballImage.scaleY=.5,this.addChild(this._ballImage),egret.setTimeout(function(){a._ballImage.visible=!0,egret.Tween.get(a).to({ballFactor:1},900).call(function(){a.removeChild(a._ballImage)})},this,600),egret.setTimeout(function(){null!=n?a.OnPokemonCatched():(a.OnPokemonUnCatched(),a.isPlaying=!1)},this,1100),[2]}})})},n.prototype.selectBall=function(e){this._currentBall=e},n.prototype.changeBall=function(e,t){e.select=t},n.prototype.OnPokemonDied=function(){var t=this;effectUtils.rockObj(this.artPokemon.display,250,50),this.descLabel.visible=!0,this.descLabel.text="",effectUtils.typerEffect(this.descLabel,this.nameLabel.text+"被你打死了",100),egret.Tween.get(this.artPokemon.display).to({alpha:0},1e3).call(function(){egret.setTimeout(function(){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.descLabel.visible=!1,[4,e.DataManager.playerModel.OnCatchDiscardPm(this._pokemonInfo.type)];case 1:return t.sent(),this.changeNextPokemon(),[2]}})})},t,1e3)})},n.prototype.OnPokemonUnCatched=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:return[4,e.loadRes("ui/scene/hunt/ball_"+this._currentBall.ballData.id)];case 1:return t=i.sent(),[4,e.getBone("meizhuadaoguai")];case 2:return n=i.sent(),n.setSlot("qiu",!0,t),n.x=0,n.y=0,this.catchedpokemonGroup.addChildAt(n,1),egret.Tween.get(this.artPokemon.display).to({scaleX:.5,scaleY:.5,alpha:0},460),this._ballImage.visible=!1,[4,n.play(null,1)];case 3:return i.sent(),egret.Tween.get(this.artPokemon.display).to({scaleX:1,scaleY:1,alpha:1},460),e.destroyBone(n),[2]}})})},n.prototype.OnPokemonCatched=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o=this;return __generator(this,function(s){switch(s.label){case 0:return[4,e.loadRes("ui/scene/hunt/ball_"+this._currentBall.ballData.id)];case 1:return t=s.sent(),[4,e.getBone("zhuadaoguai")];case 2:return n=s.sent(),n.setSlot("qiu",!0,t),n.x=0,n.y=0,this.catchedpokemonGroup.addChildAt(n,1),egret.Tween.get(this.artPokemon.display).to({scaleX:.5,scaleY:.5,alpha:0},460),this._ballImage.visible=!1,[4,n.play(null,1)];case 3:return s.sent(),e.destroyBone(n),i=e.IdleRewardPanel.getInstance(),a=[this._pokemonInfo],i.setReward(null,a),i.show(),this._alreadyCatchPokemon.push(this._pokemonInfo.type),egret.setTimeout(function(){o.changeNextPokemon()},this,1e3),[2]}})})},n.prototype.OnAttackPokemon=function(){var e=this;effectUtils.shakeScreen(this._pokemon.display,1),this._getHitEffet.play(1,1,!0),egret.setTimeout(function(){effectUtils.shakeScreen(e.artPokemon.display,2),e.OnPokemonGetHit(e._rand.Next(10,20))},this,300)},n.prototype.OnTrowStone=function(){var e=this;this.isPlaying=!0,this.stoneImage.x=this._stoneX,this.stoneImage.y=this._stoneY;this.catchedpokemonGroup.parent.x,this.catchedpokemonGroup.parent.y;this._player.play(1,1,!0),egret.setTimeout(function(){e.stoneImage.visible=!0,egret.Tween.get(e).to({stoneFactor:1},900).call(function(){egret.Tween.removeTweens(e.stoneImage),e.stoneImage.visible=!1,e.OnPokemonGetHit(e._rand.Next(30,40)),e.isPlaying=!1})},this,600)},Object.defineProperty(n.prototype,"ballFactor",{get:function(){return 0},set:function(e){var t=this.catchedpokemonGroup.parent.x+this.catchedpokemonGroup.x,n=this.catchedpokemonGroup.parent.y+this.catchedpokemonGroup.y,i=(t+this._ballImage.x)/2,a=n-200;this._ballImage.x=(1-e)*(1-e)*this._stoneX+2*e*(1-e)*i+e*e*t,this._ballImage.y=(1-e)*(1-e)*this._stoneY+2*e*(1-e)*a+e*e*n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stoneFactor",{get:function(){return 0},set:function(e){var t=this.catchedpokemonGroup.parent.x+this.catchedpokemonGroup.x-this.stoneImage.width/2,n=this.catchedpokemonGroup.parent.y+this.catchedpokemonGroup.y-this.stoneImage.height/2,i=(t+this.stoneImage.x)/2,a=n-200;this.stoneImage.x=(1-e)*(1-e)*this._stoneX+2*e*(1-e)*i+e*e*t,this.stoneImage.y=(1-e)*(1-e)*this._stoneY+2*e*(1-e)*a+e*e*n},enumerable:!0,configurable:!0}),n.prototype.OnPokemonGetHit=function(e){var t=this;this._getHitEffet.visible=!0,this._getHitEffet.play(1,1,!0),egret.setTimeout(function(){t._getHitEffet.visible=!1,t.OnHPChange(e)},this,600)},n.prototype.updateAlreadyPokemon=function(){this.catchPokemonGroup.removeChildren();for(var t=0;t<this._alreadyCatchPokemon.length;t++){var n=new e.PokemonBookPokemon;n.setCatchPokemonData(this._alreadyCatchPokemon[t]),this.catchPokemonGroup.addChild(n)}},n.prototype.changeNextPokemon=function(){var t=e.DataManager.playerModel.idleRewardPokemonList;t&&t[0]?(this.SetCatchPokemon(t[0]),this.updateAlreadyPokemon(),this.ShowRole(this._player.display,600,0),this.ShowRole(this._pokemon.display,800,0)):this.closeHandle()},n.prototype.helpHandle=function(){e.ZhanKuangZhanRule.getInstance().setRuleIDAndShow(2)},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.ballIds=[13002,13001,13003,13005,13006,13007],n}(e.PanelComponent);e.IdleCatchPokemonPanel=t,__reflect(t.prototype,"game.IdleCatchPokemonPanel")}(game||(game={}));var game;!function(e){var t=function(){function t(){}return t.changeScene=function(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=null),__awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:if(this._curSceneType==t&&!n)return[2];if(7==this._curSceneType)return[2];switch(this._curScene&&(this._curScene.destroy(),this._curScene=null),e.updateTeach(null),this._curSceneType=t,i=!1,t){case 0:this._curScene=e.MainCity.getInstance(),i=!0;break;case 1:this._curScene=e.IdleScene.getInstance(),i=!0;break;case 2:this._curScene=e.TeamScene.getInstance();break;case 3:this._curScene=e.GashaponScene.getInstance();break;case 4:this._curScene=e.GuildScene.getInstance();break;case 5:this._curScene=e.TaskPanel.getInstance();break;case 6:this._curScene=e.ItemBag.getInstance();break;case 8:this._curScene=e.ZhanKuangZhan.getInstance();break;case 9:this._curScene=e.MapSelectPanelNew.getInstance()}return this._curScene._firtShow?[4,e.LoadingPanel.getInstance().showLoading()]:[3,3];case 1:return a.sent(),[4,this._curScene.firstShow()];case 2:a.sent(),a.label=3;case 3:return[4,this._curScene.onCreate()];case 4:return a.sent(),e.RootTop.getInstance().visible=i,this._curScene.horizontalCenter=this._curScene.verticalCenter=0,e.GameLayer.sceneLayer.addChild(this._curScene),this._curScene._firtShow&&(this._curScene._firtShow=!1,e.LoadingPanel.getInstance().closeLoading()),[2]}})})},t}();e.SceneManager=t,__reflect(t.prototype,"game.SceneManager")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._pokemonList=[],e._skillList=[],e._currentSkillIndex=0,e._costCount=0,e._diamonEngough=!1,e.skinName=IdleCatchPokemonRewardPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.receiveButton.image="langs/Tx_yijianbh",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.receiveButton,callBackFunc:this.receiveHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.setData,notifyName:e.PlayerModel.IDLE_REWARD_POKEMON_UPDATE,execute:!1}],this.rewardScroller.viewport=this.pokemonGroup,this.addEventAndNotify(),this.closeButton.touchEnabled=!0,this.closeButton.pointDisplay.visible=!1},n.prototype.receiveHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._diamonEngough?[4,e.DataManager.playerModel.getAllCatchPm(this._costItem)]:[3,2];case 1:return t=n.sent(),t&&this.closeHandle(),[3,3];case 2:e.showTips(e.Lang.nindezuanshibuzu,!0),n.label=3;case 3:return[2]}})})},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.setData=function(){this.rewardScroller.viewport.scrollV=0;var t=e.DataManager.playerModel.extension.onHookPms;if(t){for(var n in this._pokemonList){var i=this._pokemonList[n];i&&this.pokemonGroup.contains(i)&&this.pokemonGroup.removeChild(i)}this.createPokemon(t)}},n.prototype.createPokemon=function(t){if(this._costCount=0,null==t||0==t.length)return void e.removePopUp(this);for(var n=0,i=0;i<t.length;i++)if(t[i]){this._pokemonList[i]||(this._pokemonList[i]=new e.IdleCatchPokemonReward);var a=this._pokemonList[i];a.setData(t[i]),a.x=(30+a.width)*(i%3)+15,a.y=(30+a.height)*n,this.pokemonGroup.addChild(a),(i+1)%3==0&&n++;var o=e.Data.TElf[t[i].type];o&&e.Data.TAkeyCapture[o.quality]&&(this._costCount+=e.Data.TAkeyCapture[o.quality].diamond)}this._diamonEngough=e.DataManager.playerModel.diamond>=this._costCount,this._costItem={type:2,count:this._costCount},this.costLabel.text=""+this._costCount,this.costLabel.textColor=this._diamonEngough?gameConfig.TextColors.green:gameConfig.TextColors.red},n.prototype.showEscapeTips=function(){var t=e.DataManager.playerModel.extension.mythicalAnimal;for(var n in t)0!=t[n].isCatch||Boolean(localStorage.getItem(t[n].pmid+"ET"))||(e.showTips(e.formatString("{0}"+e.Lang.yitaopao,e.Data.TElf[t[n].pmid].name)),localStorage.setItem(t[n].pmid+"ET","true"))},n.prototype.onShow=function(){this.setData(),this.showEscapeTips()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.IdleCatchPokemonRewardPanel=t,__reflect(t.prototype,"game.IdleCatchPokemonRewardPanel")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.showBone=[n.songmenghuan,n.share,n.activity,n.shouchong,n.yiyuan,n.yuyue,n.redianxinxi,n.sishijiu],e.skinName=IdleIconButtonSkin,e.boneGroup.visible=!1,e.button.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchHandle,e),e}return __extends(i,t),i.prototype.touchHandle=function(){var t=this;switch(this.type){case n.activity:this.openActivity(this.type);break;case n.share:e.navPanel(50);break;case n.zhongQiu:e.navPanel(73);break;case n.wanShengJie:e.WanShengJiePanel.getInstance().show();break;case n.yiyuan:this.openActivity(this.type);break;case n.shouchong:this.openActivity(this.type);break;case n.tomorrow:e.TomorrowPanel.getInstance().show();break;case n.focus:AWY_SDK.showFocus();break;case n.yuyue:e.PreOrderPanel.getInstance().show();break;case n.redianxinxi:e.UpdateTip.getInstance().show();break;case n.sishijiu:this.openActivity(this.type);break;case n.yuandanrukou:e.YuanDanRuKou.getInstance().show();break;case n.huodongzhongxin:e.ActivityPanel.getInstanceByType(e.ActivityPanelType.huodongzhongxin).show();break;case n.xinfukuanghuan:e.ActivityPanel.getInstanceByType(e.ActivityPanelType.xinfukuanghuan).show();break;case n.quanminkuanghuan:e.ActivityPanel.getInstanceByType(e.ActivityPanelType.quanminkuanghuan).show();break;case n.xianshihaoli:e.ActivityPanel.getInstanceByType(e.ActivityPanelType.xianshihaoli).show();break;case n.WBShare:e.WBShareRewardPanel.getInstance().show();break;case n.WBFuli:e.DataManager.playerModel.GetWBVIPLevel(-1);break;case n.WBAddDesktop:e.CommonGetRewardPanel.getInstance().setData(e.CommonRewardType.AddDesktop,e.Data.TWanBaReward[3001].Reward,function(){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,Auth.AddDesktopWB()];case 1:return t.sent(),e.DataManager.playerModel.GetCreateShortcut(3001),[2]}})})}).show();break;case n.songmenghuan:e.GanEnPanel.getInstance().show()}},i.prototype.setType=function(e){switch(this.type=e,e){case n.activity:this.button.icon="ui/scene/idle/huodong";break;case n.share:this.button.icon="ui/scene/focus/yaoqing";break;case n.zhongQiu:this.button.icon="ui/scene/idle/zhongqiu";break;case n.wanShengJie:this.button.icon="ui/scene/idle/wanshengjie";break;case n.yiyuan:this.button.icon="ui/scene/idle/1yuan";break;case n.shouchong:this.button.icon="ui/scene/idle/shouchong";break;case n.tomorrow:this.button.icon="ui/scene/idle/cirilingqu";break;case n.focus:this.button.icon="ui/scene/focus/guanzhu";break;case n.yuyue:this.button.icon="ui/scene/idle/gongceyuyue";break;case n.redianxinxi:this.button.icon="ui/scene/idle/redianxinxi";break;case n.sishijiu:this.button.icon="ui/scene/idle/sishijiu";break;case n.yuandanrukou:this.button.icon="ui/scene/idle/ydButton";
break;case n.zajindan:this.button.icon="ui/scene/activity/115_icon";break;case n.huodongzhongxin:this.button.icon="ui/scene/idle/huodongzhongxin";break;case n.xinfukuanghuan:this.button.icon="ui/scene/idle/xinfukuanghuan";break;case n.quanminkuanghuan:this.button.icon="ui/scene/idle/quanminkuanghuan";break;case n.xianshihaoli:this.button.icon="ui/scene/idle/xianshihaoli";break;case n.WBShare:this.button.icon="ui/scene/idle/fenxiangyl";break;case n.WBFuli:this.button.icon="ui/scene/idle/xiaoyouxtq";break;case n.WBAddDesktop:this.button.icon="ui/scene/idle/shoucangyl";break;case n.songmenghuan:this.button.icon="ui/scene/idle/songmenghuan"}-1!=this.showBone.indexOf(e)&&(this.boneGroup.visible=!0,this.addBone())},i.prototype.addBone=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,e.getBone("huodongiconlight")];case 1:return t=n.sent(),this.parent?(this._bone=t,this.boneGroup.addChild(this._bone),this._bone.play(null,0)):e.destroyBone(t),[2]}})})},i.prototype.openActivity=function(t){e.IdleScene.getInstance().visible=!1;var i;switch(t){case n.yiyuan:i=100;break;case n.shouchong:i=13==SDK.$platformType||14==SDK.$platformType?124:101;break;case n.sishijiu:i=110}i&&e.ActivityPanel.openActivity(i)},i.prototype.onRemove=function(){this._bone&&(this._bone.stop(),e.destroyBone(this._bone))},i}(e.GameComponent);e.IdleIconButton=t,__reflect(t.prototype,"game.IdleIconButton");var n;!function(e){e[e.zajindan=0]="zajindan",e[e.sishijiu=1]="sishijiu",e[e.redianxinxi=2]="redianxinxi",e[e.yuyue=3]="yuyue",e[e.activity=4]="activity",e[e.share=5]="share",e[e.zhongQiu=6]="zhongQiu",e[e.wanShengJie=7]="wanShengJie",e[e.yiyuan=8]="yiyuan",e[e.shouchong=9]="shouchong",e[e.tomorrow=10]="tomorrow",e[e.focus=11]="focus",e[e.tiantianyouli=12]="tiantianyouli",e[e.yuandanrukou=13]="yuandanrukou",e[e.shengjihaoli=14]="shengjihaoli",e[e.huodongzhongxin=15]="huodongzhongxin",e[e.xinfukuanghuan=16]="xinfukuanghuan",e[e.xianshihaoli=17]="xianshihaoli",e[e.quanminkuanghuan=18]="quanminkuanghuan",e[e.WBShare=19]="WBShare",e[e.WBAddDesktop=20]="WBAddDesktop",e[e.WBFuli=21]="WBFuli",e[e.songmenghuan=22]="songmenghuan"}(n=e.IdleIconButtonType||(e.IdleIconButtonType={}))}(game||(game={}));var game;!function(e){var t=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.prototype.setData=function(e){this.itemData=e,this.source="icon/ball/1"},n.prototype.setPosition=function(e){this.position=e},n.prototype.show=function(t){var n=e.defer();switch(t.push(n),this.direction){case 4:this.y=-100,this.x=50,egret.Tween.get(this).to({y:0,alpha:1},200).call(function(){t.indexOf(n)>-1&&(n.resolve(null),t.splice(t.indexOf(n),1))});break;case 1:this.y=0,this.x=50,egret.Tween.get(this).to({y:100,alpha:1},200).call(function(){t.indexOf(n)>-1&&(n.resolve(null),t.splice(t.indexOf(n),1))});break;case 2:this.y=-100,this.x=0,egret.Tween.get(this).to({y:0,alpha:1},200).call(function(){t.indexOf(n)>-1&&(n.resolve(null),t.splice(t.indexOf(n),1))});break;case 3:this.y=-100,this.x=100,egret.Tween.get(this).to({y:0,alpha:1},200).call(function(){t.indexOf(n)>-1&&(n.resolve(null),t.splice(t.indexOf(n),1))})}return n.promise()},n.prototype.hide=function(){var t=e.defer();return egret.Tween.get(this).to({alpha:0},200).call(function(){t.resolve(null)}),t.promise()},n.prototype.removeFromParent=function(){this.parent&&this.parent.removeChild(this)},n}(eui.Image);e.IdleItemImage=t,__reflect(t.prototype,"game.IdleItemImage")}(game||(game={}));var game;!function(e){var t=function(){function t(){this.promise=null,this.displayGroup=new eui.Group,this.displayGroup.width=this.displayGroup.height=100,this.displayGroup.touchChildren=!1,this.displayGroup.touchEnabled=!0,this.displayGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openLegendary,this),this.signImage=new eui.Image("ui/scene/story/tanhao"),this.signImage.horizontalCenter=0,this.signImage.top=-100,this.displayGroup.addChild(this.signImage),this.shadow=new eui.Image("anim/pokemon/shadow"),this.shadow.x=30,this.shadow.y=35,this.displayGroup.addChildAt(this.shadow,0),this.timeLabel=new eui.Label,this.timeLabel.stroke=2,this.timeLabel.strokeColor=0,this.timeLabel.horizontalCenter=0,this.timeLabel.top=-120,this.timeLabel.textAlign="center",this.displayGroup.addChild(this.timeLabel)}return t.prototype.openLegendary=function(){var t=e.ChallengeLegendaryPanel.getInstance();t.setData(this.legendaryData),t.show()},t.prototype.setData=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return this.legendaryData=t,n=e.splitStringToNumberArray(t.XY,";"),this.displayGroup.x=n[0],this.displayGroup.y=n[1],this.pokemonAnim||(this.pokemonAnim=new e.SequenceImage,this.pokemonAnim.setScale(1.5),this.pokemonAnim.setDisplayPosition(50,50),this.displayGroup.addChildAt(this.pokemonAnim.display,1)),[4,this.pokemonAnim.setData({delay:150,size:{col:4,row:4},resource:"anim/pokemon/"+t.ElfID})];case 1:return i.sent(),this.pokemonAnim.play(1),this.displayGroup.visible=!0,[2]}})})},t.prototype.stop=function(){this.promise&&this.promise.resolve(null),this.pokemonAnim&&this.pokemonAnim.stop(),egret.Tween.removeTweens(this.displayGroup),this.displayGroup.visible=!1},t}();e.IdleLegendaryPokemon=t,__reflect(t.prototype,"game.IdleLegendaryPokemon")}(game||(game={}));var game;!function(e){var t=function(){function t(){var t=this;this.promise=null,this.end=!1,this._playerFollowPokemon=[],this.displayGroup=new eui.Group,this.displayGroup.width=this.displayGroup.height=100,this.displayGroup.touchChildren=!1,this.displayGroup.touchEnabled=!0,this.displayGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.DataManager.playerModel.showPlayerDetail(t.playerInfo.id)},this),this.displayGroup.scaleX=this.displayGroup.scaleY=.8}return Object.defineProperty(t.prototype,"playerFollowPokemon",{get:function(){return this._playerFollowPokemon},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.avatarAnim.position},enumerable:!0,configurable:!0}),t.prototype.setData=function(t,n,i,a,o){return __awaiter(this,void 0,void 0,function(){var s,r;return __generator(this,function(u){switch(u.label){case 0:this.playerInfo=a,this.avatarAnim||(this.avatarAnim=new e.IdleAvatarAnim,this.avatarAnim.changeDirection(4),this.avatarAnim.setDisplayPosition(50,50),this.avatarAnim.setScale(1),this.displayGroup.addChild(this.avatarAnim.displayGroup)),this.avatarAnim.setAvatar(t,n),this.avatarAnim.setWing(a.wing),this.avatarAnim.setDecoration(a.orna),s=0,u.label=1;case 1:return 6>s?(r=this._playerFollowPokemon[s],r||(r=new e.IdlePlayerPokemon,this._playerFollowPokemon[s]=r),i[s]?[4,r.setPokemon(i[s].type)]:[3,3]):[3,4];case 2:u.sent(),r.setDisplayPosition(50,50),r.setScale(1),o.addChild(r.displayGroup),u.label=3;case 3:return s++,[3,1];case 4:return this.nameLabel||(this.nameLabel=new eui.Label,this.nameLabel.stroke=2,this.nameLabel.size=25,this.nameLabel.horizontalCenter=0,this.nameLabel.top=-80,this.nameLabel.scaleX=this.nameLabel.scaleY=1.5,this.displayGroup.addChild(this.nameLabel)),this.nameLabel.text=a.name,a.title?(this.titleImage||(this.titleImage=new eui.Image,this.titleImage.horizontalCenter=0,this.titleImage.top=-180,this.displayGroup.addChild(this.titleImage)),this.titleImage.visible=!0,this.titleImage.source="langs/title/"+a.title,this.titleImage.scaleX=this.titleImage.scaleY=1.5):this.titleImage&&(this.titleImage.visible=!1),[2]}})})},t.prototype.stop=function(){this.end=!0,this.promise&&this.promise.resolve(null),this.avatarAnim&&this.avatarAnim.stop();for(var e=0;e<this._playerFollowPokemon.length;e++){var t=this._playerFollowPokemon[e];t.displayGroup.parent&&(t.remove(),t.displayGroup.parent.removeChild(t.displayGroup))}egret.Tween.removeTweens(this.displayGroup)},t.prototype.setPosition=function(e){this.avatarAnim.position=e,this.displayGroup.x=100*e.x,this.displayGroup.y=100*e.y},t.prototype.run=function(){return __awaiter(this,void 0,void 0,function(){var e,t,n,i,a;return __generator(this,function(o){switch(o.label){case 0:this.end=!1,o.label=1;case 1:if(this.end)return[3,6];if(e=this.idleScene.getBornPosition(!0),t=this.idleScene.getDirectionAndPath(this.avatarAnim.position,e),!t)return[3,5];n=t.path,i=1,o.label=2;case 2:return i<n.length?this.end?[3,5]:(a=n[i],[4,this.runMap(a[0],a[1])]):[3,5];case 3:o.sent(),o.label=4;case 4:return i++,[3,2];case 5:return[3,1];case 6:return[2]}})})},t.prototype.runMap=function(t,n){var i=this;if(this.promise=e.defer(),this.avatarAnim.position.x==t&&this.avatarAnim.position.y==n)this.promise.resolve(null);else{for(var a=function(e,a,o){var s=e.x,r=e.y;switch(a){case 4:r+=100*o;break;case 1:r-=100*o;break;case 2:s+=100*o;break;case 3:s-=100*o}egret.Tween.get(e,null,null,!0).to({x:s,y:r},600).call(function(){i.avatarAnim.position.x=t,i.avatarAnim.position.y=n,i.promise.resolve(null)})},o=this.avatarAnim.position,s=0;s<this._playerFollowPokemon.length;s++){var r=this._playerFollowPokemon[s];r.runMap(o.x,o.y),o=r.position}var u=this.avatarAnim.getMoveDirection(t,n);this.avatarAnim.direction!=u&&this.avatarAnim.changeDirection(u),a(this.displayGroup,this.avatarAnim.direction,-1)}return this.promise.promise()},t}();e.IdleOtherPlayerAvatar=t,__reflect(t.prototype,"game.IdleOtherPlayerAvatar")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.isMonster=!1,n.promise=null,n.displayGroup=new eui.Group,n.displayGroup.touchChildren=n.displayGroup.touchEnabled=!1,n.displayGroup.addChild(n.display),n._signImage=new e.SequenceImage,n._signImage.setDisplayPosition(50,0),n.shadow=new eui.Image("anim/pokemon/shadow"),n.shadow.x=30,n.shadow.y=35,n.displayGroup.addChildAt(n.shadow,0),n}return __extends(n,t),n.prototype.showSign=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=Math.ceil(10*Math.random()),[4,this._signImage.setData({size:{row:1,col:8},resource:"anim/sign/"+t,delay:100})];case 1:return n.sent(),this.displayGroup.addChild(this._signImage.display),this._signImage.play(1,3),[4,e.delay(2400)];case 2:return n.sent(),this.displayGroup.removeChild(this._signImage.display),[2]}})})},n.prototype.setPokemon=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,t.prototype.setData.call(this,{delay:150,size:{col:4,row:4},resource:"anim/pokemon/"+e})];case 1:return n.sent(),[2]}})})},n.prototype.setMonsterDirection=function(e){switch(this.direction=e,this.play(e),e){case 4:this.displayGroup.x=50,this.displayGroup.y=100;break;case 1:this.displayGroup.x=50,this.displayGroup.y=0;break;case 2:this.displayGroup.x=100,this.displayGroup.y=50;break;case 3:this.displayGroup.x=0,this.displayGroup.y=50}},n.prototype.initPosition=function(e){this.direction=e,this.play(e);var t=this.getEndPosition();this.displayGroup.x=t.x,this.displayGroup.y=t.y},n.prototype.getEndPosition=function(){var e={x:0,y:0};switch(this.direction){case 3:e.x=0,e.y=50,this.setIndex(0);break;case 2:e.x=100,e.y=50,this.setIndex(0);break;case 4:e.x=50,e.y=100,this.setIndex(1);break;case 1:e.x=50,e.y=0,this.setIndex(0)}return e},n.prototype.resetPokemonPosition=function(t,n,i,a){var o=this;void 0===a&&(a=600);var s=e.defer();return this.direction=i,egret.Tween.get(this.displayGroup).to({x:t,y:n},a).call(function(){o.play(o.direction)}).call(function(){s.resolve(null)}),s.promise()},n.prototype.setIndex=function(e){this.displayGroup.parent&&this.displayGroup.parent.setChildIndex(this.displayGroup,e)},n.prototype.changePokemonAttPosition=function(t,n,i,a){var o=this,s=e.defer();n.push(s),this.direction=t;var r=this.displayGroup,u=150;switch(this.setIndex(1),t){case 1:egret.Tween.get(r,null,null,!0).to({x:i,y:a+50},u).call(function(){o.play(t),n.indexOf(s)>-1&&(s.resolve(null),n.splice(n.indexOf(s),1))}),this.setIndex(1);break;case 4:egret.Tween.get(r,null,null,!0).to({x:i,y:a-50},u).call(function(){o.play(t),n.indexOf(s)>-1&&(s.resolve(null),n.splice(n.indexOf(s),1))}),this.setIndex(0);break;case 2:egret.Tween.get(r,null,null,!0).to({x:i-50,y:a},u).call(function(){o.play(t),n.indexOf(s)>-1&&(s.resolve(null),n.splice(n.indexOf(s),1))});break;case 3:egret.Tween.get(r,null,null,!0).to({x:i+50,y:a},u).call(function(){o.play(t),n.indexOf(s)>-1&&(s.resolve(null),n.splice(n.indexOf(s),1))})}return s.promise()},n.prototype.playAtk=function(t,n,i){var a=e.defer();i.push(a);var o,s,r=this.displayGroup.x,u=this.displayGroup.y,l=170;switch(t){case 1:o=0,s=1;break;case 4:o=0,s=-1;break;case 2:o=-1,s=0;break;case 3:o=1,s=0}return egret.Tween.get(this.displayGroup).wait(100).to({x:r-30*o,y:u-30*s},l).to({x:r+50*o,y:u+50*s},l).to({x:r,y:u},l/2).call(function(){i.indexOf(a)>-1&&(a.resolve(null),i.splice(i.indexOf(a),1))}),a.promise()},n.prototype.show=function(t){var n=e.defer();return t.push(n),egret.Tween.get(this.displayGroup).to({alpha:.5,scaleX:1.4,scaleY:1.4},100).to({alpha:1,scaleX:.7,scaleY:.7},100).wait(100).call(function(){t.indexOf(n)>-1&&(n.resolve(null),t.splice(t.indexOf(n),1))}),n.promise()},n.prototype.runMap=function(t,n){var i=this;if(this.promise=e.defer(),this.position)if(this.position.x==t&&this.position.y==n)this.promise.resolve(null);else{var a=function(e,a,o){var s=e.x,r=e.y;switch(a){case 4:r+=100*o;break;case 1:r-=100*o;break;case 2:s+=100*o;break;case 3:s-=100*o}egret.Tween.get(e,null,null,!0).to({x:s,y:r},600).call(function(){i.position.x=t,i.position.y=n,i.promise.resolve(null)})},o=this.getMoveDirection(t,n);this.direction!=o&&this.setDirection(o),a(this.displayGroup,o,-1)}else this.promise.resolve(null);return this.promise.promise()},n.prototype.setDirection=function(e){this.direction=e,this.play(e)},n.prototype.remove=function(){this.stop(),this.promise&&this.promise.reject(null),this.removeTween(),egret.Tween.removeTweens(this.displayGroup)},n}(e.VectorAnim);e.IdlePlayerPokemon=t,__reflect(t.prototype,"game.IdlePlayerPokemon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.isMonster=!1,e._scale=1.15,e.displayGroup=new eui.Group,e.displayGroup.width=e.displayGroup.height=100,e.displayGroup.touchChildren=e.displayGroup.touchEnabled=!1,e.displayGroup.addChild(e.display),e.shadow=new eui.Image("anim/pokemon/shadow"),e.shadow.x=-20,e.shadow.y=-15,e.displayGroup.addChildAt(e.shadow,0),e}return __extends(n,t),n.prototype.setAlpha=function(e){this.displayGroup.alpha=e},n.prototype.setScale=function(e){this.displayGroup.scaleX=this.displayGroup.scaleY=e},n.prototype.setPokemon=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,t.prototype.setData.call(this,{delay:150,size:{col:4,row:4},resource:"anim/pokemon/"+e})];case 1:return n.sent(),[2]}})})},n.prototype.setMonsterDirection=function(e){switch(this.direction=e,this.play(e),e){case 4:this.displayGroup.x=50,this.displayGroup.y=100;break;case 1:this.displayGroup.x=50,this.displayGroup.y=0;break;case 2:this.displayGroup.x=100,this.displayGroup.y=50;break;case 3:this.displayGroup.x=0,this.displayGroup.y=50}},n.prototype.getEndPosition=function(){var e={x:0,y:0};switch(this.direction){case 3:e.x=0,e.y=50,this.setIndex(0);break;case 2:e.x=100,e.y=50,this.setIndex(0);break;case 4:e.x=50,e.y=100,this.setIndex(1);break;case 1:e.x=50,e.y=0,this.setIndex(0)}return e},n.prototype.setIndex=function(e){this.displayGroup.parent&&this.displayGroup.parent.setChildIndex(this.displayGroup,e)},n.prototype.playAtk=function(t,n,i){var a=e.defer();i&&i.push(a);var o,s,r=this.displayGroup.x,u=this.displayGroup.y,l=170;switch(t){case 1:o=0,s=1;break;case 4:o=0,s=-1;break;case 2:o=-1,s=0;break;case 3:o=1,s=0}return egret.Tween.get(this.displayGroup).wait(100).to({x:r-30*o,y:u-30*s},l).to({x:r+50*o,y:u+50*s},l).to({x:r,y:u},l/2).call(function(){i?i.indexOf(a)>-1&&(a.resolve(null),i.splice(i.indexOf(a),1)):a.resolve(null)}),a.promise()},n.prototype.playBeiSaiEr=function(t,n){void 0===n&&(n=300);var i=e.defer();t.push(i);var a=this.displayGroup.x,o=this.displayGroup.y;if(2==this.direction||3==this.direction){var s=e.BeiSaiErPool.createObject();switch(s.setObject(this.displayGroup),this.direction){case 2:s.p1p2p3=[[a,o],[a+100,o-100],[a+200,o]];break;case 3:s.p1p2p3=[[a,o],[a-100,o-100],[a-200,o]]}s.play(n,function(){e.BeiSaiErPool.destroyObject(s)})}else switch(this.direction){case 4:egret.Tween.get(this.displayGroup).to({y:o+200},n);break;case 1:egret.Tween.get(this.displayGroup).to({y:o-200},n)}return egret.Tween.get(this.displayGroup).to({alpha:.75,scaleX:1.5,scaleY:1.5},n/2).to({alpha:.5,scaleX:1,scaleY:1},n/2).call(function(){t.indexOf(i)>-1&&(i.resolve(null),t.splice(t.indexOf(i),1))}),i.promise()},n.prototype.playCatch=function(t,n){void 0===n&&(n=!0);var i=e.defer();if(t.push(i),n)egret.Tween.get(this.displayGroup).to({alpha:0,scaleX:.3,scaleY:.3,y:-25},300).call(function(){t.indexOf(i)>-1&&(i.resolve(null),t.splice(t.indexOf(i),1))});else{var a=this.getEndPosition();egret.Tween.get(this.displayGroup).to({alpha:1,scaleX:this._scale,scaleY:this._scale,y:a.y,x:a.x},150).call(function(){t.indexOf(i)>-1&&(i.resolve(null),t.splice(t.indexOf(i),1))})}return i.promise()},n.prototype.show=function(t){var n=e.defer();return t.push(n),egret.Tween.get(this.displayGroup).to({alpha:.5,scaleX:1.4,scaleY:1.4},100).to({alpha:1,scaleX:this._scale,scaleY:this._scale},100).wait(100).call(function(){t.indexOf(n)>-1&&(n.resolve(null),t.splice(t.indexOf(n),1))}),n.promise()},n.prototype.onDestroy=function(){this.displayGroup.anchorOffsetX=0,this.displayGroup.anchorOffsetY=0,this.displayGroup.x=0,this.displayGroup.y=0,this.displayGroup.alpha=1,this.displayGroup.scaleX=this.displayGroup.scaleY=1,this.displayGroup.parent&&this.displayGroup.parent.removeChild(this.displayGroup),this.stop(),this.removeTween()},n}(e.VectorAnim);e.IdlePokemonAnim=t,__reflect(t.prototype,"game.IdlePokemonAnim")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e._pokemonList=[],e._skillList=[],e._currentSkillIndex=0,e.skinName=IdleRewardPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.confirmButton,callBackFunc:this.closeHandle}],this.addEventAndNotify(),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){var n=t.target;if(n.itemData){var i=e.ItemInfoPanel.getInstance();i.setData(n.itemData),i.show()}},this)},n.prototype.closeHandle=function(){this._bone&&this._bone.stop();for(var t=0;t<this._pokemonList.length;t++){var n=this._pokemonList[t];n.stop()}e.removePopUp(this),this._currentSkillIndex=0,this.rewardScroller.viewport.scrollH=0,this.rewardGroup.removeChildren()},n.prototype.setReward=function(t,n){this._bone||(this._bone=new e.SkeletonBase,this.boneGroup.addChild(this._bone),this._bone.createBones("gongxihuode")),e.SoundManager.playEffect("music/UI_gongxihuode"),this._bone.play(null,1),this.rewardGroup.removeChildren(),this.rewardGroup.layout.clearVirtualLayoutCache(),t?(this.rewardGroup.visible=!0,this.rewardGroup.touchChildren=!0,this.createItem(t)):(this.rewardGroup.touchChildren=!1,this.createPokemon(n))},n.prototype.createItem=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(e.Data.TItem[i.type]&&8==e.Data.TItem[i.type].type)this.addSkill(i);else{this._itemList[n]||(this._itemList[n]=new e.ItemIcon);var a=this._itemList[n];a.item=i,this.rewardGroup.addChild(a)}}},n.prototype.setAnim=function(){this._bone||(this._bone=new e.SkeletonBase,this.boneGroup.addChild(this._bone),this._bone.createBones("niudan")),this._bone.play(null,0)},n.prototype.addSkill=function(t){var n=this._skillList[this._currentSkillIndex];n||(n=new e.SkillInfoIcon,this._skillList[this._currentSkillIndex]=n),n.setSkill(t),this.rewardGroup.addChild(n),this._currentSkillIndex++},n.prototype.createPokemon=function(t){for(var n=0;n<t.length;n++){this._pokemonList[n]||(this._pokemonList[n]=new e.IdleRewardPokemon);var i=this._pokemonList[n];i.setData(t[n]),this.rewardGroup.addChild(i)}},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.IdleRewardPanel=t,__reflect(t.prototype,"game.IdleRewardPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=IdleRewardPokemonSkin,e}return __extends(n,t),n.prototype.setData=function(t){this.powerStar||(this.powerStar=new e.PokemonPowerStar,this.powerStarGroup.addChild(this.powerStar)),this.powerStar.setData(t.iv,Number(e.Constants.maxIV)),this.artPokemon||(this.artPokemon=new e.TeamArtPokemon,this.pokemonArtGroup.addChild(this.artPokemon.display));var n=e.Data.TElf[t.type];this.nameLabel.text=n.name,this.nameLabel.textColor=e.TeamBagPokemonIcon.textColor[n.quality],this.artPokemon.setPokemon(t.type,!1),this.genderIcon.source=1==t.gender?"ui/scene/team/male":"ui/scene/team/female"},n.prototype.stop=function(){this.artPokemon.stop()},n}(e.GameComponent);e.IdleRewardPokemon=t,__reflect(t.prototype,"game.IdleRewardPokemon")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var n=t.call(this)||this;return n._iconButtonList=[],n._minMapX=4,n._maxMapX=16,n._minMapY=5,n._maxMapY=13,n._eventList=[],n._moveTime=600,n._end=!1,n._promiseList=[],n._eventLootList=[],n._pokemonLootList=[],n._itemLootList=[],n._showReward=!1,n._rewardPokemonList=[],n._rewardItemList=[],n._otherPlayerAvatar=[],n._autoBattle=!1,n.enterBattle=!1,n._autoBattleLock=!1,n._taskRewardImage=[],n._taskRewardLabel=[],n._chatTimeout=null,n._onShowReward=!1,n._playerFollowPokemon=[],n._buttonShow=!1,n._lastItemTime=new Date(0),n._lastPokemonTime=new Date(0),n._alreadyInitOther=!1,n._currentBossIcon=1,n._bossIconInterval=0,n._openTimeLine=1508900400,n._alreadyRewardShengjihaoli=!1,n.onStage=!0,n.random=new e.Random,n._mapScale=.75,n._currentMissionID=0,n._Interval=null,n._onStory=!1,n._maxItemCount=Number(e.Constants.WaitItemsCount),n.isShow=!1,n._zhuanpan=Number(e.Constants.dailyZhuanPanFreeCount),n.skinName=IdleSceneSkin,n}return __extends(i,t),i.prototype.init=function(){var t=this;this.meizhouxiangou.icon="ui/scene/idle/meizhouxiangou",this.duihuanButton.icon="ui/scene/idle/duihuan",this.mailButton.icon="ui/scene/idle/youjian2",this.followPokemonGroup.touchChildren=this.followPokemonGroup.touchEnabled=this.allFollowPokemonGroup.touchChildren=this.allFollowPokemonGroup.touchEnabled=!1,this.legendaryTipGroup.visible=!1,this.recoveryButton.icon="ui/scene/idle/huishou",this.goldBoneGroup.visible=!1,this.riftButton.icon="ui/scene/rift/icon",this.recommendButton.icon="ui/scene/idle/tuijian",this.fastBattleButton.icon="ui/scene/idle/kuaisuzhandou",this.expIcon.visible=this.goldIcon.visible=!1,this.legendaryButton.icon="ui/scene/shop/legendary",this.mapButton.icon="ui/scene/idle/dituxuanze",this.chatButton.icon="ui/scene/idle/chat",this.friendButton.icon="ui/scene/idle/haoyou",this.rankButton.icon="ui/scene/idle/paihang",this.autoBattleButton.icon="ui/scene/idle/r1",this.miningButton.icon="ui/scene/idle/wakuang",this.revengeButton.icon="ui/scene/idle/chouqi",this.revengeButtonTip.icon="ui/scene/idle/chouqi",this.mysteryShopButton.icon="ui/scene/mysteryShop/shenmishangcheng",this.signButton.icon="ui/scene/sign/icon",this.bookButton.icon="ui/scene/idle/tujian",this.comboButton.icon="ui/scene/idle/jiban",this.tipsButton.icon="ui/scene/idle/gonglue",this.weatherDetailButton.icon="ui/scene/book/xiangqing",this.battleBossImage.icon="ui/scene/idle/yudaoBOSS1",this.eggButton.icon="ui/scene/idle/shengdan",this.skillBookButton.icon="ui/scene/idle/jineng",this.rechargeButton.icon="ui/scene/idle/btn_gj_chongzhi",this.shopButton.icon="ui/scene/idle/shangcheng",this.zhujueButton.icon="ui/scene/idle/zhujue",this.fragButton.icon="ui/scene/pieceShop/suipianshangcheng",this.shenshouButton.icon="ui/scene/idle/shenshouhuodong",this.kaifubipinButton.icon="ui/scene/idle/kaifubipin",this.BTRechargeButton.icon="ui/scene/idle/6yuanshen",this.autoPassDungeon.minimum=0,this.autoPassDungeon.maximum=100,this.autoPassDungeon.value=0,this.autoPassDungeon.visible=!1,this.curLevelZhanLi.stroke=2,this.curLevelZhanLi.strokeColor=0,this._missionReward=e.MissionReward.getInstance(),this.MissionReward.addChild(this._missionReward),this._missionReward.x=0,this._missionReward.y=0,this.revengeButtonTip.visible=!1,this.BTRechargeButton.visible=e.DataManager.playerModel.playerVip<Number(e.Constants.VipLvAfterRecharge),this.eggButton.visible=!1,this.miningButton.visible=!1,this.riftButton.visible=!1,this._unlockArrow=new e.SequenceImage,this._unlockArrow.setData({delay:150,size:{row:1,col:3},resource:"anim/arrow"}),this.unlockArrowGroup.addChild(this._unlockArrow.display),this.changeGroup.visible=!1,this.legendaryIcon=new e.LegendaryIcon,this.legendaryGroup.addChild(this.legendaryIcon),this._legendaryPokemon=new e.IdleLegendaryPokemon,this.legendaryPokemonGroup.addChild(this._legendaryPokemon.displayGroup),this._adjust=!0,this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateAvatarInfo,notifyName:e.PlayerModel.IDLE_AVATAR_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updatePokemonInfo,notifyName:e.PlayerModel.IDLE_POKEMON_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateMission,notifyName:e.PlayerModel.MISSION_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateReward,notifyName:e.PlayerModel.IDLE_REWARD_UPDATE,execute:!1},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateMail,notifyName:e.PlayerModel.MAIL_UPDATE,execute:!1},{source:e.DataManager.playerModel,target:this,callBackFunc:function(){t.updateHelpPokemon()},notifyName:e.PlayerModel.HELP_POKEMON_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateTeachTask,notifyName:e.PlayerModel.WIZARD_TASK_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateLegendary,notifyName:e.PlayerModel.IDLE_LEGENDARY_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateQuickBattle,notifyName:e.PlayerModel.QUICK_BATTLE_COUNT_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateWeather,notifyName:e.PlayerModel.WEATHER_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateMusicState,notifyName:e.PlayerModel.MUSIC_CHANGE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateLimit,notifyName:e.PlayerModel.IDLE_LIMIT_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.initReward,notifyName:e.PlayerModel.PLAYER_RECHARGE,execute:!1},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateSign,notifyName:e.PlayerModel.SIGN_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateLock,notifyName:e.PlayerModel.LOCK_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateFunctionOpen,notifyName:e.PlayerModel.FUNCTION_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updatePiece,notifyName:e.PlayerModel.PIECE_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,execute:!0,callBackFunc:this.updatePlayerLevel,notifyName:e.PlayerModel.PLAYER_LEVEL_UPDATE},{source:e.DataManager.playerModel,target:this,execute:!0,callBackFunc:this.updatePokemonRewardStatus,notifyName:e.PlayerModel.IDLE_REWARD_POKEMON_UPDATE},{source:e.DataManager.playerModel,target:this,execute:!0,callBackFunc:this.updateRevenge,notifyName:e.PlayerModel.PLUNDER_UPDATE}],this._touchEvent=[{target:this.rewardArrow,callBackFunc:this.touchArrow},{target:this.goldRewardButton,callBackFunc:this.receiveGold},{target:this.goldRewardGroup,callBackFunc:this.receiveGold},{target:this.pokemonRewardButton,callBackFunc:this.receivePokemon},{target:this.itemRewardButton,callBackFunc:this.receiveItem},{target:this.startBattleButton,callBackFunc:this.openDetail},{target:this.battleBossImage,callBackFunc:this.openDetail},{target:this.bossGroup,callBackFunc:this.openDetail},{target:this.mailButton,callBackFunc:this.touchMail},{target:this.mapButton,callBackFunc:this.touchMap},{target:this.chatButton,callBackFunc:this.touchChat},{target:this.friendButton,callBackFunc:this.touchFriend},{target:this.rankButton,callBackFunc:this.touchRank},{target:this.autoBattleButton,callBackFunc:this.touchAutoButton},{target:this.teachTaskGroup,callBackFunc:this.touchTeachTask},{target:this.legendaryButton,callBackFunc:this.touchLegendary},{target:this.fastBattleButton,callBackFunc:this.fastBattle},{target:this.recommendButton,callBackFunc:this.openRecommend},{target:this.riftButton,callBackFunc:this.openRift},{target:this.miningButton,callBackFunc:this.openMining},{target:this.soundButton,callBackFunc:this.touchMusic},{target:this.revengeButton,callBackFunc:this.touchRevenge},{target:this.revengeButtonTip,callBackFunc:this.touchRevenge},{target:this.mysteryShopButton,callBackFunc:this.touchMysteryShop},{target:this.recoveryButton,callBackFunc:this.touchRecovery},{target:this.arrowButton,callBackFunc:this.changeButtonGroup},{target:this.bookButton,callBackFunc:this.touchBook},{target:this.signButton,callBackFunc:this.touchSign},{target:this.onlineReward,callBackFunc:this.touchOnlineReward},{target:this.comboButton,callBackFunc:this.openCombo},{target:this.tipsButton,callBackFunc:this.openTips},{target:this.weatherDetailButton,callBackFunc:this.openWeatherDetail},{target:this.weatherDetailGroup,callBackFunc:this.closeWeatherDetail},{target:this.eggButton,callBackFunc:this.openEgg},{target:this.unlockGroup,callBackFunc:this.openLock},{target:this.unlockRect,callBackFunc:this.touchLockRect},{target:this.skillBookButton,callBackFunc:this.touchSkill},{target:this.duihuanButton,callBackFunc:this.duihuanHandle},{target:this.shopButton,callBackFunc:this.openShop},{target:this.zhujueButton,callBackFunc:this.openPlayer},{target:this.rechargeButton,callBackFunc:this.openRecharge},{target:this.fragButton,callBackFunc:this.openFrag},{target:this.shenshouButton,callBackFunc:this.openShenshou},{target:this.kaifubipinButton,callBackFunc:this.openKaifubipin},{target:this.meizhouxiangou,callBackFunc:this.openShenshou},{target:this.BTRechargeButton,callBackFunc:this.openBTRecharge}],e.NotificationCenter.getInstance().addObserver(this,function(e){t.mapButton.point=e},e.MapPmCenterPanel.REDPOINT),this.addEventAndNotify();var n={diagonalMovement:PF.DiagonalMovement.Never,dontCrossCorners:!0,heuristic:PF.Heuristic.manhattan,timeLimit:10,weight:1,trackRecursion:!1,allowDiagonal:!1};this._finder=new PF.AStarFinder(n);for(var i in e.Data.TMapsEvent)this._eventLootList.push({id:e.Data.TMapsEvent[i].ID,weight:e.Data.TMapsEvent[i].Prob});this._battleBone=new e.SkeletonBase,this._battleBone.createBones("wuqijiaocha"),this.battleBoneGroup.addChildAt(this._battleBone,0),this._linquBone=new e.SkeletonBase,this._linquBone.createBones("eft_linqu"),this.linquBoneGroup.addChildAt(this._linquBone,0),this.linquBoneGroup.visible=!1,this.mapGroup.scaleX=this.mapGroup.scaleY=this._mapScale,this.initActivity(),this.initMission(),this.initReward(),this.initMail(),this.initFriend(),this.initChat(),this.initTalk(),this.initShare(),this.initOffline(),this.initRevenge(),this.initFinger(),this.updateButton(),this.initOnlineReward(),this.updateLove(),this.initPlatform(),this.initRedian(),this.initStory(),this.initThroneInfo(),this.updateWB(),this.updateTeachTask()},i.prototype.updateWB=function(){if(9==SDK.$platformType){this.addIdleButton(e.IdleIconButtonType.WBFuli),this.addIdleButton(e.IdleIconButtonType.WBShare);var t=e.DataManager.playerModel.extension.ALLGiftBag,n=!1;for(var i in t)3001==t[i].type&&(n=!0);n?this.removeIdleButton(e.IdleIconButtonType.WBAddDesktop):this.addIdleButton(e.IdleIconButtonType.WBAddDesktop)
}},i.prototype.duihuanHandle=function(){e.navPanel(84)},i.prototype.initStory=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return 1!=e.DataManager.playerModel.currentMission||egret.localStorage.getItem("finishStory")?[3,3]:(Auth.uploadLog("新手剧情","1"),e.GameLayer.teachLayer.visible=!1,e.SoundManager.stopTeach(),this._onStory=!0,t=e.Story2Scene.getInstance(),e.GameLayer.maskLayer.addChild(t),[4,t.finish()]);case 1:return n.sent(),t.removeFromParent(),[4,this.startStoryBattle()];case 2:n.sent(),n.label=3;case 3:return[2]}})})},i.prototype.onHeightChange=function(){t.prototype.onHeightChange.call(this),this.unlockRect.scaleX=this.unlockRect.scaleY=this._heightScale},i.prototype.initRedian=function(){this._nowTime=e.getNowTime();var t=0,n=this._nowTime.getTime();for(var i in e.Data.TNotePad)if(e.Data.TNotePad.hasOwnProperty(i)){var a=e.Data.TNotePad[i],o=e.splitStringToNumberArray(a.opTime,"/"),s=new Date;s.setFullYear(o[0],o[1]-1,o[2]),s.setHours(0,0,0);var r=e.splitStringToNumberArray(a.edTime,"/"),u=new Date;if(u.setFullYear(r[0],r[1]-1,r[2]),u.setHours(23,59,59),n<s.getTime()||n>u.getTime())continue;t++}t>0&&this.addIdleButton(e.IdleIconButtonType.redianxinxi)},i.prototype.touchSkill=function(){var t=e.BookPanel.instance;t.type=e.BookType.skill,t.show()},i.prototype.touchLockRect=function(){e.showTips(e.Lang.xingongnengkaifanglekuaiqukankanba,!0)},i.prototype.initPlatform=function(){(5==SDK.$platformType||e.isMobile)&&(this.legendaryButton.visible=!1)},i.prototype.updatePiece=function(){this.bookButton.point=!1;for(var t in e.Data.TElf){var n=e.Data.TElf[t];if(n.debrisNeed){var i=e.splitStringToNumberArray(n.debrisNeed,";");if(e.DataManager.playerModel.getItemCount(i[0])>=i[1]){this.bookButton.point=!0;break}}}this.updateArrowPoint()},i.prototype.openEgg=function(){e.navPanel(70)},i.prototype.openLock=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._currentLockData?(this.closeAutoBattle(),t=e.BattleUnLockPanel.getInstance(),t.setData(this._currentLockData),[4,e.DataManager.playerModel.GetFunctionOpenReward()]):[3,2];case 1:n.sent(),t.show(),n.label=2;case 2:return[2]}})})},i.prototype.closeAutoBattle=function(){this._autoBattle&&this.touchAutoButton()},i.prototype.updateLove=function(){var t=this;egret.setTimeout(function(){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.updateFollowLove()];case 1:return t.sent(),this.updateLove(),[2]}})})},this,18e4)},i.prototype.openWeatherDetail=function(){this.weatherDetailGroup.visible=!0},i.prototype.closeWeatherDetail=function(){this.weatherDetailGroup.visible=!1},i.prototype.challengeLegendary=function(){var t=this,n=e.DataManager.playerModel.getLegendaryId(),i=e.Data.TMapsLegendary[n];if(i){var a=e.CheckPanel.getInstance();a.setData(e.Lang.ninquedingyaotiaozhancishenshouma,function(n){return __awaiter(t,void 0,void 0,function(){var t;return __generator(this,function(a){switch(a.label){case 0:return n?(e.showWaitPanel(),[4,e.HttpRequest.StartOnhookLegendaryAsync()]):[3,3];case 1:return a.sent(),t=e.BattleScene.getInstance(),t.legendaryMission=i.missionId,t.legendaryFormation=i.formation,[4,t.initBattle(6)];case 2:a.sent(),e.hideWaitPanel(),e.GameLayer.battleLayer.addChild(t),t.run(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.legendaryEndBattle,e.BattleScene.QUIT_BATTLE),a.label=3;case 3:return[2]}})})}),a.show()}},i.prototype.legendaryEndBattle=function(){e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!0,e.NotificationCenter.getInstance().removeObserver(this,e.BattleScene.QUIT_BATTLE)},i.prototype.updateLock=function(){var t=e.DataManager.playerModel.playerLevel,n=e.DataManager.playerModel.currentMission;this.autoBattleButton.lock=t<Number(e.Constants.autoBattle),this.riftButton.lock=t<e.riftLimit,this.rankButton.lock=t<Number(e.Constants.Rankinglist),this.recoveryButton.lock=t<Number(e.Constants.PlayItemRecoOpen),this.miningButton.lock=t<Number(e.Constants.MiningOpenLV),this.fastBattleButton.lock=t<Number(e.Constants.fastBattleOpenLv),this.chatButton.lock=t<Number(e.Constants.Chatbox),this.eggButton.lock=n<=Number(e.Constants.eggOpenDgLv),this.unlockGroup.touchEnabled=!1,this.unlockGroup.visible=!1,this.unlockArrowGroup.visible=!1;var i=e.DataManager.playerModel.extension.roleCTime;if(i<this._openTimeLine)for(var a in e.Data.TFunctionopen){var o=e.Data.TFunctionopen[a];if(t<o.lv){this._currentLockData=o,this.unlockGroup.visible=!0,this.unlockIcon.source="icon/unlock/"+o.picture,this.unlockLabel.text=o.lv+"级开放";break}}else this.updateFunctionOpen()},i.prototype.updateFunctionOpen=function(){var t=e.DataManager.playerModel.extension.roleCTime;if(!(t<this._openTimeLine)){var n=e.DataManager.playerModel.playerLevel;this.unlockGroup.visible=!1,this.unlockGroup.touchEnabled=!1,this.unlockArrowGroup.visible=!1,this._unlockArrow.stop(),this.unlockRect.visible=!1,this.unlockFinger.visible=!1,egret.Tween.removeTweens(this.unlockFinger);var i=e.DataManager.playerModel.extension.fOpenId,a=e.Data.TFunctionopen[i+1];a&&(this._currentLockData=a,this.unlockGroup.visible=!0,this.unlockIcon.source="icon/unlock/"+a.picture,n<a.lv?this.unlockLabel.text=a.lv+"级开放":(this.unlockGroup.touchEnabled=!0,this.unlockLabel.text=e.Lang.yikaifang,this.unlockArrowGroup.visible=!0,this._unlockArrow.play(1,0),this.unlockRect.visible=!0,this.unlockFinger.visible=!0,this.unlockFinger.y=337,egret.Tween.get(this.unlockFinger,{loop:!0}).to({y:360},300).to({y:337},300)))}},i.prototype.openTips=function(){e.navPanel(68)},i.prototype.openCombo=function(){e.navPanel(66)},i.prototype.touchOnlineReward=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.onlineReward.canGet?[4,e.DataManager.playerModel.getOnlineReward()]:[3,2];case 1:return t.sent(),this.initOnlineReward(),[3,3];case 2:e.showTips(e.Lang.xianzaihaibukeyilingqujianglio,!0),t.label=3;case 3:return[2]}})})},i.prototype.initOnlineReward=function(){this.onlineReward.cleanInterval();var t=e.DataManager.playerModel.extension.getOnline;e.Data.TOnline[t+1]?(this.onlineReward.visible=!0,this.onlineReward.setData(e.Data.TOnline[t+1],e.DataManager.playerModel.extension.lastGetOnline)):this.onlineReward.visible=!1},i.prototype.touchSign=function(){e.navPanel(37)},i.prototype.touchBook=function(){this.visible=!1,e.navPanel(29)},i.prototype.updateSign=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,e.DataManager.playerModel.getSign()];case 1:return t=n.sent(),this.signButton.point=t.signData.day<29&&0==t.signed,this.updateArrowPoint(),[2]}})})},i.prototype.changeButtonGroup=function(){this._buttonShow=!this._buttonShow,this.updateButton()},i.prototype.updateButton=function(){this._buttonShow?(this.hideIconGroup.visible=!0,this.arrowButton.icon="ui/scene/idle/shang"):(this.hideIconGroup.visible=!1,this.arrowButton.icon="ui/scene/idle/xia"),this.updateArrowPoint()},i.prototype.updateArrowPoint=function(){this.arrowButton.point=!1,this._buttonShow||(this.revengeButton.point||this.signButton.point||this.friendButton.point)&&(this.arrowButton.point=!0)},i.prototype.openDetail=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.closeAutoBattle(),5!=e.DataManager.playerModel.currentMission?[3,2]:(t=e.BattleComic.getInstance(),this.stage.addChild(t),[4,t.start(5)]);case 1:n.sent(),n.label=2;case 2:return e.navPanel(64),[2]}})})},i.prototype.touchRecovery=function(){e.navPanel(62)},i.prototype.touchMysteryShop=function(){e.navPanel(60)},i.prototype.initFinger=function(){if(e.DataManager.playerModel.currentMission<10){var t=e.GetOffSetYWithBottom(842);this.finger.y=t,egret.Tween.get(this.finger,{loop:!0}).to({y:t-23},300).to({y:t},300)}egret.startTick(this.updateFinger,this)},i.prototype.updateFinger=function(t){return e.DataManager.playerModel.currentMission<10&&!e.TeachScene.getInstance().stage&&!this.unlockRect.visible&&!e.GameLayer.teachLayer.numChildren?this.finger.visible=!0:this.finger.visible=!1,!0},i.prototype.updateLimit=function(){this._maxPokemonCount=e.Data.TVip[e.DataManager.playerModel.playerVip].WaitElfCount;var t=e.DataManager.playerModel.getIdlePokemonCount();this.pokemonLimitLabel.text=t+"/"+this._maxPokemonCount,this.pokemonLimitLabel.textColor=t>=this._maxPokemonCount?gameConfig.TextColors.red:gameConfig.TextColors.green;var n=e.DataManager.playerModel.getIdleItemCount();this.itemLimitLabel.text=n+"/"+this._maxItemCount,this.itemLimitLabel.textColor=n>=this._maxItemCount?gameConfig.TextColors.red:gameConfig.TextColors.green},i.prototype.touchRevenge=function(){this.updateRevenge(!1),e.navPanel(58)},i.prototype.initRevenge=function(){this.revengeButton.point=!1,this.updateArrowPoint()},i.prototype.updateMusicState=function(){var t=e.DataManager.playerModel.musicState;this.soundButton.icon="on"==t?"ui/scene/idle/sound_1":"ui/scene/idle/sound_2"},i.prototype.touchMusic=function(){e.DataManager.playerModel.changeMusicState()},i.prototype.initOffline=function(){if(e.DataManager.playerModel.currentMission>2&&19!=e.DataManager.playerModel.map){this._nowTime=e.getNowTime();var t=Math.floor((this._nowTime.getTime()-e.DataManager.playerModel.lastGetIdleRewardTime.getTime())/1e3),n=Math.min(Math.floor(t*(this._currentMissionData.Gold/60)),this._currentMissionData.MaxGold),i=Math.min(Math.floor(t*(this._currentMissionData.Exp/60)),this._currentMissionData.MaxExp);if(n>=1e4){var a=e.OfflineReward.getInstance();a.setLabel(n,i),a.show()}}if(e.DataManager.playerModel.currentMission>5&&e.DataManager.playerModel.playerLevel>=12){this._nowTime=e.getNowTime();var o=egret.localStorage.getItem("updateTip"),s=this._nowTime.getDate();o?s.toString()!=o&&(e.UpdateTip.getInstance().show(),egret.localStorage.removeItem("updateTip")):e.UpdateTip.getInstance().show()}},i.prototype.addIdleButton=function(t){for(var n=0;n<this._iconButtonList.length;n++){var i=this._iconButtonList[n];if(i.type==t)return}var a=new e.IdleIconButton;this.iconButtonGroup.addChild(a),a.setType(t);var o=this._iconButtonList.length;a.horizontalCenter=-105*(o%3)+105,a.verticalCenter=100*Math.floor(o/3)-110,this._iconButtonList.push(a)},i.prototype.updateIdleButtonPoint=function(e,t){for(var n=0;n<this._iconButtonList.length;n++){var i=this._iconButtonList[n];if(i.type==e)return void(i.button.point=t)}},i.prototype.removeIdleButton=function(e){for(var t=!1,n=0;n<this._iconButtonList.length;n++){var i=this._iconButtonList[n];if(i.type==e){i.removeFromParent(),this._iconButtonList.splice(n,1),t=!0;break}}if(t)for(var n=0;n<this._iconButtonList.length;n++){var i=this._iconButtonList[n],a=n;i.horizontalCenter=105*(a%3)-105,i.verticalCenter=110*Math.floor(a/3)-110}},i.prototype.initShare=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return 2!=SDK.$platformType?[3,5]:(this.addIdleButton(e.IdleIconButtonType.share),this.updateShare(),"1"!=SDK.getQueryString("focus")?[3,4]:e.DataManager.playerModel.getActivityInfo().ext.focus?[3,3]:[3,1]);case 1:return[4,e.HttpRequest.GetFocusGiftAsync(!0)];case 2:n.sent(),e.DataManager.playerModel.getActivityInfo().ext.focus=1,e.showTips(e.Lang.ganxieguanzhu),n.label=3;case 3:return[3,5];case 4:this.addIdleButton(e.IdleIconButtonType.focus),n.label=5;case 5:return this._championBone?[3,7]:(t=this,[4,e.getBone("shan")]);case 6:t._championBone=n.sent(),this.championBoneGroup.addChild(this._championBone),n.label=7;case 7:return this._championBone.play(null,0),[2]}})})},i.prototype.updateShare=function(){if(2==SDK.$platformType){var t=e.DataManager.playerModel.getActivityInfo();if(t.ext.dShare>=Number(e.Constants.inviteCountDay))this.updateIdleButtonPoint(e.IdleIconButtonType.share,!1);else{this._nowTime=e.getNowTime();var n=60*Number(e.Constants.inviteTime),i=.001*(this._nowTime.getTime()-t.ext.shareCD.getTime()),a=n-i;a>0?this.updateIdleButtonPoint(e.IdleIconButtonType.share,!1):this.updateIdleButtonPoint(e.IdleIconButtonType.share,!0)}}},i.prototype.updateWeather=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,u,l;return __generator(this,function(c){switch(c.label){case 0:return t=e.Data.TWeather[e.DataManager.playerModel.currentWeather],n=t.resource,this._weatherBone&&e.destroyBone(this._weatherBone),this._weatherParticle&&e.destroyParticle(this._weatherParticle),4!=t.Id&&7!=t.Id?[3,2]:(i=this,[4,e.getBone(n)]);case 1:return i._weatherBone=c.sent(),this._weatherBone.play(null,0),this._weatherBone.setScale(this._heightScale),this.weatherGroup.addChild(this._weatherBone),[3,4];case 2:return a=this,[4,e.getParticle(n)];case 3:a._weatherParticle=c.sent(),this._weatherParticle.start(),this._weatherParticle.scale=this._heightScale,this.particleGroup.addChild(this._weatherParticle),c.label=4;case 4:for(o=e.splitStringToNumberArray(t.type,";"),this.weatherLabel.text=""+t.name,this.weatherImage.source="langs/tianqi_"+t.Id,this._weatherEffect=e.Data.TEffect[t.effectWeather],s=new e.EquipAttribute,r=e.getAttributeTextList(e.parseEquipAttribute(s,this._weatherEffect)),u="",l=0;l<r.length;l++)u+=r[l]+" ";return this.weatherEffectLabel.text=u,[2]}})})},i.prototype.showWeatherChange=function(e){var t=this;this.changeGroup.visible=!0,this.changeGroup.x=720,this.weatherIcon.source="langs/tianqi_"+e,egret.Tween.get(this.changeGroup,null,null,!0).to({x:152},4e3).wait(1e3).to({x:-417},4e3).call(function(){t.changeGroup.visible=!1})},i.prototype.initTalk=function(){var t=this;this.talkGroup.visible=!1,egret.setInterval(function(){if(Math.random()<.6)t.talkGroup.visible=!0,t.talkLabel.text=e.Data.TTalk[Math.floor(Math.random()*e.Data.TTalk.length)].text,t.talkBg.width=t.talkLabel.width+10,egret.setTimeout(function(){t.talkGroup.visible=!1},t,5e3);else{var n=t.getFollowPokemon();n.showSign()}},this,2e4)},i.prototype.getFollowPokemon=function(){for(var e,t=this._playerFollowPokemon.length;!e;){var n=this._playerFollowPokemon[Math.floor(Math.random()*t)];n&&n.displayGroup.parent&&(e=n)}return e},i.prototype.openRift=function(){e.navPanel(40)},i.prototype.initChat=function(){egret.localStorage.getItem("outsideChat")?e.ShowOutsideChat="on"==egret.localStorage.getItem("outsideChat"):(egret.localStorage.setItem("outsideChat","on"),e.ShowOutsideChat=!0),this.chatGroup.visible=!1},i.prototype.setOutsideChat=function(e,t){var n=this;void 0===t&&(t=!1);var i;if(e.length>13){i="";for(var a=0;13>a;a++)i+=e[a];i+="..."}else i=e;this.chatLabel.text=i,this.chatBg.width=this.chatLabel.width+46,this.chatGroup.visible=!0,null!=this._chatTimeout&&egret.clearTimeout(this._chatTimeout),this._chatTimeout=egret.setTimeout(function(){n.chatGroup.visible=!1,n._chatTimeout=null},this,3e3),this.chatLabel.textColor=t?gameConfig.TextColors.green:gameConfig.TextColors.white},i.prototype.openRecommend=function(){e.navPanel(38)},i.prototype.updateQuickBattle=function(){if(e.DataManager.playerModel.playerLevel>=Number(e.Constants.fastBattleOpenLv)){var t=e.Data.TVip[e.DataManager.playerModel.playerVip].quickBattle,n=e.DataManager.playerModel.getQuitBattleCount();this.fastBattleButton.point=t-n>0}else this.fastBattleButton.point=!1},i.prototype.fastBattle=function(){e.navPanel(36)},i.prototype.initActivity=function(){e.ActivityPanel.getInstanceByType(e.ActivityPanelType.huodongzhongxin).checkIsHaveActivtiy()?this.addIdleButton(e.IdleIconButtonType.huodongzhongxin):this.removeIdleButton(e.IdleIconButtonType.huodongzhongxin),e.ActivityPanel.getInstanceByType(e.ActivityPanelType.xinfukuanghuan).checkIsHaveActivtiy()?this.addIdleButton(e.IdleIconButtonType.xinfukuanghuan):this.removeIdleButton(e.IdleIconButtonType.xinfukuanghuan),e.ActivityPanel.getInstanceByType(e.ActivityPanelType.xianshihaoli).checkIsHaveActivtiy()?this.addIdleButton(e.IdleIconButtonType.xianshihaoli):this.removeIdleButton(e.IdleIconButtonType.xianshihaoli),e.ActivityPanel.getInstanceByType(e.ActivityPanelType.quanminkuanghuan).checkIsHaveActivtiy()?this.addIdleButton(e.IdleIconButtonType.quanminkuanghuan):this.removeIdleButton(e.IdleIconButtonType.quanminkuanghuan);var t=e.DataManager.playerModel.getActivityInfoByType(128);t&&t.end&&this._nowTime.getTime()<t.end.getTime()?this.kaifubipinButton.visible=!0:this.kaifubipinButton.visible=!1;var n=!0,i=e.DataManager.playerModel.getActivityInfo();if(5==SDK.$platformType||e.isMobile){var a=e.DataManager.playerModel.getActivityInfo().eventInfo.primeCharge;a.states.length>=3&&(n=!1)}else 0!=i.recharged&&(n=!1);n&&this.addIdleButton(e.IdleIconButtonType.shouchong)},i.prototype.updatePoint=function(){var t=e.DataManager.playerModel.getActivityInfo(),n=!1;if(5==SDK.$platformType||e.isMobile){var i=e.DataManager.playerModel.getActivityInfo().eventInfo.primeCharge;i.states.length>=3&&(n=!0)}else 0!=t.recharged&&(n=!0);n&&this.removeIdleButton(e.IdleIconButtonType.shouchong)},i.prototype.touchLegendary=function(){e.navPanel(14)},i.prototype.touchTeachTask=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(a){switch(a.label){case 0:return t=e.DataManager.playerModel.getTeachQuest(),t.length>0?(n=t[0],0!=n.state?[3,3]:(i=e.Data.TQuest[n.id],n.progress>=i.LimitedNum?[4,e.DataManager.playerModel.getQuestReward(i)]:[3,2])):[3,3];case 1:return a.sent(),[3,3];case 2:1==e.DataManager.playerModel.currentMission&&Auth.uploadLog("引导任务",i.QuestTitle),e.TeachData=e.Data.TTeach[i.TeachStartId],null!=i.GoToNumber&&0!=i.GoToNumber&&e.navPanel(i.GoToNumber),a.label=3;case 3:return[2]}})})},i.prototype.teahCatchPokemon=function(){if(e.DataManager.playerModel.extension.onHookPms.length<=0){var t=e.DataManager.playerModel.map,n=e.getNowTime(),i=n.getHours(),a=2;i>=6&&18>i&&(a=1);for(var o=0;o<e.Data.TMapsCatch.length;o++){var s=e.Data.TMapsCatch[o];if(s.ID==t&&s.Time==a){e.DataManager.playerModel.idleCatchPokemon(s.PmID);break}}}},i.prototype.updateTeachTask=function(){var t=this,n=e.DataManager.playerModel.getTeachQuest();if(n.length>0){this.teachTaskGroup.visible=!0;var i=n[0];if(0!==i.state)this.teachTaskGroup.visible=!1;else{this.teachTaskGroup.visible=!0;var a=e.Data.TQuest[i.id];i.progress>=a.LimitedNum?(this.teachTaskPoint.visible=!0,null!=this._linquBone&&(this.linquBoneGroup.visible=!0,this._linquBone.setTimeScale(1.5),this._linquBone.play(null,0)),this.taskInfoLabel.textFlow=[{text:e.formatString(a.QuestInformation,a.LimitedNum),style:{textColor:gameConfig.TextColors.white,stroke:2,strokeColor:gameConfig.TextColors.black}},{text:"("+e.Lang.lingqu+")",style:{textColor:gameConfig.TextColors.green,stroke:2,strokeColor:gameConfig.TextColors.black}}]):(this.teachTaskPoint.visible=!1,null!=this._linquBone&&(this._linquBone.stop(),this.linquBoneGroup.visible=!1),this.taskInfoLabel.textFlow=[{text:e.formatString(a.QuestInformation,a.LimitedNum),style:{textColor:gameConfig.TextColors.white,stroke:2,strokeColor:gameConfig.TextColors.black}},{text:"("+e.setNumber(i.progress)+"/"+a.LimitedNum+")",style:{textColor:gameConfig.TextColors.red,stroke:2,strokeColor:gameConfig.TextColors.black}}]),this.taskRewardGroup.removeChildren();var o=0,s=function(n){var i=e.splitStringToNumberArray(n,";"),a=t._taskRewardImage[o];a||(a=new eui.Image,a.scaleX=a.scaleY=.5,t._taskRewardImage[o]=a);var s=t._taskRewardLabel[o];if(s||(s=new eui.Label,s.size=16,s.stroke=2,s.strokeColor=gameConfig.TextColors.black,s.bold=!0,t._taskRewardLabel[o]=s),e.Data.TItem[i[0]]){if(8==e.Data.TItem[i[0]].type){var r=e.Data.TElfSkill[e.Data.TItem[i[0]].number1];r&&(a.source="icon/skill/"+r.Icon)}else a.source="icon/item/"+i[0];s.text=e.Data.TItem[i[0]].name+"x"+i[1]}else if(e.Data.TPethatch[i[0]]){var u=e.Data.TPethatch[i[0]];a.source="icon/item/"+u.res,s.text=u.name+"x"+i[1]}t.taskRewardGroup.addChild(a),t.taskRewardGroup.addChild(s),o++};a.Reward1&&s(a.Reward1),a.Reward2&&s(a.Reward2),a.Reward3&&s(a.Reward3)}}else this.teachTaskGroup.visible=!1},i.prototype.updateLegendary=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s;return __generator(this,function(r){t=e.DataManager.playerModel.legendaryInfo;for(a in t)if(o=t[a].info,s=t[a].data,o&&o.isChallenge){if(Number(s.Area)==e.DataManager.playerModel.map){i=s;break}n=s.ElfID}return i?(this._legendaryPokemon.setData(i),this.legendaryTipGroup.visible=!0):(this._legendaryPokemon.stop(),this.legendaryTipGroup.visible=!1),n?(this.legendaryIcon.visible=!0,this.legendaryIcon.legendary=n,this.legendaryIcon.play()):(this.legendaryIcon.visible=!1,this.legendaryIcon.stop()),[2]})})},i.prototype.touchAutoButton=function(){this._autoBattle?(this._autoBattle=!1,this.endAutoPassDungeon()):e.DataManager.playerModel.playerLevel>=Number(e.Constants.autoBattle)?this._autoBattle=!0:e.showTips(e.formatString(e.Lang.dengjijiesuo,Number(e.Constants.autoBattle)),!0),this.autoBattleButton.icon=this._autoBattle?"ui/scene/idle/r2":"ui/scene/idle/r1",this.autoButtonOffImage.visible=!1},i.prototype.initOtherPlayer=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i=this;return __generator(this,function(a){switch(a.label){case 0:return t=this,[4,e.DataManager.playerModel.getMapPlayer()];case 1:return t._otherPlayerInfo=a.sent(),n=18e4,this._otherPlayerInfo?[4,this.setOtherPlayer(this._otherPlayerInfo)]:[3,3];case 2:a.sent(),a.label=3;case 3:return egret.setTimeout(function(){i.initOtherPlayer()},this,n),[2]}})})},i.prototype.initFriend=function(){var t=e.DataManager.playerModel.getFriendNotice();this.friendButton.point=t.length>0,this.updateArrowPoint()},i.prototype.touchRank=function(){e.navPanel(25)},i.prototype.openMining=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},i.prototype.updateHelpPokemon=function(){},i.prototype.touchFriend=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.friendButton.point=!1,e.navPanel(24),this.updateArrowPoint(),[2]})})},i.prototype.touchChat=function(){e.navPanel(23)},i.prototype.initMail=function(){this.mailButton.point=!1;var t=e.DataManager.playerModel.getMailList();t.length>0&&(this.mailButton.point=!0)},i.prototype.updateMail=function(){this.mailButton.point=!0},i.prototype.touchMail=function(){this.mailButton.point=!1,e.navPanel(21)},i.prototype.touchMap=function(){e.navPanel(22)},i.prototype.startBattle=function(t){return void 0===t&&(t=!1),__awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return t?(e.HttpRequest.StartBattleAsync(),e.showWaitPanel(1),n=e.BattleScene.getInstance(),this._autoBattle&&n.setAuto(),[4,n.initBattle()]):[3,2];case 1:return i.sent(),e.GameLayer.battleLayer.addChild(n),n.run(),this.destroy(),e.hideWaitPanel(),e.GameLayer.sceneLayer.visible=e.GameLayer.panelLayer.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),this._buttonShow&&e.DataManager.playerModel.currentMission==Number(e.Constants.spcStage)&&this.changeButtonGroup(),[3,3];case 2:e.navPanel(64),i.label=3;case 3:return[2]}})})},i.prototype.startStoryBattle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),t=e.BattleScene.getInstance(),[4,t.initBattle(15)];case 1:return n.sent(),Auth.uploadLog("新手剧情","战斗开始"),e.GameLayer.battleLayer.addChild(t),t.run(),this.destroy(),e.hideWaitPanel(),e.GameLayer.sceneLayer.visible=e.GameLayer.panelLayer.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),[2]}})})},i.prototype.endBattle=function(){this._onStory&&(this._onStory=!1,Auth.uploadLog("新手剧情","战斗结束"),e.GameLayer.maskLayer.addChild(e.Story2Scene.getInstance()),e.Story2Scene.getInstance().setEndText()),e.GameLayer.sceneLayer.visible=e.GameLayer.panelLayer.visible=!0,this.onCreate(),e.NotificationCenter.getInstance().removeObserver(this,e.BattleScene.QUIT_BATTLE)},i.prototype.playMusic=function(){var t=Math.ceil(6*Math.random());e.SoundManager.playBgSound("music/main"+t)},i.prototype.receiveGold=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o=this;return __generator(this,function(s){switch(s.label){case 0:return 19==e.DataManager.playerModel.map?(e.showTips(e.Lang.gaiquyuguajiwufahuodejingbihebaokemengjingyan,!0),[2]):(this._nowTime=e.getNowTime(),t=this._nowTime.getTime()-e.DataManager.playerModel.lastGetIdleRewardTime.getTime(),t>6e4?(this.goldRewardButton.touchEnabled=!1,this.goldIcon.visible=this.expIcon.visible=!0,this.goldIcon.alpha=this.expIcon.alpha=1,n=e.GetOffSetYWithBottom(625),this.expIcon.x=-44,this.expIcon.y=n,this.goldIcon.y=n,this.goldIcon.x=26,i=this.rewardGroup.x+this.goldRewardButton.x+this.goldRewardButton.width/2,a=this.rewardGroup.y+this.goldRewardButton.y+this.goldRewardButton.height/2,egret.Tween.get(this.expIcon).to({x:i,y:-27},800).call(function(){o.expIcon.visible=!1}),egret.Tween.get(this.goldIcon).to({x:i,y:-23},800).call(function(){o.goldIcon.visible=!1}),[4,e.DataManager.playerModel.getIdleReward(0)]):[3,3]);case 1:return s.sent(),e.SoundManager.playEffect("music/qian"),this.goldBoneGroup.visible=!0,[4,this._goldBone.play(null,1)];case 2:return s.sent(),this.goldBoneGroup.visible=!1,this.goldRewardButton.touchEnabled=!0,[3,4];case 3:e.showTips(e.Lang.qingshaohouzailailingqujiangli,!0),s.label=4;case 4:return[2]}})})},i.prototype.receivePokemon=function(){var t=e.DataManager.playerModel.idleRewardPokemonList;if(t.length>0){this.pokemonRewardButton.touchEnabled=!1;var n=e.IdleCatchPokemonRewardPanel.getInstance();n.show(),this.pokemonRewardButton.touchEnabled=!0}else e.showTips(e.Lang.ninhaiweizhuadaobaokemengo,!0)},i.prototype.receiveItem=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=e.DataManager.playerModel.idleRewardItemList,t.length>0?(this.itemRewardButton.touchEnabled=!1,[4,e.DataManager.playerModel.getIdleReward(2)]):[3,2];case 1:return n.sent(),this.itemRewardButton.touchEnabled=!0,[3,3];case 2:e.showTips(e.Lang.ninhaiweijiadaodaojuo,!0),n.label=3;case 3:return[2]}})})},i.prototype.initMission=function(){this.missionProgress.labelFunction=function(e,t){return"探险中："+e+"/"+t}},i.prototype.updateMapProgress=function(){this._nowTime=e.getNowTime();var t=e.DataManager.playerModel.idleFightCount;0==this._currentMissionData.fights?(this.missionProgress.maximum=1,this.missionProgress.value=1,this.missionProgress.labelDisplay.visible=!1,this.showBattleBone(),this._autoBattle&&this.visible&&!this.enterBattle&&0==e.GameLayer.panelLayer.numChildren&&!this._autoBattleLock&&this.startAutoPassDungeon()):t>=this.missionProgress.maximum?(this.missionProgress.value=this.missionProgress.maximum,this.missionProgress.labelDisplay.visible=!1,this.showBattleBone(),this._autoBattle&&this.visible&&!this.enterBattle&&0==e.GameLayer.panelLayer.numChildren&&!this._autoBattleLock&&this.startAutoPassDungeon()):(this.missionProgress.labelDisplay.visible=!0,this.missionProgress.value=t,this.hideBattleBone())},i.prototype.startAutoPassDungeon=function(){var t=this,n=function(){if(t._currentMissionData.id<=12)return e.showTips(e.Lang.shierguanhoukeyizidongwancheng),!1;if(1==t._currentMissionData.boss)return e.showTips(e.Lang.bossguanqiawufazidongwancheng),!1;for(var n=e.DataManager.playerModel.getPlayerBattlePokemonList(),i=0,a=0;a<n.length;++a)i+=e.countPokemonBattleCount(n[a]);var o=e.DataManager.playerModel.getActivityInfo().monthEnd.getTime()-e.getNowTime().getTime();return e.Data.TDungeonAuto[t._currentMissionData.id].autoPower>i&&0>=o?(e.showTips(e.Lang.zhiyouzhanlidabiaoheyuekawanjia),!1):!0};n()?(this._autoBattleLock=!0,this.autoPassDungeon.visible=!0,this.autoPassDungeon.play(),this._Interval&&(egret.clearInterval(this._Interval),this._Interval=null),this._Interval=egret.setInterval(this.autoPassProgressTick,this,50)):this.closeAutoBattle()},i.prototype.passDungeon=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.autoPassDungeon.value!=this.autoPassDungeon.maximum?[3,2]:(this.autoPassDungeon.value=0,this.endAutoPassDungeon(),[4,e.DataManager.playerModel.AutoPassLevel(this._currentMissionData.id)]);case 1:t.sent(),t.label=2;case 2:return[2]}})})},i.prototype.endAutoPassDungeon=function(){this._autoBattleLock=!1,this.autoPassDungeon.visible=!1,this.autoPassDungeon.stop(),this._Interval&&(egret.clearInterval(this._Interval),this._Interval=null)},i.prototype.autoPassProgressTick=function(){this.autoPassDungeon.value+=1,this.passDungeon()},i.prototype.showBattleBone=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){if(this._currentMissionData.boss)this.battleBoneGroup.visible=!1,this.bossGroup.visible=!0,this.runBattleBossIcon();else{if(this.bossGroup.visible=!1,this.hideBattleBossIcon(),this.battleBoneGroup.visible)return[2];this.battleBoneGroup.visible=!0,this._battleBone.play(null,0)}return[2]})})},i.prototype.runBattleBossIcon=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o=this;return __generator(this,function(s){switch(s.label){case 0:return this._bossIconInterval||(this._bossIconInterval=egret.setInterval(function(){o.battleBossImage.icon="ui/scene/idle/yudaoBOSS"+o._currentBossIcon,o._currentBossIcon++,o._currentBossIcon>4&&(o._currentBossIcon=1)},this,120)),this.artPokemon||this._currentMissionID==this._currentMissionData.id?[3,2]:[4,e.PlayerModel.getMissionPokemonData(this._currentMissionData.id)];case 1:for(t=s.sent(),n=0;n<t.length;n++)i=t[n],i.bossScale&&i.bossScale>=1&&(this.artPokemon||(this.artPokemon=new e.TeamArtPokemon),this.artPokemon.setPokemon(i.ElfID,!1),this.artPokemon.display.touchEnabled=!1,this.artPokemon.play(1,0),this.bossBoneGroup.addChild(this.artPokemon.display));this._currentMissionID=this._currentMissionData.id,a=e.setNumber(e.Data.TDungeonAuto[this._currentMissionID].autoPower),this.curLevelZhanLi.text=e.formatString(e.Lang.zidongzhanli,a),s.label=2;case 2:return[2]}})})},i.prototype.hideBattleBossIcon=function(){egret.clearInterval(this._bossIconInterval),this._bossIconInterval=0},i.prototype.hideBattleBone=function(){this.battleBoneGroup.visible=!1,this.bossGroup.visible=!1,this._battleBone.stop(),this.hideBattleBossIcon()},i.prototype.updateMission=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){return t=e.DataManager.playerModel.currentMission,this._currentMissionData=e.DataManager.playerModel.getDungeonData(t),this._currentMissionData?(this.missionProgress.maximum=this._currentMissionData.fights,this.currentLevelIdLabel.text="当前关卡："+t,n=e.setNumber(e.Data.TDungeonAuto[this._currentMissionData.id].autoPower),this.curLevelZhanLi.text="自动战力:"+n,t>=10&&(this.finger.visible=!1,egret.Tween.removeTweens(this.finger),egret.stopTick(this.updateFinger,this)),19==e.DataManager.playerModel.map?(this.rewardExpPerhLabel.text="0/m",this.rewardGoldPerhLabel.text="0/m"):(this.rewardExpPerhLabel.text=e.setNumber(this._currentMissionData.Exp)+"/m",this.rewardGoldPerhLabel.text=e.setNumber(this._currentMissionData.Gold)+"/m"),[2]):[2]})})},i.prototype.initReward=function(){this._maxTotalPokemonCount=Number(e.Constants.Awaitspirit),e.Data.TVip[e.DataManager.playerModel.playerVip].Awaitspirit&&(this._maxTotalPokemonCount+=e.Data.TVip[e.DataManager.playerModel.playerVip].Awaitspirit),this._maxTotalItemCount=Number(e.Constants.AwaitItme),e.Data.TVip[e.DataManager.playerModel.playerVip].AwaitItme&&(this._maxTotalItemCount+=e.Data.TVip[e.DataManager.playerModel.playerVip].AwaitItme);for(var t=0;t<this._maxTotalPokemonCount;t++){var n=this._rewardPokemonList[t];n||(n=new e.PokemonIcon,n.pokemon=null,this._rewardPokemonList[t]=n,this.rewardPokemonGroup.addChild(n))
}for(var t=0;t<this._maxTotalItemCount;t++){var n=this._rewardItemList[t];n||(n=new e.ItemIcon,n.item=null,this._rewardItemList[t]=n,this.rewardItemGroup.addChild(n))}this.BTRechargeButton.visible=e.DataManager.playerModel.playerVip<Number(e.Constants.VipLvAfterRecharge)},i.prototype.updateRevenge=function(e){this.revengeButton.point=e,this.revengeButtonTip.visible=e,this.revengeButtonTip.point=e,this.updateArrowPoint()},i.prototype.updatePokemonRewardStatus=function(){for(var t=e.DataManager.playerModel.idleRewardPokemonList,n=!1,i=0;i<this._rewardPokemonList.length;i++){var a=this._rewardPokemonList[i];if(a.pokemon=t[i]?t[i].type:null,a.pokemonData&&a.pokemonData.quality>=3){n=!0;break}}this.showRushou(n),this.totalPokemonLabel.text=t.length+"/"+this._rewardPokemonList.length,this.pokemonRewardButton.point=t.length>=this._rewardPokemonList.length},i.prototype.showRushou=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return this.catchGroup.visible=t,t?this.catchBone?[3,2]:(n=this,[4,e.getBone("rushou")]):[3,3];case 1:n.catchBone=i.sent(),this.catchGroup.addChildAt(this.catchBone,0),this.isShow=!0,this.catchBone.play(null,0),i.label=2;case 2:return this.isShow||(this.catchBone.play(null,0),this.isShow=!0),[3,4];case 3:this.catchBone&&(this.catchBone.stop(),this.isShow=!1),i.label=4;case 4:return[2]}})})},i.prototype.updateReward=function(){this._nowTime=e.getNowTime();var t=Math.floor((this._nowTime.getTime()-e.DataManager.playerModel.lastGetIdleRewardTime.getTime())/1e3),n=Math.min(Math.floor(t*(this._currentMissionData.Gold/60)),this._currentMissionData.MaxGold),i=Math.min(Math.floor(t*(this._currentMissionData.Exp/60)),this._currentMissionData.MaxExp);19==e.DataManager.playerModel.map&&(n=0,i=0),this.rewardGoldLabel.text=e.setNumber(n),this.rewardExpLabel.text=e.setNumber(i);var a=Math.floor(n/this._currentMissionData.MaxGold*100);this.totalGoldLabel.text=a+"%",19==e.DataManager.playerModel.map?this.goldRewardButton.icon="ui/scene/idle/baoxiang_jinzhi":31>a?this.goldRewardButton.icon="ui/scene/idle/baoxiang00":61>a?this.goldRewardButton.icon="ui/scene/idle/baoxiang01":this.goldRewardButton.icon="ui/scene/idle/baoxiang02",a>90?(this._goldMaxSeq.play(1),this.goldMaxGroup.visible=!0):(this._goldMaxSeq.stop(),this.goldMaxGroup.visible=!1),this.goldRewardButton.point=!1,this.updatePokemonRewardStatus();for(var o=e.DataManager.playerModel.idleRewardItemList,s=0;s<this._rewardItemList.length;s++){var r=this._rewardItemList[s];r.item=o[s]}this.totalItemLabel.text=o.length+"/"+this._rewardItemList.length,this.itemRewardButton.point=o.length>=this._rewardItemList.length,this.updateShare(),this.eggButton.point=!1,this.updateArrowPoint()},i.prototype.touchArrow=function(){var e=this;this.rewardArrow.touchEnabled=!1,this._showReward?egret.Tween.get(this.rewardGroup).to({x:-370},300).call(function(){e._showReward=!1,e.itemScroller.visible=e.pokemonScroller.visible=!1,e.rewardArrow.touchEnabled=!0,e.rewardArrow.scaleX=-.5}):egret.Tween.get(this.rewardGroup).to({x:0},300).call(function(){e._showReward=!0,e.itemScroller.visible=e.pokemonScroller.visible=!0,e.rewardArrow.touchEnabled=!0,e.rewardArrow.scaleX=.5})},i.prototype.updateMapInfo=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,s,r,u;return __generator(this,function(l){for(19==e.DataManager.playerModel.map?this.goldRewardButton.icon="ui/scene/idle/baoxiang_jinzhi":this.goldRewardButton.icon="ui/scene/idle/baoxiang00",t=Number(e.Data.TDungeonMaps[e.DataManager.playerModel.map].Map),n=e.DataManager.playerModel.map,this._pokemonLootList=[],i=e.getNowTime(),a=i.getHours(),o=2,a>=6&&18>a&&(o=1),s=0;s<e.Data.TMapsCatch.length;s++)r=e.Data.TMapsCatch[s],r.ID==n&&r.Time==o&&this._pokemonLootList.push({id:r.PmID,weight:r.ShowProb,data:r});for(this._itemLootList=[],s=0;s<e.Data.TMapsCatchItem.length;s++)r=e.Data.TMapsCatchItem[s],r.ID!=n||r.Time!=o&&12!=r.Time||this._itemLootList.push({id:r.ItemID,weight:r.Prob,data:r});return this.mapDisplay.source="ui/scene/idle/"+t,this.mapData||(this.mapData=RES.getRes("ui/scene/idle/mapData")),u=this.mapData[t],this._grid=new PF.Grid(u.length,u.length,u),[2]})})},i.prototype.updateAvatarInfo=function(){var t=e.DataManager.playerModel.playerRole,n=e.DataManager.playerModel.map,i=e.Data.TDungeonMaps[n],a=0;i.Swim&&(a=1),this._avatar?this._avatar.setAvatar(t,a):(this._avatar=new e.IdleAvatarAnim,this._avatar.setAvatar(t,a,!1,!0),this._avatar.changeDirection(4),this._avatar.setDisplayPosition(50,50),this._avatar.displayGroup.scaleX=this._avatar.displayGroup.scaleY=.8,this.avatarGroup.addChildAt(this._avatar.displayGroup,0)),this._avatar.setWing(e.DataManager.playerModel.playerWing),this._avatar.setDecoration(e.DataManager.playerModel.playerDecoration)},i.prototype.updatePokemonInfo=function(){if(this._followPokemonList=e.DataManager.playerModel.idleFollowPokemon,this._followPokemonList){this.followPokemonGroup.removeChildren();for(var t=0;6>t;t++){var n=this._playerFollowPokemon[t];n||(n=new e.IdlePlayerPokemon,this._playerFollowPokemon[t]=n),this._followPokemonList[t]&&(n.setPokemon(this._followPokemonList[t].type),n.setDisplayPosition(50,50),n.setScale(.8),this.followPokemonGroup.addChild(n.displayGroup))}}},i.prototype.getBornPosition=function(e){void 0===e&&(e=!0);for(var t=!0,n=0,i=0,a=0;t;)this._grid||(t=!1),e?(n=Math.floor(this.random.Next(0,15))+2,i=Math.floor(this.random.Next(0,16))+2,this._grid.isWalkableAt(n,i)&&(t=!1)):(n=Math.floor(this.random.Next(0,this._maxMapX-this._minMapX))+this._minMapX,i=Math.floor(this.random.Next(0,this._maxMapY-this._minMapY))+this._minMapY,this._grid.isWalkableAt(n,i)&&(t=!1)),a++,a>1e4&&(t=!1);return{x:n,y:i}},i.prototype.firstShow=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.init(),this._hurtEffect?[3,2]:(this._hurtEffect=new e.SequenceImage,[4,this._hurtEffect.setData({delay:100,size:{row:1,col:4},resource:"anim/effect/4"})]);case 1:n.sent(),n.label=2;case 2:return this._alreadyInitOther||(this._alreadyInitOther=!0,this.initOtherPlayer()),this._goldBone?[3,4]:(t=this,[4,e.getBone("sajinbi")]);case 3:t._goldBone=n.sent(),this.goldBoneGroup.addChild(this._goldBone),n.label=4;case 4:return this._goldMaxSeq?[3,6]:(this._goldMaxSeq=new e.SequenceImage,[4,this._goldMaxSeq.setData({resource:"anim/sign/1",size:{col:8,row:1},delay:100})]);case 5:n.sent(),this.goldMaxGroup.addChild(this._goldMaxSeq.display),n.label=6;case 6:return[2]}})})},i.prototype.onCreate=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.playMusic(),e.NotificationCenter.getInstance().postNotification("enterScene","挂机"),this.visible||(this.visible=!0),this.onStage?[4,this.updateMapInfo()]:[3,3];case 1:return t.sent(),[4,this.updateAvatarInfo()];case 2:t.sent(),this.start(),t.label=3;case 3:return this.onStage=!0,[4,e.DataManager.playerModel.getRivalList()];case 4:return t.sent(),[4,e.DataManager.playerModel.GetElfCenterInfoAsync()];case 5:return t.sent(),19==e.DataManager.playerModel.map?(this.rewardExpPerhLabel.text="0/m",this.rewardGoldPerhLabel.text="0/m"):(this.rewardExpPerhLabel.text=e.setNumber(this._currentMissionData.Exp)+"/m",this.rewardGoldPerhLabel.text=e.setNumber(this._currentMissionData.Gold)+"/m"),[2]}})})},i.prototype.onRemove=function(){this.stop()},i.prototype.run=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:if(this._end)return[3,10];switch(0==this._eventList.length&&this.generateEvent(),this._currentEvent=this._eventList.shift(),t=this._currentEvent.type){case n.item:return[3,1];case n.monster:return[3,4];case n.catchMonster:return[3,6]}return[3,9];case 1:return 19==e.DataManager.playerModel.map?[3,9]:(this._nowTime=e.getNowTime(),this._nowTime.getTime()-this._lastItemTime.getTime()>1?(this._lastItemTime=this._nowTime,[4,this.runItemEvent()]):[3,3]);case 2:i.sent(),i.label=3;case 3:return[3,9];case 4:return[4,this.runMonsterEvent()];case 5:return i.sent(),this.addFightCount(),[3,9];case 6:return 19==e.DataManager.playerModel.map?[3,9]:(this._nowTime=e.getNowTime(),this._nowTime.getTime()-this._lastPokemonTime.getTime()>1?(this._lastPokemonTime=this._nowTime,[4,this.runMonsterEvent(!0)]):[3,8]);case 7:i.sent(),this.addFightCount(),i.label=8;case 8:return[3,9];case 9:return[3,0];case 10:return[2]}})})},i.prototype.addFightCount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.enterBattle?[2]:this.missionProgress.value>=this.missionProgress.maximum?[2]:(e.DataManager.playerModel.addIdleFightCount(),this.updateMapProgress(),[2])})})},i.prototype.runMap=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a,o,s,r,u,l=this;return __generator(this,function(c){if(i=e.defer(),this._movePromise=i,this._avatar.position.x==t&&this._avatar.position.y==n)this._movePromise==i&&(this._movePromise.resolve(null),this._movePromise=null);else{for(a=function(e,a,o){var s=e.x,r=e.y;switch(a){case 4:r+=100*o;break;case 1:r-=100*o;break;case 2:s+=100*o;break;case 3:s-=100*o}egret.Tween.get(e,{onChange:function(){l.updateView()}},null,!0).to({x:s,y:r},l._moveTime).call(function(){l._avatar.position.x=t,l._avatar.position.y=n,l._movePromise==i&&(l._movePromise.resolve(null),l._movePromise=null)})},o=this._avatar.getMoveDirection(t,n),this._avatar.direction!=o&&this._avatar.changeDirection(o),s=this._avatar.position,r=0;r<this._playerFollowPokemon.length;r++)u=this._playerFollowPokemon[r],u.runMap(s.x,s.y),s=u.position;a(this.avatarGroup,this._avatar.direction,-1)}return[2,i.promise()]})})},i.prototype.getDirectionAndPath=function(e,t,n){void 0===n&&(n=!1);var i=[],a=[],o=this._grid.getNodeAt(t.x+1,t.y);o&&o.walkable&&a.push(3);var s=this._grid.getNodeAt(t.x-1,t.y);s&&s.walkable&&a.push(2);var r=this._grid.getNodeAt(t.x,t.y+1);r&&r.walkable&&a.push(1);var u=this._grid.getNodeAt(t.x,t.y-1);u&&u.walkable&&a.push(4);for(var l=0;l<a.length;l++){var c=void 0,h=void 0,p=a[l],g=this._grid.clone();if(n)switch(c={x:t.x,y:t.y},p){case 4:h=1;break;case 1:h=4;break;case 2:h=3;break;case 3:h=2}else switch(g.setWalkableAt(t.x,t.y,!1),p){case 4:g.getNodeAt(e.x,e.y-1)&&g.setWalkableAt(e.x,e.y-1,!1),c={x:t.x,y:t.y-1},h=1;break;case 1:g.getNodeAt(e.x,e.y+1)&&g.setWalkableAt(e.x,e.y+1,!1),c={x:t.x,y:t.y+1},h=4;break;case 2:g.getNodeAt(e.x+1,e.y)&&g.setWalkableAt(e.x+1,e.y,!1),c={x:t.x-1,y:t.y},h=3;break;case 3:g.getNodeAt(e.x-1,e.y)&&g.setWalkableAt(e.x-1,e.y,!1),c={x:t.x+1,y:t.y},h=2}var d=this._finder.findPath(e.x,e.y,c.x,c.y,g);d.length>0&&i.push({monsterDirection:p,path:d,avatarDirection:h})}return i[Math.floor(Math.random()*i.length)]},i.prototype.generateEvent=function(){this._eventList=[];for(var t=0;20>t;t++){var i=void 0,a=e.loot(this._eventLootList),o=a.id;if(o==n.item){if(0==this._itemLootList.length)continue;var s=e.loot(this._itemLootList),r=Math.floor(Math.random()*(s.data.MaxCount-s.data.MinCount))+s.data.MinCount;i={type:o,pokemonData:null,itemData:{type:s.id,count:r}}}else{var u=e.loot(this._pokemonLootList);u&&(i={type:o,pokemonData:u.data,itemData:null})}i&&this._eventList.push(i)}},i.prototype.runItemEvent=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,a;return __generator(this,function(s){switch(s.label){case 0:return t=e.defer(),this._eventPromise=t,this._itemImage||(this._itemImage=new e.IdleItemImage),[4,this._itemImage.setData(this._currentEvent.itemData)];case 1:return s.sent(),this._itemImage.scaleX=this._itemImage.scaleY=.3,this._itemImage.anchorOffsetX=this._itemImage.anchorOffsetY=50,this._itemImage.x=50,this._itemImage.y=0,this._itemImage.alpha=0,this.avatarGroup.addChild(this._itemImage),this._itemImage.position=this.getBornPosition(),(n=this.getDirectionAndPath(this._avatar.position,this._itemImage.position))?[3,2]:(this._itemImage.removeFromParent(),this._eventPromise==t&&(this._eventPromise.resolve(null),this._eventPromise=null),[3,10]);case 2:i=n.path,i.push([this._itemImage.position.x,this._itemImage.position.y]),a=0,s.label=3;case 3:return a<i.length?(o=i[a],[4,this.runMap(o[0],o[1])]):[3,6];case 4:s.sent(),s.label=5;case 5:return a++,[3,3];case 6:return this._avatar.changeDirection(n.avatarDirection),this._itemImage.direction=n.avatarDirection,this.visible&&this.stage&&e.SoundManager.playEffect("music/getItem"),[4,this._itemImage.show(this._promiseList)];case 7:return s.sent(),e.DataManager.playerModel.idleGetItem(this._currentEvent.itemData),[4,this._itemImage.hide()];case 8:for(s.sent(),a=0;a<this._playerFollowPokemon.length;a++)this._playerFollowPokemon[a].playWinAct();return this.showRewardEffect(this._currentEvent.itemData.type),[4,this._avatar.playWinAct()];case 9:s.sent(),this._eventPromise==t&&(this._eventPromise.resolve(null),this._eventPromise=null),s.label=10;case 10:return[2,t.promise()]}})})},i.prototype.showRewardEffect=function(t,n){var i=this;if(void 0===t&&(t=0),void 0===n&&(n=!1),!this._onShowReward&&19!=e.DataManager.playerModel.map){this.rewardIcon1.scaleX=this.rewardIcon1.scaleY=this.rewardIcon2.scaleX=this.rewardIcon2.scaleY=.8,this._onShowReward=!0;var a,o,s;t?(this.rewardIcon1.visible=!0,this.rewardIcon1.source="icon/item/"+t,a=5,o=e.GetOffSetYWithBottom(773),s=this.itemRewardButton):n?(this.rewardIcon1.visible=!0,this.rewardIcon1.source="icon/ball/1",this.rewardIcon1.scaleX=this.rewardIcon1.scaleY=.5,a=5,o=e.GetOffSetYWithBottom(693),s=this.pokemonRewardButton):(this.rewardIcon1.visible=this.rewardIcon2.visible=!0,this.rewardIcon1.source="icon/item/1",this.rewardIcon2.source="icon/item/3",a=5,o=e.GetOffSetYWithBottom(616),s=this.goldRewardButton);var r=this.avatarGroup.localToGlobal(0,0,e.GlobalPoint),u=r.x,l=r.y;this.rewardIcon1.visible&&(this.rewardIcon1.x=u+50*Math.random(),this.rewardIcon1.y=l+100*Math.random(),egret.Tween.get(this.rewardIcon1).to({x:a,y:o},1e3)),this.rewardIcon2.visible&&(this.rewardIcon2.x=u+50+50*Math.random(),this.rewardIcon2.y=l+100*Math.random(),egret.Tween.get(this.rewardIcon2).to({x:a,y:o},1e3)),egret.setTimeout(function(){i.rewardIcon1.visible=i.rewardIcon2.visible=!1,egret.Tween.get(s).to({scaleX:1.2,scaleY:1.2},200).to({scaleX:1,scaleY:1},200).call(function(){i._onShowReward=!1})},this,1e3)}},i.prototype.runMonsterEvent=function(t){return void 0===t&&(t=!1),__awaiter(this,void 0,void 0,function(){var n,i,a,o,s,r,u,l,c,h,p,g,d;return __generator(this,function(m){switch(m.label){case 0:return n=e.defer(),this._eventPromise=n,this._monsterPokemon||(this._monsterPokemon=new e.IdlePokemonAnim,this._monsterPokemon.isMonster=!0),this._monsterPokemon.setScale(.8),this._monsterPokemon.setAlpha(0),[4,this._monsterPokemon.setPokemon(this._currentEvent.pokemonData.PmID)];case 1:return m.sent(),this.monsterGroup.addChild(this._monsterPokemon.displayGroup),this._monsterPokemon.position=this.getBornPosition(),this.monsterGroup.x=100*this._monsterPokemon.position.x,this.monsterGroup.y=100*this._monsterPokemon.position.y,(i=this.getDirectionAndPath(this._avatar.position,this._monsterPokemon.position))?[3,2]:(this._monsterPokemon.onDestroy(),this._eventPromise==n&&(this._eventPromise.resolve(null),this._eventPromise=null),[3,29]);case 2:a=i.monsterDirection,this._monsterPokemon.setMonsterDirection(a),o=i.path,s=0,m.label=3;case 3:return s<o.length?(r=o[s],[4,this.runMap(r[0],r[1])]):[3,6];case 4:m.sent(),m.label=5;case 5:return s++,[3,3];case 6:return this._avatar.changeDirection(i.avatarDirection),[4,this._monsterPokemon.show(this._promiseList)];case 7:return m.sent(),t?[4,this._avatar.throwPokemonBall(this._promiseList)]:[3,17];case 8:return m.sent(),[4,this._monsterPokemon.playCatch(this._promiseList)];case 9:return m.sent(),[4,this._avatar.shakePokemonBall(this._promiseList)];case 10:return m.sent(),Math.random()<=e.Data.TElfQuality[this._currentEvent.pokemonData.quality].catchProb/100?(this.visible&&this.stage&&e.SoundManager.playEffect("music/getItem"),e.DataManager.playerModel.idleCatchPokemon(this._currentEvent.pokemonData.PmID),[4,this._avatar.receivePokemonBall(this._promiseList)]):[3,12];case 11:return m.sent(),this.showRewardEffect(0,!0),[3,16];case 12:return this._avatar.brokenPokemonBall(),[4,this._monsterPokemon.playCatch(this._promiseList,!1)];case 13:return m.sent(),[4,this._avatar.playAtk(i.avatarDirection,this._monsterPokemon,this._promiseList)];case 14:return m.sent(),this.playHurtEffect(this.monsterGroup,i.avatarDirection),[4,this._monsterPokemon.playBeiSaiEr(this._promiseList)];case 15:m.sent(),this.showRewardEffect(),m.label=16;case 16:return[3,28];case 17:return Math.random()<=0?[4,this._avatar.playAtk(i.avatarDirection,this._monsterPokemon,this._promiseList)]:[3,20];case 18:return m.sent(),this.playHurtEffect(this.monsterGroup,i.avatarDirection),[4,this._monsterPokemon.playBeiSaiEr(this._promiseList)];case 19:return m.sent(),[3,27];case 20:return u=this.getFollowPokemon(),l=u.displayGroup.x,c=u.displayGroup.y,h=u.direction,[4,u.changePokemonAttPosition(i.avatarDirection,this._promiseList,this.avatarGroup.x,this.avatarGroup.y)];case 21:return m.sent(),1==i.avatarDirection?(p=this.followPokemonGroup.parent,p.setChildIndex(this.followPokemonGroup,1)):(g=this.followPokemonGroup.parent,g.setChildIndex(this.followPokemonGroup,0)),[4,u.playAtk(i.avatarDirection,this._monsterPokemon,this._promiseList)];case 22:return m.sent(),this.playHurtEffect(this.monsterGroup,i.avatarDirection),[4,this._monsterPokemon.playAtk(i.monsterDirection,u,this._promiseList)];case 23:return m.sent(),this.playHurtEffect(this.avatarGroup,i.monsterDirection),[4,u.playAtk(i.avatarDirection,this._monsterPokemon,this._promiseList)];case 24:return m.sent(),this.playHurtEffect(this.monsterGroup,i.avatarDirection),[4,this._monsterPokemon.playBeiSaiEr(this._promiseList)];case 25:return m.sent(),[4,u.resetPokemonPosition(l,c,h,150)];case 26:m.sent(),d=this.followPokemonGroup.parent,d.setChildIndex(this.followPokemonGroup,0),m.label=27;case 27:this.showRewardEffect(),m.label=28;case 28:this._monsterPokemon.onDestroy(),this._eventPromise==n&&(this._eventPromise.resolve(null),this._eventPromise=null),m.label=29;case 29:return[2,n.promise()]}})})},i.prototype.playHurtEffect=function(t,n){var i=this;if(this.visible&&this.stage){if(t==this.monsterGroup)switch(n){case 3:this._hurtEffect.setDisplayPosition(100,50);break;case 2:this._hurtEffect.setDisplayPosition(0,50);break;case 1:this._hurtEffect.setDisplayPosition(50,100);break;case 4:this._hurtEffect.setDisplayPosition(50,0)}else switch(n){case 3:this._hurtEffect.setDisplayPosition(0,50);break;case 2:this._hurtEffect.setDisplayPosition(100,50);break;case 1:this._hurtEffect.setDisplayPosition(50,0);break;case 4:this._hurtEffect.setDisplayPosition(50,100)}t.addChild(this._hurtEffect.display),this._hurtEffect.play(1,1),egret.setTimeout(function(){i._hurtEffect.display.parent&&i._hurtEffect.display.parent.removeChild(i._hurtEffect.display)},this,400),e.SoundManager.playEffect("music/dig")}},i.prototype.start=function(){this.reset(),this._end=!1,this.run()},i.prototype.stop=function(){this._end=!0,this._movePromise&&(this._movePromise.reject(null),this._movePromise=null),this._eventPromise&&(this._eventPromise.reject(null),this._eventPromise=null);for(var e=this._promiseList.length-1;e>=0;e--){var t=this._promiseList[e];t.reject(null),this._promiseList.splice(e,1)}egret.Tween.removeTweens(this.avatarGroup),egret.Tween.removeTweens(this.mapGroup);for(var e=0;e<this._playerFollowPokemon.length;e++){var n=this._playerFollowPokemon[e];n.remove()}egret.clearInterval(this._idleUpdateInterval),this.hideBattleBone()},i.prototype.getMapPosition=function(e){return[100*e.x,100*e.y]},i.prototype.reset=function(){this._eventList=[],this._avatar.position=this.getBornPosition(!1),this._avatar.resetBall(),this._avatar.changeDirection(4);for(var e=this._avatar.position,t=4,n=0;n<this._playerFollowPokemon.length;n++){var i=this._playerFollowPokemon[n],a=this.getPokemonPosition(e,t);a.position&&(i.position=a.position,i.displayGroup.x=100*a.position.x,i.displayGroup.y=100*a.position.y,i.setDirection(a.direction),e=a.position,t=a.direction)}this.monsterGroup.removeChildren();var o=this.getMapPosition(this._avatar.position);this.avatarGroup.x=o[0],this.avatarGroup.y=o[1],this.updateView(),this._itemImage&&this._itemImage.removeFromParent(),this.updateIdle(),this._idleUpdateInterval=egret.setInterval(this.updateIdle,this,1e3),this._otherPlayerInfo&&this.setOtherPlayer(this._otherPlayerInfo)},i.prototype.getPokemonPosition=function(e,t){var n=this,i=function(t){var i={position:null,direction:null};switch(t){case 4:var a=n._grid.getNodeAt(e.x,e.y+1);a&&a.walkable&&(i.position={x:e.x,y:e.y+1},i.direction=4);break;case 1:var o=n._grid.getNodeAt(e.x,e.y-1);o&&o.walkable&&(i.position={x:e.x,y:e.y-1},i.direction=1);break;case 2:var s=n._grid.getNodeAt(e.x+1,e.y);s&&s.walkable&&(i.position={x:e.x+1,y:e.y},i.direction=2);break;case 3:var r=n._grid.getNodeAt(e.x-1,e.y);r&&r.walkable&&(i.position={x:e.x,y:e.y+1},i.direction=3)}return i},a=i(t);return a.position||(a=i(4)),a.position||(a=i(1)),a.position||(a=i(2)),a.position||(a=i(3)),a},i.prototype.setOtherPlayer=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s,r,u,l,c,h,p;return __generator(this,function(g){switch(g.label){case 0:this.allAvatarGroup.removeChildren(),n=0,g.label=1;case 1:if(!(n<t.length))return[3,4];if(!t[n]||!t[n].info||!t[n].follow)return console.error("idle ohter info error and index is "+n),[3,3];for(i=t[n].info,a=t[n].follow,o=this._otherPlayerAvatar[n],o||(o=new e.IdleOtherPlayerAvatar,this._otherPlayerAvatar[n]=o),o.stop(),s=[],r=0;r<a.length;r++)a[r]&&s.push(a[r]);return[4,o.setData(i.gender,this._avatar.type,s,i,this.allFollowPokemonGroup)];case 2:for(g.sent(),o.setPosition(this.getBornPosition(!1)),u=o.position,l=4,c=0;c<o.playerFollowPokemon.length;c++)h=o.playerFollowPokemon[c],p=this.getPokemonPosition(u,l),p.position&&(h.position=p.position,h.displayGroup.x=100*p.position.x,h.displayGroup.y=100*p.position.y,h.setDirection(p.direction),u=p.position,l=p.direction,h.setScale(.8));this.allAvatarGroup.addChild(o.displayGroup),o.idleScene=this,o.run(),g.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},i.prototype.updateView=function(){var e=720,t=gameConfig.curHeight()-80,n=(320+e*(1-this._mapScale)-this.avatarGroup.x)*this._mapScale,i=(410+t*(1-this._mapScale)-this.avatarGroup.y)*this._mapScale;n=Math.min(0,n),n=Math.max(-2e3*this._mapScale+e,n),i=Math.min(0,i),i=Math.max(-2e3*this._mapScale+t,i),this.mapGroup.x=n,this.mapGroup.y=i},i.prototype.updateIdle=function(){this.updateMapProgress(),this.updateReward(),this.updateIdleButtonPoint(e.IdleIconButtonType.activity,!1);e.DataManager.playerModel.getActivityInfo();this.initActivity(),this._nowTime=e.getNowTime();var t=e.ActivityPanel;t.yuyue&&(this._nowTime.getTime()>=t.yuyue.end.getTime()?this.removeIdleButton(e.IdleIconButtonType.yuyue):this._nowTime.getTime()>=t.yuyue.start.getTime()&&(this.addIdleButton(e.IdleIconButtonType.yuyue),this.updateIdleButtonPoint(e.IdleIconButtonType.yuyue,e.PreOrderPanel.getInstance().updateInfo(t.yuyue)))),t.wanshengjie&&(this._nowTime.getTime()>=t.wanshengjie.end.getTime()?this.removeIdleButton(e.IdleIconButtonType.wanShengJie):this._nowTime.getTime()>=t.wanshengjie.start.getTime()&&this.addIdleButton(e.IdleIconButtonType.wanShengJie)),t.yuandan&&(this._nowTime.getTime()>=t.yuandan.end.getTime()?this.removeIdleButton(e.IdleIconButtonType.yuandanrukou):this._nowTime.getTime()>=t.yuandan.start.getTime()&&(this.addIdleButton(e.IdleIconButtonType.yuandanrukou),e.YuanDanRuKou.getInstance().updatePoint())),this.updateIdleButtonPoint(e.IdleIconButtonType.huodongzhongxin,e.ActivityPanel.checkPoint(e.ActivityPanelType.huodongzhongxin)),this.updateIdleButtonPoint(e.IdleIconButtonType.xinfukuanghuan,e.ActivityPanel.checkPoint(e.ActivityPanelType.xinfukuanghuan)),this.updateIdleButtonPoint(e.IdleIconButtonType.xianshihaoli,e.ActivityPanel.checkPoint(e.ActivityPanelType.xianshihaoli)),this.updateIdleButtonPoint(e.IdleIconButtonType.quanminkuanghuan,e.ActivityPanel.checkPoint(e.ActivityPanelType.quanminkuanghuan)),this.zhujueButton.point=e.RootTop.getInstance().playerInfoPoint.visible;var n=e.DataManager.playerModel.legendaryInfo,i=!1;for(var a in n){var o=n[a].info,s=n[a].data;if(o&&o.isChallenge){var r=this._nowTime.getTime(),u=o.appearTime.getTime()+1e3*s.Times,l=u-r;0>=l?(i=!0,o.isChallenge=!1):Number(s.Area)==e.DataManager.playerModel.map&&(this._legendaryPokemon.timeLabel.text=e.s2hms(l/1e3),this.legendaryTipLabel.text=e.s2hms(l/1e3))}}i&&e.DataManager.playerModel.postNotification(e.PlayerModel.IDLE_LEGENDARY_UPDATE);var c=e.DataManager.playerModel.getMysteryShopInfo();this.mysteryShopButton.visible=!!c,c&&c.lastTime--,this.unlockRect.visible&&e.GameLayer.teachLayer.$children.length>0&&(this.unlockRect.visible=!1)},i.prototype.updateZhongQiu=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},i.prototype.initWanShengJie=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},i.prototype.updatePlayerLevel=function(){var t=e.Data.TPlayerLv[e.DataManager.playerModel.playerLevel].ex,n=e.DataManager.playerModel.playerExp;t?(this.playerExpBar.maximum=t,this.playerExpBar.value=Math.min(n,t)):(this.playerExpBar.maximum=1,this.playerExpBar.value=1,this.playerExpBar.labelDisplay.text=n.toString()),e.DataManager.playerModel.currentMission>5&&e.DataManager.playerModel.playerLevel>=12&&e.DataManager.playerModel.playerLevel>e.DataManager.playerModel.lvReward&&e.PlayerLevelUpReward.getInstance().show()},i.prototype.initYuanDanRuKou=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},i.prototype.initThroneInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.updateThroneInfo()];case 1:return t.sent(),[2]}})})},i.prototype.openShop=function(){e.navPanel(7)},i.prototype.openShenshou=function(){e.navPanel(92)},i.prototype.openBTRecharge=function(){e.BTRecharge.getInstance().show()},i.prototype.openKaifubipin=function(){e.navPanel(93)},i.prototype.updatePlayerIconPoint=function(){},i.prototype.openPlayer=function(){e.navPanel(17)},i.prototype.openRecharge=function(){e.navPanel(15)},i.prototype.openFrag=function(){e.navPanel(90)},i.prototype.destroy=function(){this.visible=!1,this.onStage=!1},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.SceneComponent);e.IdleScene=t,__reflect(t.prototype,"game.IdleScene");var n;!function(e){e[e.item=3]="item",e[e.monster=1]="monster",e[e.catchMonster=2]="catchMonster"}(n=e.IdleSceneEventType||(e.IdleSceneEventType={}))}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._interval=null,e.skinName=OfflineRewardSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.confirmButton.image="ui/scene/idle/Tx_zhenzhidl",this.goButton.image="ui/scene/idle/Tx_chakan",this.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.getIdleReward(0)];case 1:return t.sent(),this.closeHandle(),[2]}})})},this),this.goButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.getIdleReward(0)];case 1:return t.sent(),e.navPanel(18),this.closeHandle(),[2]}})})},this),this.initBone(),this._interval=egret.setInterval(this.bringToTeachTop,this,1e3)},n.prototype.initBone=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=this,[4,e.getBone("gongxihuode")];case 1:return t._bone=n.sent(),this.boneGroup.addChild(this._bone),this.stage&&(this._bone.play(null,1),e.SoundManager.playEffect("music/UI_gongxihuode")),[2]}})})},n.prototype.closeHandle=function(){this._bone&&this._bone.stop(),this._interval&&egret.clearInterval(this._interval),e.removePopUp(this)},n.prototype.setLabel=function(t,n){this.goldLabel.text=""+e.setNumber(t),this.expLabel.text=""+e.setNumber(n),this.levelLabel.text=""+e.DataManager.playerModel.playerLevel},n.prototype.bringToTeachTop=function(){e.GameLayer.teachLayer.$children.length>0&&(e.GameLayer.teachLayer.addChild(this),this.parent.setChildIndex(this,-1))},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.OfflineReward=t,__reflect(t.prototype,"game.OfflineReward")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._interval=null,e.canGet=!1,e.skinName=OnlineRewardSkin,e.touchChildren=!1,e.touchEnabled=!0,e}return __extends(n,t),n.prototype.setData=function(t,n){this._rewardData=t,this._lastTime=n;var i=e.splitStringToNumberArray(t.RewardList,";");this.rewardIcon.item={type:i[0],count:i[1]},this.nameLabel.text=this.rewardIcon.itemData.name+"x"+i[1],this.updateTime()},n.prototype.updateTime=function(){var t=this,n=60*this._rewardData.waitTime,i=function(){var i=e.getNowTime(),a=n-.001*(i.getTime()-t._lastTime.getTime());0>a?(t.canGet=!0,t.timeLabel.text=e.Lang.dianjilingqujiangli,t.point.visible=!0):(t.canGet=!1,t.timeLabel.text=e.formatString(e.Lang.duoshaoshijianhoukelingqujiangli,e.s2hms(a)),t.point.visible=!1)};i(),this._interval=egret.setInterval(i,this,1e3)},n.prototype.cleanInterval=function(){null!=this._interval&&(egret.clearInterval(this._interval),this._interval=null)},n}(e.GameComponent);e.OnlineReward=t,__reflect(t.prototype,"game.OnlineReward")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.rewardid=0,e._itemIconList=[],e._itemIconListNext=[],e.skinName=WBFuliDatingSkin,e.init(),e}return __extends(n,t),n.prototype.Close=function(){e.removePopUp(this)},n.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(n){return this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.Close,this),this.confirmButton.image="ui/scene/activity/Tx_lingqu",this.rechargeButton.image="ui/scene/activity/Tx_chongzhi",this.rechargeButton.bg="ui/scene/activity/btn_11",this.confirmButton.bg="ui/scene/activity/btn_12",this.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){return this.rewardid<0?e.showTips(e.Lang.jintianyijinglingquguole):e.DataManager.playerModel.GetWBVIPLevel(this.rewardid),[2]})})},this),this.rechargeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.navPanel(15)},this),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){var n=t.$target;if(null!=n){var i=e.ItemInfoPanel.getInstance();i.setData(n.itemData),i.show()}},this),this.itemGroupNext.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){var n=t.$target;if(null!=n){var i=e.ItemInfoPanel.getInstance();i.setData(n.itemData),i.show()}},this),[2]})})},n.prototype.setData=function(t){var n=0,i=e.Data.TWanBaReward;if(this.vipImage.source="ui/scene/idle/wbgame/Icon_tqVIP"+t,0==t)n=1,this.itemGroup.visible=!1,this.confirmButton.visible=!1,this.tipsLabel1.visible=!0,this.rewardid=-1;else{this.itemGroup.visible=!0,this.confirmButton.visible=!0,this.tipsLabel1.visible=!1;for(var a in i)if(4==i[a].type&&(n++,n==t)){this.itemGroup.removeChildren();for(var o=e.splitStringToNumberArray(i[a].Reward),s=0;s<o.length;s++)this._itemIconList[s]||(this._itemIconList[s]=new e.ItemIcon),this._itemIconList[s].item={type:o[s][0],count:o[s][1]},this._itemIconList[s].visible=!0,this._itemIconList[s].scaleX=this._itemIconList[s].scaleY=.8,this.itemGroup.addChild(this._itemIconList[s]);
this.rewardid=Number(a);break}}if(5>=n){this.itemGroupNext.removeChildren();for(var o=e.splitStringToNumberArray(i[n].Reward),a=0;a<o.length;a++)this._itemIconListNext[a]||(this._itemIconListNext[a]=new e.ItemIcon),this._itemIconListNext[a].item={type:o[a][0],count:o[a][1]},this._itemIconListNext[a].visible=!0,this._itemIconListNext[a].scaleX=this._itemIconListNext[a].scaleY=.8,this.itemGroupNext.addChild(this._itemIconListNext[a]);this.itemGroupNext.visible=!0,this.tipsLabel2.visible=!1}else this.itemGroupNext.visible=!1,this.tipsLabel2.visible=!0;var r=e.DataManager.playerModel.extension.ALLGiftBag,u=!1;for(var a in r)4==r[a].arg3&&(u=!0);return u?(this.confirmButton.image="ui/scene/activity/Tx_yilingqu",this.confirmButton.lock=!0,this.confirmButton.touchEnabled=!1,this.rewardid=-1):(this.confirmButton.image="ui/scene/activity/Tx_lingqu",this.confirmButton.lock=!1,this.confirmButton.touchEnabled=!0),this},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.WBFuliDating=t,__reflect(t.prototype,"game.WBFuliDating")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemIconList=[],e._itemIconList2=[],e.skinName=WBShareRewardSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,n,a=this;return __generator(this,function(o){for(this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removePopUp(a)},this),this.confirmButton.image="ui/scene/idle/Tx_meirifx",this.confirmButton.bg="ui/common/button/btn_02",this.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){return __awaiter(a,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,Auth.AddShareWB()];case 1:return t.sent(),e.DataManager.playerModel.GetCreateShortcut(1001),[2]}})})},this),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){var n=t.$target;if(null!=n){var i=e.ItemInfoPanel.getInstance();i.setData(n.itemData),i.show()}},this),this.itemGroup2.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){var n=t.$target;if(null!=n){var i=e.ItemInfoPanel.getInstance();i.setData(n.itemData),i.show()}},this),this.itemGroup.removeChildren(),t=e.splitStringToNumberArray(e.Data.TWanBaReward[1001].Reward),n=0;n<t.length;n++)this._itemIconList[n]||(this._itemIconList[n]=new e.ItemIcon),this._itemIconList[n].item={type:t[n][0],count:t[n][1]},this._itemIconList[n].$setScaleX(.85),this._itemIconList[n].$setScaleY(.85),this._itemIconList[n].visible=!0,this.itemGroup.addChild(this._itemIconList[n]);for(this.itemGroup2.removeChildren(),i=e.splitStringToNumberArray(e.Data.TWanBaReward[2001].Reward),n=0;n<i.length;n++)this._itemIconList2[n]||(this._itemIconList2[n]=new e.ItemIcon),this._itemIconList2[n].item={type:i[n][0],count:i[n][1]},this._itemIconList2[n].$setScaleX(.85),this._itemIconList2[n].$setScaleY(.85),this._itemIconList2[n].visible=!0,this.itemGroup2.addChild(this._itemIconList2[n]);return[2]})})},n.prototype.showItem=function(){},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.WBShareRewardPanel=t,__reflect(t.prototype,"game.WBShareRewardPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._recoverItemList=[],n._costDiamond=Number(e.Constants.PlayItemRecoCost),n._diamondAddExp=Number(e.Constants.PlayItemRecoCostExp),n._maxDiamondCount=Number(e.Constants.PlayItemRecoCount),n.skinName=ItemRecoverySkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.recoveryButton.label=e.Lang.beibaodaoju,this.attributeButton.label=e.Lang.shuxingshengji,this.autoButton.label=e.Lang.yijiantianjia,this.confirmButton.label=e.Lang.queding,this._touchEvent=[{target:this.recoveryButton,callBackFunc:this.changeGroup},{target:this.attributeButton,callBackFunc:this.changeGroup},{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.autoButton,callBackFunc:this.autoAddItem},{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.itemUpgradeButton,callBackFunc:this.upgradeHandle},{target:this.diamondUpgradeButton,callBackFunc:this.upgradeHandle}],this.showUI_jt(),e.NotificationCenter.getInstance().addObserver(this,this.selectItem,n.SELECT_ITEM),e.NotificationCenter.getInstance().addObserver(this,this.cancelSelectItem,n.CANCEL_SELECT_ITEM),this.addEventAndNotify(),this.initAttribute()},n.prototype.showUI_jt=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._UI_jt01Bone?[3,2]:(t=this,[4,e.getBone("UI_jt01")]);case 1:t._UI_jt01Bone=n.sent(),this.UI_jt01Group.addChildAt(this._UI_jt01Bone,0),this._UI_jt01Bone.play(null,0),n.label=2;case 2:return[2]}})})},n.prototype.upgradeHandle=function(t){return __awaiter(this,void 0,void 0,function(){var n,n,i;return __generator(this,function(a){switch(a.label){case 0:return t!=this.itemUpgradeButton?[3,2]:(n=e.DataManager.playerModel.getItemCount(12601),0>=n?(e.showTips(e.Lang.nindedaojubuzu,!0),[2]):[4,e.DataManager.playerModel.upgradePetTypeAttributeLv(this._currentInfo.id,!0)]);case 1:return a.sent(),[3,4];case 2:return n=e.DataManager.playerModel.diamond,n<this._costDiamond?(e.showTips(e.Lang.nindehuobibuzu,!0),[2]):(i=e.DataManager.playerModel.extension.itemReCount,i>=this._maxDiamondCount?(e.showTips(e.Lang.jinricishuyiyongwan,!0),[2]):[4,e.DataManager.playerModel.upgradePetTypeAttributeLv(this._currentInfo.id,!1)]);case 3:a.sent(),a.label=4;case 4:return this.updateAttribute(),[2]}})})},n.prototype.initAttribute=function(){this.itemUpgradeButton.label=this.diamondUpgradeButton.label=e.Lang.tisheng;for(var t=0,n=1;8>=n;n++){var i=e.Data.TAttribute[n],a=new e.IconButton;a.skinName=CloseButtonSkin,a.noScale=!0,a.touchChildren=!1,this.touchEnabled=!0,a.name=i.Id.toString(),a.icon="ui/scene/itemRecovery/type_0"+n,a.x=91*t,a.y=0,this.typeButtonGroup.addChild(a),1==n&&a.addChildAt(this.selectImage,0),t++}this.typeButtonGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchAttributeTypeButton,this),this._currentAttributeType=1,this.updateAttribute()},n.prototype.touchAttributeTypeButton=function(e){var t=e.target;t.name&&(t.addChildAt(this.selectImage,0),this._currentAttributeType=Number(t.name),this.updateAttribute())},n.prototype.updateAttribute=function(){var t=e.DataManager.playerModel.getPetTypeAttribute(this._currentAttributeType);this._currentInfo=t;var n=e.Data.TPlayerItemRecover[t.id];this.currentLevelLabel.text="LV."+n.level,this.currentAttribute.setEffect(e.Data.TEffect[n.effectId]);for(var i=" ",a=e.splitStringToNumberArray(n.attribute,";"),o=0;o<a.length;o++)i+=e.Data.TAttribute[a[o]].Name+" ";this.infoLabel.textFlow=[{text:"提升等级可提升"},{text:""+i,style:{textColor:gameConfig.TextColors.red}},{text:"宝可梦的所有属性"}];var s=e.Data.TPlayerItemRecover[n.nextId];if(s){this.nextAttributeGroup.visible=!0,this.maxLabel.visible=!1,this.nextLevelLabel.text="LV."+s.level,this.nextAttribute.setEffect(e.Data.TEffect[s.effectId]),this.costDiamondLabel.text=this._costDiamond.toString(),this.diamondAddExpLabel.text="(经验+"+this._diamondAddExp+")";var r=e.DataManager.playerModel.extension.itemReCount;this.diamondRemainCount.text="(剩余次数:"+(this._maxDiamondCount-r)+")",this.expProgress.maximum=n.upItems,this.expProgress.value=t.exp}else this.nextAttributeGroup.visible=!1,this.maxLabel.visible=!0,this.expProgress.maximum=t.exp,this.expProgress.value=t.exp;var u=e.DataManager.playerModel.getItemCount(12601);this.ownItemIcon.item={type:12601,count:u},this.ownCountLabel.text="x"+e.setNumber(u)},n.prototype.setSelectItem=function(t){this.selectItemList=t,this.ownItemGroup.removeChildren(),this.selectItemGroup.removeChildren();var n=0,i=[];for(var a in e.Data.TPlayerItemReExp){var o=e.Data.TPlayerItemReExp[a],s=e.DataManager.playerModel.getItemCount(o.itemId);s>0&&i.push({type:o.itemId,count:s})}for(var r=e.copyObject(i,[]),a=0;a<r.length;a++){for(var u=r[a],l=0;l<t.length;l++){var c=t[l];if(u.type==c.type){u.count-=c.count;break}}if(!(u.count<=0)){var h=this._recoverItemList[n];h||(h=new e.RecoveryItem,this._recoverItemList[n]=h),h.setItem(u,!0),this.ownItemGroup.addChild(h),n++}}r=null;for(var p=0,a=0;a<t.length;a++){var u=t[a],h=this._recoverItemList[n];h||(h=new e.RecoveryItem,this._recoverItemList[n]=h),h.setItem(u,!1),p+=h.totalCandy,this.selectItemGroup.addChild(h),n++}this.rewardLabel.text=e.setNumber(p),this.noneLabel.visible=0==this.ownItemGroup.numChildren},n.prototype.selectItem=function(e){for(var t=!1,n=0;n<this.selectItemList.length;n++){var i=this.selectItemList[n];if(i.type==e.type){i.count+=e.count,t=!0;break}}t||this.selectItemList.push(e),this.setSelectItem(this.selectItemList)},n.prototype.cancelSelectItem=function(e){for(var t=0;t<this.selectItemList.length;t++){var n=this.selectItemList[t];if(n.type==e.type){n.count-=e.count,n.count<=0&&this.selectItemList.splice(t,1);break}}this.setSelectItem(this.selectItemList)},n.prototype.autoAddItem=function(){var t=[];for(var n in e.Data.TPlayerItemReExp){var i=e.Data.TPlayerItemReExp[n],a=e.DataManager.playerModel.getItemCount(i.itemId);a>0&&t.push({type:i.itemId,count:a})}this.setSelectItem(t)},n.prototype.confirmHandle=function(){var t=this;if(this.selectItemList.length>0){var n=e.CheckPanel.getInstance();n.setData(e.Lang.ninquedingyaohuishouzhexiedaojuma,function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n?[4,e.DataManager.playerModel.recoveryItem(this.selectItemList)]:[3,2];case 1:t.sent(),this.setSelectItem([]),t.label=2;case 2:return[2]}})})}),n.show()}else e.showTips(e.Lang.qingxuanzeninyaohuishoudedaoju,!0)},n.prototype.changeGroup=function(e){this.recoveryButton.bg=e==this.recoveryButton?"ui/common/button/greenBtn":"ui/common/button/greenBtnGray",this.attributeButton.bg=e==this.attributeButton?"ui/common/button/greenBtn":"ui/common/button/greenBtnGray",this.recoveryGroup.visible=e==this.recoveryButton,this.attributeGroup.visible=e==this.attributeButton,e==this.attributeButton&&this.updateAttribute()},n.prototype.onShow=function(){this.changeGroup(this.recoveryButton),this.setSelectItem([])},n.prototype.closeHandle=function(){this._UI_jt01Bone.stop(),e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.SELECT_ITEM="ItemRecoveryPanel_SELECT_ITEM",n.CANCEL_SELECT_ITEM="ItemRecoveryPanel_CANCEL_SELECT_ITEM",n}(e.PanelComponent);e.ItemRecoveryPanel=t,__reflect(t.prototype,"game.ItemRecoveryPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=RecoveryItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.oneButton,callBackFunc:this.oneHandle},{target:this.tenButton,callBackFunc:this.tenHandle}],this.addEventAndNotify()},n.prototype.oneHandle=function(){var t=this.itemIcon.itemInfo;this._isAdd?e.NotificationCenter.getInstance().postNotification(e.ItemRecoveryPanel.SELECT_ITEM,{type:t.type,count:1}):e.NotificationCenter.getInstance().postNotification(e.ItemRecoveryPanel.CANCEL_SELECT_ITEM,{type:t.type,count:1})},n.prototype.tenHandle=function(){var t=this.itemIcon.itemInfo,n=Math.min(t.count,10);this._isAdd?e.NotificationCenter.getInstance().postNotification(e.ItemRecoveryPanel.SELECT_ITEM,{type:t.type,count:n}):e.NotificationCenter.getInstance().postNotification(e.ItemRecoveryPanel.CANCEL_SELECT_ITEM,{type:t.type,count:n})},n.prototype.setItem=function(t,n){this._isAdd=n,this.itemIcon.item=t;for(var i in e.Data.TPlayerItemReExp){var a=e.Data.TPlayerItemReExp[i];if(a.itemId==t.type){this.recoveryData=a;break}}n?(this.oneButton.image="langs/jia1",this.tenButton.image="langs/jia10"):(this.oneButton.image="langs/jian1",this.tenButton.image="langs/jian10")},Object.defineProperty(n.prototype,"totalCandy",{get:function(){return this.recoveryData.getItem*this.itemIcon.itemInfo.count},enumerable:!0,configurable:!0}),n.prototype.onDestroy=function(){this.removeFromParent()},n}(e.GameComponent);e.RecoveryItem=t,__reflect(t.prototype,"game.RecoveryItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=ChallengeLegendaryPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.challengeButton.image="langs/Tx_tiaozhan",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.challengeButton,callBackFunc:this.startBattle}],this.addEventAndNotify(),this._pokemonAnim=new e.PokemonIconArtAnim,this.pokemonGroup.addChild(this._pokemonAnim.display)},n.prototype.closeHandle=function(){e.removePopUp(this),this._pokemonAnim.stop()},n.prototype.startBattle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a;return __generator(this,function(o){switch(o.label){case 0:for(t=e.DataManager.playerModel.getPlayerBattlePokemonList(),n=0,i=0;i<t.length;i++)n+=e.countPokemonBattleCount(t[i]);return n<this._data.Limit?(e.showTips(e.Lang.dangqianzhanlibuzuqingtishengzhanli,!0),[2]):(e.showWaitPanel(),[4,e.HttpRequest.StartOnhookLegendaryAsync()]);case 1:return o.sent(),a=e.BattleScene.getInstance(),a.legendaryID=this._data.ElfID,a.legendaryMission=this._data.DungeonsID,a.legendaryFormation=1,[4,a.initBattle(6)];case 2:return o.sent(),e.hideWaitPanel(),this.closeHandle(),e.GameLayer.battleLayer.addChild(a),a.run(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),[2]}})})},n.prototype.endBattle=function(t){e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!0,e.NotificationCenter.getInstance().removeObserver(this,e.BattleScene.QUIT_BATTLE)},n.prototype.setData=function(t){this._data=t,this.limitCountLabel.text=t.Limit.toString(),this.nameLabel.text=e.Data.TElf[t.ElfID].name,this._pokemonAnim.setPokemon(t.ElfID),this._pokemonAnim.play(1)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.ChallengeLegendaryPanel=t,__reflect(t.prototype,"game.ChallengeLegendaryPanel")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=LegendaryIconSkin,t}return __extends(t,e),Object.defineProperty(t.prototype,"legendary",{set:function(e){this.legendaryIcon.source="icon/item/"+(1e3+e)},enumerable:!0,configurable:!0}),t.prototype.play=function(){egret.Tween.get(this.legendaryGroup,{loop:!0}).to({y:-10},500).to({y:0},500)},t.prototype.stop=function(){egret.Tween.removeTweens(this.legendaryGroup)},t}(e.GameComponent);e.LegendaryIcon=t,__reflect(t.prototype,"game.LegendaryIcon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.targetVal=90,e.currentVal=0,e.skinName=LoadingPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._adjust=!0,this.progressLabel.text="0",this.progressBar.maximum=100,this.showSeq=new e.SequenceImage,this.showSeq.setData({delay:150,size:{row:1,col:4},resource:"loading/8"}),this.showSeq.setScale(.6),this.showSeq.updateTexture(1,1),this.showImageGroup.addChild(this.showSeq.display),this.showSeq.play(1)},n.prototype.showLoading=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.stage?[2]:(this.targetVal=90+Math.floor(8*Math.random()),this.currentVal=0,this.progressBar.value=0,this.bgImage.source="loading/bg"+e.GetRandomNumWithRange(1,3),e.GameLayer.loadLayer.addChildAt(this,999),e.GameLayer.loadLayer.touchEnabled=!0,e.GameLayer.loadLayer.touchThrough=!1,this.updateProgress(),[2])})})},n.prototype.updateProgress=function(){if(this.currentVal>=this.targetVal)return void(100==this.targetVal&&(this.removeFromParent(),egret.clearTimeout(this.timeout),egret.clearInterval(this.interval),e.GameLayer.loadLayer.touchEnabled=!1,e.GameLayer.loadLayer.touchThrough=!0));var t=100-this.currentVal>10?1:2;this.currentVal++,this.progressBar.value=this.currentVal,this.timeout=egret.setTimeout(this.updateProgress,this,t)},n.prototype.closeLoading=function(){this.stage&&(this.currentVal>=this.targetVal?(this.targetVal=100,this.updateProgress()):this.targetVal=100)},n.getInstance=function(){return null==n._instance&&(n._instance=new n),n._instance},n.prototype.onHeightChange=function(){t.prototype.onHeightChange.call(this),this.bgImage.scaleX=this.bgImage.scaleY=this._heightScale},n}(e.GameComponent);e.LoadingPanel=t,__reflect(t.prototype,"game.LoadingPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.createGameScene(),e}return __extends(n,t),n.prototype.createGameScene=function(){this.width=gameConfig.curWidth(),this.height=gameConfig.curHeight(),this.logo=new eui.Image("loading/logo"),this.logo.horizontalCenter=0,this.logo.verticalCenter=-200,this.addChild(this.logo),this.textField=new eui.Label,this.textField.size=24,this.textField.stroke=2,this.textField.textColor=16777215,this.textField.bold=!0,this.textField.horizontalCenter=0,this.textField.verticalCenter=-20,this.textField.text="0%",this.addChild(this.textField);var e=new eui.Group;e.width=548,e.height=47,e.horizontalCenter=0,e.verticalCenter=-80,e.touchEnabled=!1,e.touchChildren=!0,this.addChild(e),this.reloadImage=new eui.Image,this.reloadImage.source="loading/Tx_dianjizlsx",this.reloadImage.right=0,this.reloadImage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.windowReload,this),e.addChild(this.reloadImage);var t=new eui.Image;t.source="loading/Tx_wufaljfwq",t.left=0,e.addChild(t)},n.prototype.setProgress=function(e,t,n){void 0===n&&(n=!1);var i=Math.floor(e/t*100)+"%";n&&(i="数据加载："+i),this.textField.text=i},n.prototype.showWait=function(){this.textField.text=e.Lang.ziyuanzhenglizhong},n.prototype.windowReload=function(){window&&window.location&&window.location.reload()},n.getInstance=function(){return null==n._instance&&(n._instance=new n),n._instance},n}(e.GameComponent);e.LoadingScene=t,__reflect(t.prototype,"game.LoadingScene")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.bg=new egret.Sprite,e.w=0,e.h=0,e._play=!1,e.isShow=!1,e.createView(),e}return __extends(n,t),n.prototype.createView=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.w=egret.MainContext.instance.stage.stageWidth,this.h=egret.MainContext.instance.stage.stageHeight,this.bg.graphics.beginFill(0,.5),this.bg.graphics.drawRect(0,0,this.w,this.h),this.bg.graphics.endFill(),this.bg.width=this.w,this.bg.height=this.h,this.addChild(this.bg),this.touchEnabled=!0,this.label=new eui.Label(e.Lang.jiazaizhong),this.label.anchorOffsetX=this.label.width/2,this.label.anchorOffsetY=this.label.height/2,this.label.x=this.w/2,this.label.y=this.h/2,this.label.stroke=2,this.addChild(this.label),t=this,[4,e.getBone("bianfu")];case 1:return t.bat=n.sent(),this.bat.x=this.w/2+5,this.bat.y=this.h/2-70,this.addChild(this.bat),this._play&&this.bat.play(null,0),[2]}})})},n.prototype.onShow=function(){var e=this;if(this.isShow=!0,null==this.interval){this.label.text=this._text;var t=1;this.interval=egret.setInterval(function(){switch(t){case 0:e.label.text=e._text,t++;break;case 1:e.label.text=e._text+".",t++;break;case 2:e.label.text=e._text+"..",t++;break;case 3:e.label.text=e._text+"...",t++;break;case 4:e.label.text=e._text+"....",t++;break;case 5:e.label.text=e._text+".....",t=0}},this,500),this.bat&&this.bat.play(null,0),this._play=!0}},n.prototype.remove=function(){this.isShow=!1,this._play=!1,egret.clearInterval(this.interval),this.interval=null,this.bat&&this.bat.stop(),this.parent&&this.parent.removeChild(this)},n.prototype.setType=function(t){0==t?this._text=e.Lang.jiazaizhong:this._text=e.Lang.jiazaizhong2},n}(egret.Sprite);e.WaitPanel=t,__reflect(t.prototype,"game.WaitPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=AnnouncementSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removePopUp(t)},this)},n.prototype.onShow=function(){this.updateLabel()},n.prototype.updateLabel=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r;return __generator(this,function(u){switch(u.label){case 0:this.labelGroup.removeChildren(),this.labelGroup2.removeChildren(),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Auth.getAnnounce()];case 2:return t=u.sent(),[3,4];case 3:return n=u.sent(),t="",[3,4];case 4:if(""!=t){this.parseData(t),i=10,a=10;for(o in e.Data.TAnnouncement)s=e.Data.TAnnouncement[o],r=e.createColorText(s.Detail),r.stroke=0,r.bold=!0,r.size=23,1==s.Type?(r.width=600,r.y=i,this.labelGroup.addChild(r),i+=r.height+20):(r.width=600,r.y=a,this.labelGroup2.addChild(r),a+=r.height+20)}return[2]}})})},n.prototype.parseData=function(t){e.Data.TAnnouncement={};for(var n=e.parseCSV(t),i=0;i<n.length;i++){var a=new e.TAnnouncement;a.ID=e.ToNumber(n[i][0]),a.Detail=n[i][1],a.Time=n[i][2],a.Type=e.ToNumber(n[i][3]),e.Data.TAnnouncement[a.ID]=a}t=null},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.AnnouncementPanel=t,__reflect(t.prototype,"game.AnnouncementPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=BanPanelSkin,e}return __extends(n,t),n.prototype.setBanLabel=function(t,n){void 0===n&&(n=null),t?n?this.banLabel.text="该账号因 "+t+" 已被封禁至\r"+e.formatTime(n)+"!":this.banLabel.text="该账号因 "+t+" 已被封禁!":this.banLabel.text="该账号已被封禁!"},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.GameComponent);e.BanPanel=t,__reflect(t.prototype,"game.BanPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._male=!0,e.skinName=CreateRoleSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._adjust=!0,this.confirmButton.image="ui/scene/create/queding",[4,this.load()];case 1:return t.sent(),this._touchEvent=[{target:this.randomBtn,callBackFunc:this.randomName},{target:this.confirmButton,callBackFunc:this.confirm},{target:this.maleButton,callBackFunc:this.touchAvatar},{target:this.femaleButton,callBackFunc:this.touchAvatar}],this.addEventAndNotify(),this.randomName(),this._role=e.splitStringToNumberArray(e.Constants.initRole),this.touchAvatar(this.maleButton),[2]}})})},n.prototype.load=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),t=this,[4,e.getBone("01_character_m")];case 1:return t._maleBone=i.sent(),n=this,[4,e.getBone("01_character_f")];case 2:return n._femaleBone=i.sent(),this._maleBone.play(null,0),this._femaleBone.play(null,0),e.hideWaitPanel(),[2]}})})},n.prototype.touchAvatar=function(e){this.avatarGroup.removeChildren(),e==this.maleButton?(this.maleButton.icon="ui/scene/create/nansheng",this.femaleButton.icon="ui/scene/create/nvshenghui",this._male=!0,this.avatarGroup.addChild(this._maleBone)):(this.maleButton.icon="ui/scene/create/nanshenghui",this.femaleButton.icon="ui/scene/create/nvsheng",this._male=!1,this.avatarGroup.addChild(this._femaleBone))},n.prototype.randomName=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),t=this.nameLabel,[4,e.HttpRequest.DiceNameAsync(this._male)];case 1:return t.text=n.sent(),e.hideWaitPanel(),[2]}})})},n.prototype.onRemove=function(){this._maleBone.stop(),this._femaleBone.stop()},n.prototype.confirm=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return""==this.nameLabel.text?[3,2]:[4,e.HttpRequest.CheckSameNameAsync(this.nameLabel.text,this._male)];case 1:return t=i.sent(),t!==this.nameLabel.text?(e.showTips(e.Lang.mingchengchongfuhuobuhefa,!0),this.nameLabel.text=t):e.NotificationCenter.getInstance().postNotification(n.CREATE_FINISH,{name:this.nameLabel.text,role:this._male?this._role[0]:this._role[1]}),[3,3];case 2:e.showTips(e.Lang.qingshurunindemingcheng,!0),i.label=3;case 3:return[2]}})})},n.finish=function(){var t=e.defer(),i=new n;return e.GameLayer.sceneLayer.addChild(i),e.NotificationCenter.getInstance().addObserver(i,function(e){egret.localStorage.removeItem("finishStory"),i.removeFromParent(),i=null,t.resolve(e)},n.CREATE_FINISH),t.promise()},n.prototype.onHeightChange=function(){t.prototype.onHeightChange.call(this),this.bg.scaleX=this.bg.scaleY=this._heightScale},n.CREATE_FINISH="CreateRole_CREATE_FINISH",n}(e.GameComponent);e.CreateRole=t,__reflect(t.prototype,"game.CreateRole")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.skinName=KickoutPanelSkin,n.refreshButton.label=e.Lang.shuaxin,n.refreshButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){egret.localStorage.setItem("skipSdk","true"),location.reload()},n),n}return __extends(n,t),n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.GameComponent);e.KickoutPanel=t,__reflect(t.prototype,"game.KickoutPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=LoginSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._adjust=!0,this.login.bg="ui/scene/login/UI_loginbtn",this.register.bg="ui/scene/login/UI_loginbtn",this.login.image="ui/scene/login/Tx_denglu",this.register.image="ui/scene/login/Tx_zhuce"},n.finish=function(){function t(e,t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Auth.login(e,t)];case 1:return n=a.sent(),s.removeFromParent(),o.resolve(n),[3,3];case 2:return i=a.sent(),alert(i.message),[3,3];case 3:return[2]}})})}function i(e,t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Auth.register(e,t)];case 1:return n=a.sent(),s.removeFromParent(),o.resolve(n),[3,3];case 2:return i=a.sent(),alert(i.message),[3,3];case 3:return[2]}})})}function a(t,n){return""==t||""==n?(e.showTips(e.Lang.qingshuruyonghuminghemima,!0),!1):!0}var o=e.defer(),s=new n;return s.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){switch(e.target){case s.login:if(!a(s.nameLabel.text,s.passwordLabel.text))return;t(s.nameLabel.text,s.passwordLabel.text);break;case s.register:if(!a(s.nameLabel.text,s.passwordLabel.text))return;i(s.nameLabel.text,s.passwordLabel.text)}},this),e.GameLayer.sceneLayer.addChild(s),o.promise()},n}(e.GameComponent);e.Login=t,__reflect(t.prototype,"game.Login")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=LuckPlayerSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._adjust=!0,this.luckConfirmButton.image="ui/scene/create/lingqu",this.luckConfirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchLuck,this)},n.prototype.touchLuck=function(){this._luckBone.stop(),this.removeFromParent(),this._d.resolve(null)},n.prototype.load=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=this,[4,e.getBone("xuanjue")];case 1:return t._luckBone=n.sent(),this._luckBone.setScale(this._heightScale),this.luckBoneGroup.addChild(this._luckBone),[2]}})})},n.prototype.finish=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this._d=e.defer(),this._luckBone.play(null,0),[2,this._d.promise()]})})},n}(e.GameComponent);e.LuckPlayer=t,__reflect(t.prototype,"game.LuckPlayer")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.skinName=OnFixSkin,n.announcementButton.icon="ui/scene/idle/gonggao",n.fixLabel.text=e.FixTime,n._touchEvent=[{target:n.announcementButton,callBackFunc:n.openAnnouncement}],n.addEventAndNotify(),n.initAnim(),n}return __extends(n,t),n.prototype.initAnim=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._noticeAnim=new e.SequenceImage,this.noticeGroup.addChild(this._noticeAnim.display),[4,this._noticeAnim.setData({delay:80,size:{row:1,col:8},resource:"anim/gonggao"})];case 1:return t.sent(),this._noticeAnim.playAll(),[2]}})})},n.prototype.openAnnouncement=function(){e.navPanel(47)},n}(e.GameComponent);e.OnFixPanel=t,__reflect(t.prototype,"game.OnFixPanel")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t._adjust=!0,t.bg=new eui.Image("ui/scene/login/UI_denglubg"),t.bg.verticalCenter=0,t.bg.horizontalCenter=0,t.label=new eui.Label("登陆中...感谢您的耐心等待...."),t.label.verticalCenter=0,t.label.horizontalCenter=0,t.label.fontFamily="SimHei",t.label.bold=!0,t.addChild(t.bg),t.addChild(t.label),13==SDK.$platformType||14==SDK.$platformType||12==SDK.$platformType?t.reLogin():9==SDK.$platformType&&t.reLoginWB(),t}return __extends(t,e),t.prototype.onHeightChange=function(){e.prototype.onHeightChange.call(this),this.bg.scaleX=this.bg.scaleY=this._heightScale},t.prototype.reLoginWB=function(){var e=this;9==SDK.$platformType&&(gameEnter||egret.setTimeout(function(){return null!=Auth.$openkeydata?void createGameScene():void e.reLoginWB()},this,1e3))},t.prototype.reLogin=function(){var e=this;(13==SDK.$platformType||12==SDK.$platformType||14==SDK.$platformType)&&(gameEnter||egret.setTimeout(function(){13==SDK.$platformType?(host.getSessionId()&&createGameScene(),e.reLogin()):14==SDK.$platformType&&(null!=iosUserId&&createGameScene(),e.reLogin())},this,2e3))},t.count=0,t}(e.GameComponent);e.SDKLogining=t,__reflect(t.prototype,"game.SDKLogining")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._artPokemonList=[],e._arrowImage=[],e.skinName=SelectPmSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this,n=this;n._adjust=!0,n._pmList=e.splitStringToNumberArray(e.Constants.initPokemon),n.confirmBtn.image="ui/scene/create/queding",n._pokemon1=new e.TeamArtPokemon,n.pokemon1Group.addChild(n._pokemon1.display),n._pokemon2=new e.TeamArtPokemon,n.pokemon2Group.addChild(n._pokemon2.display),n._pokemon3=new e.TeamArtPokemon,n.pokemon3Group.addChild(n._pokemon3.display),n._pokemon1.setPokemon(n._pmList[0],!1),n._pokemon2.setPokemon(n._pmList[1],!0),n._pokemon3.setPokemon(n._pmList[2],!0),n.touchGroup1.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.selectPM(n._pmList[0])},n),n.touchGroup2.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.selectPM(n._pmList[1])},n),n.touchGroup3.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.selectPM(n._pmList[2])},n),n.selectPM(n._pmList[0]),n.confirmBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,n.confirmHandle,n)},n.prototype.touchHandle=function(t){var n=this,i=t.stageX,a=t.stageY,o=e.checkPointAtRect(i,a,412,160,300,240),s=e.checkPointAtRect(i,a,210,394,300,190),r=e.checkPointAtRect(i,a,21,152,300,240);o?this.selectPM(n._pmList[0]):s?this.selectPM(n._pmList[1]):r&&this.selectPM(n._pmList[2])},n.prototype.confirmHandle=function(){e.NotificationCenter.getInstance().postNotification(n.CREATE_FINISH,Number(this._selectPm))},n.prototype.selectPM=function(t){var n=this;if(n._selectPm!=t){switch(n._selectPm=t,egret.Tween.removeTweens(n.finger),n._pokemon1.stay(),n._pokemon2.stay(),n._pokemon3.stay(),t){case n._pmList[0]:n.finger.x=528,n.finger.y=e.GetOffSetYWithCenter(160),n.detail.source="ui/scene/create/1",n._pokemon1.play(1,0);
break;case n._pmList[1]:n.finger.x=321,n.finger.y=e.GetOffSetYWithCenter(325),n.detail.source="ui/scene/create/2",n._pokemon2.play(1,0);break;case n._pmList[2]:n.finger.x=122,n.finger.y=e.GetOffSetYWithCenter(160),n.detail.source="ui/scene/create/3",n._pokemon3.play(1,0)}egret.Tween.get(n.finger,{loop:!0}).to({y:n.finger.y+10},100).to({y:n.finger.y},100).to({y:n.finger.y-10},100).to({y:n.finger.y},100),this.setUp(Number(t))}},n.finish=function(){var t=e.defer(),i=new n;return e.GameLayer.sceneLayer.addChild(i),e.NotificationCenter.getInstance().addObserver(i,function(e){egret.Tween.removeTweens(i.finger),i.removeFromParent(),i=null,t.resolve(e)},n.CREATE_FINISH),t.promise()},n.prototype.setUp=function(t){var n=0,i=e.Data.TElf[t];if((i.upElf||i.upElfSp)&&!i.sotpGrow){var a=this._artPokemonList[n];a||(a=new e.PokemonDetailArt,this._artPokemonList[n]=a),a.setSpecialUp(null,i.id),this.evaluationGroup.addChild(a);var o=this._arrowImage[n];o||(o=new eui.Image("ui/scene/team/doubleArrow"),this._arrowImage[n]=o),this.evaluationGroup.addChild(o),n++}for(var s;(i.upElf||i.upElfSp)&&!i.sotpGrow;){var a=this._artPokemonList[n];a||(a=new e.PokemonDetailArt,this._artPokemonList[n]=a),a.nextPokemon=null,s&&(s.nextPokemon=a),s=a,a.setSpecialUp(i.upElfSp,i.upElf),this.evaluationGroup.addChild(a);var r=e.Data.TElf[i.upElf];if(!r&&i.upElfSp){var u=e.splitStringToNumberArray(i.upElfSp,"|");r=e.Data.TElf[u[a.currentIndex]]}if((r.upElf||r.upElfSp)&&!r.sotpGrow){var o=this._arrowImage[n];o||(o=new eui.Image("ui/scene/team/doubleArrow"),this._arrowImage[n]=o),this.evaluationGroup.addChild(o)}i=r,n++}3==n?this.evaluationGroup.scaleX=this.evaluationGroup.scaleY=1:this.evaluationGroup.scaleX=this.evaluationGroup.scaleY=.8},n.CREATE_FINISH="SelectPm_CREATE_FINISH",n}(e.GameComponent);e.SelectPm=t,__reflect(t.prototype,"game.SelectPm")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(eui.Component);e.SelectPokeBall=t,__reflect(t.prototype,"game.SelectPokeBall")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._onFix=!1,e._serverItemList=[],e._rangeButtonList=[],e._waitStop=!1,e.skinName=SelectServerSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.bg0.source="ui/scene/login/UI_denglubg",this.announcementButton.visible=!0,this.okButton.bg="ui/scene/login/UI_loginbtn",this.moreButton.bg="ui/scene/login/UI_loginbtn",this.okButton.image="langs/queding",this.moreButton.image="langs/gengduo",this.announcementButton.icon="ui/scene/idle/gonggao",this._adjust=!0,this._touchEvent=[{target:this.enterButton,callBackFunc:this.confirmHandle},{target:this.okButton,callBackFunc:this.confirmHandle},{target:this.moreButton,callBackFunc:this.showMore},{target:this.bgRect,callBackFunc:this.hideMore},{target:this.announcementButton,callBackFunc:this.openAnnouncement}],this.addEventAndNotify(),this.serverItemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.selectServerItem,this),this.bgRect.alpha=0,this.enterGroup.visible=!0,this.bgRect.touchEnabled=!1,this.serverListGroup.visible=!1},n.prototype.openAnnouncement=function(){e.navPanel(47)},n.prototype.showMore=function(){var e=this;this.stopWait(),this.serverListGroup.visible=!0,this.moreButton.touchEnabled=!1,this.serverListGroup.alpha=0,this.showTweenGroup.once("complete",function(){e.enterGroup.visible=!1,e.bgRect.touchEnabled=!0,e.moreButton.touchEnabled=!0},this),this.showTweenGroup.play(0)},n.prototype.hideMore=function(){var e=this;this.bgRect.touchEnabled=!1,this.enterGroup.visible=!0,this.enterGroup.alpha=0,this.hideTweenGroup.once("complete",function(){e.serverListGroup.visible=!1,e.showWait()},this),this.hideTweenGroup.play(0)},n.prototype.showWait=function(){var e=this;this.stopWait(),this._waitStop=!1;var t=function(){e.waitTweenGroup.once("complete",function(){e._waitStop||t()},e),e.waitTweenGroup.play(0)};t()},n.prototype.stopWait=function(){this.waitTweenGroup.stop(),this._waitStop=!0},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,n;return __generator(this,function(i){switch(i.label){case 0:return this.waitTweenGroup.pause(),this.shanTweenGroup.play(),[4,e.delay(500)];case 1:return i.sent(),this.confirmHandle(),this._onFix?(e.showWaitPanel(),[4,e.gameLogin()]):[3,3];case 2:return t=i.sent(),e.hideWaitPanel(),-1==t.pid?e.showTips(e.Lang.huwuqiweihuzhongqingshaohouzailai,!0):(n=this._currentServer,this.d.resolve(n),this.stopBone(),this.removeFromParent()),[3,4];case 3:n=this._currentServer,this.d.resolve(n),this.stopBone(),this.removeFromParent(),i.label=4;case 4:return[2]}})})},n.prototype.initAnim=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._hotAnim=new e.SequenceImage,this._noticeAnim=new e.SequenceImage,this.hotGroup.addChild(this._hotAnim.display),this.noticeGroup.addChild(this._noticeAnim.display),[4,this._hotAnim.setData({delay:80,size:{row:1,col:7},resource:"anim/hot"})];case 1:return t.sent(),[4,this._noticeAnim.setData({delay:80,size:{row:1,col:8},resource:"anim/gonggao"})];case 2:return t.sent(),this.stage&&(this._hotAnim.playAll(),this._noticeAnim.playAll()),[2]}})})},n.prototype.setServer=function(t,n,i){this.initAnim(),this._serverList=n,this._lastIndex=null;for(var a=0;a<n.length;a++){var o=n[a];a==n.length-1?o.isNew=!0:o.isNew=!1,t?o.sid==t&&(this._lastIndex=a,this._currentServer=o):this._currentServer=o}this._currentServer||(this._currentServer=n[n.length-1]),this.updateCurrentServer(),-1==i.pid?(this._onFix=!0,this.fixImage.visible=this.fixLabel.visible=this.fixImage1.visible=!0,this.fixLabel.text=i.agent):(this._onFix=!1,this.fixImage.visible=this.fixLabel.visible=this.fixImage1.visible=!1);var s=0;if(null!=t){var r=new e.ServerRangeButton;r.select=!1,r.listPanel=this,r.setRange(t,t),r.bgDisplay.source="ui/scene/login/Tx_zuijindl",r.labelDisplay.text="",this.rangeButtonGroup.addChild(r),this._rangeButtonList.push(r),s=1}for(var u=n.length,l=20,c=Math.ceil(u/l),a=c-1;a>=0;a--){var h=new e.ServerRangeButton;h.listPanel=this;var p=a*l,g=Math.min((a+1)*l-1,u-1);h.setRange(p,g),this.rangeButtonGroup.addChild(h),this._rangeButtonList.push(h),h.select=!1}this.touchRangeButton(this._rangeButtonList[s]),this.showWait()},n.prototype.touchRangeButton=function(t){this._selectRangeButton&&(this._selectRangeButton.select=!1),this._selectRangeButton=t,this._selectRangeButton.select=!0,this.itemScroller.viewport.scrollV=0,this.serverItemGroup.removeChildren();for(var n=this._selectRangeButton.startIndex,i=this._selectRangeButton.endIndex,a=0,o=i;o>=n;o--){var s=this._serverList[o];if(s){var r=this._serverItemList[a];r||(r=new e.ServerItem,this._serverItemList[a]=r),r.setData(s,s.isNew),this.serverItemGroup.addChild(r),a++}}},n.prototype.selectServerItem=function(e){var t=e.target;t.serverData&&(this._currentServer=t.serverData,this.updateCurrentServer(),this.hideMore())},n.prototype.updateCurrentServer=function(){this.nameLabel.text=this._currentServer.name,this.signImage.source=this._currentServer.isNew?"ui/scene/create/new":"ui/scene/create/hot"},n.prototype.stopBone=function(){this._hotAnim.stop(),this._noticeAnim.stop(),this.showTweenGroup.stop(),this.hideTweenGroup.stop(),this.waitTweenGroup.stop(),this.shanTweenGroup.stop()},n.prototype.selectServer=function(){return this.d=e.defer(),this.d.promise()},n.prototype.onHeightChange=function(){t.prototype.onHeightChange.call(this),this.bg0.scaleX=this.bg0.scaleY=this._heightScale},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.GameComponent);e.SelectServer=t,__reflect(t.prototype,"game.SelectServer")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=ServerItemSkin,t.touchChildren=!1,t}return __extends(t,e),t.prototype.setData=function(e,t){this.isNew=t,this.serverData=e,this.nameLabel.text=e.name,this.newImage.visible=!0,this.newImage.source=t?"ui/scene/create/new":"ui/scene/create/hot"},t}(e.GameComponent);e.ServerItem=t,__reflect(t.prototype,"game.ServerItem")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=ServerRangeButtonSkin,t.touchChildren=!1,t.addEventListener(egret.TouchEvent.TOUCH_TAP,t.touchHandle,t),t}return __extends(t,e),t.prototype.touchHandle=function(){this.listPanel.touchRangeButton(this)},t.prototype.setRange=function(e,t){this.startIndex=e,this.endIndex=t,this.labelDisplay.text=e+1+"-"+(t+1)},Object.defineProperty(t.prototype,"select",{set:function(e){this.selectDisplay.visible=e},enumerable:!0,configurable:!0}),t}(e.GameComponent);e.ServerRangeButton=t,__reflect(t.prototype,"game.ServerRangeButton")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._currentText=1,e.skinName=XinShouJuQingSkin,e._adjust=!0,egret.Tween.get(e.arrow,{loop:!0}).to({y:600},300).to({y:613},300),e.mainGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchHandle,e),e}return __extends(n,t),n.prototype.loadRes=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:return this._pokemonAnim=new e.SequenceImage,[4,this._pokemonAnim.setData({delay:100,size:{col:8,row:1},resource:"anim/battlePokemon/1025"})];case 1:return r.sent(),t=this,[4,e.getBone("guaichuxianqian")];case 2:return t.showBone=r.sent(),this.pikaqiuGroup.addChild(this._pokemonAnim.display),this.pikaqiuGroup.addChild(this.showBone),n=this,[4,e.getPokemonArtTexture(1148)];case 3:return n._originTexture=r.sent(),i=this,[4,e.getPokemonArtTexture(1149)];case 4:return i._nextTexture=r.sent(),a=this,[4,e.getBone("jinhua")];case 5:return a._bone=r.sent(),this.boneGroup.addChild(this._bone),this.pokemonArtImage.source=this._originTexture,o=this,[4,e.getBone("66")];case 6:return o._boshiBone=r.sent(),this.boshiGroup.addChild(this._boshiBone),this._boshiBone.play(null,0),this._bone1?[3,8]:(s=this,[4,e.getBone("wucaiguang")]);case 7:s._bone1=r.sent(),this.bone1Group.addChild(this._bone1),r.label=8;case 8:return this.bone1Group.visible=!1,this.rotationImage.visible=!1,this.boneGroup.visible=!0,this.pokemonArtImage.source=this._originTexture,this.bgRect.alpha=.7,this.pokemonArtImage.scaleX=this.pokemonArtImage.scaleY=1.5,[2]}})})},n.prototype.touchHandle=function(){switch(this._currentText++,this._currentText){case 2:this.textImage.source="juqing/"+this._currentText,e.SoundManager.playTech("open1");break;case 3:this.textImage.source="juqing/"+this._currentText,e.SoundManager.playTech("open3"),this.battleBeginShow();break;case 4:this.textImage.source="juqing/"+this._currentText,e.SoundManager.playTech("open4");break;case 5:this.textImage.source="juqing/"+this._currentText,e.SoundManager.playTech("open5");break;case 6:this.textImage.source="juqing/"+this._currentText,e.SoundManager.playTech("open6");break;case 7:this.textImage.source="juqing/"+this._currentText,e.SoundManager.playTech("open7"),this.playEvaluation();break;case 8:this.textImage.source="juqing/"+this._currentText,e.SoundManager.playTech("open8");break;case 9:this.textImage.source="juqing/"+this._currentText,e.SoundManager.playTech("open9");break;case 10:e.SoundManager.stopTeach(),this._d1.resolve(null),this.removeFromParent(),e.SoundManager.setBgVolume(.5);break;case 11:e.SoundManager.stopTeach(),this._d2.resolve(null),this.removeFromParent(),e.SoundManager.setBgVolume(.5);break;case 12:e.SoundManager.stopTeach(),this._d3.resolve(null),this._boshiBone.stop(),egret.Tween.removeTweens(this.arrow),this.removeFromParent(),e.SoundManager.setBgVolume(.5)}},n.prototype.show=function(){return this._d1=e.defer(),this._pokemonAnim.stop(),this.evaluationGroup.visible=!1,this.pikaqiuGroup.visible=!1,this.grass.visible=!1,this._currentText=1,this.textImage.source="juqing/"+this._currentText,e.SoundManager.playTech("open2"),e.SoundManager.setBgVolume(.1),this._d1.promise()},n.prototype.show2=function(){return this._d2=e.defer(),this.pikaqiuGroup.visible=!1,this.grass.visible=!1,e.GameLayer.sceneLayer.addChild(this),this._currentText=10,this.textImage.source="juqing/"+this._currentText,e.SoundManager.playTech("open10"),e.SoundManager.setBgVolume(.1),this._d2.promise()},n.prototype.show3=function(){return this._d3=e.defer(),e.GameLayer.sceneLayer.addChild(this),this._currentText=11,this.textImage.source="juqing/"+this._currentText,e.SoundManager.playTech("open11"),e.SoundManager.setBgVolume(.1),this._d3.promise()},n.prototype.battleBeginShow=function(){var t=this;this.mainGroup.touchEnabled=this.mainGroup.touchChildren=!1,this.grass.x=720,this.grass.visible=!0,egret.Tween.get(this.grass).to({x:335},1e3).call(function(){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.pikaqiuGroup.visible=!0,this._pokemonAnim.play(1),this._pokemonAnim.display.alpha=0,this.showBone.setTimeScale(1),[4,this.showBone.play(null,1)];case 1:return t.sent(),egret.Tween.get(this._pokemonAnim.display).to({alpha:1},300),e.destroyBone(this.showBone),this.mainGroup.touchEnabled=!0,[2]}})})})},n.prototype.playEvaluation=function(){return __awaiter(this,void 0,void 0,function(){var t,n=this;return __generator(this,function(i){return t=e.defer(),this.evaluationGroup.visible=!0,this._bone.play(null,1),egret.Tween.get(this.evaluationGroup).to({alpha:1},1e3).call(function(){n.pokemonArtImage.source=n._nextTexture}).wait(1e3).to({alpha:0},800).call(function(){n._bone1.play(null,0),n.bone1Group.visible=!0,n.rotationImage.visible=!0,effectUtils.rotationEffect(n.rotationImage,5e3),n._bone.stop(),n.boneGroup.visible=!1,t.resolve(null)}).wait(1e3).call(function(){n._bone1.stop(),effectUtils.removeRotationEffect(n.rotationImage),n.evaluationGroup.visible=!1}),[2,t.promise()]})})},n.prototype.onHeightChange=function(){t.prototype.onHeightChange.call(this),this.bg.scaleX=this.bg.scaleY=this._heightScale},n}(e.GameComponent);e.XinShouJuQing=t,__reflect(t.prototype,"game.XinShouJuQing")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemIconList=[],e._pokemonIconList=[],e._titleList=[],e.skinName=MailDetailPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.receiveButton.image="ui/scene/mail/Tx_shouqu",this._touchEvent=[{target:this.receiveButton,callBackFunc:this.receiveHandle},{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},n.prototype.receiveHandle=function(){e.NotificationCenter.getInstance().postNotification(e.MailPanel.RECEIVE_MAIL,this._mailInfo),this.closeHandle()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.setInfo=function(t){this._mailInfo=t,this.senderLabel.text=e.Lang.fajianren+": "+t.sender,this.titleLabel.text=t.title,this.detailLabel.text=t.detail,this.itemGroup.removeChildren();for(var n=0,i=0,a=0,o=0;o<t.items.length;o++){var s=t.items[o];if(e.Data.TElf[s.type]){this._pokemonIconList[i]||(this._pokemonIconList[i]=new e.PokemonIcon);var r=this._pokemonIconList[i];r.pokemon=s.type,this.itemGroup.addChild(r),i++}else if(e.getTitleId(s.type)){this._titleList[a]||(this._titleList[a]=new eui.Image);var u=this._titleList[a];u.source="langs/title/"+e.getTitleId(s.type),this.itemGroup.addChild(u),a++}else{this._itemIconList[n]||(this._itemIconList[n]=new e.ItemIcon);var l=this._itemIconList[n];l.item=s,this.itemGroup.addChild(l),n++}}},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.MailDetailPanel=t,__reflect(t.prototype,"game.MailDetailPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=MailItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.detailButton.image="ui/scene/mail/Tx_chakan",this.detailButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.detailHandle,this)},n.prototype.setInfo=function(t){this._mailInfo=t,this.senderLabel.text=e.Lang.fajianren+": "+t.sender,this.titleLabel.text=t.title,this.timeLabel.text=e.formatTime(t.time)},n.prototype.detailHandle=function(){var t=e.MailDetailPanel.getInstance();t.setInfo(this._mailInfo),t.show()},n}(e.GameComponent);e.MailItem=t,__reflect(t.prototype,"game.MailItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e.skinName=MailPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.receiveAllButton.image="ui/scene/mail/Tx_yijiansq",this.noneLabel.text=e.Lang.nindangqianmeiyouyoujian,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.receiveAllButton,callBackFunc:this.receiveAllMail}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,function(e){t.receiveMail(e)},n.RECEIVE_MAIL)},n.prototype.receiveMail=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return this.touchChildren=!1,[4,e.DataManager.playerModel.receiveMail(t)];case 1:return n.sent(),this.touchChildren=!0,this.setMailList(),[2]}})})},n.prototype.receiveAllMail=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.touchChildren=!1,[4,e.DataManager.playerModel.receiveAllMail()];case 1:return t.sent(),this.touchChildren=!0,this.setMailList(),[2]}})})},n.prototype.onShow=function(){this.updateMail()},n.prototype.updateMail=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.setNone(!0),[4,e.DataManager.playerModel.updateMailList()];case 1:return t.sent(),this.setMailList(),[2]}})})},n.prototype.setNone=function(e){this.noneLabel.visible=e,this.receiveAllButton.visible=this.mailItemGroup.visible=!e},n.prototype.setMailList=function(){this._mailList=e.DataManager.playerModel.getMailList(),this.mailItemGroup.removeChildren(),this.setNone(0==this._mailList.length);for(var t=0;t<this._mailList.length;t++){this._itemList[t]||(this._itemList[t]=new e.MailItem);var n=this._itemList[t];n.setInfo(this._mailList[t]),this.mailItemGroup.addChild(n)}},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.RECEIVE_MAIL="MailPanel_RECEIVE_MAIL",n}(e.PanelComponent);e.MailPanel=t,__reflect(t.prototype,"game.MailPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._AutoMingSecond=0,n._AutoMingCount=0,n._animList=[],n.canToCave=!1,n._second=0,n._subwayTime=60*Number(e.Constants.battleSubawayRecoverTime)*1e3,n._tansuoData=e.Data.TFSearch[1],n._colorMatrix=gameConfig.ColorMatrix.gray,n._rightArrowMoveDis=0,n.skinName=MainCitySkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.width=gameConfig.curWidth(),this.zhanKuangPoint.visible=!1,this._rightArrowMoveDis=1200-this.width,this.announcementButton.icon="ui/scene/idle/gonggao",this.signButton.icon="ui/scene/sign/icon",this._adjust=!0,this._touchEvent=[{target:this.signButton,callBackFunc:this.openSign},{target:this.announcementButton,callBackFunc:this.openAnnouncement},{target:this.dungeonButton,callBackFunc:this.touchHandle},{target:this.pvpButton,callBackFunc:this.touchHandle},{target:this.shopButton,callBackFunc:this.touchHandle},{target:this.caveButton,callBackFunc:this.touchHandle},{target:this.clothesButton,callBackFunc:this.touchHandle},{target:this.pvpRankButton,callBackFunc:this.touchHandle},{target:this.homeButton,callBackFunc:this.touchHandle},{target:this.subwayButton,callBackFunc:this.touchHandle},{target:this.mysteryShopButton,callBackFunc:this.touchHandle},{target:this.miningButton,callBackFunc:this.touchHandle},{target:this.riftButton,callBackFunc:this.touchHandle},{target:this.eggButton,callBackFunc:this.touchHandle},{target:this.zhuaChongDaSaiButton,callBackFunc:this.touchHandle},{target:this.zhanKuangZhanButton,callBackFunc:this.touchHandle},{target:this.superGashponButton,callBackFunc:this.touchHandle},{target:this.gymButton,callBackFunc:this.touchHandle},{target:this.rightArrow,callBackFunc:this.moveRightHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateKabi,notifyName:e.PlayerModel.CAVE_INFO_UPDATE,execute:!1},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateSign,notifyName:e.PlayerModel.SIGN_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateDungeon,notifyName:e.PlayerModel.DUNGEON_COUNT_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateLock,notifyName:e.PlayerModel.LOCK_UPDATE,execute:!0}],this.addEventAndNotify(),egret.Tween.get(this.rightArrow,{loop:!0}).to({alpha:1},600).to({alpha:0},600).to({alpha:1},600).play(),egret.Tween.get(this.subway,{loop:!0}).to({bottom:3},600).to({bottom:0},600).play(),egret.Tween.get(this.jt,{loop:!0}).to({left:6},1e3).to({left:0},600).to({left:6},1e3).play(),this.addEventListener(egret.Event.ADDED_TO_STAGE,function(){e.NotificationCenter.getInstance().postNotification("enterScene","主城")},this),this.initAutoMiningData()},n.prototype.touchHandle=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(n=-1,t){case this.dungeonButton:n=5;break;case this.pvpButton:n=4;break;case this.shopButton:n=7;break;case this.caveButton:n=6;break;case this.clothesButton:n=12;break;case this.pvpRankButton:n=65;break;case this.homeButton:n=69;break;case this.subwayButton:n=71;break;case this.mysteryShopButton:break;case this.miningButton:if(this._AutoMingSecond>0)return e.showTips(e.Lang.zidongwakuangzhong,!0),[2];n=666;break;case this.riftButton:n=40;break;case this.eggButton:n=70;break;case this.gymButton:n=72;break;case this.zhuaChongDaSaiButton:break;case this.zhanKuangZhanButton:0==SDK.$platformType&&(n=86);break;case this.superGashponButton:n=94}return-1==n?e.showTips(e.Lang.zanweikaifang,!0):e.navPanel(n),[2]})})},n.prototype.moveRightHandle=function(){this.cityScroller.viewport.scrollH=this._rightArrowMoveDis,this.rightArrow.visible=!1},n.prototype.UpdateScroller=function(e){if(gameConfig.curWidth()<e){var t=1200-gameConfig.curWidth();return this.cityScroller.viewport.scrollH=t,e-t}return this.cityScroller.viewport.scrollH=0,0},n.prototype.updateLock=function(){e.Data.TRankSignUp[6];this.pvpImage.filters=e.DataManager.playerModel.playerLevel<Number(e.Constants.pvpOpenLV)?[this._colorMatrix]:[],this.dungeonImage.filters=e.DataManager.playerModel.playerLevel<Number(e.Constants.spDungeonOpenLv)?[this._colorMatrix]:[],this.homeImage.filters=e.DataManager.playerModel.playerLevel<Number(e.Constants.FurnOpenLv)?[this._colorMatrix]:[],this.shopImage.filters=e.DataManager.playerModel.playerLevel<Number(e.Constants.shopOpenLv)?[this._colorMatrix]:[],this.caveImage.filters=e.DataManager.playerModel.playerLevel<Number(e.Constants.towerOpenLv)?[this._colorMatrix]:[],this.clothesImage.filters=e.DataManager.playerModel.playerLevel<Number(e.Constants.playerRoleOpenLv)?[this._colorMatrix]:[],this.mysteryShopImage.filters=e.DataManager.playerModel.playerLevel<Number(e.Constants.mysteryShopOpenLv)?[this._colorMatrix]:[],this.miningImage.filters=e.DataManager.playerModel.playerLevel<Number(e.Constants.MiningOpenLV)?[this._colorMatrix]:[],this.riftImage.filters=e.DataManager.playerModel.playerLevel<Number(e.Constants.FamLvLimit)?[this._colorMatrix]:[],this.eggImage.filters=e.DataManager.playerModel.currentMission<Number(e.Constants.eggOpenDgLv)?[this._colorMatrix]:[],this.subwayImage.filters=e.DataManager.playerModel.playerLevel<Number(e.Constants.battleSubawayOpenLv)?[this._colorMatrix]:[],this.zhuaChongDaSaiImage.filters=[this._colorMatrix]},n.prototype.openAnnouncement=function(){e.navPanel(47)},n.prototype.openSign=function(){e.navPanel(37)},n.prototype.updatePoint=function(){var t=e.getNowTime();this.subwayPoint.visible=!1,this.superGashponPoint.visible=!1,this.gymPoint.visible=!1;var n=e.Data.TGYM[1].LevelLimit;if(e.DataManager.playerModel.playerLevel>=n){var i=e.DataManager.playerModel.playerGymInfo,a=e.Data.TVip[e.DataManager.playerModel.playerVip].GYMResetCount-i.resetCount;a>0&&(this.gymPoint.visible=!0)}if(this.homePoint.visible=!1,e.DataManager.playerModel.playerLevel>=Number(e.Constants.FurnOpenLv)){this.homeInfo=e.DataManager.playerModel.homeInfo;var o=this._tansuoData.count-this.homeInfo.search;if(o>0)this.homePoint.visible=!0;else{for(var s=void 0,r=void 0,u=0;u<this.homeInfo.fgashapon.length;u++){var l=this.homeInfo.fgashapon[u];switch(l.id){case 1:s=l;break;case 11:r=l}}if(s.remainCount>0){var c=e.Data.TFGashapon[1],h=(t.getTime()-s.time.getTime())/1e3,p=c.freeInterval;h>p&&(this.homePoint.visible=!0)}if(!this.homePoint.visible&&e.DataManager.playerModel.playerLevel>=Number(e.Constants.ArtifactLookOpenLv)&&r.remainCount>0){var g=e.Data.TFGashapon[11],h=(t.getTime()-s.time.getTime())/1e3,p=g.freeInterval;h>p&&(this.homePoint.visible=!0)}}}if(this.pvpPoint.visible=!1,e.DataManager.playerModel.playerLevel>=Number(e.Constants.pvpOpenLV)){var d=e.DataManager.playerModel.pvpTianTiInfo,m=e.DataManager.playerModel.pveRankRewardList,f=-1;for(var u in e.Data.TPVPMissionReward)if(e.Data.TPVPMissionReward.hasOwnProperty(u)){f++;var _=e.Data.TPVPMissionReward[u];if(-1!=m.indexOf(f)||d.rank>Number(_.rank))continue;this.pvpPoint.visible=!0;break}}if(this.eggPoint.visible=!1,e.DataManager.playerModel.currentMission>=Number(e.Constants.eggOpenDgLv)){var y=e.DataManager.playerModel.extension.incubationgrids.length,v=e.Data.TPethatchGrid[y+1];if(v&&!v.buy&&(v.lv?this.eggPoint.visible=e.DataManager.playerModel.playerLevel>=v.lv:v.vip?this.eggPoint.visible=e.DataManager.playerModel.playerVip>=v.vip:this.eggPoint.visible=!0),!this.eggPoint.visible){for(var b=0,u=0;u<e.DataManager.playerModel.extension.incubationgrids.length;u++){var l=e.DataManager.playerModel.extension.incubationgrids[u];if(l.current){var p=60*e.Data.TElf[l.current.pet].hatch,h=.001*(t.getTime()-l.start.getTime());if(h>p){this.eggPoint.visible=!0;break}}else b++}!this.eggPoint.visible&&b>0&&e.DataManager.playerModel.extension.incubations.length>0&&(this.eggPoint.visible=!0),this.eggPoint.visible||5!=SDK.$platformType&&!e.isMobile||e.DataManager.playerModel.playerLevel>=e.Data.TPetBreeding[1].openLevel&&e.EggLayPanel.getInstance().checkPoint()&&(this.eggPoint.visible=!0)}}this._AutoMingSecond>0?(this.miningAutoLabel.visible=!0,this.miningAutoLabel.text=e.s2hms(this._AutoMingSecond),this._AutoMingSecond--):(this.miningAutoLabel.visible=!1,this._AutoMingCount&&(e.DataManager.playerModel.miningAutoResult(this._AutoMingCount),this._AutoMingCount=0))},n.prototype.updateSign=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=this.signButton,[4,e.DataManager.playerModel.getSign()];case 1:return t.point=0==n.sent().signed,[2]}})})},n.prototype.updateDungeon=function(){this.dungeonPoint.visible=e.checkDungeonCanChallenge()},n.prototype.firstShow=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:return[4,e.loadGroup("mainCity")];case 1:return i.sent(),this.motianlun?[3,3]:(this.motianlun=new e.SequenceImage,this._animList.push(this.motianlun),[4,this.motianlun.setData({delay:50,size:{row:1,col:4},resource:"anim/a3"})]);case 2:i.sent(),this.moTianLunGroup.addChild(this.motianlun.display),i.label=3;case 3:return this.kabi?[3,5]:(this.kabi=new e.SequenceImage,this._animList.push(this.kabi),[4,this.kabi.setData({delay:200,size:{row:1,col:4},resource:"anim/kabi"})]);case 4:i.sent(),this.kabiGroup.addChild(this.kabi.display),i.label=5;case 5:return this.penquan?[3,7]:(this.penquan=new e.SequenceImage,this._animList.push(this.penquan),[4,this.penquan.setData({delay:150,size:{row:1,col:4},resource:"anim/a2"})]);case 6:i.sent(),this.penquanGroup.addChild(this.penquan.display),i.label=7;case 7:return this.xiashuidao?[3,9]:(this.xiashuidao=new e.SequenceImage,this._animList.push(this.xiashuidao),[4,this.xiashuidao.setData({delay:100,size:{row:1,col:4},resource:"anim/a1"})]);case 8:i.sent(),this.xiashuidaoGroup.addChild(this.xiashuidao.display),i.label=9;case 9:return this.qizhi?[3,11]:(this.qizhi=new e.SequenceImage,this._animList.push(this.qizhi),[4,this.qizhi.setData({delay:100,size:{row:1,col:5},resource:"anim/qizhi"})]);case 10:i.sent(),this.qizhiGroup.addChild(this.qizhi.display),i.label=11;case 11:return this.fubiao?[3,13]:(this.fubiao=new e.SequenceImage,this._animList.push(this.fubiao),[4,this.fubiao.setData({delay:100,size:{row:1,col:8},resource:"anim/zhuchengshuifu"})]);case 12:i.sent(),this.fubiaoGroup.addChild(this.fubiao.display),i.label=13;case 13:return this.fubiao0?[3,15]:(this.fubiao0=new e.SequenceImage,this._animList.push(this.fubiao0),[4,this.fubiao0.setData({delay:100,size:{row:1,col:8},resource:"anim/zhuchengshuifu"})]);case 14:i.sent(),this.fubiaoGroup0.addChild(this.fubiao0.display),i.label=15;case 15:return this.fubiao1?[3,17]:(this.fubiao1=new e.SequenceImage,this._animList.push(this.fubiao1),[4,this.fubiao1.setData({delay:100,size:{row:1,col:8},resource:"anim/zhuchengshuifu"})]);case 16:i.sent(),this.fubiaoGroup1.addChild(this.fubiao1.display),i.label=17;case 17:return this.fubiao2?[3,19]:(this.fubiao2=new e.SequenceImage,this._animList.push(this.fubiao2),[4,this.fubiao2.setData({delay:100,size:{row:1,col:8},resource:"anim/zhuchengshuifu"})]);case 18:i.sent(),this.fubiaoGroup2.addChild(this.fubiao2.display),i.label=19;case 19:return this.fc?[3,21]:(this.fc=new e.SequenceImage,this._animList.push(this.fc),[4,this.fc.setData({delay:100,size:{row:1,col:3},resource:"anim/fc"})]);case 20:i.sent(),this.fcgroup.addChild(this.fc.display),i.label=21;case 21:return this.fc0?[3,23]:(this.fc0=new e.SequenceImage,this._animList.push(this.fc0),[4,this.fc0.setData({delay:100,size:{row:1,col:3},resource:"anim/fc"})]);case 22:i.sent(),this.fcgroup0.addChild(this.fc0.display),i.label=23;case 23:return this.fc1?[3,25]:(this.fc1=new e.SequenceImage,this._animList.push(this.fc1),[4,this.fc1.setData({delay:100,size:{row:1,col:3},resource:"anim/fc"})]);case 24:i.sent(),this.fcgroup1.addChild(this.fc1.display),i.label=25;case 25:return this.jjc?[3,27]:(this.jjc=new e.SequenceImage,this._animList.push(this.jjc),[4,this.jjc.setData({delay:150,size:{row:1,col:5},resource:"anim/jjc"})]);case 26:i.sent(),this.jjcgroup.addChild(this.jjc.display),this.jjcPlay(),i.label=27;case 27:return this.yancong?[3,29]:(this.yancong=new e.SequenceImage,this._animList.push(this.yancong),[4,this.yancong.setData({delay:100,size:{row:1,col:8},resource:"anim/yancong"})]);case 28:i.sent(),this.yancongGroup.addChild(this.yancong.display),i.label=29;case 29:return this.chushi?[3,31]:(this.chushi=new e.SequenceImage,[4,this.chushi.setData({delay:150,size:{row:4,col:4},resource:"anim/human/13"})]);case 30:i.sent(),this.chushi.updateTexture(1,1),this.chushi.setScale(.4),this.chushiGroup.addChild(this.chushi.display),i.label=31;case 31:return this.laoyeye?[3,34]:(this.laoyeye=new e.SequenceImage,[4,this.laoyeye.setData({delay:150,size:{row:4,col:4},resource:"anim/human/14"})]);case 32:return i.sent(),this.laoyeye.setScale(.4),this.niao=new e.SequenceImage,[4,this.niao.setData({delay:150,size:{col:4,row:4},resource:"anim/pokemon/1016"})];case 33:i.sent(),this.niao.setDisplayPosition(30,0),this.niao.setScale(.6),this.laoyeyeGroup.addChild(this.niao.display),this.laoyeyeGroup.addChild(this.laoyeye.display),this.runLaoyeye(),i.label=34;case 34:return this._championBone?[3,36]:(t=this,[4,e.getBone("shan")]);case 35:t._championBone=i.sent(),this.championBoneGroup.addChild(this._championBone),i.label=36;case 36:return this._dengta?[3,38]:(n=this,[4,e.getBone("dengta")]);
case 37:n._dengta=i.sent(),this.towerLightGroup.addChild(this._dengta),i.label=38;case 38:return[2]}})})},n.prototype.updateChampion=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.championGroup.visible=!1,[4,e.DataManager.playerModel.getRankList(2)];case 1:return t=n.sent(),t.first&&(this.championGroup.visible=!0,this.championLabel.text=t.first.playerInfo.name),[2]}})})},n.prototype.updateKabi=function(){var t=this;this.canToCave=!(0==e.DataManager.playerModel.battleProgress.towerLv),this.canToCave?this.kabiGroup.visible=this.kabiTipGroup.visible=!1:(this.kabiTipGroup.visible=!0,this._secondInterval=egret.setInterval(function(){t.canToCave&&egret.clearInterval(t._secondInterval);var e=Math.ceil(5*Math.random());t.kabiTipImg.source="langs/kabi"+e,t.kabiTipImg.visible=!0,egret.Tween.get(t.kabiTipImg).to({},4e3).call(function(){t.kabiTipImg.visible=!1})},this,1e4))},n.prototype.runLaoyeye=function(){var e=this;this.laoyeye.play(2),this.niao.play(2),this.niao.setDisplayPosition(30,0),this.laoyeyeGroup.x=410,this.laoyeyeGroup.y=874,egret.Tween.get(this.laoyeyeGroup).to({x:80},34e3).call(function(){e.laoyeye.play(1),e.niao.play(1),e.niao.setDisplayPosition(0,-30)}).to({y:972},29300).call(function(){e.laoyeye.stop(),e.laoyeye.updateTexture(3,1),e.niao.stop(),e.niao.updateTexture(3,1),e.niao.setDisplayPosition(-30,0)}).wait(3e4).call(function(){e.laoyeye.play(4),e.niao.play(4),e.niao.setDisplayPosition(0,30)}).to({y:874},29300).call(function(){e.laoyeye.play(3),e.niao.play(3),e.niao.setDisplayPosition(-30,0)}).to({x:410},34e3).call(function(){e.laoyeye.stop(),e.niao.stop(),e.laoyeye.updateTexture(4,1),e.niao.updateTexture(4,1),e.niao.setDisplayPosition(0,30)}).wait(3e4).call(function(){e.runLaoyeye()})},n.prototype.jjcPlay=function(){var e=this;egret.Tween.get(this.jjcgroup).call(function(){e.jjcgroup.visible=!0,e.jjc.play(1,0)}).wait(780).call(function(){e.jjcgroup.visible=!1,e.jjc.stop()}).wait(1e4*Math.ceil(3*Math.random())).call(function(){e.jjcgroup.visible=!0,e.jjcPlay()})},n.prototype.updateInterval=function(){this.updatePoint(),7200==this._second&&(this._second=0),0==this._second&&this.updateChampion(),this._second++,this.rightArrow.visible=this.cityScroller.viewport.scrollH<this._rightArrowMoveDis},n.prototype.initAutoMiningData=function(){var t=e.DataManager.playerModel.miningAutoData,n=t.count,i=t.startDate,a=e.Data.TVip[e.DataManager.playerModel.playerVip].autoMiningTime||0,o=n*a,s=(e.getNowTime().getTime()-i.getTime())/1e3;this._AutoMingSecond=o-s,this._AutoMingCount=n},n.prototype.onCreate=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){for(e=0;e<this._animList.length;e++)this._animList[e].play(1,0);return egret.Tween.resumeTweens(this.subway),egret.Tween.resumeTweens(this.jt),egret.Tween.resumeTweens(this.jjcgroup),egret.Tween.resumeTweens(this.laoyeyeGroup),this._championBone.play(null,0),this._dengta.play(null,0),this.initAutoMiningData(),this.updateKabi(),this.updateDungeon(),this.updateInterval(),this._interval=egret.setInterval(this.updateInterval,this,1e3),[2]})})},n.prototype.onRemove=function(){for(var e=0;e<this._animList.length;e++)this._animList[e].stop();egret.Tween.pauseTweens(this.subway),egret.Tween.pauseTweens(this.jt),egret.Tween.pauseTweens(this.jjcgroup),egret.Tween.pauseTweens(this.laoyeyeGroup),this._championBone.stop(),this._dengta.stop(),this._secondInterval&&(egret.clearInterval(this._secondInterval),this._secondInterval=null),this._interval&&(egret.clearInterval(this._interval),this._interval=null)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.SceneComponent);e.MainCity=t,__reflect(t.prototype,"game.MainCity")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.cityID=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"point",{set:function(e){this.pointImage.visible=e},enumerable:!0,configurable:!0}),t}(e.GameComponent);e.MapBuildIcon=t,__reflect(t.prototype,"game.MapBuildIcon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.prototype.InitData=function(e,n,i,a,o){return __awaiter(this,void 0,void 0,function(){var s;return __generator(this,function(r){switch(r.label){case 0:return[4,t.prototype.setData.call(this,{delay:250,size:{col:2,row:4},resource:"ui/scene/map/mapfly"})];case 1:return r.sent(),s=new eui.Image,s.source="ui/scene/map/flytips",this.displayGroup=new eui.Group,this.displayGroup.addChild(s),this.displayGroup.touchChildren=this.displayGroup.touchEnabled=!1,this.displayGroup.x=e,this.displayGroup.y=n,this.setDisplayPosition(0,0),s.x=25,s.y=-20,this.displayGroup.addChild(this.display),this.MoveToCity(i,a,o),[2]}})})},n.prototype.setPosition=function(e){this.position=e},n.prototype.MoveToCity=function(t,n,i){var a=this,o=i.x+i.width/2,s=i.y+i.height/2;this.direction=this.getMoveDirection(o,s),this.PlayAnim();var r=(e.Data.TTravelTime[i.cityID],1e3*t),u=(o-this.displayGroup.x)/n,l=(s-this.displayGroup.y)/n;this.displayGroup.x=this.displayGroup.x+(n-t)*u,this.displayGroup.y=this.displayGroup.y+(n-t)*l,egret.Tween.get(this.displayGroup).to({x:o,y:s},r).call(function(){e.NotificationCenter.getInstance().postNotification(e.MapSelectPanelNew.UPDATE_MAP),a.visible=!1})},n.prototype.getMoveDirection=function(e,t){var n,i=Math.abs(this.displayGroup.x-e),a=Math.abs(this.displayGroup.y-t);return n=i>a?this.displayGroup.x>=e?2:3:this.displayGroup.y>=t?4:1},n.prototype.PlayAnim=function(t){var n=this;void 0===t&&(t=-1);var i=e.defer();this.stop();var a=1,o=1;a=this.direction;var s=function(){n.updateTexture(a,o),n._timeout=setTimeout(function(){n._timeout=null,o++,o>n.sequenceImageData.size.col&&(o=1),s()},n.getDelay())};return s(),i.promise()},n}(e.VectorAnim);e.MapFlyPokemonAnim=t,__reflect(t.prototype,"game.MapFlyPokemonAnim")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._adjust=!0,e.skinName=MapPmCenterHouseSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var e=this;this._touchEvent=[{target:this.closeButton,callBackFunc:function(){e.backAnim.play(0),egret.setTimeout(function(){e._playerActor.play(1)},e,200)}},{target:this.enterButton,callBackFunc:this.showDetail}],this.addEventAndNotify(),this.enterAnim.addEventListener("complete",this.showDetail,this),this.backAnim.addEventListener("complete",this.closeHandle,this)},n.prototype.firstShow=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.acatorGroup.removeChildren(),this._playerActor=new e.SequenceImage,[4,this._playerActor.setData({delay:200,size:{row:4,col:4},resource:"anim/role/"+e.DataManager.playerModel.playerRole})];case 1:return n.sent(),this._playerActor.setDisplayPosition(55,130),this.acatorGroup.addChild(this._playerActor.display),this.qiaoyiGroup.removeChildren(),this._qiaoyiActor=new e.SequenceImage,[4,this._qiaoyiActor.setData({delay:200,size:{row:1,col:4},resource:"ui/scene/map/pmCenter3"})];case 2:return n.sent(),this._qiaoyiActor.setDisplayPosition(55,130),this.qiaoyiGroup.addChild(this._qiaoyiActor.display),t=this,[4,e.getBone("UI_jt01")];case 3:return t._UI_jt01Bone=n.sent(),this._UI_jt01Bone.rotation=90,this._UI_jt01Bone.x=45,this._UI_jt01Bone.y=30,this.closeButton.addChild(this._UI_jt01Bone),[2]}})})},n.prototype.showDetail=function(){e.MapPmCenterPanel.getInstance().show()},n.prototype.onShow=function(){this._UI_jt01Bone.play(null,0),this._playerActor.play(4),this._qiaoyiActor.play(1),this.enterAnim.play(0)},n.prototype.closeHandle=function(){this._playerActor.stop(),this._qiaoyiActor.stop(),this._UI_jt01Bone.stop(),e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.MapPmCenterHouse=t,__reflect(t.prototype,"game.MapPmCenterHouse")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.itemList=[],e.taskItemList=[],e.taskList=[],e.interval=null,e.taskUpdateTime=0,e.autoUpdateTask=!0,e.skinName=MapPmCenterPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(n){return this._adjust=!0,this.limitTimeReward.image="langs/Tx_dingshirw",this.catchTask.image="langs/Tx_buzhuorw",this._touchEvent=[{target:this.closeButton,callBackFunc:function(){e.removePopUp(t),t.taskList=null,t.interval&&(egret.clearInterval(t.interval),t.interval=null)}}],this.addEventAndNotify(),this.limitTimeReward.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchButton,this),this.catchTask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchButton,this),this.taskUpdateTime=Number(e.Constants.PmCenterTaskRefresh),this.interval=egret.setInterval(this.checkTaskUpdate,this,1e3),this.curButton=this.limitTimeReward,this.panelGroup.setChildIndex(this.limitTimeReward,this.curButton==this.limitTimeReward?-1:0),this.panelGroup.setChildIndex(this.catchTask,this.curButton==this.catchTask?-1:0),[2]})})},n.prototype.touchButton=function(e){this.curButton!=e.target&&(this.curButton=e.target,this.panelGroup.setChildIndex(this.limitTimeReward,this.curButton==this.limitTimeReward?-1:0),this.panelGroup.setChildIndex(this.catchTask,this.curButton==this.catchTask?-1:0),this.UpdateData())},n.prototype.UpdateData=function(){return __awaiter(this,void 0,void 0,function(){var t,i,a,o,s,r,u,u;return __generator(this,function(l){switch(l.label){case 0:return t=this.curButton==this.limitTimeReward,this.taskList&&0!=this.taskList.length?[3,2]:(i=this,[4,e.DataManager.playerModel.GetElfTask()]);case 1:i.taskList=l.sent(),l.label=2;case 2:if(a=t?e.DataManager.playerModel.PmCenterData:this.taskList){o=0,s=!1,this.itemGroup.removeChildren();for(r in a)t?(u=this.itemList[o],u||(u=new e.MapPmCenterRewardItem,this.itemList[o]=u),this.itemGroup.addChild(u),u.setData(a[r])&&(s=!0)):(u=this.taskItemList[o],u||(u=new e.MapPmCenterTaskItem(o),this.taskItemList[o]=u),this.itemGroup.addChild(u),u.setData(a[r])&&(s=!0)),o++;e.NotificationCenter.getInstance().postNotification(n.REDPOINT,s)}return[2]}})})},n.prototype.checkTaskUpdate=function(){var t=e.getNowTime().getHours();this.autoUpdateTask&&t==this.taskUpdateTime&&(this.autoUpdateTask=!1,this.taskList=null,this.UpdateData())},n.prototype.onShow=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.REDPOINT="MapPmCenterPanel_REDPOINT",n}(e.PanelComponent);e.MapPmCenterPanel=t,__reflect(t.prototype,"game.MapPmCenterPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=MapPmCenterRewardItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.image="ui/scene/activity/Tx_lingqu",this.confirmButton.bg="ui/scene/activity/btn_12",this.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.confirmHandle,this),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target&&e.target.showDetail&&e.target.showDetail()},this),this.addEventAndNotify()},n.prototype.setData=function(t){this._data=t,this.atRewardGroup.visible=0==t.type,this.cdRewardGroup.visible=1==t.type;var n=!1;this._tdata=e.Data.PokemonCenter[t.id],this.rewardGroup.removeChildren();for(var i=e.splitStringToNumberArray(this._tdata.reward),a=0;a<i.length;a++){var o=i[a];if(e.Data.TElf[o[0]]){var s=new e.PokemonIcon;s.pokemon=o[0],this.rewardGroup.addChild(s)}else{var s=new e.ItemIcon;s.item={type:o[0],count:o[1]},this.rewardGroup.addChild(s)}}switch(0==t.type?(this.timeLabel.text=this._tdata.condition.replace(";","-"),this.rewardGroup.scaleX=.6,this.rewardGroup.scaleY=.6):1==t.type&&(this.rewardGroup.scaleX=.6,this.rewardGroup.scaleY=.6,this.tipsLabel.text=String(this._tdata.time),this.countLabel.text=e.formatString("{0}/{1}",t.progress,this._tdata.limit),this.stopUpdateTime(),t.progress<t.limit?this.startUpdateTime():this.cdtimeLabel.text="00:00:00"),t.progress){case-4:this.confirmButton.image="ui/scene/activity/Tx_weidacheng",this.confirmButton.lock=!0,this.confirmButton.enabled=!1,this.point.visible=!1;break;case 0:case-3:this.confirmButton.image="ui/scene/activity/Tx_lingqu",this.confirmButton.lock=!0,this.confirmButton.enabled=!1,this.point.visible=!1;break;case-2:this.confirmButton.image="ui/scene/activity/Tx_yilingqu",this.confirmButton.lock=!0,this.confirmButton.enabled=!1,this.point.visible=!1;break;case-1:default:this.confirmButton.image="ui/scene/activity/Tx_lingqu",this.confirmButton.lock=!1,this.confirmButton.enabled=!0,this.point.visible=!0,n=!0}return n},n.prototype.startUpdateTime=function(){var e=this,t=function(){e.updateTime()};this._interval=egret.setInterval(function(){t()},this,1e3),t()},n.prototype.stopUpdateTime=function(){egret.clearInterval(this._interval)},n.prototype.updateTime=function(){var t=e.getNowTime().getTime(),n=(t-this._data.restoreTime.getTime())/1e3,i=60*this._tdata.time;n>i?this._data.progress<this._data.limit?(this._data.progress++,this._data.restoreTime.setTime(this._data.restoreTime.getTime()+60*this._tdata.time*1e3),this.setData(this._data)):(this.cdtimeLabel.text="00:00:00",this.stopUpdateTime()):this.cdtimeLabel.text=e.s2hms(i-n)},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.GetElfCenterRewardAsync(this._data.id)];case 1:return t.sent(),[2]}})})},n}(e.GameComponent);e.MapPmCenterRewardItem=t,__reflect(t.prototype,"game.MapPmCenterRewardItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(e){var n=t.call(this)||this;return n.limitTime=0,n.pmIdList=[],n.taskNeed=[],n.totalNeed=0,n.selectPmDic={},n.skinName=MapPmCenterTaskItemSkin,n.init(e),n}return __extends(n,t),n.prototype.init=function(t){this.selectNotify="select_"+t,this.goButton.image="langs/Tx_quxuanze",this.goButton.bg="ui/common/button/blue",this.setOnlyShow(!0),this._touchEvent=[{target:this.confirmButton,callBackFunc:this.commitHandle},{target:this.goButton,callBackFunc:this.selectHandle},{target:this.rewardItem,callBackFunc:this.showDetail},{target:this.pokemon1,callBackFunc:this.showDetail},{target:this.pokemon2,callBackFunc:this.showDetail},{target:this.pokemon3,callBackFunc:this.showDetail}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.limitLabelUpdate,this.selectNotify),this.pmCount1.name="pmCount1",this.pmCount2.name="pmCount2",this.pmCount3.name="pmCount3"},n.prototype.setData=function(t){var n=e.Data.TPmCenterTask[t.taskId],i=e.splitStringToNumberArray(n.reward,";"),a=e.splitStringToNumberArray(n.taskDemand);this.taskNeed=[],this.totalNeed=0;for(var o in a)this.taskNeed.push(a[o][1]),this.totalNeed+=a[o][1];this.limitTime=e.DataManager.playerModel.extension.ElfTaskState[t.taskId-1],this.elfTaskRet=t,this.limitTime<=0&&(this.limitTime=0,this.confirmButton.lock=!0),this.limitLabelUpdate(this.limitTime),this.rewardItem.item={type:i[0],count:i[1]},this.pokemon1.pokemon=t.pmids[0],this.pokemon2.pokemon=t.pmids[1],this.pokemon3.pokemon=t.pmids[2],this.pmCount1.text="0/"+this.taskNeed[0],this.pmCount2.text="0/"+this.taskNeed[1],this.pmCount3.text="0/"+this.taskNeed[2]},n.prototype.commitHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.limitTime<=0?(e.showTips(e.Lang.shengyucishuyiyonwan),[2]):this.pmIdList.length<this.totalNeed?(e.showTips(e.Lang.weimanzuyaoqiu),[2]):[4,e.DataManager.playerModel.GetElfTaskReward(this.elfTaskRet.taskId,this.pmIdList)];case 1:return t=n.sent(),t&&(this.pmCount1.text="0/"+this.taskNeed[0],this.pmCount2.text="0/"+this.taskNeed[1],this.pmCount3.text="0/"+this.taskNeed[2],this.limitTime--,this.pmIdList=[],e.DataManager.playerModel.extension.ElfTaskState[this.elfTaskRet.taskId-1]--,this.limitTime<=0&&(this.limitTime=0,this.confirmButton.lock=!0),this.limitLabelUpdate(this.limitTime),e.MapPmCenterTaskSelect.getInstance().clearSelectPm()),[2]}})})},n.prototype.selectHandle=function(){if(this.limitTime<=0)return void e.showTips(e.Lang.shengyucishuyiyonwan);var t=e.MapPmCenterTaskSelect.getInstance();t.setPokemonList(this.elfTaskRet.pmids,[],this.taskNeed,this.selectNotify),t.setItemData(this.elfTaskRet),t.show()},n.prototype.selectUpdate=function(e){if(e){this.selectPmDic={},this.pmIdList=[];for(var t in e)this.selectPmDic[e[t].type]||(this.selectPmDic[e[t].type]=new Array),this.selectPmDic[e[t].type].push(e[t].id);for(var t=0;t<this.elfTaskRet.pmids.length;++t){var n=this.selectPmDic[this.elfTaskRet.pmids[t]],i=this.getCountLabel(t);i&&(i.text=(n?n.length:0)+"/"+this.taskNeed[t]);for(var a in n)this.pmIdList.push(n[a])}}},n.prototype.getCountLabel=function(e){var t=null;switch(e+1){case 1:t=this.pmCount1;break;case 2:t=this.pmCount2;break;case 3:t=this.pmCount3}return t},n.prototype.limitLabelUpdate=function(t){this.limitCount.text=e.Lang.shengyucishu+":"+String(t),this.limitTime=t},n.prototype.setOnlyShow=function(e){this.goButton.visible=e,this.confirmButton.visible=!e,this.goButton.touchEnabled=e,this.confirmButton.touchEnabled=!e},n.prototype.showDetail=function(e){e&&e.showDetail&&e.showDetail()},n}(e.GameComponent);e.MapPmCenterTaskItem=t,__reflect(t.prototype,"game.MapPmCenterTaskItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._pokemonList=[],e._selectPokemonList=[],e._needCount=0,e._typeList=[],e._needCountList=[],e._selectCountList=[],e._isList=!1,e.skinName=MapPmCenterTaskSelectSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.noneLabel.text=e.Lang.meiyougaizhongleidebaokemeng,this.kexuan.text=e.Lang.kexuanbaokemeng,this.yixuan.text=e.Lang.yixuanbaokemeng,this._taskItem=new e.MapPmCenterTaskItem(-1),this.taskItemG.addChild(this._taskItem),this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.touchPokemon,e.StarSelectPokemon.TOUCH_POKEMON)},n.prototype.touchPokemon=function(t){var n=this._selectPokemonList.indexOf(t.pokemonInfo),i=this._typeList.indexOf(t.pokemonInfo.type);if(n>-1)this._selectCountList[i]++;else{if(0==this._selectCountList[i])return;this._selectCountList[i]--}if(n>-1)this._selectPokemonList.splice(n,1);else{if(this._selectPokemonList.length>=this._needCount)return void e.showTips(e.Lang.ninbuyaozaitianjiabaokemengleo,!0);this._selectPokemonList.push(t.pokemonInfo)}this._taskItem.selectUpdate(this._selectPokemonList),this.updatePokemonList()},n.prototype.setItemData=function(e){this._taskItem.setData(e),this._taskItem.setOnlyShow(!1)},n.prototype.setPokemonList=function(t,n,i,a){this._notifyStr=a,this._typeList=t,this._needCountList=[],this._selectCountList=[],this._needCount=0;for(var o in i)this._needCountList.push(i[o]),this._selectCountList.push(i[o]),this._needCount+=i[o];this.allScroller.viewport.scrollV=this.selectScroller.viewport.scrollV=0,this._allPokemon=e.DataManager.playerModel.getPokemonListByTypeList(t),this._allPokemon=this._allPokemon.sort(function(e,t){return e.lv-t.lv}),this._selectPokemonList=n,this.updatePokemonList()},n.prototype.updatePokemonList=function(){this.allGroup.removeChildren(),this.selectGroup.removeChildren();for(var t=0;t<this._allPokemon.length;t++){var n=this._allPokemon[t];if(e.checkPokemonCanUse(n)&&n.id!=this._currentPokemonId){var i=this._pokemonList[t];i||(i=new e.StarPokemonIcon,this._pokemonList[t]=i),i.setPokemonInfo(n),this._selectPokemonList.indexOf(n)>-1?this.selectGroup.addChild(i):this.allGroup.addChild(i)}}this.noneLabel.visible=0==this.allGroup.numChildren},n.prototype.clearSelectPm=function(){this.selectGroup.removeChildren(),this._selectPokemonList=[],this._selectCountList=[],this._allPokemon=e.DataManager.playerModel.getPokemonListByTypeList(this._typeList),this._allPokemon=this._allPokemon.sort(function(e,t){return e.lv-t.lv});for(var t in this._needCountList)this._selectCountList.push(this._needCountList[t])},n.prototype.closeHandle=function(){e.NotificationCenter.getInstance().postNotification(this._notifyStr,this._taskItem.limitTime),e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.MapPmCenterTaskSelect=t,__reflect(t.prototype,"game.MapPmCenterTaskSelect")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._page=1,e._showIDs={},e._animList=[],e._animRun=!1,e._titles=["","langs/chujishouliequ","langs/zhongjishouliequ","langs/gaojishouliequ"],e.itemList=[],e._pokemonIconList=[],e._itemIconList=[],e.skinName=MapRewardSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var t,t,n;return __generator(this,function(i){switch(i.label){case 0:this._adjust=!0,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.enterButton,callBackFunc:this.enterHandle},{target:this.leftArrowButton,callBackFunc:this.arrowHandle},{target:this.rightArrowButton,callBackFunc:this.arrowHandle}],this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target&&e.target.showDetail&&e.target.showDetail()},this),this.rewardPokemonGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){var n=t.$target,i=e.PokemonDetail.getInstance();i.setCurrentPokemon(n.pokemonData.id),i.show()},this),this.rewardItemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){var n=t.$target,i=e.ItemInfoPanel.getInstance();i.setData(n.itemData),i.show()},this),this.addEventAndNotify(),this._huntDataList=[];for(t in e.Data.THunt)e.Data.THunt.hasOwnProperty(t)&&this._huntDataList.push(e.Data.THunt[t]);for(this.lockLabel.visible=!1,this.leftArrowButton.iconDisplay.skewY=180,this.rightArrowButton.icon="ui/common/util/blueArrow",this.leftArrowButton.icon="ui/common/util/blueArrow",t=0;5>t;t++)n=new e.SequenceImage,n.setScale(.6),this._animList.push(n),this.animGroup.addChild(n.display);return this._human=new e.SequenceImage,this._human.setScale(.5),[4,this._human.setData({delay:200,size:{row:4,col:4},resource:"anim/role/5009"})];case 1:return i.sent(),this.avatarGroup.addChild(this._human.display),[2]}})})},Object.defineProperty(n.prototype,"page",{get:function(){return this._page},set:function(e){this._page=Math.max(1,Math.min(this._huntDataList.length,e))},enumerable:!0,configurable:!0}),n.prototype.arrowHandle=function(e){this.page=e==this.rightArrowButton?this.page+1:this.page-1,this.updateHuntInfo()},n.prototype.enterHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){return t=e.MapSelectPanelNew.getInstance(),n=t.getCurrentStatus(),e.DataManager.playerModel.currentMission<this._mapData.DungeonId?(e.showTips(e.formatString(e.Lang.bunengjinruguanqia,this._mapData.DungeonId)),[2]):4==n?(e.showTips(e.Lang.feixingzhong,!0),[2]):5==n?(e.showTips(e.Lang.dangqianweizhiweijiesuo,!0),[2]):(e.MapSelectPanelNew.getInstance().ChangeMap(n),e.removePopUp(this),[2])})})},n.prototype.closeHandle=function(){this.rewardPokemonGroup.removeChildren(),this.rewardItemGroup.removeChildren(),this._human.stop();for(var t=0;t<this._animList.length;t++)this._animList[t].stop();e.removePopUp(this)},n.prototype.InitHuntPanel=function(){this.NormalGroup.visible=!1,this.HuntGroup.visible=!0,this.PmCenterGroup.visible=!1,this._human.play(1),this.updateHuntInfo()},n.prototype.updateHuntInfo=function(){var t=this;if(null!=this._mapData&&25==this._mapData.ID){this._currentHuntData=this._huntDataList[this.page-1],this.timeLabel.text=e.Lang.xianzhishijian+": "+e.s2hms(this._currentHuntData.time),this.titleImage.source=this._titles[this._currentHuntData.id],this.rightArrowButton.visible=this.page<this._huntDataList.length,this.leftArrowButton.visible=this.page>1;var n=e.DataManager.playerModel.huntLootData.filter(function(e){return e.id==t._currentHuntData.id})[0];if(n){for(var i=[],a=[],o=[],s=[],r=0;r<n.hunts.length;r++){var u=n.hunts[r];u&&(2==u.getDifficulty?o.push(u):1==u.getDifficulty?a.push(u):i.push(u),s.push({id:r,weight:u.weight,data:u.pokemonId}))}if(!this._showIDs[this._currentHuntData.id]){for(var l=[],r=0;5>r;r++){var c=e.loot(s);s.splice(s.indexOf(c),1),l.push(c)}this._showIDs[this._currentHuntData.id]=l}this.updateHuntAnim()}}},n.prototype.updateHuntAnim=function(){return __awaiter(this,void 0,void 0,function(){var e,t,n,i,t,a=this;return __generator(this,function(o){switch(o.label){case 0:e=this._showIDs[this._currentHuntData.id],t=0,o.label=1;case 1:return t<this._animList.length?(n=this._animList[t],[4,n.setData({delay:200,size:{row:4,col:4},resource:"anim/pokemon/"+e[t].data})]):[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:if(this._animRun)return[2];for(i=function(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),a._animRun){var o=10;null==t&&(t=250*Math.random()),null==n&&(n=100*Math.random());var s,r,u,l;Math.random()>.5?(s=250*Math.random(),r=n,l=s>t?3:2,u=Math.abs(s-t)/o*1e3):(r=100*Math.random(),s=t,l=r>n?1:4,u=Math.abs(r-n)/o*1e3),e.setDisplayPosition(t,n),e.play(l),egret.Tween.get(e.display).to({x:s,y:r},u).call(function(){i(e,s,r)})}},this._animRun=!0,t=0;t<this._animList.length;t++)i(this._animList[t]);return[2]}})})},n.prototype.InitNormalPanel=function(t){this.NormalGroup.visible=!0,this.HuntGroup.visible=!1,this.PmCenterGroup.visible=!1;var n=e.getNowTime(),i=n.getHours(),a=!1;i>=6&&18>i&&(a=!0),this.rewardPokemonGroup.removeChildren();for(var o=e.splitStringToNumberArray(a?t.DayElfShow:t.NightElfShow),s=0;s<o.length;s++)this._pokemonIconList[s]||(this._pokemonIconList[s]=new e.HuntPokemonItem),this._pokemonIconList[s].setPokemon(o[s],!1),this.rewardPokemonGroup.addChild(this._pokemonIconList[s]);for(var r=e.splitStringToNumberArray(a?t.DayItemsShow:t.NightItemsShow),s=0;s<r.length;s++)this._itemIconList[s]||(this._itemIconList[s]=new e.ItemIcon),this._itemIconList[s].item={type:r[s],count:0},this._itemIconList[s].$setScaleX(.85),this._itemIconList[s].$setScaleY(.85),this.rewardItemGroup.addChild(this._itemIconList[s])},n.prototype.InitPmCenterPanel=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,s,u,l,i,r,i;return __generator(this,function(c){switch(c.label){case 0:return this.NormalGroup.visible=!1,this.HuntGroup.visible=!1,this.PmCenterGroup.visible=!0,t=0,this.rewardGroup.removeChildren(),[4,e.DataManager.playerModel.GetElfCenterInfoAsync()];case 1:n=c.sent();for(i in n)if(-1==n[i].progress||n[i].progress>0)if(a=e.Data.PokemonCenter[n[i].id],o=e.splitStringToNumberArray(a.reward),1==n[i].type)o[0][1]=n[i].progress,s=this.itemList[t],s||(s=new e.ItemIconWithCount,this.itemList[t]=s),s.setInfo(o[0],null),this.rewardGroup.addChild(s),t++;else for(r in o)s=this.itemList[t],s||(s=new e.ItemIconWithCount,this.itemList[t]=s),this.rewardGroup.addChild(s),s.setInfo(o[r],n[i].endTime),t++;return[4,e.DataManager.playerModel.GetElfTask()];case 2:u=c.sent(),l=[];for(i in u)for(r in u[i].pmids)-1==l.indexOf(u[i].pmids[r])&&l.push(u[i].pmids[r]);for(this.rewardPokemonGroup0.removeChildren(),i=0;i<l.length;i++)this._pokemonIconList[i]||(this._pokemonIconList[i]=new e.HuntPokemonItem),this._pokemonIconList[i].setPokemon(l[i],!1),this.rewardPokemonGroup0.addChild(this._pokemonIconList[i]);return[2]}})})},n.prototype.SetData=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){return this._mapData=t,this.cityIcon.buildImage.source="ui/scene/map/city"+t.ID,n=e.MapSelectPanelNew.getInstance(),i=n.getCurrentStatus(),this.enterButton.visible=3!=i,1==i?this.enterButton.imageDisplay.source="langs/jinru":2==i&&(this.enterButton.imageDisplay.source="langs/qianwang"),this.titleLabel.textFlow=e.parseColorText("[#ffffff]"+e.Data.TDungeonMaps[t.ID].Descripition),e.DataManager.playerModel.currentMission<t.DungeonId?(this.lockLabel.visible=!0,this.lockLabel.text=e.formatString(e.Lang.bunengjinruguanqia,t.DungeonId)):this.lockLabel.visible=!1,25==t.ID?this.InitHuntPanel():19==t.ID?this.InitPmCenterPanel():this.InitNormalPanel(t),[2]})})},n.prototype.onHeightChange=function(){t.prototype.onHeightChange.call(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.MapReward=t,__reflect(t.prototype,"game.MapReward")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._cityIconList=[],e._legendaryIconList=[],e._effectMap={},e.isFirstInit=!0,e._currentLevel=0,e.skinName=MapSelectPanelNewSkin,e.isFirstInit=!0,e}return __extends(n,t),n.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var t,i,a,o=this;return __generator(this,function(s){for(this._adjust=!0,this.mapinfoButton.icon="ui/scene/map/iconmapinfo",this._avatar=new e.BattleAvatar,this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateLegendary,notifyName:e.PlayerModel.IDLE_LEGENDARY_UPDATE,execute:!0}],this._touchEvent=[{target:this.mapinfoButton,callBackFunc:this.mapinfoHandle},{target:this.backButton,callBackFunc:this.backHandle},{target:this.addspeedButton,callBackFunc:function(){var t=e.CheckPanel.getInstance(),n=Math.ceil(o._endTime/30)*Number(e.Constants.MapSpeedCost);t.setData(e.formatString(e.Lang.zuanshijiasu,n),function(t){return __awaiter(o,void 0,void 0,function(){var i,a;return __generator(this,function(o){switch(o.label){case 0:return t?(i={type:2,count:n},e.checkCanBuy(i)?[4,e.DataManager.playerModel.RequstMapSpeedUp(n)]:(e.showTips(e.Lang.nindezuanshibuzu,!0),[2])):[3,2];case 1:a=o.sent(),this.updateMapStatus(a),o.label=2;case 2:return[2]}})})}),t.show()}}],e.NotificationCenter.getInstance().addObserver(this,function(e){var t=o.cityGroup.getChildAt(18);t.point=e},e.MapPmCenterPanel.REDPOINT),this.addEventAndNotify(),t=1;t<=this.cityGroup.numChildren;t++)i=this.cityGroup.getChildAt(t-1),i.point=!1,i.buildImage.source="ui/scene/map/city"+t,i.cityID=t,i.touchEnabled=!0;return this.cityGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){var n=t.target.parent;if(n){if(20==n.cityID)return void e.showTips(e.Lang.zanweikaifang);o._cityID=n.cityID,o.ShowMapInfo(n.cityID)}},this),e.NotificationCenter.getInstance().addObserver(this,function(e){o.RequestMapInfo()},n.UPDATE_MAP),this.maxMissionPlayerGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){var t=e.MaxChallengePanel.getInstance();t.setData(o._maxData),t.show()},this),this._maxData=e.Data.TCustomsClearance[1],this._maxAvatar=new e.BattleAvatar,this._maxAvatar.displayGroup.touchEnabled=!0,this._maxAvatar.displayGroup.scaleX=this._maxAvatar.displayGroup.scaleY=.7,a=new eui.Image,a.source="ui/scene/strengthTip/tanhao_thwj",a.top=-200,a.left=-95,this._maxAvatar.displayGroup.addChild(a),this.maxMissionPlayerGroup.addChild(this._maxAvatar.displayGroup),[2]})})},n.prototype.backHandle=function(){this._UI_jt01Bone&&this._UI_jt01Bone.stop(),e.navPanel(1)},n.prototype.RequestMapInfo=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,e.DataManager.playerModel.GetMapInfo()];case 1:return t=n.sent(),this.updateMapStatus(t),[2]}})})},n.prototype.onCreate=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,u,n,l;return __generator(this,function(c){switch(c.label){case 0:if(this.mapScroller.viewport.scrollH=0,this.isFirstInit){for(this.init(),t={effect_cjfd:6,effect_cjbx:5,effect_cjc:7,effect_cjry:7,effect_cjsb:5,effect_cjxk:7,effect_ship:4,effect_pm1051:8},n=1;n<=this.effectGroup.numChildren;n++)i=this.effectGroup.getChildAt(n-1),a=new e.SequenceImage,o=void 0,o="effect_pm1051"==i.name?"anim/battlePokemon/1051":"ui/scene/map/"+i.name,a.setData({delay:150,size:{row:1,col:t[i.name]},resource:o}),a.updateTexture(1,1),i.addChild(a.display),a.play(1),this._effectMap[i.name]=a;
this.RequestMapInfo(),this.isFirstInit=!1}return this._avatar.setAvatar(e.DataManager.playerModel.playerRole,!0),this._avatar.setWing(e.DataManager.playerModel.playerWing,1),this._avatar.setDecoration(e.DataManager.playerModel.playerDecoration,1),this._currentMapData=e.Data.TDungeonMaps[e.DataManager.playerModel.map],this._avatar.displayGroup.$setScaleX(.56),this._avatar.displayGroup.$setScaleY(.56),this._avatar.displayGroup.addChild(this.arrowImage),this.arrowImage.visible=!0,this.arrowImage.x=-30,this.arrowImage.y=-150,egret.Tween.removeTweens(this.arrowImage),effectUtils.flyObj(this.arrowImage,300,10),[4,e.DataManager.playerModel.openHunt()];case 1:return c.sent(),this.RequestMapInfo(),[4,e.DataManager.playerModel.GetElfCenterInfoAsync()];case 2:return c.sent(),[4,e.DataManager.playerModel.GetLevelInfo()];case 3:s=c.sent(),r=0,s.player&&(r=s.level),this._maxData=null;for(n in e.Data.TCustomsClearance)if(e.Data.TCustomsClearance.hasOwnProperty(n)&&(u=n,r<=e.Data.TCustomsClearance[n].Gatelevel)){this._maxData=e.Data.TCustomsClearance[n];break}return this._maxData||(this._maxData=e.Data.TCustomsClearance[u]),this._maxData.Player?(this._maxAvatar.setAvatar(s.player.playerInfo.gender,!0),this._maxAvatar.setDecoration(s.player.playerInfo.orna,1),this._maxAvatar.setWing(s.player.playerInfo.wing,1)):(this._maxAvatar.setAvatar(this._maxData.HeroID,!0),this._maxAvatar.setDecoration(null,1)),l=e.splitStringToNumberArray(this._maxData.XY,";"),this._maxAvatar.displayGroup.x=l[0],this._maxAvatar.displayGroup.y=l[1],[2]}})})},n.prototype.ChangeMap=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return 1!=t?[3,2]:e.DataManager.playerModel.currentMission<e.Data.TDungeonMaps[this._currentID].DungeonId?(e.showTips(e.formatString(e.Lang.bunengjinruguanqia,e.Data.TDungeonMaps[this._currentID].DungeonId)),[2]):20==this._currentID?(e.showTips(e.Lang.zanweikaifang),[2]):25==this._currentID?[2]:(19==this._currentID&&e.MapPmCenterHouse.getInstance().show(),this._currentID==e.DataManager.playerModel.map?[2]:[4,e.DataManager.playerModel.changeMap(this._currentID)]);case 1:return n.sent(),this.showJinRuImage(),[3,3];case 2:this.RecordMap(this._currentID,this._cityID),n.label=3;case 3:return[2]}})})},n.prototype.RecordMap=function(t,n){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return t==n?[2]:[4,e.DataManager.playerModel.RecordMapDataAsync(t,n)];case 1:return i=a.sent(),i&&this.updateMapStatus(i),[2]}})})},n.prototype.destroy=function(){this.removeFromParent(),this._avatar.stop()},n.prototype.mapinfoHandle=function(){this.ShowMapInfo(this._currentID)},n.prototype.ShowMapInfo=function(t){if(25==t&&1==n.getInstance().getCurrentStatus())return void e.navPanel(8);var i=e.MapReward.getInstance(),a=e.Data.TDungeonMaps[t];a&&(i.SetData(a),i.show())},n.prototype.UpdateCityLevel=function(){var t=this,n=function(){for(var n=1;n<=t.cityGroup.numChildren;n++){var i=t.cityGroup.getChildAt(n-1);if(20==i.cityID)i.buildImage.filters=[gameConfig.ColorMatrix.gray2];else{var a=e.Data.TDungeonMaps[i.cityID].EffectName;e.DataManager.playerModel.currentMission<e.Data.TDungeonMaps[i.cityID].DungeonId?(i.buildImage.filters=[gameConfig.ColorMatrix.gray2],"0"!=a&&""!=a&&(t._effectMap[a].stop(),t._effectMap[a].updateTexture(1,1),t._effectMap[a].display.filters=[gameConfig.ColorMatrix.gray2])):(i.buildImage.filters=[],"0"!=e.Data.TDungeonMaps[i.cityID].EffectName&&""!=e.Data.TDungeonMaps[i.cityID].EffectName&&(t._effectMap[a].updateTexture(1,1),t._effectMap[a].display.filters=[],t._effectMap[a].play(1)))}}};0==this._currentLevel&&(this._currentLevel=e.DataManager.playerModel.currentMission,n()),e.DataManager.playerModel.currentMission>this._currentLevel&&n()},n.prototype.updateMapStatus=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:return null==t?[2]:(this.UpdateCityLevel(),n=e.getNowTime(),i=n.getHours(),a=!1,i>=6&&18>i&&(a=!0),o=this.cityGroup.getChildAt(t.location-1),0==t.location&&(t.location=1),this._currentID=t.location,this._endID=t.devious,this._currentMapData=e.Data.TDungeonMaps[t.location],this.cityLabel.textFlow=[{text:e.Data.TDungeonMaps[t.location].Name,style:{textColor:0}},{text:a?" (白天)  6:00~18:00":" (夜晚)  18:00~次日6:00",style:{textColor:16716947}}],this._flyAnim&&(this.mapGroup.contains(this._flyAnim.displayGroup)&&this.mapGroup.removeChild(this._flyAnim.displayGroup),this._flyAnim.removeTween()),-1!=t.remainTime&&-1!=t.devious?[3,1]:(this._avatar.displayGroup.visible=!0,o.addChild(this._avatar.displayGroup),this._avatar.displayGroup.x=o.width/2,this._avatar.displayGroup.y=o.height/2+10,this._cityID=o.cityID,this.showJinRuImage(),this.timeLabel.visible=!1,this.lblbackground0.visible=!1,this.addspeedButton.visible=!1,this._UI_jt01Bone&&this._UI_jt01Bone.stop(),this.DoubleArrowGroup.visible=!1,[3,3]));case 1:return this._avatar.displayGroup.visible=!1,this.jinruImage.visible=!1,s=this.cityGroup.getChildAt(t.devious-1),this._flyAnim=new e.MapFlyPokemonAnim,this._flyAnim.setScale(2),[4,this._flyAnim.InitData(o.x+o.width/2,o.y+o.height/2,t.remainTime,t.totalTime,s)];case 2:r.sent(),this.mapGroup.addChild(this._flyAnim.displayGroup),this.timeLabel.visible=!0,this.showUI_jt(),this.lblbackground0.visible=!0,this.addspeedButton.visible=!0,this.timer&&this.timer.stop(),this.timer=new egret.Timer(1e3,0),this._endTime=t.remainTime,this.timer.addEventListener(egret.TimerEvent.TIMER,this.timeFunc,this),this.timer.start(),r.label=3;case 3:return[2]}})})},n.prototype.showUI_jt=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._UI_jt01Bone?[3,2]:(t=this,[4,e.getBone("UI_jt01")]);case 1:t._UI_jt01Bone=n.sent(),this.DoubleArrowGroup.addChildAt(this._UI_jt01Bone,0),n.label=2;case 2:return this.DoubleArrowGroup.visible=!0,this._UI_jt01Bone.play(null,0),this._UI_jt01Bone.setTimeScale(.8),[2]}})})},n.prototype.showJinRuImage=function(){3==this.getCurrentStatus()?(this._avatar.displayGroup.parent.addChild(this.jinruImage),this.jinruImage.visible=!0,this.jinruImage.x=96,this.jinruImage.y=43,egret.Tween.removeTweens(this.jinruImage),effectUtils.flyObj(this.jinruImage,300,10),this.arrowImage.visible=!1,this._avatar.displayGroup.visible=!1):(this.jinruImage.visible=!1,this.arrowImage.visible=!0,this._avatar.displayGroup.visible=!0)},n.prototype.timeFunc=function(t){-1!=this._endID&&(this._endTime--,this.timeLabel.textFlow=[{text:"前往",style:{textColor:0}},{text:e.Data.TDungeonMaps[this._endID].Name,style:{textColor:205}},{text:"  "+e.s2ms(this._endTime),style:{textColor:0}}])},n.prototype.onHeightChange=function(){t.prototype.onHeightChange.call(this)},n.prototype.getCurrentStatus=function(){return-1!=this._endID?4:this._currentID==this._cityID?19!=e.DataManager.playerModel.map&&e.DataManager.playerModel.map==this._currentID?3:1:2},n.prototype.updateLegendary=function(){var t=e.DataManager.playerModel.legendaryInfo,n=0;for(var i in t){var a=t[i].info,o=t[i].data;if(a&&a.isChallenge){var s=this.cityGroup.getChildAt(Number(o.Area)-1);s&&(this._legendaryIconList[n]||(this._legendaryIconList[n]=new e.LegendaryIcon),this._legendaryIconList[n].legendary=o.ElfID,this._legendaryIconList[n].play(),this._legendaryIconList[n].right=0,s.addChild(this._legendaryIconList[n]),n++)}}for(var i=n;i<this._legendaryIconList.length;i++)this._legendaryIconList[i].removeFromParent(),this._legendaryIconList[i].stop()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.UPDATE_MAP="MapSelectPanelNew_UPDATE_MAP",n}(e.SceneComponent);e.MapSelectPanelNew=t,__reflect(t.prototype,"game.MapSelectPanelNew")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._pokemonList=[],e.skinName=MaxChallengePanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.itemGroup.touchChildren=this.itemGroup.touchEnabled=!1,this.challengeButton.image="langs/Tx_tiaozhan",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.challengeButton,callBackFunc:this.challengeHandle}],this.addEventAndNotify()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.challengeHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,u,l,c,h,p,g;return __generator(this,function(d){switch(d.label){case 0:if(t=[],!this._data.Player)return[3,1];for(i=e.DataManager.playerModel.maxChallengeInfo,n=i.player.playerInfo,a=i.player.battlePms,o=i.player.team,s=i.player.honorLv,r=i.player.science,u=e.getHomeAttribute(i.player.home.level,i.player.home.placed),l=0;l<a.length;l++)for(c=a[l],h=0;h<o.gridConfig.length;h++)o.gridConfig[h].id==c.id&&(p=e.parseBattlePokemonData(c,o.formation,o.gridConfig[l].grid,!1,!1,o.titles,o.badges,o.roles,1,!1,e.getVipLevelByRecharge(n.vipExp),o,u,r,o.artifacts,s),t.push(p));return[3,3];case 1:return[4,e.PlayerModel.getMissionPokemonList(this._data.ChallengeID,1)];case 2:t=d.sent(),d.label=3;case 3:return g=e.BattleScene.getInstance(),g.competitorPokemonData=t,g.maxChallengePlayerInfo=n,[4,g.initBattle(18)];case 4:return d.sent(),e.hideWaitPanel(),e.GameLayer.battleLayer.addChild(g),this.closeHandle(),g.run(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),[2]}})})},n.prototype.endBattle=function(t){e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!0,e.NotificationCenter.getInstance().removeObserver(this,e.BattleScene.QUIT_BATTLE)},n.prototype.setData=function(t){this._data=t;var n=[],i=!1;if(t.Player){var a=e.DataManager.playerModel.maxChallengeInfo;a.player&&a.player.playerInfo&&(this.vipLabel.text=a.player.playerInfo.vip.toString(),this.playerNameLabel.text=a.player.playerInfo.name,this.playerIcon.icon=a.player.playerInfo.gender,n=a.player.battlePms.map(function(e){return e.type})),this.battleCountLabel.text=a.fightValue.toString(),this.missionCountLabel.text=a.level.toString(),i=a.player.playerInfo.id.sid==e.DataManager.playerModel.sid&&a.player.playerInfo.id.pid==e.DataManager.playerModel.pid}else this.battleCountLabel.text=t.CombatNum,this.vipLabel.text=t.VIPlevel.toString(),this.playerNameLabel.text=t.Name,this.playerIcon.icon=t.HeroID,this.missionCountLabel.text=t.Gatenumber.toString(),n=e.splitStringToNumberArray(t.Squad);this.challengeButton.lock=i,this.challengeButton.touchEnabled=!i,this.itemGroup.removeChildren();for(var o=0;o<n.length;o++)this._pokemonList[o]||(this._pokemonList[o]=new e.PokemonIcon),this._pokemonList[o].pokemon=n[o],this.itemGroup.addChild(this._pokemonList[o])},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.MaxChallengePanel=t,__reflect(t.prototype,"game.MaxChallengePanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.alreadyReceive=!1,e._canDig=!0,e.skinName=MiningItemSkin,e}return __extends(n,t),Object.defineProperty(n.prototype,"position",{get:function(){return this._position},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canDig",{get:function(){return this._canDig},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loot",{get:function(){return this._loot},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"startDigTime",{set:function(e){this._startDigTime=e},enumerable:!0,configurable:!0}),n.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.registerEvent()},n.prototype.dataChanged=function(){t.prototype.dataChanged.call(this),this._id=this.data.id,this._state=this.data.state,this._position=this.data.position,this._loot=this.data.item,this._floor="floor"+this.data.floor;var n=e.Data.TMiningCube[this._id];n?(this._type=n.cubeType||0,0==this._type&&(this._floor=n.cubeIcon||"floor5",this._canDig=!1),this._cubeLastIcon=n.cubeLastIcon,this._occupyTime=3600*n.getTime,this._digTime=n.costTime,this.mineIcon.source="ui/scene/mining/"+this._floor):this._state=4,this.miningDigInfo={hang:this._position[0],lie:this._position[1],time:e.getNowTime()},this.changeState(this._state),(0==this._state||1==this._state)&&e.DataManager.playerModel.miningCheckContinueDig(this)},n.prototype.registerEvent=function(){this.mineIcon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchItemHandle,this),this.monsterGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startBattle,this),this.occupyGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openOccupyDetail,this),this.timeGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showBombPanel,this),this.nextEntranceGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.goNextLevel,this)},n.prototype.touchItemHandle=function(){if(0===this._state)this.startDig();else if(2===this._state)switch(this._type){case 2:this.occupyMines();break;case 3:break;default:this.alreadyReceive||e.MiningPanel.getInstance().collectItem(this)}},n.prototype.changeState=function(t){switch(this._state=t,e.DataManager.playerModel.miningChangeItemState(this,t),t){case 0:this.timeGroup.visible=!1,this.lootGroup.visible=!1,this.occupyGroup.visible=!1;break;case 1:this.lootGroup.visible=!1,this.occupyGroup.visible=!1;break;case 2:this.timeGroup.visible=!1,this.createLoot(),1!==this._type&&0!==this._type||!this.loot||0===this.loot.type||0===this.loot.count||e.DataManager.playerModel.collectionArrayAdd(this);break;case 4:this.occupyGroup.visible=!1,this.lootGroup.visible=!1,this.timeGroup.visible=!1,3===this._type?this.showNextLevelEntrance():this.removeChildren();break;case 3:this.occupyGroup.visible=!0,this.occupyLab.text=e.Lang.zhanlingzhong,this.lootGroup.visible=!1,this.timeGroup.visible=!1,this.createEvent(),this.continueOccupy()}},n.prototype.startDig=function(){this._startDigTime=e.getNowTime(),e.MiningPanel.getInstance().startDig(this)},n.prototype.startTimer=function(){var t=this;this.timeGroup.visible=!0;var n=new Date((new Date).getTime()+e.timeDelay),i=(n.getTime()-this._startDigTime.getTime())/1e3,a=Math.max(this._digTime-i,0);this.timeRect.height=a/this._digTime*this.height,this.timeRect.y=this.height-this.timeRect.height,egret.Tween.get(this.timeRect).to({height:0,y:this.height},1e3*a).call(function(){t.finishDig()})},n.prototype.finishDig=function(){e.MiningPanel.getInstance().finishDig(this)},n.prototype.createLoot=function(){switch(this._type){case 3:this.createMonster();break;case 2:this.createEvent(),this.mineIcon.scaleX=this.mineIcon.scaleY=.1,egret.Tween.get(this.mineIcon).to({scaleX:1.5,scaleY:1.5},200).to({scaleX:1,scaleY:1},200);break;default:this.loot&&0!==this.loot.type&&0!==this.loot.count?(this.createNormalLoot(),this.mineIcon.scaleX=this.mineIcon.scaleY=.1,egret.Tween.get(this.mineIcon).to({scaleX:1.5,scaleY:1.5},200).to({scaleX:1,scaleY:1},100)):this.changeState(4)}},n.prototype.createNormalLoot=function(){this._loot&&(this.lootGroup.visible=!0,this.mineIcon.source="icon/item/"+this._loot.type,this.countLabel.text=this._loot.count.toString())},n.prototype.createMonster=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.monsterGroup.removeChildren(),this.monsterGroup.visible=!0,this._monster?[3,2]:(this._monster=new e.SequenceImage,this._monster.setScale(.8),[4,this._monster.setData({delay:300,size:{row:4,col:4},resource:"anim/pokemon/1051"})]);case 1:t.sent(),this._monster.setDisplayPosition(35,70),t.label=2;case 2:return this.monsterGroup.addChild(this._monster.display),this.mineIcon.visible=!1,this._monster.play(1),[2]}})})},n.prototype.createEvent=function(){2==this._type&&(this.mineIcon.source="ui/scene/mining/"+this._cubeLastIcon,this.countLabel.visible=!1)},n.prototype.showBombPanel=function(){e.MiningPanel.getInstance().showBombPanel(this)},n.prototype.occupyMines=function(){this.mineIcon.touchEnabled=!1,e.MiningPanel.getInstance().occupyMines(this)},n.prototype.openOccupyDetail=function(){e.MiningOccupyDetail.getInstance().setDataAndShow(this)},n.prototype.startBattle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.showWaitPanel(),t=e.BattleScene.getInstance(),[4,t.initBattle(11)];case 1:return n.sent(),e.hideWaitPanel(),e.GameLayer.battleLayer.addChild(t),t.run(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),[2]}})})},n.prototype.endBattle=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){return t&&e.DataManager.playerModel.miningKillBoss(this),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!0,e.NotificationCenter.getInstance().removeObserver(this,e.BattleScene.QUIT_BATTLE),[2]})})},n.prototype.whenDigTouchBomb=function(){egret.Tween.removeTweens(this.timeRect),this.timeGroup.visible=!1},n.prototype.showNextLevelEntrance=function(){this._monster&&this._monster.stop(),this.monsterGroup.removeChildren(),this.monsterGroup.visible=!1,this.mineIcon.visible=this.nextEntranceGroup.visible=!0,this.mineIcon.source="ui/scene/mining/next"},n.prototype.goNextLevel=function(){e.MiningPanel.getInstance().goNextLevel()},n.prototype.continueOccupy=function(){for(var t=e.DataManager.playerModel.MiningOccupyData,n=0;n<t.length;n++)if(t[n].lv==e.MiningPanel.getInstance().level&&t[n].hang==this.position[0]&&t[n].lie==this.position[1])return this.startOccupyTime=t[n].time,void e.MiningPanel.getInstance().setEventList(this);this.changeState(4)},n}(eui.ItemRenderer);e.MiningItem=t,__reflect(t.prototype,"game.MiningItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._pan=!1,n.skinName=MiningOccupyDetailSkin,n.okButton.label=e.Lang.shouqu,n.okButton.addEventListener(egret.TouchEvent.TOUCH_TAP,n.okHandle,n),n.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,n.closeHandle,n),n}return __extends(n,t),n.prototype.setDataAndShow=function(t){var n=this;egret.clearInterval(this._interval);for(var i=e.Data.TMiningCube[t.id],a=e.DataManager.playerModel.MiningOccupyData,o=0;o<a.length;o++){var s=a[o];if(s.hang==t.position[0]&&s.lie==t.position[1]&&s.lv==e.MiningPanel.getInstance().level){var r=a[o];break}}if(i&&r){this._id=r.id,this._miningItme=t,this.itemIcon.source="ui/scene/mining/"+i.cubeLastIcon,this.countLabel.text=r.item.count.toString(),this.rewardIcon.source="icon/item/"+r.item.type;var u=(e.getNowTime().getTime()-r.time.getTime())/1e3,l=3600*i.getTime-u;this._interval=egret.setInterval(function(){l--,n.setTime(l)},this,1e3),this.setTime(l),this.show()}else e.showTips(e.Lang.chuxiancuowu,!0)},n.prototype.setTime=function(t){t>0?(this.timeLabel.visible=!0,this.timeLabel.text=e.formatString(e.Lang.yiduanshijianhoukeyishouji,e.s2hms(t)),this._pan=!1):(this.timeLabel.visible=!1,this._pan=!0,egret.clearInterval(this._interval))},n.prototype.okHandle=function(){this._pan&&e.DataManager.playerModel.miningPickOccupy(this._id),egret.clearInterval(this._interval),this.closeHandle()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.MiningOccupyDetail=t,__reflect(t.prototype,"game.MiningOccupyDetail")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;n._level=0,n._maxLevel=5,n._bombCount=120,n._tansuoli=10,n._tansuoliLimit=0,n._ifDig=!1,n._eventList=[],n._maxBombCount=Number(e.Constants.MiningBombTotleMax),n._maxTSL=Number(e.Constants.MiningCostTotleMax),n._dayMaxBombCount=Number(e.Constants.MiningBombBuyMax),n._dayMaxTSL=Number(e.Constants.MiningCostBuyMax);for(var i in e.Data.TVip)if(e.Data.TVip[i].autoMiningTime){n._autoLimitVip=e.Data.TVip[i].level;break}return n.skinName=MiningPanelSkin,n._touchEvent=[{target:n.closeButton,callBackFunc:n.closeHandle},{target:n.addBombBtn,callBackFunc:n.addBombCount},{target:n.addTansuoliBtn,callBackFunc:n.buyTansuoliHandle},{target:n.changeLevelBtn,callBackFunc:n.openMiningTotalPanel},{target:n.autoMiningBtn,callBackFunc:n.openMiningTotalPanel},{target:n.occupyBtn,callBackFunc:n.openMiningTotalPanel},{target:n.bombButton,callBackFunc:n.touchBomb},{target:n.rewardBtn,callBackFunc:n.collectAll}],n._notify=[{source:e.DataManager.playerModel,target:n,callBackFunc:n.updateInfo,notifyName:e.PlayerModel.MINING_INFO_UPDATE,execute:!1}],n.addEventAndNotify(),n}return __extends(n,t),Object.defineProperty(n.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxLevel",{get:function(){return this._maxLevel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tansuoli",{get:function(){return this._tansuoli},enumerable:!0,configurable:!0}),n.prototype.setEventList=function(e){e&&this._eventList.push(e)},n.prototype.firstShow=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,this.initAnimation()];case 1:return n.sent(),this.itemList.itemRenderer=e.MiningItem,t=Number(e.Data.TVip[e.DataManager.playerModel.playerVip].MiningCostUp)||0,this._tansuoliLimit=Number(e.Constants.MiningCostMax)+t,[2]}})})},n.prototype.onShow=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){for(this.updateInfo(),this.listDataProvider=new eui.ArrayCollection,t=0;t<e.DataManager.playerModel.MiningData.itemData.length;t++)n=e.DataManager.playerModel.MiningData.itemData[t],this.listDataProvider.addItem(n);return this.itemList.dataProvider=this.listDataProvider,egret.MainContext.instance.stage.maxTouches=1,[2]})})},n.prototype.updateInfo=function(){var t=e.DataManager.playerModel.MiningData;t&&(this._level=t.level,this._maxLevel=t.maxLevel,this._tansuoli=t.tansuoli,this._bombCount=e.DataManager.playerModel.getItemCount(Number(e.Constants.bombId)),this._tansuoliLast=t.last,this.initLabel(),this.initTimer())},n.prototype.initAnimation=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.animationGroup.removeChildren(),this._hoe?[3,2]:(this._hoe=new e.SkeletonBase,[4,this._hoe.createBones("langtou")]);case 1:t.sent(),this._hoe.setScale(.5),this._hoe.x=35,this._hoe.y=50,this._hoe.skewY=180,this.animationGroup.addChild(this._hoe),t.label=2;case 2:return this._user?[3,4]:(this._user=new e.SequenceImage,[4,this._user.setData({delay:200,size:{row:4,col:4},resource:"anim/role/"+e.DataManager.playerModel.playerRole})]);case 3:t.sent(),this._user.setScale(.8),this._user.setDisplayPosition(-30,70),this.animationGroup.addChild(this._user.display),t.label=4;case 4:return this.animationGroup.visible=!1,[2]}})})},n.prototype.initLabel=function(){this.tansuoliLabel.text=Math.floor(this._tansuoli)+"/"+this._tansuoliLimit,this.levelLabel.text=e.formatString(e.Lang.wakuangdijiceng,this._level+1),this.bombCountLabel.text="x"+this._bombCount,this.autoMiningBtn.image="langs/zidongwakuang",this.rewardBtn.image="langs/yijianshouqu",this.occupyBtn.image="langs/zhanlingkuangdian",this.changeLevelBtn.image="langs/huanceng",this.changeLevelBtn.imageScale=1.5,this.addTansuoliBtn.image="langs/goumai",this.addTansuoliBtn.imageScale=1.5},n.prototype.initTimer=function(){var e=this;this._interval||(this._interval=egret.setInterval(function(){e.setTimer()},this,1e3),this.setTimer())},n.prototype.setTimer=function(){if(this._tansuoli<this._tansuoliLimit){var t=60*Number(e.Constants.MiningCostReTime),n=Math.ceil(e.getNowTime().getTime()-this._tansuoliLast.getTime())/1e3,i=n/t|0,a=n%t;this.timeGroup.visible=!0,this.timeLabel.text=e.s2hms(t-a),i>0&&(this.changeTansuoli(i),this._tansuoli==this._tansuoliLimit?e.DataManager.playerModel.MiningData.last=this._tansuoliLast=e.getNowTime():e.DataManager.playerModel.MiningData.last=this._tansuoliLast=new Date(e.getNowTime().getTime()-1e3*a)),this.bar.scaleX=Math.max(a/t,0)}else this.bar.scaleX=0,egret.clearInterval(this._interval),this._interval=null,this.timeGroup.visible=!1,e.DataManager.playerModel.MiningData.last=this._tansuoliLast=e.getNowTime()},n.prototype.changeTansuoli=function(t){var n=this._tansuoli;this._tansuoli=Math.min(t+this._tansuoli,this._tansuoliLimit),this.initLabel(),e.DataManager.playerModel.changeTansuoli(this._tansuoli-n)},n.prototype.buyTansuoliHandle=function(){var t=this,n=e.DataManager.playerModel.extension.buyTansuoliCount;if(n>=this._dayMaxTSL)return void e.showTips(e.Lang.jinrigoumaicishuyiyongwan,!0);if(this._tansuoli>=this._maxTSL)return void e.showTips(e.Lang.tansuoliyiman,!0);var i=Number(e.Constants.MiningCostBuyCount),a=Number(e.Constants.MiningCostPrice)*i,o=e.CheckPanel.getInstance(),s=e.formatString(e.Lang.quedinghuafeishengmegoumaishenm,a+"钻石",i+"探索力");o.setData(s,function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){return n&&(a<=e.DataManager.playerModel.diamond?e.DataManager.playerModel.buyTansuoli({type:2,count:a},i):e.showTips(e.formatString(e.Lang.vipduoshaojiesuo,this._autoLimitVip),!0)),[2]})})}),o.show()},n.prototype.addBombCount=function(){var t=this,n=e.DataManager.playerModel.extension.buyBombCount;if(n>=this._dayMaxBombCount)return void e.showTips(e.Lang.jinrigoumaicishuyiyongwan,!0);if(this._bombCount>=this._maxBombCount)return void e.showTips(e.Lang.zhadanshumuyiman,!0);var i=Number(e.Constants.MiningBombCount),a=Number(e.Constants.MiningBombPrice)*i,o=e.CheckPanel.getInstance(),s=e.formatString(e.Lang.quedinghuafeishengmegoumaishenm,a+"钻石",i+"炸弹");o.setData(s,function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){return n&&(a<=e.DataManager.playerModel.diamond?e.DataManager.playerModel.buyBomb({type:2,count:a},i):e.showTips(e.Lang.nindedaojubuzu,!0)),[2]})})}),o.show()},n.prototype.openMiningTotalPanel=function(t){var n;switch(t){case this.occupyBtn:n=3;break;case this.changeLevelBtn:n=2;break;case this.autoMiningBtn:var i=e.DataManager.playerModel.playerVip;if(!e.Data.TVip[i].autoMiningTime)return void e.showTips(e.Lang.vipdengjibuzu,!0);n=1}e.MiningTotalPanel.getInstance().setTypeAndShow(n)},n.prototype.checkTansuoli=function(t){var n=this._tansuoli-t>=0;return n||e.showTips(e.Lang.tansuolibuzu,!0),n},n.prototype.checkBomb=function(t){var n=e.checkCanBuy({type:Number(e.Constants.bombId),count:t});return n||e.showTips(e.Lang.zhadanshuliangbuzu,!0),n},n.prototype.showBombPanel=function(e){this.bombGroup.visible&&this.hideBombPanel(),this.bombGroup.visible=!0,this.bombGroup.width=e.width,this.bombGroup.height=e.height,this.bombGroup.x=e.x,this.bombGroup.y=e.y,egret.Tween.get(this.selectImage,{loop:!0}).to({scaleX:.4,scaleY:.4},500).to({scaleX:.6,scaleY:.6},500)},n.prototype.touchBomb=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.checkBomb(1)?[4,e.DataManager.playerModel.miningDig(this._touchItem,!0)]:[2];case 1:return(t=n.sent())?(this.shake(),1===this._touchItem.state?(this._touchItem.whenDigTouchBomb(),this.finishDig(this._touchItem)):this._touchItem.changeState(2),this.hideBombPanel(),[2]):[2]}})})},n.prototype.hideBombPanel=function(){egret.Tween.removeTweens(this.selectImage),this.selectImage.scaleX=this.selectImage.scaleY=.5,this.bombGroup.visible=!1},n.prototype.shake=function(){var e=this.mainGroup.x;egret.Tween.get(this.mainGroup).to({x:e-10},20).to({x:e},20).to({x:e+10},20).to({x:e},20).to({x:e-10},20).to({x:e},20).to({x:e+10},20).to({x:e},20).to({x:e-10},20).to({x:e},20).to({x:e+10},20).to({x:e},20)},n.prototype.occupyMines=function(t){e.DataManager.playerModel.miningOccupy(t),egret.Tween.get(t.mineIcon).to({scaleX:1.5,scaleY:1.5},200).to({scaleX:1,scaleY:1},200).call(function(){t.occupyGroup.visible=!0,t.changeState(3)})},n.prototype.occupyReward=function(e){for(var t=0;t<this._eventList.length;t++){var n=this._eventList[t];this.level==e.lv&&n.position[0]==e.hang&&n.position[1]==e.lie&&n.startOccupyTime==e.time&&(n.alreadyReceive=!0,n.lootGroup.visible=!1,n.mineIcon.visible=!1,n.changeState(4))}},n.prototype.startDig=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return this._ifDig?[3,4]:t.canDig?this.checkTansuoli(1)?[4,e.DataManager.playerModel.miningDig(t,!1)]:[2]:[3,2];case 1:return(n=i.sent())?(this._ifDig=!0,this.animationGroup.visible=!0,this.animationGroup.width=t.width,this.animationGroup.height=t.height,this.animationGroup.x=t.x,this.animationGroup.y=t.y,this._hoe.play(null,0),this._user.play(3),t.startTimer(),this.hideBombPanel(),t.changeState(1),[3,3]):[2];case 2:this.showBombPanel(t),i.label=3;case 3:return this._touchItem=t,[3,5];case 4:this.bombGroup.visible&&this.hideBombPanel(),e.showTips(e.Lang.zhengzaiwaquzhong,!0),i.label=5;case 5:return[2]}})})},n.prototype.continueDig=function(e){this._ifDig=!0,this.animationGroup.visible=!0,this.animationGroup.width=e.width,this.animationGroup.height=e.height,this.animationGroup.x=e.position[1]*e.width+2,this.animationGroup.y=e.position[0]*e.height+5,this._hoe.play(null,0),this._user.play(3),e.startTimer(),this.hideBombPanel(),this._touchItem=e,e.changeState(1)},n.prototype.finishDig=function(t){this.bombGroup.visible&&this.hideBombPanel(),e.DataManager.playerModel.miningReduceDigData(t),t.changeState(2),this._ifDig=!1,this._user.stop(),this._hoe.stop(),this.animationGroup.visible=!1},n.prototype.collectAll=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o=this;return __generator(this,function(s){switch(s.label){case 0:return this.rewardBtn.touchEnabled=!1,[4,e.DataManager.playerModel.miningPickAllCheck()];case 1:for(t=s.sent(),this.rewardBtn.touchEnabled=!0,n=function(e){egret.setTimeout(function(){o.collectAnimation(t[e])},i,60*e)},i=this,a=0;a<t.length;a++)n(a);return[2]}})})},n.prototype.collectItem=function(t){t.loot&&e.DataManager.playerModel.miningPick(t)},n.prototype.collectAnimation=function(e){e.alreadyReceive=!0,e.lootGroup.visible=!1,e.mineIcon.touchEnabled=!1,egret.Tween.get(e.mineIcon).to({scaleY:.1,x:0},100).wait(50).to({scaleY:1},0).to({y:0},400).to({y:-25,alpha:.3},200).call(function(){e.changeState(4)})},n.prototype.changeLevel=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,e.DataManager.playerModel.miningChangeLevel(t)];case 1:return n.sent(),this.onShow(),[2]}})})},n.prototype.checkChangeLevel=function(t){var n=this;if(this._ifDig)return void e.showTips(e.Lang.wakuangjinxingzhong,!0);if(e.DataManager.playerModel.miningCheckChangeLevel()){var i=e.CheckPanel.getInstance();return i.setData(e.formatString(e.Lang.youweishouqudaoju,"第"+(t+1)),function(e){return __awaiter(n,void 0,void 0,function(){return __generator(this,function(n){return e&&this.changeLevel(t),[2]})})}),void i.show()}this.changeLevel(t)},n.prototype.goNextLevel=function(){this.checkChangeLevel(this._level+1)},n.prototype.startAutoMining=function(t){this.checkTansuoli(t)&&(e.DataManager.playerModel.miningStartAuto(t),this.closeHandle())},n.prototype.closeHandle=function(){egret.MainContext.instance.stage.maxTouches=2,e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.MiningPanel=t,__reflect(t.prototype,"game.MiningPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=MiningLevelItemSkin,e}return __extends(n,t),n.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.goButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.goHandle,this)
},n.prototype.dataChanged=function(){t.prototype.dataChanged.call(this);var n=Math.min(this.data.level,100);this.infoLabel.text=e.Data.TMiningExplain[n].introduction,this.goButton.label=e.formatString(e.Lang.dijiceng,this.data.level+1)},n.prototype.goHandle=function(){e.MiningPanel.getInstance().checkChangeLevel(this.data.level),e.MiningTotalPanel.getInstance().closeHandle()},n}(eui.ItemRenderer);e.MiningLevelItem=t,__reflect(t.prototype,"game.MiningLevelItem");var n=function(t){function n(){var e=t.call(this)||this;return e._interVal=null,e.skinName=MiningOccupyItemSkin,e}return __extends(n,t),n.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.rewardBtn.label=e.Lang.shouqu,this.rewardBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.rewardHandle,this)},n.prototype.dataChanged=function(){var n=this;t.prototype.dataChanged.call(this);var i=e.Data.TMiningCube[this.data.cubeId];if(i){this.itemImg.source="ui/scene/mining/"+i.cubeLastIcon,this.rewardLabel.text=this.data.item.count,this.rewardIcon.source="icon/item/"+this.data.item.type;var a=(e.getNowTime().getTime()-this.data.time.getTime())/1e3,o=3600*i.getTime-a;this._interVal=egret.setInterval(function(){o--,n.setTime(o)},this,1e3),this.setTime(o)}},n.prototype.setTime=function(t){t>0?(this.needTimeLabel.visible=!0,this.hideGroup.visible=!1,this.needTimeLabel.text=e.formatString(e.Lang.yiduanshijianhoukeyishouji,e.s2hms(t))):(this.needTimeLabel.visible=!1,this.hideGroup.visible=!0,egret.clearInterval(this._interVal))},n.prototype.rewardHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.rewardBtn.visible=!1,[4,e.DataManager.playerModel.miningPickOccupy(this.data.id)];case 1:return n.sent(),this.rewardBtn.visible=!0,egret.clearInterval(this._interVal),t=e.MiningTotalPanel.getInstance().listDataProvider,t.removeItemAt(this.itemIndex),[2]}})})},n}(eui.ItemRenderer);e.MiningOccupyItem=n,__reflect(n.prototype,"game.MiningOccupyItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._count=0,e._maxCount=0,e.skinName=MiningTotalPanelSkin,e._touchEvent=[{target:e.closeButton,callBackFunc:e.closeHandle},{target:e.addOneBtn,callBackFunc:e.countHandle},{target:e.addTenBtn,callBackFunc:e.countHandle},{target:e.reduceOneBtn,callBackFunc:e.countHandle},{target:e.reduceTenBtn,callBackFunc:e.countHandle},{target:e.autoMiningBtn,callBackFunc:e.startAuto}],e.addEventAndNotify(),e}return __extends(n,t),n.prototype.setTypeAndShow=function(t){this._level=e.MiningPanel.getInstance().level,this._count=0,this.setType(t),this.scroller.stopAnimation(),this.scroller.viewport.scrollV=0,this.show()},n.prototype.setType=function(t){switch(this._panelType=t,this.autoMiningGroup.visible=!1,this.scroller.visible=!1,this.tipLabel.visible=!1,this.bgRect.height=700,this._panelType){case 1:this.titleLabel.text=e.Lang.zidongwakuang,this.autoMiningGroup.visible=!0,this.bgRect.height=610,this.initAutoMining();break;case 2:this.titleLabel.text=e.Lang.huanceng,this.scroller.visible=!0,this.setLevel();break;case 3:this.titleLabel.text=e.Lang.zhanlingzhong,this.scroller.visible=!0,this.setOccupy()}},n.prototype.setLevel=function(){this.itemList.itemRenderer=e.MiningLevelItem,this.listDataProvider=new eui.ArrayCollection;for(var t=e.MiningPanel.getInstance().maxLevel,n=0;t>=n;n++)this.listDataProvider.addItem({level:n});this.itemList.dataProvider=this.listDataProvider},n.prototype.setOccupy=function(){this.itemList.itemRenderer=e.MiningOccupyItem,this.listDataProvider=new eui.ArrayCollection;for(var t=e.DataManager.playerModel.MiningOccupyData,n=0;n<t.length;n++){var i=t[n];this.listDataProvider.addItem(i)}this.itemList.dataProvider=this.listDataProvider,t.length<=0&&(this.tipLabel.text=e.Lang.haimeiyouzhanlingrenhekuangdian,this.tipLabel.visible=!0)},n.prototype.countHandle=function(e){var t=0;switch(e){case this.addOneBtn:t=1;break;case this.addTenBtn:t=10;break;case this.reduceOneBtn:t=-1;break;case this.reduceTenBtn:t=-10}this._count=Math.min(this._maxCount,Math.max(0,this._count+t)),this.initAutoMiningLabel()},n.prototype.startAuto=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this._count<=0?(e.showTips(e.Lang.qingxuanzetansuocishu,!0),[2]):(e.MiningPanel.getInstance().startAutoMining(this._count),this.closeHandle(),[2])})})},n.prototype.initAutoMining=function(){this.addOneBtn.image="langs/jia1",this.addTenBtn.image="langs/jia10",this.reduceOneBtn.image="langs/jian1",this.reduceTenBtn.image="langs/jian10",this.autoMiningBtn.label=e.Lang.kaishi,this.initAutoMiningLabel()},n.prototype.initAutoMiningLabel=function(){var t=e.Data.TVip[e.DataManager.playerModel.playerVip],n=this._count*t.autoMiningTime,i=e.DataManager.playerModel.MiningData.itemData;this._maxCount=0;for(var a=0;a<i.length;a++){var o=e.Data.TMiningCube[i[a].id];0==i[a].state&&0!=o.cubeType&&this._maxCount++}this._maxCount=Math.min(this._maxCount,e.MiningPanel.getInstance().tansuoli),this.maxLabel.text=e.formatString(e.Lang.zuidawaqushu,this._maxCount),this.selectLabel.text=e.formatString(e.Lang.xuanzewaqushu,this._count),this.costLabel.text=e.formatString(e.Lang.xiaohuantansuoli,this._count),this.needTimeLabel.text=e.formatString(e.Lang.xuyaoshijian,e.s2hms(n))},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.MiningTotalPanel=t,__reflect(t.prototype,"game.MiningTotalPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._itemIcon=[],n._idlePokemon=new e.TeamArtPokemon,n._missionPokemon=new e.TeamArtPokemon,n._avatar=new e.BattleAvatar,n._interval=null,n.skinName=MissionDetailSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){var e=this;this.goFriendButton.image="langs/Tx_yaoqinzz",this.goFriendButton.bg="ui/common/button/blue",this.confirmButton.bg="ui/common/button/orange",this.selfPokemonGroup.addChild(this._idlePokemon.display),this.missionPokemonGroup.addChild(this._missionPokemon.display),this.avatarGroup.addChild(this._avatar.displayGroup),this._touchEvent=[{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.goFriendButton,callBackFunc:this.openFriend}],this.addEventAndNotify(),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){var n=t.target;n.showDetail&&(null!=e._interval&&(e.timeLabel.visible=!1,egret.clearInterval(e._interval),e._interval=null),n.showDetail())},this)},n.prototype.closeHandle=function(){null!=this._interval&&(egret.clearInterval(this._interval),this._interval=null),e.removePopUp(this),e.IdleScene.getInstance().closeAutoBattle()},n.prototype.confirmHandle=function(){var t=this;if(null!=this._interval&&(egret.clearInterval(this._interval),this._interval=null),this._count>0){this._count--,this.setTalk(),this.timeLabel.visible=!0;var n=10;this.timeLabel.text="("+n+")s",this._interval=egret.setInterval(function(){n--,t.timeLabel.text="("+n+")s",0==n&&t.confirmHandle()},this,1e3)}else if(e.DataManager.playerModel.currentMission%5==0&&e.DataManager.playerModel.teamConfig.assistFriend&&0!=e.DataManager.playerModel.teamConfig.assistFriend.pid){var i=e.CheckPanel.getInstance();i.setData(e.Lang.bossguanqiawufaxiezhu,function(n){n&&(e.removePopUp(t),e.IdleScene.getInstance().startBattle(!0))}),i.show()}else e.removePopUp(this),e.IdleScene.getInstance().startBattle(!0);this._count>0?(this.confirmButton.image="langs/Tx_xiayibu",this._ballSke.removeFromParent()):(this.confirmButton.image="langs/Tx_kaishizd",this.confirmButton.addChild(this._ballSke),this._ballSke.play(null,0))},n.prototype.openFriend=function(){return this.goFriendButton.lock?void e.showTips(e.formatString(e.Lang.guankajiesuo,e.Constants.Assistant),!0):(null!=this._interval&&(egret.clearInterval(this._interval),this._interval=null),e.removePopUp(this),void e.navPanel(24))},n.prototype.onShow=function(){this.updateInfo()},n.prototype.updateInfo=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,u,l;return __generator(this,function(c){switch(c.label){case 0:return this._ballSke?[3,2]:(t=this,[4,e.getBone("kaishizhanouqiu")]);case 1:t._ballSke=c.sent(),this._ballSke.left=30,this._ballSke.bottom=30,c.label=2;case 2:for(this.bg.source="ui/scene/missionDetail/"+Math.ceil(5*Math.random()),n=e.DataManager.playerModel.currentMission,i=e.DataManager.playerModel.getDungeonData(n),this.rewardGroup.removeChildren(),a=i.Reward.split("|"),o=0;o<a.length;o++)s=a[o].split(","),r=this._itemIcon[o],r||(r=new e.ItemIcon,this._itemIcon[o]=r),r.item={type:Number(s[1]),count:0},this.rewardGroup.addChild(r);return u=e.DataManager.playerModel.idleFollowPokemon[0],u&&this._idlePokemon.setPokemon(u.type,!1),[4,e.PlayerModel.getMissionPokemonData(n)];case 3:return l=c.sent(),l&&l[0]&&this._missionPokemon.setPokemon(l[0].ElfID,!1),this._avatar.setAvatar(e.DataManager.playerModel.playerRole),this._avatar.setWing(e.DataManager.playerModel.playerWing,1),this._avatar.setDecoration(e.DataManager.playerModel.playerDecoration,1),this.riskLabel.text=String(e.Data.TDungeonAuto[n].autoPower),this._count=Math.ceil(2*Math.random()),this.confirmHandle(),this.goFriendButton.lock=n<Number(e.Constants.Assistant),this.idleGold.text=String(i.Gold),this.idlePmExp.text=String(i.Exp),this.idlePlayerExp.text=String(i.playExp),[2]}})})},n.prototype.setTalk=function(){this.sayLabel.text=e.Data.TCombat[Math.floor(Math.random()*e.Data.TCombat.length)].Content},n.prototype.onRemove=function(){this._idlePokemon.stop(),this._missionPokemon.stop(),this._avatar.stop(),this._ballSke.stop()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.MissionDetail=t,__reflect(t.prototype,"game.MissionDetail")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.bShow=!1,e.bGetReward=!1,e.CurQuest=null,e.skinName=MissionRewardSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.ItemIcon,callBackFunc:this.touchItemIcon},{target:this.Arrow,callBackFunc:this.touchArrow},{target:this.More,callBackFunc:this.touchMore}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.DungeonUpdate,notifyName:e.PlayerModel.MISSION_UPDATE,execute:!1}],this.MoveDis=this.BG.width-this.ShowPart.width,this.Arrow.rotation=0,this.Describe.stroke=2,this.Describe.strokeColor=0,this.Arrow.icon="ui/common/util/greenArrow",this.addEventAndNotify(),this.UpdateShow()},n.prototype.touchItemIcon=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.bGetReward?[4,e.DataManager.playerModel.GetMissionQuestReward(this.CurQuest.id)]:[3,2];case 1:return t=n.sent(),[3,3];case 2:e.TeachData=e.Data.TTeach[1],e.navPanel(1),n.label=3;case 3:return[2]}})})},n.prototype.touchArrow=function(){this.Arrow.touchEnabled=!1,this.Arrow.rotation=this.bShow?0:180,this.MovePanel(!this.bShow)},n.prototype.touchMore=function(){e.navPanel(16),egret.setTimeout(function(){e.TaskPanel.getInstance().showMissionReward()},this,100)},n.prototype.MovePanel=function(e){var t=this;e!=this.bShow&&(this.bShow=e,egret.Tween.get(this).to({x:e?-this.MoveDis:0},300).call(function(){t.Arrow.touchEnabled=!0}))},n.prototype.DungeonUpdate=function(){this.UpdateMissionQuest(e.DataManager.playerModel.currentMission-1,2)&&this.UpdateShow()},n.prototype.UpdateShow=function(){var t=e.DataManager.playerModel.missionQuests;for(var n in t)if(1!=t[n].state){this.CurQuest=t[n];break}if(this.CurQuest){var i=e.Data.TQuest[this.CurQuest.id],a=e.splitStringToNumberArray(i.Reward1,";");e.Data.TItem[a[0]];this.ItemIcon.item={type:a[0],count:a[1]},this.bGetReward=2==this.CurQuest.state,this.Point.visible=this.bGetReward,this.Describe.textFlow=e.parseColorText(e.formatString(e.Lang.tongguoguanhuodedaojuge,i.LimitedNum))}else this.ItemIcon.visible=!1,this.Point.visible=!1,this.Describe.text=e.Lang.yijinlingqusuoyoujiangli},n.prototype.UpdateMissionQuest=function(t,n){var i=e.DataManager.playerModel.missionQuests;for(var a in i)if(e.Data.TQuest[i[a].id].LimitedNum==t&&(1==n&&2==i[a].state||2==n&&0==i[a].state))return e.DataManager.playerModel.missionQuests[a].state=n,!0;return!1},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.MissionReward=t,__reflect(t.prototype,"game.MissionReward")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=MysteryShopItemSkin,e.touchChildren=!1,e.touchEnabled=!0,e}return __extends(n,t),n.prototype.setInfo=function(t){this.info=t,this.costLabel.text=t.price.toString(),this.itemIcon.item=t.goods,this.limitLabel.text=e.Lang.xiangou+":"+t.lastCount+"/"+t.limit;var n=e.Data.TItem[t.goods.type];n?this.nameLabel.text=n.name:console.error("not exist item:"+t.goods.type)},n}(e.GameComponent);e.MysteryShopItem=t,__reflect(t.prototype,"game.MysteryShopItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e.skinName=MysteryShopSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var e=this;this._adjust=!0,this.buyButton.image="langs/Tx_goumai",this.buyButton.bg="ui/common/button/orangeBtn_1",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.buyButton,callBackFunc:this.buyHandle}],this.addEventAndNotify(),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){e.selectItem(t.target)},this)},n.prototype.buyHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._currentItem&&this._currentItem.info?this._currentItem.info.lastCount<=0?(e.showTips(e.Lang.chaoguokegoumaicishu,!0),[2]):[4,e.DataManager.playerModel.buyMysteryShopItem(this._currentItem)]:[2];case 1:return t.sent(),this._currentItem.setInfo(this._currentItem.info),this.selectItem(this._currentItem),[2]}})})},n.prototype.selectItem=function(t){this._currentItem=t,this._selectImage||(this._selectImage=new eui.Image("ui/common/panel/UI_kuang03"),this._selectImage.horizontalCenter=0,this._selectImage.verticalCenter=0),this._selectImage.parent&&this._selectImage.parent.removeChild(this._selectImage),t.addChild(this._selectImage),this.detailItemIcon.item=t.info.goods,this.detailCostLabel.text=t.info.price.toString(),this.detailLimitLabel.text=e.Lang.xiangou+"："+t.info.lastCount+"/"+t.info.limit;var n=e.Data.TItem[t.info.goods.type];n&&(this.detailLabel.text=n.desc,this.detailName.text=n.name)},n.prototype.updateTime=function(){var t=e.DataManager.playerModel.getMysteryShopInfo();return!t||t.lastTime<=0?void this.closeHandle():void(this.timelLabel.text="距离商店关闭\n"+e.s2hms(t.lastTime))},n.prototype.firstShow=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a;return __generator(this,function(o){switch(o.label){case 0:return this._bone?[3,2]:(t=this,[4,e.getBone("shangchengjlsp")]);case 1:t._bone=o.sent(),this.Head.addChild(this._bone),o.label=2;case 2:for(this._itemList=[],this.itemGroup.removeChildren(),n=0;12>n;n++)i=new e.MysteryShopItem,this._itemList.push(i),this.itemGroup.addChild(i),a=Math.floor(12*Math.random()),effectUtils.flyObj(i.dizuoImage,800,Math.max(15,2*a),100*a),effectUtils.flyObj(i.itemIcon,800,Math.max(15,2*a),100*a);return this._currentItem=this._itemList[0],[2]}})})},n.prototype.onShow=function(){this._bone.play(null,0),this.updateTime(),this._interval=egret.setInterval(this.updateTime,this,1e3);for(var t=0;t<this._itemList.length;t++)egret.Tween.resumeTweens(this._itemList[t].dizuoImage),egret.Tween.resumeTweens(this._itemList[t].itemIcon);var n=0,i=e.DataManager.playerModel.getMysteryShopInfo();if(i)for(var t in i.items)if(i.items[t]){var a=this._itemList[n];a.setInfo(i.items[t]),a.visible=!0,n++}for(var t=n;t<this._itemList.length;t++)this._itemList[t].visible=!1;this.selectItem(this._currentItem)},n.prototype.closeHandle=function(){this._bone&&this._bone.stop(),this._interval&&(egret.clearInterval(this._interval),this._interval=null);for(var t=0;t<this._itemList.length;t++)egret.Tween.pauseTweens(this._itemList[t].dizuoImage),egret.Tween.pauseTweens(this._itemList[t].itemIcon);e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.MysteryShopPanel=t,__reflect(t.prototype,"game.MysteryShopPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._flowList=[],e._zombieList=[],e.labayaP=[[0,0],[0,180],[0,360],[0,540]],e.zombieP=[[-5,0],[95,80],[25,150],[60,210],[-45,290],[50,370],[-15,420],[25,500],[-50,550],[40,620]],e.pikachuP=[-100,670],e.warnTime=2500,e.zombieEndX=497,e.zombieMove=3e3,e.signTime=1e3,e.pikachuEndX=360,e.pikachuMove=2500,e.pikachuImageEndX=50,e.pikachuImageMove=700,e.pikachuImageWait=1500,e.burnTime=2e3,e.endTime=500,e.labels=[{text:"[#ff9900]过去的皮卡丘进化真是弱爆了!",y:323,speed:42,delay:1e3},{text:"[#00b0f0]好多僵尸",y:126,speed:58,delay:5e3},{text:"[#00cc66]怎么有一个是凡人",y:472,speed:76,delay:7e3},{text:"[#ff0000]由原版进化而来绝招是10万伏特",y:150,speed:81,delay:2e3},{text:"[#00cc66]小火龙的绝招是喷射火焰",y:282,speed:102,delay:4e3},{text:"[#00b0f0]嗲！！！",y:444,speed:97,delay:6e3},{text:"[#ff9900]精灵球的绝招是决定收服你",y:205,speed:178,delay:5200},{text:"[#ffffff]皮卡丘是十万伏特（满图伤害）",y:155,speed:84,delay:2800}],e.skinName=OpenSceneSkin,e}return __extends(n,t),n.prototype.loadScene=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,n,o,a;return __generator(this,function(s){switch(s.label){case 0:return t=this,[4,e.getBone("pikaqiu")];case 1:t._pikachu=s.sent(),this.pikachuGroup.addChild(this._pikachu),this.pikachuGroup.x=this.pikachuP[0],this.pikachuGroup.y=this.pikachuP[1],n=0,s.label=2;case 2:return 4>n?(i=new e.SequenceImage,[4,i.setData({size:{col:8,row:1},resource:"ui/scene/open/labaya",delay:100})]):[3,5];case 3:s.sent(),a=this.labayaP[n],i.setDisplayPosition(a[0],a[1]),this.flowerGroup.addChild(i.display),i.play(1,0),this._flowList.push(i),s.label=4;case 4:return n++,[3,2];case 5:n=0,s.label=6;case 6:return 10>n?(o=new e.OpenZombie,[4,o.setAnim()]):[3,9];case 7:s.sent(),a=this.zombieP[n],o.x=a[0],o.y=a[1],this.zombieGroup.addChild(o),this._zombieList.push(o),s.label=8;case 8:return n++,[3,6];case 9:return[2]}})})},n.prototype.run=function(){for(var t=this,n=function(t){var n=i.labels[t],a=e.createColorText(n.text);a.stroke=2,a.x=720,a.y=n.y,i.textGroup.addChild(a),egret.setTimeout(function(){var e=-a.width,t=(720+a.width)/n.speed*1e3;egret.Tween.get(a).to({x:e},t)},i,n.delay)},i=this,a=0;a<this.labels.length;a++)n(a);this.warnImage.visible=!0,this.pikachuImage.visible=!1,egret.Tween.get(this.warnImage).to({x:171},this.warnTime).call(function(){for(var e=0;e<t._zombieList.length;e++)t._zombieList[e].walk();egret.Tween.get(t.zombieGroup).to({x:t.zombieEndX},t.zombieMove).call(function(){for(var e=0;e<t._zombieList.length;e++)t._zombieList[e].stay();t.warnImage.visible=!1,t._pikachu.play("walk",0),egret.Tween.get(t.pikachuGroup).wait(t.signTime).call(function(){for(var e=0;e<t._zombieList.length;e++)t._zombieList[e].hideSign()}).to({x:t.pikachuEndX},t.pikachuMove).call(function(){t._pikachu.play("stay",0),t.pikachuImage.visible=!0,egret.Tween.get(t.pikachuImage).to({x:t.pikachuImageEndX},t.pikachuImageMove).wait(t.pikachuImageWait).call(function(){return __awaiter(t,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return this.pikachuImage.visible=!1,egret.setTimeout(function(){for(var t=0;t<e._zombieList.length;t++)e._zombieList[t].burn()},this,this.burnTime),[4,this._pikachu.play("att",1)];case 1:return t.sent(),this._pikachu.play("stay",0),egret.setTimeout(function(){e.end()},this,this.endTime),[2]}})})})})})})},n.prototype.end=function(){var t=e.RootTop.getInstance();t.top=0;var n=e.RootBottom.getInstance();n.bottom=0,e.GameLayer.mainLayer.addChild(t),e.GameLayer.mainLayer.addChild(n),this.removeFromParent();for(var i=0;i<this._flowList.length;i++)this._flowList[i].stop();this._pikachu.stop()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.GameComponent);e.OpenScene=t,__reflect(t.prototype,"game.OpenScene")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=OpenZombieSkin,e}return __extends(n,t),n.prototype.setAnim=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.darkImage.visible=this.signImage.visible=!1,this._zombie=new e.SequenceImage,[4,this._zombie.setData({size:{col:8,row:1},resource:"ui/scene/open/jiangsji",delay:100})];case 1:return t.sent(),this.animGroup.addChild(this._zombie.display),[2]}})})},n.prototype.walk=function(){this.darkImage.visible=this.signImage.visible=!1,this._zombie.play(1,0)},n.prototype.stay=function(){this.signImage.visible=!0,this._zombie.stop()},n.prototype.hideSign=function(){this.signImage.visible=!1},n.prototype.burn=function(){this.animGroup.visible=!1,this.darkImage.visible=!0},n}(e.GameComponent);e.OpenZombie=t,__reflect(t.prototype,"game.OpenZombie")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.ownImage=new eui.Image("langs/yigoumai"),n.ownImage.touchEnabled=!1,n.ownImage.x=13,n.ownImage.y=51,n.displayGroup.touchEnabled=!0,n.displayGroup.touchChildren=!1,n.displayGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.NotificationCenter.getInstance().postNotification(e.PlayerRolePanel.TOUCH_AVATAR,n)},n),n}return __extends(n,t),n.prototype.setRole=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return this.roleData=t,[4,this.setAvatar(t.id,!1)];case 1:return i.sent(),n=e.DataManager.playerModel.playerAllRole,-1!=n.indexOf(t.id)?this.displayGroup.addChild(this.ownImage):this.ownImage.parent&&this.ownImage.parent.removeChild(this.ownImage),[2]}})})},n}(e.BattleAvatar);e.AvatarShopAvatar=t,__reflect(t.prototype,"game.AvatarShopAvatar")}(game||(game={}));var game;!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.postTouchNotify=function(){this.play()},n.prototype.endMovePokemon=function(t){e.NotificationCenter.getInstance().postNotification(e.PlayerFollow.MOVE_POKEMON_END,{icon:this,event:t})},n}(e.TeamBagPokemonIcon);e.FollowBagPokemon=t,__reflect(t.prototype,"game.FollowBagPokemon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.lock=!1,n.canUnlock=!1,n.skinName=FollowSlotSkin,n.touchEnabled=!1,n.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,n.onTouchBegin,n),n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){return __awaiter(n,void 0,void 0,function(){var t,n=this;return __generator(this,function(i){switch(i.label){case 0:return this.canUnlock?this.limit?1!=this.limit[0]?[3,2]:[4,e.DataManager.playerModel.unlockFollowSlot(this.limit,this.followData.id-1)]:[2]:[3,3];case 1:return i.sent(),[3,3];case 2:t=e.CheckPanel.getInstance(),t.setData(e.formatString(e.Lang.ninquedingyaohuafeiduoshaozuanshijiesuodangqianweizhima,this.limit[1]),function(t){return __awaiter(n,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return t?[4,e.DataManager.playerModel.unlockFollowSlot(this.limit,this.followData.id-1)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})}),t.show(),i.label=3;case 3:return[2]}})})},n),n}return __extends(n,t),n.prototype.setData=function(t){this.followData=t,t.open&&(this.limit=e.splitStringToNumberArray(this.followData.open,";"))},n.prototype.createImage=function(){this._pokemonImage=new e.PokemonIconArtAnim,this._pokemonImage.setScale(1),this._pokemonImage.setScaleX(-1),this._pokemonImage.display.touchEnabled=!0,this._pokemonImage.display.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this)},n.prototype.postTouchNotify=function(){this.play()},n.prototype.endMovePokemon=function(t){e.NotificationCenter.getInstance().postNotification(e.PlayerFollow.MOVE_POKEMON_END,{icon:this,event:t})},n.prototype.setPokemonInfo=function(t){this.lock=!1,this.canUnlock=!1,this.lockImage.visible=this.lockLabel.visible=this.priceGroup.visible=!1,this.touchEnabled=!1,t?(this.pokemonInfo=t,this.pokemon=this.pokemonInfo.type,this.pokemonGroup.visible=!0,this.touchChildren=!0):(this.pokemonInfo=null,this.touchChildren=!1,this.pokemonGroup.visible=!1,this.touchChildren=!1,this.limit&&(this.followData.id<e.DataManager.playerModel.idleFollowList.length+1||(this.followData.id==e.DataManager.playerModel.idleFollowList.length+1?1==this.limit[0]?e.DataManager.playerModel.currentMission<this.limit[1]?(this.lock=!0,this.lockLabel.visible=this.lockImage.visible=!0,this.lockLabel.text=e.formatString(e.Lang.duoshaoguanjiesuo,this.limit[1]),this.lockLabel.textColor=gameConfig.TextColors.red):(this.lockLabel.visible=this.lockImage.visible=!0,this.lockLabel.text=e.Lang.dianjijiesuo,this.lockLabel.textColor=gameConfig.TextColors.green,this.lock=!1,this.touchEnabled=!0,this.canUnlock=!0):2==this.limit[0]&&(this.lock=!0,this.lockImage.visible=this.priceGroup.visible=!0,this.priceImage.source="icon/item/2",this.priceLabel.text=this.limit[1].toString(),this.touchEnabled=!0,this.canUnlock=!0):(this.lockImage.visible=!0,this.lock=!0)))),this.resetPokemon()},n}(e.TeamPokemonIcon);e.FollowSlot=t,__reflect(t.prototype,"game.FollowSlot")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.skinName=PlayerBadgeIconSkin,n.touchChildren=!1,n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.NotificationCenter.getInstance().postNotification(e.PlayerBadgePanel.TOUCH_BADGE,n)},n),n}return __extends(n,t),n.prototype.setData=function(t,n){if(this.point.visible=!1,this.badgeData=t,this.lock=n,n)this.iconDisplay.source="ui/scene/player/badge_"+t.type+"_gray";else if(this.iconDisplay.source="ui/scene/player/badge_"+t.type,t.nextId){var i=e.DataManager.playerModel.getBadgeList(),a=!0;t.frontBadge&&-1==i.indexOf(t.frontBadge)&&(a=!1);var o=e.splitStringToNumberArray(t.upItems,";");e.DataManager.playerModel.gold>=t.upPrice&&e.DataManager.playerModel.getItemCount(o[0])>=o[1]&&a&&(this.point.visible=!0)}},n}(e.GameComponent);e.PlayerBadgeIcon=t,__reflect(t.prototype,"game.PlayerBadgeIcon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._badgeIconList=[],e._labelList=[],e._nextLabelList=[],e.skinName=PlayerBadgePanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.lockLabel.text=e.Lang.manjiyulan,this.maxLabel.text=e.Lang.yimanji,this.upgradeButton.image="langs/shengji",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.upgradeButton,callBackFunc:this.upgradeHandle},{target:this.costGroup,callBackFunc:this.costHandle}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.updateCurrentBadge,n.TOUCH_BADGE)},n.prototype.costHandle=function(){var t=e.ItemInfoPanel.getInstance();t.setData(e.Data.TItem[this._costItemType]),t.show()},n.prototype.onShow=function(){this.updateBadge(),this.updateCurrentBadge(this._badgeIconList[0])},n.prototype.upgradeHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._frontEnough?this._moneyEnough?this._itemEnough?[4,e.DataManager.playerModel.upgradeBadge(this._currentBadge.badgeData)]:(e.showTips(e.Lang.nindedaojubuzu,!0),[2]):(e.showTips(e.Lang.nindehuobibuzu,!0),[2]):(e.showTips(e.Lang.weidadaoshengjitiaojian,!0),[2]);case 1:return t.sent(),this.updateBadge(),this.updateCurrentBadge(this._currentBadge),[2]}})})},n.prototype.updateBadge=function(){var t=0,n=e.DataManager.playerModel.playerLevel;for(var i in e.Data.TPlayerBadge)if(e.Data.TPlayerBadge.hasOwnProperty(i)){var a=e.Data.TPlayerBadge[i],o=e.DataManager.playerModel.getBadgeLevel(a.type);if(a.level==o){var s=this._badgeIconList[t];s||(this._badgeIconList[t]=new e.PlayerBadgeIcon,s=this._badgeIconList[t],4>t?this.badgeGroup1.addChild(s):9>t?this.badgeGroup2.addChild(s):this.badgeGroup3.addChild(s)),s.setData(a,n<(a.openLevel||0)),t++}}},n.prototype.updateCurrentBadge=function(t){if(this.upgradePoint.visible=!1,this.currentScroller.viewport.scrollV=this.maxScroller.viewport.scrollV=this.nextScroller.viewport.scrollV=0,this._currentBadge=t,this._currentBadge){this._currentBadge.addChild(this.arrowImage);var n=this._currentBadge.badgeData;if(this.currentIconImage.source=this._currentBadge.iconDisplay.source,this.upgradeLabel.visible=!1,this._currentBadge.lock){this.currentNameLabel.text=n.name,this.lockLabel.text=e.formatString(e.Lang.dengjijiesuo,n.openLevel)+"\r",this.lockGroup.visible=!0,this.unlockGroup.visible=!1;for(var i=n;i.nextId;)i=e.Data.TPlayerBadge[i.nextId];this.maxGroup.removeChildren(),this._maxAttribute=new e.EquipAttribute,e.parseEquipAttribute(this._maxAttribute,e.Data.TEffect[i.effectId]),e.createAttributeLabel(this.maxGroup,this._maxAttribute,this._labelList)}else if(this.currentNameLabel.text="LV."+n.level+" "+n.name,this.lockGroup.visible=!1,this.unlockGroup.visible=!0,this.nextGroup.removeChildren(),this.currentGroup.removeChildren(),this._curAttribute=new e.EquipAttribute,n.effectId&&(e.parseEquipAttribute(this._curAttribute,e.Data.TEffect[n.effectId]),e.createAttributeLabel(this.currentGroup,this._curAttribute,this._labelList)),n.nextId){var a=e.DataManager.playerModel.getBadgeList(),o=e.Data.TPlayerBadge[n.nextId];this._nextAttribute=new e.EquipAttribute,e.parseEquipAttribute(this._nextAttribute,e.Data.TEffect[o.effectId]),e.createAttributeLabel(this.nextGroup,this._nextAttribute,this._nextLabelList),this.upgradeButton.visible=this.costItemIcon.visible=this.costItemLabel.visible=this.costMoneyLabel.visible=this.costMoneyIcon.visible=!0;var s=[1,n.upPrice];this.costMoneyIcon.source="icon/item/"+s[0];var r=e.DataManager.playerModel.getItemCount(s[0]);this.costMoneyLabel.text=e.setNumber(r)+"/"+e.setNumber(s[1]),this._moneyEnough=r>=s[1],this.costMoneyLabel.textColor=this._moneyEnough?gameConfig.TextColors.green:gameConfig.TextColors.red;var u=e.splitStringToNumberArray(n.upItems,";");this._costItemType=u[0],this.costItemIcon.source="icon/item/"+u[0];var l=e.DataManager.playerModel.getItemCount(u[0]);this.costItemLabel.text=e.setNumber(l)+"/"+e.setNumber(u[1]),this._itemEnough=l>=u[1],this.costItemLabel.textColor=this._itemEnough?gameConfig.TextColors.green:gameConfig.TextColors.red,this._frontEnough=!0,n.frontBadge&&(-1==a.indexOf(n.frontBadge)?(this._frontEnough=!1,this.upgradeLabel.visible=!0,this.upgradeLabel.text="需要 "+e.Data.TPlayerBadge[n.frontBadge].name+" 强化满级"):this.upgradeLabel.visible=!1),this._moneyEnough&&this._itemEnough&&this._frontEnough&&(this.upgradePoint.visible=!0)}else this.nextGroup.addChild(this.maxLabel),this.upgradeButton.visible=this.costItemIcon.visible=this.costItemLabel.visible=this.costMoneyLabel.visible=this.costMoneyIcon.visible=!1}},n.prototype.closeHandle=function(){e.removePopUp(this),e.PlayerPanel.getInstance().updatePoint()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.TOUCH_BADGE="PlayerBadgePanel_TOUCH_BADGE",n}(e.PanelComponent);e.PlayerBadgePanel=t,__reflect(t.prototype,"game.PlayerBadgePanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=PlayerEquipIconSkin,e.touchChildren=!1,e}return __extends(n,t),n.prototype.setType=function(t){this.type=t,this.equipIcon.source="ui/scene/player/equip/"+t,this.equipInfo=e.DataManager.playerModel.getPlayerEquipInfo(t)
},n.prototype.updateLevel=function(t){this.equipInfo&&(this.upgradeData=e.Data.TPlayerEquipStren[this.equipInfo.equipId],this.enchantingData=e.Data.TPlayerEquipDevil[this.equipInfo.enchantingId],this.refineData=e.Data.TPlayerEquipRefine[this.equipInfo.refineId],1==t?this.levelLabel.text="LV."+this.upgradeData.level:2==t?this.levelLabel.text="LV."+this.enchantingData.level:3==t&&(this.levelLabel.text="LV."+this.refineData.level))},Object.defineProperty(n.prototype,"select",{set:function(e){this.selectImage.visible=e},enumerable:!0,configurable:!0}),n.prototype.updatePoint=function(){return this.point.visible=!1,this.equipInfo?e.checkPlayerEquipCanUpgrade(this.equipInfo)?void(this.point.visible=!0):e.checkPlayerEquipCanRefine(this.equipInfo)?void(this.point.visible=!0):e.checkPlayerEquipCanEnchanting(this.equipInfo)?void(this.point.visible=!0):void 0:void 0},n}(e.GameComponent);e.PlayerEquipIcon=t,__reflect(t.prototype,"game.PlayerEquipIcon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._currentLabelList=[],e._nextLabelList=[],e.skinName=PlayerEquipPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.equipIcon1.setType(1),this.equipIcon2.setType(2),this.equipIcon3.setType(3),this.equipIcon4.setType(4),this.equipIcon5.setType(5),this.equipIcon6.setType(6),this.refineButton.label=e.Lang.jinglian,this.autoRefineButton.label=e.Lang.jingliansanci,this.typeRefineButton.image="langs/jinglian2",this.typeUpgradeButton.image="langs/qianghua2",this.typeEnchantingButton.image="langs/fumo2",this.upgradeThreeButton.image="langs/qianghuasanci",this.upgradeButton.image="langs/qianghua",this.enchantingButton.image="langs/fumo",this.enchantingIcon1.item={type:12500,count:0},this.enchantingIcon2.item={type:12501,count:0},this.enchantingIcon3.item={type:12502,count:0},this.setButtonType(this.typeRefineButton),this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.typeEnchantingButton,callBackFunc:this.setButtonType},{target:this.typeUpgradeButton,callBackFunc:this.setButtonType},{target:this.typeRefineButton,callBackFunc:this.setButtonType},{target:this.equipIcon1,callBackFunc:this.touchEquip},{target:this.equipIcon2,callBackFunc:this.touchEquip},{target:this.equipIcon3,callBackFunc:this.touchEquip},{target:this.equipIcon4,callBackFunc:this.touchEquip},{target:this.equipIcon5,callBackFunc:this.touchEquip},{target:this.equipIcon6,callBackFunc:this.touchEquip},{target:this.upgradeCostGroup1,callBackFunc:this.touchUpgradeCost},{target:this.upgradeCostGroup2,callBackFunc:this.touchUpgradeCost},{target:this.upgradeButton,callBackFunc:this.upgradeHandle},{target:this.upgradeThreeButton,callBackFunc:this.upgradeHandle},{target:this.enchantingButton,callBackFunc:this.enchantingHandle},{target:this.refineButton,callBackFunc:this.refineHandle},{target:this.autoRefineButton,callBackFunc:this.refineHandle}],this.addEventAndNotify(),this.enchantingCostGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t.showDetail()},this)},n.prototype.refineHandle=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return this.refineLimitLabel.visible?(e.showTips(e.Lang.zanweijiesuo,!0),[3,4]):[3,1];case 1:return e.DataManager.playerModel.getItemCount(this._refineCost[0])>=this._refineCost[1]?(n=0,n=t==this.refineButton?1:3,[4,e.DataManager.playerModel.refinePlayerEquip(this._selectEquipInfo,n)]):[3,3];case 2:return i.sent(),this.updateEquipInfo(),this.updatePlayerInfo(),[3,4];case 3:e.showTips(e.Lang.nindedaojubuzu,!0),i.label=4;case 4:return[2]}})})},n.prototype.enchantingHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,u,u,u,l;return __generator(this,function(c){switch(c.label){case 0:return this.enchantingLimitLabel.visible?(e.showTips(e.Lang.zanweijiesuo,!0),[3,4]):[3,1];case 1:if(t=e.DataManager.playerModel.getItemCount(this.enchantingIcon1.itemInfo.type),n=e.DataManager.playerModel.getItemCount(this.enchantingIcon2.itemInfo.type),i=e.DataManager.playerModel.getItemCount(this.enchantingIcon3.itemInfo.type),!(t>0||n>0||i>0))return[3,3];for(a=this._enchantingData.upItems-this._selectEquipInfo.enchantingProgress,o={type:this.enchantingIcon1.itemInfo.type,count:0},s={type:this.enchantingIcon2.itemInfo.type,count:0},r={type:this.enchantingIcon3.itemInfo.type,count:0},u=0;t>u&&a>0;u++)a-=this.enchantingIcon1.itemData.number1,o.count++;for(u=0;n>u&&a>0;u++)a-=this.enchantingIcon2.itemData.number1,s.count++;for(u=0;i>u&&a>0;u++)a-=this.enchantingIcon3.itemData.number1,r.count++;return l=[],o.count>0&&l.push(o),s.count>0&&l.push(s),r.count>0&&l.push(r),[4,e.DataManager.playerModel.enchantingPlayerEquip(this._selectEquipInfo,l)];case 2:return c.sent(),this.updateEquipInfo(),this.updatePlayerInfo(),[3,4];case 3:e.showTips(e.Lang.nindedaojubuzu,!0),c.label=4;case 4:return[2]}})})},n.prototype.upgradeHandle=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return this.upgradeLimitLabel.visible?(e.showTips(e.Lang.zanweijiesuo,!0),[3,4]):[3,1];case 1:return e.DataManager.playerModel.getItemCount(this._upgradeCost[0])>=this._upgradeCost[1]?(n=0,n=t==this.upgradeButton?1:3,[4,e.DataManager.playerModel.upgradePlayerEquip(this._selectEquipInfo,n)]):[3,3];case 2:return i.sent(),this.updateEquipInfo(),this.updatePlayerInfo(),[3,4];case 3:e.showTips(e.Lang.nindedaojubuzu,!0),i.label=4;case 4:return[2]}})})},n.prototype.touchUpgradeCost=function(){var t=e.ItemInfoPanel.getInstance();t.setData(e.Data.TItem[this._upgradeCost[0]]),t.show()},n.prototype.closeHandle=function(){e.removePopUp(this),e.PlayerPanel.getInstance().updatePoint()},n.prototype.setButtonType=function(t){var n=0;return t==this.typeUpgradeButton?n=1:t==this.typeEnchantingButton?n=2:t==this.typeRefineButton&&(n=3),2==n&&e.DataManager.playerModel.playerLevel<Number(e.Constants.equipDevilOpenLv)?void e.showTips(e.formatString(e.Lang.dengjijiesuo,Number(e.Constants.equipDevilOpenLv)),!0):1==n&&e.DataManager.playerModel.playerLevel<Number(e.Constants.equipRefineOpenLv)?void e.showTips(e.formatString(e.Lang.dengjijiesuo,Number(e.Constants.equipRefineOpenLv)),!0):(this._currentType=n,this.upgradeGroup.visible=1==n,this.enchantingGroup.visible=2==n,this.refineGroup.visible=3==n,this.typeUpgradeButton.bg=1==n?"ui/common/button/equip":"ui/common/button/equip_dark",this.typeEnchantingButton.bg=2==n?"ui/common/button/equip":"ui/common/button/equip_dark",this.typeRefineButton.bg=3==n?"ui/common/button/equip":"ui/common/button/equip_dark",this.equipIcon1.updateLevel(n),this.equipIcon2.updateLevel(n),this.equipIcon3.updateLevel(n),this.equipIcon4.updateLevel(n),this.equipIcon5.updateLevel(n),this.equipIcon6.updateLevel(n),void this.updateEquipInfo())},n.prototype.touchEquip=function(e){this._selectEquip&&(this._selectEquip.select=!1),this._selectEquip=e,this._selectEquip.select=!0,this.updateEquipInfo()},n.prototype.updateEquipInfo=function(){if(this._selectEquip){var t=this._selectEquip.type;this.currentEquipIcon.setType(t),this.currentEquipIcon.levelLabel.visible=!1;var n=this._selectEquip.equipInfo;this._selectEquipInfo=n,this._selectEquip.updateLevel(this._currentType),1==this._currentType?(this._upgradeData=this._selectEquip.upgradeData,this.setUpgradeData()):2==this._currentType?(this._enchantingData=this._selectEquip.enchantingData,this.setEnchantingData()):3==this._currentType&&(this._refineData=this._selectEquip.refineData,this.setRefineData()),this.upgradePoint.visible=e.checkPlayerEquipCanUpgrade(n),this.enchantingPoint.visible=e.checkPlayerEquipCanEnchanting(n),this.refinePoint.visible=e.checkPlayerEquipCanRefine(n)}},n.prototype.setRefineData=function(){if(this._refineData){this._refineCost=e.splitStringToNumberArray(this._refineData.upItems,";"),this.refineIconImage.source="icon/item/"+this._refineCost[0];var t=e.DataManager.playerModel.getItemCount(this._refineCost[0]);if(this.refineLabel.text=e.setNumber(t)+"/"+e.setNumber(this._refineCost[1]),this.refineLabel.textColor=t>=this._refineCost[1]?gameConfig.TextColors.green:gameConfig.TextColors.red,this._currentAttribute=new e.EquipAttribute,this.currentLevelLabel.text="LV."+this._refineData.level,e.parseEquipAttribute(this._currentAttribute,e.Data.TEffect[this._refineData.effectId]),e.createAttributeLabel(this.currentLabelGroup,this._currentAttribute,this._currentLabelList),this._refineData.nextId){var n=e.Data.TPlayerEquipRefine[this._refineData.nextId];this._nextAttribute=new e.EquipAttribute,this.nextLevelLabel.text="LV."+n.level,e.parseEquipAttribute(this._nextAttribute,e.Data.TEffect[n.effectId]),e.createAttributeLabel(this.nextLabelGroup,this._nextAttribute,this._nextLabelList),this.refineButtonGroup.visible=!0,n.openLevel&&e.DataManager.playerModel.playerLevel<n.openLevel?(this.refineLimitLabel.visible=!0,this.refineLimitLabel.text=e.formatString(e.Lang.dengjijiesuo,n.openLevel)):this.refineLimitLabel.visible=!1}else this.nextLevelLabel.text=e.Lang.yimanji,this.nextLabelGroup.removeChildren(),this.refineButtonGroup.visible=!1}},n.prototype.setUpgradeData=function(){if(this._upgradeData){this._upgradeCost=e.splitStringToNumberArray(this._upgradeData.upItems,";"),this.upgradeIconImage.source=this.upgradeThreeIconImage.source="icon/item/"+this._upgradeCost[0];var t=e.DataManager.playerModel.getItemCount(this._upgradeCost[0]);if(this.upgradeLabel.text=t+"/"+this._upgradeCost[1],this.upgradeLabel.textColor=t>=this._upgradeCost[1]?gameConfig.TextColors.green:gameConfig.TextColors.red,this.upgradeThreeLabel.text=t+"/"+3*this._upgradeCost[1],this.upgradeThreeLabel.textColor=t>=3*this._upgradeCost[1]?gameConfig.TextColors.green:gameConfig.TextColors.red,this._currentAttribute=new e.EquipAttribute,this.currentLevelLabel.text="LV."+this._upgradeData.level,e.parseEquipAttribute(this._currentAttribute,e.Data.TEffect[this._upgradeData.effectId]),e.createAttributeLabel(this.currentLabelGroup,this._currentAttribute,this._currentLabelList),this._upgradeData.nextId){var n=e.Data.TPlayerEquipStren[this._upgradeData.nextId];this._nextAttribute=new e.EquipAttribute,this.nextLevelLabel.text="LV."+n.level,e.parseEquipAttribute(this._nextAttribute,e.Data.TEffect[n.effectId]),e.createAttributeLabel(this.nextLabelGroup,this._nextAttribute,this._nextLabelList),this.upgradeButtonGroup.visible=!0,n.openLevel&&e.DataManager.playerModel.playerLevel<n.openLevel?(this.upgradeLimitLabel.visible=!0,this.upgradeLimitLabel.text=e.formatString(e.Lang.dengjijiesuo,n.openLevel)):this.upgradeLimitLabel.visible=!1}else this.nextLevelLabel.text=e.Lang.yimanji,this.nextLabelGroup.removeChildren(),this.upgradeButtonGroup.visible=!1}},n.prototype.setEnchantingData=function(){if(this._enchantingData)if(this.enchantingLabel1.text="x"+e.DataManager.playerModel.getItemCount(this.enchantingIcon1.itemInfo.type),this.enchantingLabel2.text="x"+e.DataManager.playerModel.getItemCount(this.enchantingIcon2.itemInfo.type),this.enchantingLabel3.text="x"+e.DataManager.playerModel.getItemCount(this.enchantingIcon3.itemInfo.type),this.enchantingProgressBar.maximum=this._enchantingData.upItems,this.enchantingProgressBar.value=this._selectEquipInfo.enchantingProgress,this._currentAttribute=new e.EquipAttribute,this.currentLevelLabel.text="LV."+this._enchantingData.level,e.parseEquipAttribute(this._currentAttribute,e.Data.TEffect[this._enchantingData.effectId]),e.createAttributeLabel(this.currentLabelGroup,this._currentAttribute,this._currentLabelList),this._enchantingData.nextId){var t=e.Data.TPlayerEquipDevil[this._enchantingData.nextId];this._nextAttribute=new e.EquipAttribute,this.nextLevelLabel.text="LV."+t.level,e.parseEquipAttribute(this._nextAttribute,e.Data.TEffect[t.effectId]),e.createAttributeLabel(this.nextLabelGroup,this._nextAttribute,this._nextLabelList),this.enchantingButton.visible=!0,t.openLevel&&e.DataManager.playerModel.playerLevel<t.openLevel?(this.enchantingLimitLabel.visible=!0,this.enchantingLimitLabel.text=e.formatString(e.Lang.dengjijiesuo,t.openLevel)):this.enchantingLimitLabel.visible=!1}else this.nextLevelLabel.text=e.Lang.yimanji,this.nextLabelGroup.removeChildren(),this.enchantingButton.visible=!1},n.prototype.updatePlayerInfo=function(){this._avatar||(this._avatar=new e.BattleAvatar,this.avatarGroup.addChild(this._avatar.displayGroup)),this._avatar.setAvatar(e.DataManager.playerModel.playerRole),this._avatar.setWing(e.DataManager.playerModel.playerWing,1),this._avatar.setDecoration(e.DataManager.playerModel.playerDecoration,1),this.nameLabel.text=e.DataManager.playerModel.playerName,this.vipLabel.text=e.DataManager.playerModel.playerVip.toString();for(var t=e.DataManager.playerModel.getPlayerBattlePokemonList(),n=0,i=0;i<t.length;i++)n+=e.countPokemonBattleCount(t[i]);this.battleCountLabel.text=e.Lang.zhanli+": "+e.setNumber(n),this.equipIcon1.updatePoint(),this.equipIcon2.updatePoint(),this.equipIcon3.updatePoint(),this.equipIcon4.updatePoint(),this.equipIcon5.updatePoint(),this.equipIcon6.updatePoint()},n.prototype.onShow=function(){this.updatePlayerInfo(),this.touchEquip(this.equipIcon1)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.PlayerEquipPanel=t,__reflect(t.prototype,"game.PlayerEquipPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._currentPage=1,e._maxPage=2,e._bagPokemonList=[],e._totalPokemon=[],e._pokemonBag=[],e._alreadyInit=!1,e._pokemonAnimList=[],e.skinName=PlayerFollowSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._avatar=new e.BattleAvatar,this._avatar.displayGroup.x=640,this.animGroup.addChild(this._avatar.displayGroup),this._touchEvent=[{target:this.leftArrowButton,callBackFunc:this.moveLastPage},{target:this.rightArrowButton,callBackFunc:this.moveNextPage},{target:this.closeButton,callBackFunc:this.closeHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateSlot,notifyName:e.PlayerModel.FOLLOW_SLOT_UPDATE,execute:!1}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.movePokemonEnd,n.MOVE_POKEMON_END)},n.prototype.closeHandle=function(){egret.Tween.removeTweens(this.bg1),egret.Tween.removeTweens(this.bg2),this.qinmiduTween&&egret.Tween.removeTweens(this._qinmiduImage),egret.clearInterval(this.qinmiduInterval),this._avatar.stop(),this._avatar.removeWing();for(var t=0;t<this._pokemonAnimList.length;t++)this._pokemonAnimList[t].stop();e.removePopUp(this),e.PlayerPanel.getInstance().updatePoint()},n.prototype.movePokemonEnd=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s,r,u,l,c,h,h;return __generator(this,function(p){switch(p.label){case 0:if(n=t.icon,i=t.event,a=i.stageX,o=i.stageY,s=-1,e.checkPointAtRect(a,o,55,379,176,96)?s=1:e.checkPointAtRect(a,o,271,379,176,96)?s=2:e.checkPointAtRect(a,o,490,379,176,96)?s=3:e.checkPointAtRect(a,o,55,479,176,76)?s=4:e.checkPointAtRect(a,o,271,479,176,76)?s=5:e.checkPointAtRect(a,o,490,479,176,76)?s=6:e.checkPointAtRect(a,o,0,568,720,407)&&(s=0),n.stop(),n.resetPokemon(),0>s)return[2];if(r=n.pokemonInfo,!r)return[2];if(u=e.DataManager.playerModel.idleFollowList,!(u.indexOf(r.id)>-1))return[3,9];if(0!=s)return[3,4];for(l=0,c=0;c<u.length;c++)u[c]&&l++;return l>1?[4,e.DataManager.playerModel.setFollowPokemon(null,u.indexOf(r.id))]:[3,2];case 1:return p.sent(),[3,3];case 2:e.showTips(e.Lang.ninzhishaoxuyaoxiedaiyizhibaokemeng,!0),p.label=3;case 3:return[3,8];case 4:return h=this["slot"+s],h.lock?(e.showTips(e.Lang.dangqianweizhiweijiesuo,!0),[3,8]):[3,5];case 5:return u.indexOf(r.id)!=s-1?[3,6]:[3,8];case 6:return[4,e.DataManager.playerModel.setFollowPokemon(r,s-1)];case 7:p.sent(),p.label=8;case 8:return[3,13];case 9:return 0!=s?[3,10]:[3,13];case 10:return h=this["slot"+s],h.lock?(e.showTips(e.Lang.dangqianweizhiweijiesuo,!0),[3,13]):[3,11];case 11:return[4,e.DataManager.playerModel.setFollowPokemon(r,s-1)];case 12:p.sent(),p.label=13;case 13:return this.updateBag(),this.updateSlot(),[2]}})})},n.prototype.moveNextPage=function(){var e=this.page+1;e>this._maxPage||(this.page=e,this.updateBag())},n.prototype.moveLastPage=function(){var e=this.page-1;1>e||(this.page=e,this.updateBag())},n.prototype.updateBag=function(){this._pokemonBag=[];for(var t=e.DataManager.playerModel.idleFollowList,n=0;n<this._totalPokemon.length;n++)t.indexOf(this._totalPokemon[n].id)<0&&this._pokemonBag.push(this._totalPokemon[n]);for(var i=this._pokemonBag,a=15*(this.page-1)+1,o=a+15,s=i.length,n=0;15>n;n++){this._bagPokemonList[n]||(this._bagPokemonList[n]=new e.FollowBagPokemon,this.bagGroup.addChild(this._bagPokemonList[n]));var r=this._bagPokemonList[n];r.setPokemonInfo(null),r.slot=a+n}for(var n=a;o>n;n++){var u=i[n-1];if(u){var l=(n-1)%15,r=this._bagPokemonList[l];if(!r)continue;r.setPokemonInfo(u)}}this._maxPage=Math.floor(s/15)+1,this.page=this.page},Object.defineProperty(n.prototype,"page",{get:function(){return this._currentPage},set:function(e){this._currentPage=e,this.leftArrowButton.visible=this._currentPage>1,this.rightArrowButton.visible=this._currentPage<this._maxPage,this.bagLabel.text=this._currentPage+"/"+this._maxPage},enumerable:!0,configurable:!0}),n.prototype.onShow=function(){this._alreadyInit||(this._alreadyInit=!0,this.slot1=new e.FollowSlot,this.slot2=new e.FollowSlot,this.slot3=new e.FollowSlot,this.slot4=new e.FollowSlot,this.slot5=new e.FollowSlot,this.slot6=new e.FollowSlot,this.slot1.x=this.slot4.x=56,this.slot2.x=this.slot5.x=274,this.slot3.x=this.slot6.x=492,this.slot1.y=this.slot2.y=this.slot3.y=359,this.slot4.y=this.slot5.y=this.slot6.y=440,this.addChild(this.slot1),this.addChild(this.slot2),this.addChild(this.slot3),this.addChild(this.slot4),this.addChild(this.slot5),this.addChild(this.slot6),this.slot1.setData(e.Data.TElfFollowGrid[1]),this.slot2.setData(e.Data.TElfFollowGrid[2]),this.slot3.setData(e.Data.TElfFollowGrid[3]),this.slot4.setData(e.Data.TElfFollowGrid[4]),this.slot5.setData(e.Data.TElfFollowGrid[5]),this.slot6.setData(e.Data.TElfFollowGrid[6])),this.updateSlot();var t=e.DataManager.playerModel.playerAllPokemonList;t=t.sort(function(t,n){var i=-1,a=e.Data.TElf[t.type],o=e.Data.TElf[n.type];return a.quality<o.quality&&(i=1),i}),this._totalPokemon=t,this.page=1,this.updateBag(),this.runMap(),this._avatar.setAvatar(e.DataManager.playerModel.playerRole),this._avatar.setWing(e.DataManager.playerModel.playerWing,3),this._avatar.setDecoration(e.DataManager.playerModel.playerDecoration,3),this._avatar.play(3),this.qinmiduAinm()},n.prototype.runMap=function(){this.bg1.x=0,this.bg2.x=720;var e=1e4;egret.Tween.get(this.bg1,{loop:!0}).to({x:-1440},e).to({x:720},0).wait(e/2).to({x:0},e/2),egret.Tween.get(this.bg2,{loop:!0}).wait(e/2).to({x:0},e/2).to({x:-1440},e).to({x:720},0)},n.prototype.updateSlot=function(){for(var t=e.DataManager.playerModel.idleFollowList,n=0;6>n;n++)t[n]?this["slot"+(n+1)].setPokemonInfo(e.DataManager.playerModel.getPokemonInfoById(t[n])):this["slot"+(n+1)].setPokemonInfo(null);var i=e.DataManager.playerModel.idleFollowPokemon;this.pokemonAnimGroup.removeChildren();for(var n=0;n<i.length;n++){this._pokemonAnimList[n]||(this._pokemonAnimList[n]=new e.SequenceImage);var a=this._pokemonAnimList[n];a.setData({delay:150,size:{col:4,row:4},resource:"anim/pokemon/"+i[n].type}),a.play(3),a.setDisplayPosition(530-85*n,0),this.pokemonAnimGroup.addChild(a.display)}},n.prototype.qinmiduAinm=function(){var e=this;this.qinmiduTween=!1,this.qinmiduInterval=egret.setInterval(function(){e._qinmiduImage||(e._qinmiduImage=new eui.Image("ui/scene/team/qinmidu"));var t=Math.floor(Math.random()*e._pokemonAnimList.length);if(e._pokemonAnimList[t]){var n=e._pokemonAnimList[t].displayPosition;e._qinmiduImage.x=n[0]-20,e._qinmiduImage.y=n[1]-110,e._qinmiduImage.visible=!0,e._qinmiduImage.parent!=e.pokemonAnimGroup&&e.pokemonAnimGroup.addChild(e._qinmiduImage),egret.Tween.get(e._qinmiduImage).to({y:n[1]-130},500).call(function(){e._qinmiduImage.visible=!1}),e.qinmiduTween=!0}},this,5e3)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.MOVE_POKEMON_END="PlayerFollow_MOVE_POKEMON_END",n}(e.PanelComponent);e.PlayerFollow=t,__reflect(t.prototype,"game.PlayerFollow")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._itemList=[],n.skinName=PlayerLevelUpSkin,n._notify=[{source:e.DataManager.playerModel,target:n,callBackFunc:n.update,notifyName:"",execute:!0}],n.setItem(),n._touchEvent=[{target:n.okButton10,callBackFunc:n.okHandle10},{target:n.okButton40,callBackFunc:n.okHandle40},{target:n.itemIcon10,callBackFunc:n.showDetail},{target:n.itemIcon40,callBackFunc:n.showDetail}],n.okButton10.bg="ui/scene/activity/btn_12",n.okButton40.bg="ui/scene/activity/btn_12",n.addEventAndNotify(),n}return __extends(n,t),n.prototype.showDetail=function(e){e.itemData&&e.itemData.getItem?e.showInclude():e.showDetail()},n.prototype.setItem=function(){this.itemGroup.removeChildren();var t=e.Data.TLvaCtivity2;for(var n in t)if(t.hasOwnProperty(n))if(10==t[n].Lv){var i=e.splitStringToNumberArray(t[n].Item,";");this.itemIcon10.item={type:i[0],count:i[1]},this.updateBtn(t[n],this.okButton10),this._data10=t[n]}else if(40==t[n].Lv){var i=e.splitStringToNumberArray(t[n].Item,";");this.itemIcon40.item={type:i[0],count:i[1]},this.updateBtn(t[n],this.okButton40),this._data40=t[n]}else{var a=new e.PlayerLevelUpItem;a.setData(t[n]),this.itemGroup.addChild(a),this._itemList.push(a)}},n.prototype.setInfo=function(){this.update()},n.prototype.okHandle10=function(){return e.DataManager.playerModel.lvAc2List.indexOf(this._data10.ID)>-1?(this.okButton10.image="ui/scene/activity/Tx_yilingqu",void e.showTips(e.Lang.yilingqu,!0)):e.DataManager.playerModel.playerLevel<this._data10.Lv?void e.showTips(e.Lang.weidacheng,!0):(e.DataManager.playerModel.GetLvAc2(this._data10.ID),this.okButton10.image="ui/scene/activity/Tx_yilingqu",void e.ActivityPanel.updateCurrentIconPoint())},n.prototype.okHandle40=function(){return e.DataManager.playerModel.lvAc2List.indexOf(this._data40.ID)>-1?(this.okButton40.image="ui/scene/activity/Tx_yilingqu",void e.showTips(e.Lang.yilingqu,!0)):e.DataManager.playerModel.playerLevel<this._data40.Lv?void e.showTips(e.Lang.weidacheng,!0):(e.DataManager.playerModel.GetLvAc2(this._data40.ID),this.okButton40.image="ui/scene/activity/Tx_yilingqu",void e.ActivityPanel.updateCurrentIconPoint())},n.prototype.updateBtn=function(t,n){e.DataManager.playerModel.lvAc2List.indexOf(t.ID)>-1?(e.DataManager.playerModel.playerLevel>=t.Lv&&(n.image="ui/scene/activity/Tx_yilingqu"),this.removeFromParent()):e.DataManager.playerModel.playerLevel>=t.Lv?(n.image="ui/scene/activity/Tx_lingqu",n.lock=!1):(n.image="ui/scene/activity/Tx_weidacheng",n.lock=!0)},n.prototype.update=function(){for(var t=0;t<this._itemList.length;t++)this._itemList[t].upDate();var n=e.Data.TLvaCtivity2;for(var t in n)n.hasOwnProperty(t)&&(10==n[t].Lv?this.updateBtn(n[t],this.okButton10):40==n[t].Lv&&this.updateBtn(n[t],this.okButton40))},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.ActivityComponent);e.PlayerLevelUp=t,__reflect(t.prototype,"game.PlayerLevelUp")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=PlayerLevelUpItemSkin,e.okButton.bg="ui/scene/activity/btn_12",e._touchEvent=[{target:e.okButton,callBackFunc:e.okHandle},{target:e.itemIcon,callBackFunc:e.showDetail}],e.addEventAndNotify(),e}return __extends(n,t),n.prototype.okHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return e.DataManager.playerModel.lvAc2List.indexOf(this._data.ID)>-1?[2]:e.DataManager.playerModel.playerLevel<this._data.Lv?(e.showTips(e.Lang.weidacheng,!0),[2]):[4,e.DataManager.playerModel.GetLvAc2(this._data.ID)];case 1:return t.sent(),e.ActivityPanel.updateCurrentIconPoint(),this.upDate(),[2]}})})},n.prototype.showDetail=function(e){e.itemData&&e.itemData.getItem?e.showInclude():e.showDetail()},n.prototype.setData=function(t){this._data=t;var n=e.splitStringToNumberArray(t.Item,";");this.itemIcon.item={type:n[0],count:n[1]}},n.prototype.upDate=function(){e.DataManager.playerModel.lvAc2List.indexOf(this._data.ID)>-1?this.removeFromParent():e.DataManager.playerModel.playerLevel>=this._data.Lv?(this.okButton.image="ui/scene/activity/Tx_lingqu",this.okButton.lock=!1):(this.okButton.image="ui/scene/activity/Tx_weidacheng",this.okButton.lock=!0)},n}(e.GameComponent);e.PlayerLevelUpItem=t,__reflect(t.prototype,"game.PlayerLevelUpItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._costItem=[],e._interval=null,e.skinName=PlayerLevelUpRewardSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.okButton.image="langs/Tx_lingqu",this._touchEvent=[{target:this.okButton,callBackFunc:this.okHandle}],this.addEventAndNotify(),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showDetail,this),this._interval=egret.setInterval(this.bringToTeachTop,this,1e3)},n.prototype.bringToTeachTop=function(){e.GameLayer.teachLayer.$children.length>0&&(e.GameLayer.teachLayer.addChild(this),this.parent.setChildIndex(this,-1))},n.prototype.okHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._costItem.length>0?[4,e.DataManager.playerModel.getLevelUpReward()]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.closeHandle(),[2]}})})},n.prototype.showDetail=function(e){e&&e.target&&e.target.showDetail&&e.target.showDetail()},n.prototype.onShow=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._textBone?[3,2]:(t=this,[4,e.getBone("shilitishen")]);case 1:t._textBone=n.sent(),n.label=2;case 2:return this.effectGroup.addChild(this._textBone),this._textBone.play(null,1),this.update(),[2]}})})},n.prototype.update=function(){var t=e.DataManager.playerModel.playerLevel,n=e.DataManager.playerModel.lvReward;this.itemGroup.removeChildren(),this._costItem=[];var i={};for(var a in e.Data.TPlayerLvReward)if(e.Data.TPlayerLvReward.hasOwnProperty(a)){var o=e.Data.TPlayerLvReward[a];if(o.level<=n||o.level>t)continue;for(var s=e.splitStringToNumberArray(o.items),r=0;r<s.length;r++){var u=s[r];i[u[0]]?i[u[0]]+=u[1]:i[u[0]]=u[1]}}for(var a in i){var l={type:Number(a),count:Number(i[a])},c=new e.ItemIcon;c.item=l,this._costItem.push(l),this.itemGroup.addChild(c)}this.levelLabel.text=t.toString()},n.prototype.closeHandle=function(){e.removePopUp(this),this._interval&&egret.clearInterval(this._interval)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.PlayerLevelUpReward=t,__reflect(t.prototype,"game.PlayerLevelUpReward")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=PlayerInfoPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.zhuxiaoButton.visible=!1,0==SDK.$platformType&&(this.zhuxiaoButton.visible=!0),10==SDK.$platformType||11==SDK.$platformType?(this.MOConversationButton.visible=this.MOFAQButton.visible=!0,this.MOConversationButton.label=e.Lang.lianxiguanfang,this.MOFAQButton.label="FAQ",this.MOFAQButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){host.showFAQMO()},this),this.MOConversationButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){host.showConversationMO()},this)):this.MOConversationButton.visible=this.MOFAQButton.visible=!1,this.clothesButton.image="ui/scene/player/clothes",this.musicButton.icon="ui/scene/player/music",this.titleButton.icon="ui/scene/player/title",this.badgeButton.icon="ui/scene/player/badge",this.giftButton.icon="ui/scene/player/gift",this.equipButton.image="ui/scene/player/zhuangbei",this.wingButton.image="ui/scene/player/shipin",this.followButton.image="ui/scene/player/gensui",this.gymHonorButton.icon="ui/scene/gym/mimgwang",this.renameButton.icon="ui/scene/changeName/5",this.equipButton.imageDisplay.scaleX=this.equipButton.imageDisplay.scaleY=this.clothesButton.imageDisplay.scaleX=this.clothesButton.imageDisplay.scaleY=this.wingButton.imageDisplay.scaleX=this.wingButton.imageDisplay.scaleY=this.followButton.imageDisplay.scaleX=this.followButton.imageDisplay.scaleY=1.3,this.qingshurukey.text=e.Lang.qingshurulingbaokey,this.giftConfirmButton.label=e.Lang.lingqu,this.zhuxiaoButton.label="注销账号",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.clothesButton,callBackFunc:this.touchClothes},{target:this.musicButton,callBackFunc:this.touchMusic},{target:this.titleButton,callBackFunc:this.touchTitle},{target:this.badgeButton,callBackFunc:this.touchBadge},{target:this.giftButton,callBackFunc:this.touchGift},{target:this.giftCancelButton,callBackFunc:this.touchGiftCancel},{target:this.giftConfirmButton,callBackFunc:this.touchGiftConfirm},{target:this.equipButton,callBackFunc:this.touchEquip},{target:this.wingButton,callBackFunc:this.touchWing},{target:this.followButton,callBackFunc:this.touchFollow},{target:this.zhuxiaoButton,callBackFunc:this.zhuxiao},{target:this.gymHonorButton,callBackFunc:this.gymHonorHandle},{target:this.renameButton,callBackFunc:this.renameHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateName,notifyName:e.PlayerModel.NAME_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateMusicState,notifyName:e.PlayerModel.MUSIC_CHANGE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updatePokemonBag,notifyName:e.PlayerModel.POKEMON_BAG_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateAvatar,notifyName:e.PlayerModel.IDLE_AVATAR_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateTitle,notifyName:e.PlayerModel.TITLE_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updatePokemonTeam,notifyName:e.PlayerModel.POKEMON_TEAM_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,execute:!0,callBackFunc:this.updatePlayerLevel,notifyName:e.PlayerModel.PLAYER_LEVEL_UPDATE}],this.addEventAndNotify(),6==SDK.$platformType&&(this.giftButton.visible=!1)},n.prototype.renameHandle=function(){e.navPanel(74)},n.prototype.gymHonorHandle=function(){e.GymHonorPanel.getInstance().show()},n.prototype.zhuxiao=function(){egret.localStorage.removeItem("token"),window.location.href=window.location.origin+window.location.pathname},n.prototype.updatePlayerLevel=function(){this.playerLevelLabel.text="LV."+e.DataManager.playerModel.playerLevel;var t=e.Data.TPlayerLv[e.DataManager.playerModel.playerLevel].ex,n=e.DataManager.playerModel.playerExp;t?(this.playerExpLabel.text=e.setNumber(n)+"/"+e.setNumber(t),this.playerExpBar.maximum=t,this.playerExpBar.value=Math.min(n,t)):(this.playerExpLabel.text=e.Lang.yimanji,this.playerExpBar.maximum=1,this.playerExpBar.value=1),this.updateLock()},n.prototype.updateLock=function(){this.skinLock.visible=e.DataManager.playerModel.playerLevel<Number(e.Constants.playerRoleOpenLv),this.equipLock.visible=e.DataManager.playerModel.playerLevel<Number(e.Constants.Equipment),this.wingLock.visible=e.DataManager.playerModel.playerLevel<Number(e.Constants.Ornaments),this.badgeLock.visible=e.DataManager.playerModel.playerLevel<Number(e.Constants.badgeOpenLv)},n.prototype.touchFollow=function(){e.navPanel(49)},n.prototype.touchWing=function(){e.navPanel(48)},n.prototype.touchEquip=function(){e.navPanel(46)},n.prototype.closeHandle=function(){this._avatar&&this._avatar.stop(),e.removePopUp(this)},n.prototype.touchClothes=function(){e.navPanel(12),this.skinPoint.visible&&!egret.localStorage.getItem("skin")&&(egret.localStorage.setItem("skin","end"),this.skinPoint.visible=!1)
},n.prototype.touchMusic=function(){e.DataManager.playerModel.changeMusicState()},n.prototype.touchTitle=function(){e.navPanel(19)},n.prototype.touchBadge=function(){e.navPanel(20)},n.prototype.touchGift=function(){this.giftGroup.visible=!0},n.prototype.touchGiftCancel=function(){this.giftInputLabel.text="",this.giftGroup.visible=!1},n.prototype.touchGiftConfirm=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=this.giftInputLabel.text.replace(/\s+/g,""),""==t?(e.showTips(e.Lang.qingshurunindelibaoma,!0),[2]):[4,e.DataManager.playerModel.getCDKeyGift(t)];case 1:return n.sent(),this.giftInputLabel.text="",[2]}})})},n.prototype.updateTitle=function(){var t=e.DataManager.playerModel.playerTitle,n=e.Data.TTitle[t];n?(this.titleImage.visible=!0,this.titleImage.source="langs/title/"+n.id,this.titleNoneLabel.visible=!1):(this.titleImage.visible=!1,this.titleNoneLabel.visible=!0)},n.prototype.updateAvatar=function(){this._avatar||(this._avatar=new e.BattleAvatar,this.avatarGroup.addChild(this._avatar.displayGroup)),this._avatar.setAvatar(e.DataManager.playerModel.playerRole),this._avatar.setWing(e.DataManager.playerModel.playerWing,1),this._avatar.setDecoration(e.DataManager.playerModel.playerDecoration,1)},n.prototype.updateName=function(){this.nameLabel.text=e.DataManager.playerModel.playerName+" (UID:"+e.DataManager.playerModel.pid+")"},n.prototype.updatePokemonTeam=function(){for(var t=e.DataManager.playerModel.getPlayerBattlePokemonList(),n=0,i=0;i<t.length;i++)n+=e.countPokemonBattleCount(t[i]);this.battleLabel.text=e.Lang.zhanli+": "+e.setNumber(n)},n.prototype.updatePokemonBag=function(){this.ownPokemonLabel.text=e.Lang.yongyoujingling+": "+e.DataManager.playerModel.playerAllPokemonList.length},n.prototype.updateMusicState=function(){var t=e.DataManager.playerModel.musicState;this.musicOffImage.visible="on"!=t},n.prototype.onShow=function(){this.giftGroup.visible=!1,this.updatePokemonTeam(),this.updatePoint()},n.prototype.updatePoint=function(){!egret.localStorage.getItem("skin")&&e.DataManager.playerModel.playerLevel>=Number(e.Constants.playerRoleOpenLv)?this.skinPoint.visible=!0:this.skinPoint.visible=!1,this.badgePoint.visible=!1,e.checkPlayerBadgeCanUpgrade()&&(this.badgePoint.visible=!0);var t=e.DataManager.playerModel.teamConfig;this.equipPoint.visible=!1;for(var n=t.equips,i=0;i<n.length;i++){var a=n[i];if(e.checkPlayerEquipCanUpgrade(a)){this.equipPoint.visible=!0;break}if(e.checkPlayerEquipCanRefine(a)){this.equipPoint.visible=!0;break}if(e.checkPlayerEquipCanEnchanting(a)){this.equipPoint.visible=!0;break}}this.wingPoint.visible=!1;for(var i in e.Data.TWing){var o=e.Data.TWing[i],s=e.DataManager.playerModel.getPlayerWing(o.type);if(o.id==s&&e.checkPlayerWingCanUpgrade(s)){this.wingPoint.visible=!0;break}}if(!this.wingPoint.visible)for(var i in e.Data.TOrna){var o=e.Data.TOrna[i],s=e.DataManager.playerModel.getPlayerDecoration(o.type);if(o.id==s&&e.checkPlayerDecorationCanUpgrade(s)){this.wingPoint.visible=!0;break}}this.followPoint.visible=!1;var r=t.follows.length;if(e.Data.TElfFollowGrid[r+1]){var u=e.splitStringToNumberArray(e.Data.TElfFollowGrid[r+1].open,";"),l=void 0;1==u[0]?l=e.DataManager.playerModel.currentMission>=u[1]:2==u[0]&&(l=e.DataManager.playerModel.playerVip>=u[1]),this.followPoint.visible=l}},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.PlayerPanel=t,__reflect(t.prototype,"game.PlayerPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._roleList=[],e._labelList=[],e.skinName=PlayerRoleSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.equipButton.labelDisplay.size=40,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.equipButton,callBackFunc:this.equipButtonHandle}],this.addEventAndNotify(),this._roleAnim=new e.AvatarShopAvatar,this.currentAvatarGroup.addChild(this._roleAnim.display),e.NotificationCenter.getInstance().addObserver(this,this.updateCurrentRole,n.TOUCH_AVATAR)},n.prototype.equipButtonHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._canEquip?[4,e.DataManager.playerModel.setRole(this._currentRole.roleData)]:[3,2];case 1:return t.sent(),[3,4];case 2:return this._vipEnough?this._moneyEnough?[4,e.DataManager.playerModel.buyRole(this._currentRole.roleData)]:(e.showTips(e.Lang.nindehuobibuzu,!0),[2]):(e.showTips(e.Lang.vipdengjibuzu,!0),[2]);case 3:t.sent(),t.label=4;case 4:return this.updateCurrentRole(this._currentRole),[2]}})})},n.prototype.onShow=function(){this.updateRoleList()},n.prototype.updateRoleList=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r;return __generator(this,function(u){switch(u.label){case 0:t=0,n=e.DataManager.playerModel.playerRole,i=[];for(a in e.Data.TPlayerRole)i.push(a);o=0,u.label=1;case 1:return o<i.length?(s=i[o],e.Data.TPlayerRole.hasOwnProperty(s)?(r=this._roleList[t],r||(this._roleList[t]=new e.AvatarShopAvatar,r=this._roleList[t],r.displayGroup.x=t%5*150,r.displayGroup.y=130*Math.floor(t/5),r.setDisplayPosition(50,100),this.avatarGroup.addChild(r.displayGroup)),[4,r.setRole(e.Data.TPlayerRole[s])]):[3,3]):[3,4];case 2:u.sent(),t++,r.roleData.id==n&&this.updateCurrentRole(r),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},n.prototype.updateCurrentRole=function(t){this._currentRole&&(this._currentRole.stop(),this._currentRole.stay()),this._currentRole=t,t.play(1);var n=t.roleData;this.nameLabel.text=n.name;var i=e.DataManager.playerModel.playerAllRole,a=e.DataManager.playerModel.playerRole;if(this._roleAnim.setRole(n),this._roleAnim.play(1),this._roleAttribute=new e.EquipAttribute,e.parseEquipAttribute(this._roleAttribute,e.Data.TEffect[n.effectId]),e.createAttributeLabel(this.currentAttributeGroup,this._roleAttribute,this._labelList),this.limitLabel.visible=this.costItemIcon.visible=this.costItemCountLabel.visible=!1,i.indexOf(n.id)>-1)n.id==a?(this._canEquip=!1,this.equipButton.label=e.Lang.yizhanshi,this.equipButton.touchEnabled=!1):(this._canEquip=!0,this.equipButton.label=e.Lang.zhanshi,this.equipButton.touchEnabled=!0);else if(this._canEquip=!1,-1==n.vip)this.limitLabel.visible=!0,this.limitLabel.text=n.GetExplain,this.limitLabel.textColor=gameConfig.TextColors.red,this.equipButton.label=e.Lang.wufagoumai,this.equipButton.touchEnabled=!1;else{this.costItemIcon.visible=this.costItemCountLabel.visible=!0;var o=e.splitStringToNumberArray(n.upItems,";");this.costItemIcon.source="icon/item/"+o[0];var s=e.DataManager.playerModel.getItemCount(o[0]);this.costItemCountLabel.text=s+"/"+o[1],n.vip?(this.limitLabel.visible=!0,this.limitLabel.text=e.formatString(e.Lang.xuyaovipdengjiduoshao,n.vip),this._vipEnough=e.DataManager.playerModel.playerVip>=n.vip,this.limitLabel.textColor=this._vipEnough?gameConfig.TextColors.green:gameConfig.TextColors.red):(this._vipEnough=!0,this.limitLabel.visible=!1),this._moneyEnough=s>=o[1],this.costItemCountLabel.textColor=this._moneyEnough?gameConfig.TextColors.green:gameConfig.TextColors.red,this.equipButton.label=e.Lang.goumai,this.equipButton.touchEnabled=!0}},n.prototype.closeHandle=function(){this._currentRole.stop(),this._roleAnim.stop(),e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.TOUCH_AVATAR="PlayerAvatarPanel_TOUCH_AVATAR",n}(e.PanelComponent);e.PlayerRolePanel=t,__reflect(t.prototype,"game.PlayerRolePanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.skinName=PlayerTitleItemSkin,n.touchChildren=!1,n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.NotificationCenter.getInstance().postNotification(e.PlayerTitlePanel.TOUCH_TITLE,n)},n),n}return __extends(n,t),n.prototype.setData=function(t){this.titleData=t,this.titleImage.source="langs/title/"+t.id,this.ownImage.visible=e.DataManager.playerModel.playerTitleList.indexOf(t.id)>-1},n}(e.GameComponent);e.PlayerTitleItem=t,__reflect(t.prototype,"game.PlayerTitleItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._totalLabel=[],e._currentLabel=[],e._titleItemList=[],e.skinName=PlayerTitlePanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.jihuotiaojian.text=e.Lang.jihuotiaojian,this.chenghaozongjiacheng.text=e.Lang.chenghaozongjiacheng,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.upArrowButton,callBackFunc:this.touchArrow},{target:this.downArrowButton,callBackFunc:this.touchArrow},{target:this.equipButton,callBackFunc:this.touchEquip}],this.addEventAndNotify();var t=0;for(var i in e.Data.TTitle)e.Data.TTitle.hasOwnProperty(i)&&t++;this._maxPage=Math.ceil(t/5),e.NotificationCenter.getInstance().addObserver(this,this.touchTitle,n.TOUCH_TITLE)},n.prototype.touchTitle=function(t){this._currentTitle=t,this.currentGroup.visible=this.equipButton.visible=!0;var n=e.DataManager.playerModel.playerTitleList,i=e.DataManager.playerModel.playerTitle,a=t.titleData,o=a.id;o==i?(this.equipButton.label=e.Lang.yizhuangbei,this.equipButton.touchEnabled=!1):n.indexOf(o)>-1?(this.equipButton.label=e.Lang.zhuangbei,this.equipButton.touchEnabled=!0):(this.equipButton.label=e.Lang.wufazhuangbei,this.equipButton.touchEnabled=!1),this.currentAttributeScroller.viewport.scrollV=0,this.currentAttributeGroup.removeChildren(),this._currentAttribute=new e.EquipAttribute,e.parseEquipAttribute(this._currentAttribute,e.Data.TEffect[a.effectId]),e.createAttributeLabel(this.currentAttributeGroup,this._currentAttribute,this._currentLabel),this.currentTitleImage.source="langs/title/"+a.id,this.getLimitLabel.text=a.des},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.touchArrow=function(e){e==this.upArrowButton?this._currentPage--:this._currentPage++,this.updatePage()},n.prototype.touchEquip=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.equipTitle(this._currentTitle.titleData)];case 1:return t.sent(),this.touchTitle(this._currentTitle),[2]}})})},n.prototype.onShow=function(){this.currentGroup.visible=this.equipButton.visible=!1,this.currentAttributeGroup.removeChildren(),this.updateTotal(),this._currentPage=0,this.updatePage()},n.prototype.updateTotal=function(){this.totalScroller.viewport.scrollV=0,this._totalAttribute=new e.EquipAttribute;for(var t=e.DataManager.playerModel.playerTitleList,n=0;n<t.length;n++){var i=e.Data.TTitle[t[n]];i&&e.parseEquipAttribute(this._totalAttribute,e.Data.TEffect[i.effectId])}e.createAttributeLabel(this.totalGroup,this._totalAttribute,this._totalLabel)},n.prototype.updatePage=function(){this.titleItemGroup.removeChildren();for(var t=5*this._currentPage+1,n=0;5>n;n++){var i=e.Data.TTitle[t+n];if(i){this._titleItemList[n]||(this._titleItemList[n]=new e.PlayerTitleItem);var a=this._titleItemList[n];a.setData(i),this.titleItemGroup.addChild(a)}}this.upArrowButton.visible=this._currentPage>0,this.downArrowButton.visible=this._currentPage<this._maxPage-1},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.TOUCH_TITLE="PlayerTitlePanel_TOUCH_TITLE",n}(e.PanelComponent);e.PlayerTitlePanel=t,__reflect(t.prototype,"game.PlayerTitlePanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._labelList=[],e._iconList=[],e._pmIconList=[],e._vip=!1,e._itemList=[],e.skinName=VipPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){if(this.costButton.bg="ui/scene/activity/btn_11",this.costButton.image="ui/scene/idle/Tx_goumai",this.typeButton.bg="ui/common/button/btn_02",this.vipDailyGiftButton.bg="ui/common/button/btn_03",this.vipDailyGiftButton.image="ui/scene/recharge/Tx_Vipmrlb",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.leftArrowButton,callBackFunc:this.touchArrow},{target:this.rightArrowButton,callBackFunc:this.touchArrow},{target:this.costButton,callBackFunc:this.buyGift},{target:this.typeButton,callBackFunc:this.typeHandle},{target:this.vipDailyGiftButton,callBackFunc:this.vipDailyGiftHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateVip,notifyName:e.PlayerModel.RECHARGE_UPDATE,execute:!0}],this.addEventAndNotify(),this.giftRewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t.showDetail()},this),9==SDK.$platformType){for(var t in e.Data.TWanbaRecharge)if(e.Data.TRecharge.hasOwnProperty(t)){var n=e.Data.TWanbaRecharge[t];if(Number(n.Diamonds)||9==n.ID||10==n.ID){var i=new e.RechargeItem;i.setData(n),this.rechargeItemGroup.addChildAt(i,n.Diamonds?n.ID-1:n.ID-9),this._itemList.push(i)}}}else 10==SDK.$platformType?(host.RequestProductMO(),this.reGetProduct()):this.showRechargeItems();e.NotificationCenter.getInstance().addObserver(this,this.updateRecharge,e.PlayerModel.PLAYER_RECHARGE)},n.prototype.reGetProduct=function(){var e=this;egret.setTimeout(function(){var t=host.GetProducts();null==t?e.reGetProduct():(console.log(t),e.showRechargeItems())},this,1e3)},n.prototype.showRechargeItems=function(){for(var t in e.Data.TRecharge)if(e.Data.TRecharge.hasOwnProperty(t)){var n=e.Data.TRecharge[t];if(Number(n.Diamonds)||9==n.ID||10==n.ID){var i=new e.RechargeItem;i.setData(n),this.rechargeItemGroup.addChildAt(i,Number(n.Diamonds)?n.ID-1:n.ID-9),this._itemList.push(i)}}},n.prototype.updateRecharge=function(){this.rechargeScroller.viewport.scrollV=0;for(var e=0;e<this._itemList.length;e++)this._itemList[e].update()},n.prototype.ganenHandle=function(){this.closeHandle(),e.GanEnPanel.getInstance().show()},n.prototype.vipDailyGiftHandle=function(){e.VipMeiRiLiBao.getInstance().show()},n.prototype.setTypeAndShow=function(e){void 0===e&&(e=!0),this.setType(e),this.show()},n.prototype.setType=function(t){return void 0===t&&(t=!0),__awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){return this._vip=t,this.typeButton.image=t?"ui/scene/recharge/Tx_qianwangcz":"ui/scene/recharge/Tx_chakanvip",this.msgImage.source=t?"ui/scene/recharge/Tx_viptq":"ui/scene/recharge/Tx_chongzhi",this.vipGroup.visible=t,this.rechargeGroup.visible=!t,t?this.updateCurrentVipData(e.Data.TVip[e.DataManager.playerModel.playerVip]):this.updateRecharge(),n=e.Data.TVip[e.DataManager.playerModel.playerVip],n&&(i=n.threshold,a=e.DataManager.playerModel.playerRecharge+e.DataManager.playerModel.getPlayerInfo().vip,a>=i?this.nextVipInfoLabel.text="当前经验"+a:this.nextVipInfoLabel.text="再获得"+(i-a)+"经验即可成为VIP"+n.level),[2]})})},n.prototype.typeHandle=function(){this.setType(!this._vip)},n.prototype.buyGift=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._currentVipData.level>0&&-1==e.DataManager.playerModel.getActivityInfo().vipItems.indexOf(this._currentVipData.level-1)?[2,e.showTips(e.Lang.qingxiangoumaishangyijiviplibao)]:e.DataManager.playerModel.playerVip>=this._currentVipData.level?e.checkCanBuy(this._costMoney)?[4,e.DataManager.playerModel.buyVipGift(this._currentVipData,this._costMoney)]:[3,2]:[3,4];case 1:return t.sent(),this.updateGift(),[3,3];case 2:e.showTips(e.Lang.nindehuobibuzu,!0),t.label=3;case 3:return[3,5];case 4:e.showTips(e.Lang.nindevipdengjibuzu,!0),t.label=5;case 5:return[2]}})})},n.prototype.updateVip=function(){var t=e.DataManager.playerModel.playerRecharge+e.DataManager.playerModel.getPlayerInfo().vip,n=e.DataManager.playerModel.playerVip;this.vipLabel.text=n.toString();var i=e.Data.TVip[n+1];i?(this.progressBar.maximum=i.threshold,this.progressBar.value=t):(this.progressBar.maximum=t,this.progressBar.value=t,this.progressBar.labelDisplay.text=t.toString(),this.nextVipInfoLabel.text=e.Lang.vipyidadaodingji)},n.prototype.touchArrow=function(t){t==this.leftArrowButton?this.updateCurrentVipData(e.Data.TVip[this._currentVipData.level-1]):this.updateCurrentVipData(e.Data.TVip[this._currentVipData.level+1])},n.prototype.updateCurrentVipData=function(t){var n=this;this._currentVipData=t;var i=t.threshold,a=e.DataManager.playerModel.playerRecharge+e.DataManager.playerModel.getPlayerInfo().vip;a>=i?this.nextVipInfoLabel.text="当前经验"+a:this.nextVipInfoLabel.text="再获得"+(i-a)+"经验即可成为VIP"+t.level,this.currentVipLabel.text=t.level.toString(),this.vipDetailGroup.removeChildren();var o=0,s=function(t){var i=n._labelList[o];i||(i=new eui.Label,n._labelList[o]=i,i.size=23,i.stroke=2,i.bold=!0),t="[#ffffff]"+t.replace(/\+?\d+/g,function(e){return"[#75ff4a]"+e+"[#ffffff] "}),i.textFlow=e.parseColorText(t),n.vipDetailGroup.addChild(i),o++};if(t.abilityAdd&&s(e.Lang.baokemengshuxingjiacheng+": "+Math.floor(100*t.abilityAdd)+"%"),t.autoChangeTime&&s(e.Lang.diditiaozhankaiqiyijiansaodang),t.MiningCostUp&&s(e.Lang.tiansuolishangxianzengjia+": "+t.MiningCostUp),t.autoMiningTime&&s(e.Lang.zidongwakuangmeikuaixiaohaoshijian+": "+t.autoMiningTime),t.Universal&&s(e.Lang.wannenglingdangshiyongcishu+": "+t.Universal),t.bsAutoBattle&&s(e.Lang.zhandouditiekaiqisaodang),t.bsChangeAgainCount&&s(e.Lang.zhandouditiegoumaicishu+": "+t.bsChangeAgainCount),t.Discount&&s(e.Lang.shenmishangdianzhekou+": "+(100*(1-t.Discount)).toFixed(0)+"%"),t.DebrisSwap&&s(e.Lang.meirisuipianduihuancishu+": "+t.DebrisSwap),t.WaitElfCount&&s(e.Lang.meiriguajizhuachongshangxian+": "+t.WaitElfCount),t.AwaitItme&&s(e.Lang.guajizuiduokejicundaoju+": +"+t.AwaitItme),t.Awaitspirit&&s(e.Lang.guajizuiduokejicunbaokemeng+": +"+t.Awaitspirit),t.quickBattle&&s(e.Lang.meirikuaisuzhandoumianfeicishu+": "+t.quickBattle),t.pvpBuyCount&&s(e.Lang.meirijingjichangzhandoucishu+": "+t.pvpBuyCount),t.spDunBuyCount&&s(e.Lang.meiriteshufubencishu+": +"+t.spDunBuyCount),t.spChangeBuyCount&&s(e.Lang.meiridongkutanxiancishu+": "+t.spChangeBuyCount),t.spChangeAgainCount&&s(e.Lang.meiridongkuchongzhicishu+": "+t.spChangeAgainCount),t.spDunPass&&s(e.Lang.teshufubensaodangkaiqi),t.AddIVTimes&&s(e.Lang.getixiliancishu+": "+t.AddIVTimes),t.giveItme){for(var r=e.splitStringToNumberArray(t.giveItme),u=e.Lang.meirikehuode+": ",l=0;l<r.length;l++){var c=r[l];u+=e.Data.TItem[c[0]].name+"x"+c[1]+" "}s(u)}if(this.vipDetailGroup.height=29*(o>10?Math.ceil(o/2):o)+10,this.updateArrow(),this.giftRewardGroup.removeChildren(),t.Vipitems){this.giftRewardGroup.x=36,this.costMoneyGroup.visible=!0;for(var r=e.splitStringToNumberArray(t.Vipitems),h=0,p=0,l=0;l<r.length;l++){var c=r[l];if(e.Data.TItem[c[0]]){var g=this._iconList[h];g||(g=new e.ItemIcon,this._iconList[h]=g),g.item={type:c[0],count:c[1]},this.giftRewardGroup.addChild(g),h++}else if(e.Data.TElf[c[0]]){var d=this._pmIconList[p];d||(d=new e.PokemonIcon,this._pmIconList[p]=d),d.pokemon=c[0],d.play(),this.giftRewardGroup.addChild(d),p++}}this._costMoney={type:2,count:t.price},this.costMoneyImage.source="icon/item/2",this.costMoneyLabel.text=""+t.price,this.updateGift()}else this.giftRewardGroup.x=116,this.costMoneyGroup.visible=!1},n.prototype.updateGift=function(){e.DataManager.playerModel.getActivityInfo().vipItems.indexOf(this._currentVipData.level)>-1?(this.giftRewardGroup.x=116,this.costMoneyGroup.visible=!1):(this.giftRewardGroup.x=36,this.costMoneyGroup.visible=!0)},n.prototype.updateArrow=function(){e.Data.TVip[this._currentVipData.level-1]?this.leftArrowButton.visible=!0:this.leftArrowButton.visible=!1,e.Data.TVip[this._currentVipData.level+1]?this.rightArrowButton.visible=!0:this.rightArrowButton.visible=!1},n.prototype.closeHandle=function(){for(var t=0;t<this._pmIconList.length;t++)this._pmIconList[t].stop();egret.clearInterval(this._lightInterval),e.removePopUp(this)},n.prototype.updatePoint=function(){this.vipDailyGiftButton.point=e.VipMeiRiLiBao.getInstance().point},n.prototype.onShow=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.updatePoint(),[2]})})},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.PlayerVipPanel=t,__reflect(t.prototype,"game.PlayerVipPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e._starImages=[],e._nextStarImages=[],e._currentLabelList=[],e._nextLabelList=[],e.skinName=PlayerWingPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.wingButton.image="langs/chibang",this.decorationButton.image="langs/toushi",this.upgradeButton.image="langs/shengji",this.upgradeButton.imageDisplay.scaleX=this.upgradeButton.imageDisplay.scaleY=1.5,this._avatar=new e.BattleAvatar,this.avatarGroup.addChild(this._avatar.displayGroup),this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.wingButton,callBackFunc:this.touchTypeButton},{target:this.decorationButton,callBackFunc:this.touchTypeButton},{target:this.upgradeButton,callBackFunc:this.upgradeHandle},{target:this.equipButton,callBackFunc:this.equipHandle}],this.addEventAndNotify(),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){t.touchItem(e.target)},this),this.costGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){var n=e.ItemInfoPanel.getInstance();1==t._currentButtonType?n.setData(e.Data.TItem[12400]):n.setData(e.Data.TItem[12401]),n.show()},this)},n.prototype.upgradeHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.upgradeLimitLabel.visible?(e.showTips(e.Lang.weidadaoshengjitiaojian,!0),[3,7]):[3,1];case 1:return e.DataManager.playerModel.getItemCount(this._costItem[0])>=this._costItem[1]?this._selectIcon.wingData?[4,e.DataManager.playerModel.upgradeWing(this._selectIcon.wingData,this._costItem)]:[3,3]:[3,6];case 2:return t.sent(),[3,5];case 3:return[4,e.DataManager.playerModel.upgradeDecoration(this._selectIcon.decorationData,this._costItem)];case 4:t.sent(),t.label=5;case 5:return this.updateList(),[3,7];case 6:e.showTips(e.Lang.nindedaojubuzu,!0),t.label=7;case 7:return[2]}})})},n.prototype.equipHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._alreadyEquip?this._selectIcon.wingData?[4,e.DataManager.playerModel.equipWing(this._selectIcon.wingData)]:[3,2]:[3,5];case 1:return t.sent(),[3,4];case 2:return[4,e.DataManager.playerModel.equipDecoration(this._selectIcon.decorationData)];case 3:t.sent(),t.label=4;case 4:return[3,10];case 5:return this.equipLimitLabel.visible?(e.showTips(e.Lang.nindexingjibuzu,!0),[3,10]):[3,6];case 6:return this._selectIcon.wingData?[4,e.DataManager.playerModel.equipWing(this._selectIcon.wingData)]:[3,8];case 7:return t.sent(),[3,10];case 8:return[4,e.DataManager.playerModel.equipDecoration(this._selectIcon.decorationData)];case 9:t.sent(),t.label=10;case 10:return this.updateList(),[2]}})})},n.prototype.touchTypeButton=function(e){this._currentButtonType=e==this.wingButton?1:2,this.wingButton.bg=1==this._currentButtonType?"ui/common/button/greenBtn":"ui/common/button/greenBtnGray",this.decorationButton.bg=2==this._currentButtonType?"ui/common/button/greenBtn":"ui/common/button/greenBtnGray",this.updateList()},n.prototype.updateList=function(){this.itemGroup.removeChildren();var t=0;if(1==this._currentButtonType)for(var n in e.Data.TWing){var i=e.Data.TWing[n],a=e.DataManager.playerModel.getPlayerWing(i.type);if(i.id==a){var o=this._itemList[t];o||(o=new e.WingIcon,this._itemList[t]=o),o.setWing(i),this.itemGroup.addChild(o),t++}}else for(var n in e.Data.TOrna){var i=e.Data.TOrna[n],a=e.DataManager.playerModel.getPlayerDecoration(i.type);if(i.id==a){var o=this._itemList[t];o||(o=new e.WingIcon,this._itemList[t]=o),o.setDecoration(i),this.itemGroup.addChild(o),t++}}this.touchItem(this._selectIcon||this._itemList[0]),this.wingPoint.visible=!1;for(var n in e.Data.TWing){var i=e.Data.TWing[n],a=e.DataManager.playerModel.getPlayerWing(i.type);if(i.id==a&&e.checkPlayerWingCanUpgrade(a)){this.wingPoint.visible=!0;break}}this.decorationPoint.visible=!1;for(var n in e.Data.TOrna){var i=e.Data.TOrna[n],a=e.DataManager.playerModel.getPlayerDecoration(i.type);if(i.id==a&&e.checkPlayerDecorationCanUpgrade(a)){this.decorationPoint.visible=!0;break}}},n.prototype.touchItem=function(e){(e.wingData||e.decorationData)&&(this._selectIcon&&(this._selectIcon.select=!1),this._selectIcon=e,this._selectIcon.select=!0,e.wingData?this.setWing(e.wingData):this.setDecoration(e.decorationData))},n.prototype.setWing=function(t){if(this.currentIcon.setWing(t),this.currentIcon.select=!1,this.setStar(t.level,this.currentStarGroup,this._starImages),this._currentAttribute=new e.EquipAttribute,e.parseEquipAttribute(this._currentAttribute,e.Data.TEffect[t.effectId]),e.createAttributeLabel(this.currentLabelGroup,this._currentAttribute,this._currentLabelList),this.currentNameLabel.text=t.name,this._avatar.setWing(t.id,1),this._avatar.setDecoration(e.DataManager.playerModel.playerDecoration,1),t.nextId){this.nextGroup.visible=this.upgradeButton.visible=this.costLabel.visible=this.costIconImage.visible=this.costGroup.visible=!0,this.equipButton.horizontalCenter=213.5,this.currentGroup.x=0;var n=e.Data.TWing[t.nextId];this.setStar(n.level,this.nextStarGroup,this._nextStarImages),this._nextAttribute=new e.EquipAttribute,e.parseEquipAttribute(this._nextAttribute,e.Data.TEffect[n.effectId]),e.createAttributeLabel(this.nextLabelGroup,this._nextAttribute,this._nextLabelList),this._costItem=[t.upItems,t.scoreItems],this.costIconImage.source="icon/item/"+this._costItem[0];var i=e.DataManager.playerModel.getItemCount(this._costItem[0]);if(this.costLabel.text=i+"/"+this._costItem[1],this.costLabel.textColor=i>=this._costItem[1]?gameConfig.TextColors.green:gameConfig.TextColors.red,this.upgradeLimitLabel.visible=!1,n.limitLV||n.front){if(this.upgradeLimitLabel.text="",n.limitLV){var a=e.splitStringToNumberArray(n.limitLV,";");1==a[0]?e.DataManager.playerModel.playerLevel<a[1]&&(this.upgradeLimitLabel.visible=!0,this.upgradeLimitLabel.text+=e.formatString(e.Lang.dengjijiesuo,a[1])):2==a[0]&&e.DataManager.playerModel.playerVip<a[1]&&(this.upgradeLimitLabel.visible=!0,this.upgradeLimitLabel.text+=e.formatString(e.Lang.vipduoshaojiesuo,a[1]))}if(n.front){for(var o=!1,s=e.DataManager.playerModel.teamConfig.wing.owns,r=0;r<s.length;r++)if(s[r].id==n.front){o=!0;break}o||(this.upgradeLimitLabel.visible=!0,this.upgradeLimitLabel.text+="\r需要"+e.Data.TWing[n.front].name)}}else this.upgradeLimitLabel.visible=!1}else this._costItem=null,this.nextGroup.visible=this.upgradeButton.visible=this.costLabel.visible=this.costIconImage.visible=this.costGroup.visible=this.upgradeLimitLabel.visible=!1,this.equipButton.horizontalCenter=0,this.currentGroup.x=140;if(e.DataManager.playerModel.playerWing==t.id?(this.equipButton.image="langs/yipeidai",this._alreadyEquip=!0):(this.equipButton.image="langs/peidai",this._alreadyEquip=!1),t.boolEquip)this.equipLimitLabel.visible=!1;else{this.equipLimitLabel.visible=!0;for(var r in e.Data.TWing)if(e.Data.TWing[r].type==t.type&&e.Data.TWing[r].boolEquip){this.equipLimitLabel.text=""+e.formatString(e.Lang.duoshaoxingjiesuo,e.Data.TWing[r].level);break}}},n.prototype.setStar=function(e,t,n){t.removeChildren();for(var i=e||0,a=Math.floor(i/5),o=i%5,s=0,r=0;a>r;r++){var u=n[s];u||(u=new eui.Image,n[s]=u),u.source="ui/scene/team/star1",t.addChild(u),s++}for(var r=0;o>r;r++){var u=n[s];u||(u=new eui.Image,n[s]=u),u.source="ui/scene/team/star",u.scaleX=u.scaleY=1,t.addChild(u),s++}},n.prototype.setDecoration=function(t){if(this.currentIcon.setDecoration(t),this.currentIcon.select=!1,this.setStar(t.level,this.currentStarGroup,this._starImages),this._currentAttribute=new e.EquipAttribute,e.parseEquipAttribute(this._currentAttribute,e.Data.TEffect[t.effectId]),e.createAttributeLabel(this.currentLabelGroup,this._currentAttribute,this._currentLabelList),this.currentNameLabel.text=t.name,this._avatar.setDecoration(t.id,1),this._avatar.setWing(e.DataManager.playerModel.playerWing,1),t.nextId){this.nextGroup.visible=this.upgradeButton.visible=this.costLabel.visible=this.costIconImage.visible=this.costGroup.visible=!0,this.equipButton.horizontalCenter=213.5,this.currentGroup.x=0;var n=e.Data.TOrna[t.nextId];this.setStar(n.level,this.nextStarGroup,this._nextStarImages),this._nextAttribute=new e.EquipAttribute,e.parseEquipAttribute(this._nextAttribute,e.Data.TEffect[n.effectId]),e.createAttributeLabel(this.nextLabelGroup,this._nextAttribute,this._nextLabelList),this._costItem=[t.upItems,t.scoreItems],this.costIconImage.source="icon/item/"+this._costItem[0];var i=e.DataManager.playerModel.getItemCount(this._costItem[0]);if(this.costLabel.text=i+"/"+this._costItem[1],this.costLabel.textColor=i>=this._costItem[1]?gameConfig.TextColors.green:gameConfig.TextColors.red,this.upgradeLimitLabel.visible=!1,n.limitLV||n.front){if(this.upgradeLimitLabel.text="",n.limitLV){var a=e.splitStringToNumberArray(n.limitLV,";");1==a[0]?e.DataManager.playerModel.playerLevel<a[1]&&(this.upgradeLimitLabel.visible=!0,this.upgradeLimitLabel.text+=e.formatString(e.Lang.dengjijiesuo,a[1])):2==a[0]&&e.DataManager.playerModel.playerVip<a[1]&&(this.upgradeLimitLabel.visible=!0,this.upgradeLimitLabel.text+=e.formatString(e.Lang.vipduoshaojiesuo,a[1]))}if(n.front){for(var o=!1,s=e.DataManager.playerModel.teamConfig.orna.owns,r=0;r<s.length;r++)if(s[r].id==n.front){o=!0;break}o||(this.upgradeLimitLabel.visible=!0,this.upgradeLimitLabel.text+="\r需要"+e.Data.TOrna[n.front].name)}}else this.upgradeLimitLabel.visible=!1}else this._costItem=null,this.nextGroup.visible=this.upgradeButton.visible=this.costLabel.visible=this.costIconImage.visible=this.costGroup.visible=this.upgradeLimitLabel.visible=!1,this.equipButton.horizontalCenter=0,this.currentGroup.x=140;if(e.DataManager.playerModel.playerDecoration==t.id?this.equipButton.image="langs/yipeidai":this.equipButton.image="langs/peidai",t.boolEquip)this._alreadyEquip=!0,this.equipLimitLabel.visible=!1;else{this._alreadyEquip=!1,this.equipLimitLabel.visible=!0;for(var r in e.Data.TOrna)if(e.Data.TOrna[r].type==t.type&&e.Data.TOrna[r].boolEquip){this.equipLimitLabel.text=""+e.formatString(e.Lang.duoshaoxingjiesuo,e.Data.TOrna[r].level);break}}},n.prototype.onShow=function(){this._avatar.setAvatar(e.DataManager.playerModel.playerRole),this.touchTypeButton(this.wingButton)},n.prototype.closeHandle=function(){e.removePopUp(this),e.PlayerPanel.getInstance().updatePoint()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.PlayerWingPanel=t,__reflect(t.prototype,"game.PlayerWingPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.costDiamond=Number(e.Constants.PlayerNameChangeDia),n.skinName=RenamePanelSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.costLabel.text=this.costDiamond.toString(),this.confirmButton.label=e.Lang.queding,this.cancelButton.label=e.Lang.quxiao,this._touchEvent=[{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.cancelButton,callBackFunc:this.cancelHandle},{target:this.closeButton,callBackFunc:this.cancelHandle}],this.addEventAndNotify()},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return""==this.nameLabel.text?[3,4]:this.nameLabel.text==e.DataManager.playerModel.playerName?(e.showTips(e.Lang.nindemingchengweifashenggaibian,!0),this.nameLabel.text="",[2]):e.checkCanBuy({type:2,count:this.costDiamond})?[4,e.DataManager.playerModel.changeName(this.nameLabel.text,this.costDiamond)]:[3,2];case 1:return t=n.sent(),t&&this.cancelHandle(),[3,3];case 2:e.showTips(e.Lang.nindehuobibuzu,!0),n.label=3;case 3:return[3,5];case 4:e.showTips(e.Lang.qingshurunindemingcheng,!0),n.label=5;case 5:return[2]
}})})},n.prototype.cancelHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.RenamePanel=t,__reflect(t.prototype,"game.RenamePanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._pokemon=new e.TeamArtPokemon,n.skinName=TomorrowPanelSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.okButton.image="langs/quchouchou",this._touchEvent=[{target:this.okButton,callBackFunc:this.okHandle},{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify(),this.pokemonGroup.addChild(this._pokemon.display)},n.prototype.okHandle=function(){this.closeHandle();var t=1;t&&e.ActivityPanel.openActivity(t)},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.onShow=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this._pokemon.setPokemon(1025,!1)];case 1:return e.sent(),[2]}})})},n.prototype.onRemove=function(){this._pokemon.stop()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.TomorrowPanel=t,__reflect(t.prototype,"game.TomorrowPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._starImages=[],e.skinName=WingIconSkin,e.touchChildren=!1,e}return __extends(n,t),n.prototype.setWing=function(t){this.select=!1,this.wingData=t,this.decorationData=null,this.wingImage.source="anim/wing/"+t.type,this.setStar(t.level),this.point.visible=e.checkPlayerWingCanUpgrade(t.id)},n.prototype.setDecoration=function(t){this.select=!1,this.decorationData=t,this.wingData=null,this.wingImage.source="anim/decoration/"+t.type+"_1",this.setStar(t.level),this.point.visible=e.checkPlayerDecorationCanUpgrade(t.id)},n.prototype.setStar=function(e){this.starGroup.removeChildren();for(var t=e||0,n=Math.floor(t/5),i=t%5,a=0,o=0;n>o;o++){var s=this._starImages[a];s||(s=new eui.Image,this._starImages[a]=s),s.source="ui/scene/team/star1",this.starGroup.addChild(s),a++}for(var o=0;i>o;o++){var s=this._starImages[a];s||(s=new eui.Image,this._starImages[a]=s),s.source="ui/scene/team/star",s.scaleX=s.scaleY=1,this.starGroup.addChild(s),a++}},Object.defineProperty(n.prototype,"select",{set:function(e){this.selectImage.visible=e},enumerable:!0,configurable:!0}),n}(e.GameComponent);e.WingIcon=t,__reflect(t.prototype,"game.WingIcon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._maxCount=0,e.firstShowBone=!0,e.skinName=ZuanShiDianjinSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.okButton.image="ui/scene/player/dj3",this.okButton.bg="ui/common/button/btn_03",this._touchEvent=[{target:this.okButton,callBackFunc:this.okHandle},{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify(),this.firstShowBone=!0,this.initAnim()},n.prototype.initAnim=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._bone?[3,2]:(t=this,[4,e.getBone("zuanshidianjin")]);case 1:t._bone=n.sent(),this.animGroup.addChild(this._bone),n.label=2;case 2:return this._bone.play(null,0),this.firstShowBone&&this._bone.stop(),[2]}})})},n.prototype.okHandle=function(){var t=this,n=e.DataManager.playerModel.extension.buyGodCount;return n+1>this._maxCount?void e.showTips(e.Lang.jinrishengyucishubuzu,!0):e.checkCanBuy(this._costItem)?(e.DataManager.playerModel.GetGoldByDamind(this._dataId,this._costItem,this._addItem),this.firstShowBone=!1,this.initAnim(),this.firstShowBone=!0,void setTimeout(function(){t._bone.stop()},1e3)):void e.showTips(e.Lang.nindezuanshibuzu,!0)},n.prototype.runAnim=function(e){var t=this;1!=e&&(this.bjImage.source="ui/scene/player/djx"+e,this.bjImage.scaleX=.3,this.bjImage.scaleY=.3,this.bjImage.visible=!1,egret.Tween.get(this.bjImage).to({visible:!0},200).to({scaleX:1,scaleY:1},400,egret.Ease.backInOut).wait(500).call(function(){t.bjImage.visible=!1})),this.update()},n.prototype.update=function(){var t,n=e.DataManager.playerModel.extension.buyGodCount;for(var i in e.Data.TDaimChGold)e.Data.TDaimChGold.hasOwnProperty(i)&&(e.Data.TDaimChGold[i].typeid==n+1&&(t=e.Data.TDaimChGold[i]),this._maxCount=Math.max(this._maxCount,e.Data.TDaimChGold[i].typeid));t||(t=e.Data.TDaimChGold[this._maxCount]);var a=e.DataManager.playerModel.playerLevel,o=t.getGold*a+Number(e.Constants.DailyDaimChBasics);this._dataId=t.typeid,this.costLabel.text=t.costDam.toString(),this.exchangeLabel.text=o.toString(),this.lastLabel.text=this._maxCount-n+"/"+this._maxCount,this._costItem={type:2,count:t.costDam},this._addItem={type:1,count:o}},n.prototype.onShow=function(){this.update()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.ZuanShiDianjin=t,__reflect(t.prototype,"game.ZuanShiDianjin")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._buttonList=[],e.skinName=TipsSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify();var t=0;for(var n in e.Data.TStrategy){var i=new e.ImageButton;i.skinName=LightYellowButtonSkin,i.image="ui/scene/tips/"+n,i.verticalCenter=-356.5+120*t,i.horizontalCenter=-245.5,i.name=n,this.buttonGroup.addChild(i),this._buttonList.push(i),t++}this._radioGroup=new e.RadioGroup(this.buttonGroup,this._buttonList,this.touchButton,this,this.changeButton),this._radioGroup.touchButton(this._buttonList[0])},n.prototype.touchButton=function(t){this.labelScroller.viewport.scrollV=0,this.labelGroup.removeChildren();var n=e.Data.TStrategy[t.name];if(n){var i=e.createColorText(n.Detail);i.x=10,i.size=30,i.width=444,this.labelGroup.addChild(i)}},n.prototype.changeButton=function(e,t){e.bg=t?"ui/common/button/lightYellow":"ui/common/button/lightYellowG"},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.PlayerTips=t,__reflect(t.prototype,"game.PlayerTips")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName=BookPanelSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this.skillButton.image="langs/jinengtuqian",this.pokemonButton.image="langs/jinglingtuqian",this._touchEvent=[{target:this.skillButton,callBackFunc:this.showDetail},{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.pokemonButton,callBackFunc:this.showDetail}],this.addEventAndNotify(),this.detailGroup.removeChildren(),e.PokemonBook.instance.setInitPokemon(1001)},Object.defineProperty(i.prototype,"type",{set:function(t){this._currentPanel&&this._currentPanel.hide&&this._currentPanel.hide(),this._type=t,this._currentPanel=t==n.pokemon?e.PokemonBook.instance:e.SkillBook.instance,this._currentPanel.show&&this._currentPanel.show(),this.detailGroup.removeChildren(),this.detailGroup.addChild(this._currentPanel)},enumerable:!0,configurable:!0}),i.prototype.showDetail=function(e){var t=e==this.pokemonButton?n.pokemon:n.skill;t!=this._type&&(this.type=t)},i.prototype.onShow=function(){this._type||(this.type=n.pokemon)},i.prototype.closeHandle=function(){this._currentPanel&&this._currentPanel.hide&&this._currentPanel.hide(),e.IdleScene.getInstance().onStage&&(e.IdleScene.getInstance().visible=!0),e.removePopUp(this)},Object.defineProperty(i,"instance",{get:function(){return i._instance||(i._instance=new i),i._instance},enumerable:!0,configurable:!0}),i}(e.PanelComponent);e.BookPanel=t,__reflect(t.prototype,"game.BookPanel");var n;!function(e){e[e.pokemon=1]="pokemon",e[e.skill=2]="skill"}(n=e.BookType||(e.BookType={}))}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._currentLevel=0,e._spIds=[75,76,77,1078,79,80,85,86,87,88,121,122,123,144,145,146,147,148,149,150,151,155,156,159],e.skinName=BookPokemonDetailSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.soundButton.icon="ui/scene/book/jiaosheng",this.attributeButton.icon="ui/scene/book/iconkezhi",this.attributeButton.visible=!0,this.maxAbilityButton.image="ui/scene/book/Tx_manxincjR",this.maxAbilityButton.bg="ui/scene/book/btn_12R",this.maxAbilityButton.imageDisplay.x=this.maxAbilityButton.bgDisplay.x,this.maxAbilityButton.imageDisplay.y=this.maxAbilityButton.bgDisplay.y,this.maxAbilityButton.bgDisplay.width=this.maxAbilityButton.imageDisplay.width=156,this.maxAbilityButton.bgDisplay.height=this.maxAbilityButton.imageDisplay.height=55,this.maxAbilityButton.imageDisplay.x=this.maxAbilityButton.bgDisplay.x,this.maxAbilityButton.imageDisplay.y=this.maxAbilityButton.bgDisplay.y,this.pieceIcon.typeImage.source="ui/scene/book/Icon_suipian",this.pieceIcon.bg.source="ui/scene/book/iconbg",this.exchangeIcon.bg.source="ui/scene/book/iconbg",this.exchangeIcon.typeImage.source="ui/scene/book/Icon_wanneng",this.giftButton.bg="ui/common/button/blueBtn",this.giftButton.image="ui/scene/book/Icon_tianfu",this.maxAbilityButton.imageDisplay.scaleX=this.maxAbilityButton.imageDisplay.scaleY=1,this._touchEvent=[{target:this.attributeButton,callBackFunc:this.touchAttribute},{target:this.maxAbilityButton,callBackFunc:this.touchAbility},{target:this.soundButton,callBackFunc:this.touchSound},{target:this.exchangeIcon,callBackFunc:this.exchangeHandle},{target:this.pieceIcon,callBackFunc:this.exchangeHandle},{target:this.giftButton,callBackFunc:this.touchGift}],this.addEventAndNotify()},n.prototype.touchGift=function(){var t=e.GiftPreview.getInstance();t.setData(this._currentPokemonData),t.show()},n.prototype.exchangeHandle=function(){var t=e.PokemonExchange.getInstance();t.setPokemon(this._currentPokemonData),t.show()},n.prototype.touchAttribute=function(){e.navPanel(67)},n.prototype.touchAbility=function(){0==this._currentLevel?this._currentLevel=this._currentPokemonData.starCan:this._currentLevel=0,this.maxAbilityButton.image=0!=this._currentLevel?"ui/scene/book/Tx_manxincjL":"ui/scene/book/Tx_manxincjR",this.maxAbilityButton.bg=0!=this._currentLevel?"ui/scene/book/btn_12L":"ui/scene/book/btn_12R",this.updateAbility(this._currentPokemonData)},n.prototype.touchSound=function(){this._currentPokemonData&&this._currentPokemonData.voice&&e.SoundManager.playEffect("music/"+this._currentPokemonData.voice)},n.prototype.updateAbility=function(t){if(t){var n=e.Data.TAbility[t.ability];this.abilityNameLabel.textFlow=e.parseColorText(n.name),this.abilityDetailLabel.textFlow=e.parseColorText(e.getAbilityText(n,this._currentLevel))}},n.prototype.setCurrentPokemon=function(t,n){if(void 0===n&&(n=0),this._currentPokemonData=t,this.updatePiece(),this.tipImage.visible=!1,this.totalAddLabel.visible=this.hpAddLabel.visible=this.atkAddLabel.visible=this.defAddLabel.visible=this.spAtkAddLabel.visible=this.spDefAddLabel.visible=this.speedAddLabel.visible=!1,t){this.animGroup.visible=this.nameLabel.visible=this.speciesGroup.visible=!0,this._artPokemon||(this._artPokemon=new e.TeamArtPokemon,this._artPokemon.setScale(1.5),this.animGroup.addChild(this._artPokemon.display)),this._artPokemon.setPokemon(t.id,!1);var i=t.attribute;this.typeImage.source="ui/scene/itemRecovery/type_"+i,this.typeImage2.visible=!1,t.attribute2&&(this.typeImage2.visible=!0,this.typeImage2.source="ui/scene/itemRecovery/type_"+t.attribute2);var a=t.hp+t.atk+t.atkSp+t.def+t.defSp+t.spe;this.totalLabel.text=""+a,this.hpLabel.text=""+t.hp,this.atkLabel.text=""+t.atk,this.spAtkLabel.text=""+t.atkSp,this.speedLabel.text=""+t.spe,this.defLabel.text=""+t.def,this.spDefLabel.text=""+t.defSp,this.nameLabel.text=t.name,this.updateAbility(t),this.starImage.source="ui/scene/book/"+t.rarityStar,this._spIds.indexOf(t.ability)>-1&&(this.tipImage.visible=!0),n&&(this.hpAddLabel.text="+"+n,this.atkAddLabel.text="+"+n,this.spAtkAddLabel.text="+"+n,this.speedAddLabel.text="+"+n,this.defAddLabel.text="+"+n,this.spDefAddLabel.text="+"+n,this.totalAddLabel.text="+"+6*n,this.totalAddLabel.visible=this.hpAddLabel.visible=this.atkAddLabel.visible=this.defAddLabel.visible=this.spAtkAddLabel.visible=this.spDefAddLabel.visible=this.speedAddLabel.visible=!0)}else this.animGroup.visible=this.nameLabel.visible=this.speciesGroup.visible=!1},n.prototype.updatePiece=function(){if(this.exchangeGroup.visible=!1,this.exchangeIcon.visible=!1,this._currentPokemonData&&this._currentPokemonData.debrisNeed){var t=e.splitStringToNumberArray(this._currentPokemonData.debrisNeed,";"),n=e.DataManager.playerModel.getItemCount(t[0]);this.pieceIcon.countLabel.text=n+"/"+t[1],this.pieceIcon.countLabel.textColor=n>=t[1]?gameConfig.TextColors.green:gameConfig.TextColors.red,this.pieceIcon.point=n>=t[1],this.exchangeGroup.visible=!0;var i=e.Data.TOmnipotentDebris[t[0]];if(i){var a=e.splitStringToNumberArray(i.FDebrisCount,";"),o=e.DataManager.playerModel.getItemCount(a[0]),s=Math.floor(o/a[1])*i.TDebrisCount;this.exchangeIcon.countLabel.text="可兑换:"+s,this.exchangeIcon.visible=!0}}},n.prototype.play=function(){this._artPokemon&&this._artPokemon.play(1,0)},n.prototype.stop=function(){this._artPokemon&&this._artPokemon.stop()},n}(e.GameComponent);e.BookPokemonDetail=t,__reflect(t.prototype,"game.BookPokemonDetail")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._typeButtonList=[],e._pokemonList=[],e._gradePokemonList={},e._pokemonCount=15,e.skinName=PokemonBookSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.detail=new e.BookPokemonDetail,this.detailGroup.addChild(this.detail),this.detailButton.bg="ui/common/button/blueBtn",this.detailButton.image="ui/scene/book/Icon_xiangqin",this._touchEvent=[{target:this.detailButton,callBackFunc:this.detailHandle},{target:this.leftArrow,callBackFunc:this.leftHandle},{target:this.rightArrow,callBackFunc:this.rightHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updatePiece,notifyName:e.PlayerModel.PIECE_UPDATE,execute:!1}],this.addEventAndNotify();for(var t=7,i=1;t>=i;i++){var a=new e.PokemonBookTypeButton;a.grade=i,a.horizontalCenter=-320+90*(i-1),this._typeButtonList.push(a),this.typeButtonGroup.addChildAt(a,0);for(var o in e.Data.TElf){this._gradePokemonList[i]||(this._gradePokemonList[i]=[]);var s=e.Data.TElf[o];s.showBook&&s.quality==i&&this._gradePokemonList[i].push(s)}0==this._gradePokemonList[i].length&&(a.isEmpty=!0,a.filters=[gameConfig.ColorMatrix.gray])}this._radioGroup=new e.RadioGroup(this.typeButtonGroup,this._typeButtonList,this.touchTypeButton,this,this.changeTypeButton),e.NotificationCenter.getInstance().addObserver(this,this.setCurrentPokemon,n.TOUCH_POKEMON)},n.prototype.leftHandle=function(){this._currentPage--,this.updatePage()},n.prototype.rightHandle=function(){this._currentPage++,this.updatePage()},n.prototype.detailHandle=function(){var t=e.PokemonDetail.getInstance();t.setCurrentPokemon(this._currentPokemonData.id,this),t.show(),this.visible=!1},n.prototype.touchTypeButton=function(t){if(t.isEmpty)return void e.showTips(e.Lang.zanweikaifang);this._selectButton&&this._selectButton.parent.setChildIndex(this._selectButton,this._typeButtonList.length-1),this._selectButton=t,t.parent.setChildIndex(t,this._typeButtonList.length);var n=this._selectButton.grade,i=this._gradePokemonList[n];this._currentPage=1,this._maxPage=Math.ceil(i.length/this._pokemonCount),this.updatePage()},n.prototype.updatePage=function(){this.pokemonGroup.removeChildren();for(var t=this._selectButton.grade,n=e.DataManager.playerModel.playerFindPokemonList,i=this._gradePokemonList[t],a=(this._currentPage-1)*this._pokemonCount,o=a+this._pokemonCount,s=a;o>s;s++){var r=i[s];if(!r)break;var u=this._pokemonList[s];u||(u=new e.PokemonBookPokemon,this._pokemonList[s]=u),u.setData(r.id,n.indexOf(r.id)>=0),this.pokemonGroup.addChild(u)}this.updateArrow()},n.prototype.updateArrow=function(){this.pageLabel.text=this._currentPage+"/"+this._maxPage,this.leftArrow.visible=this._currentPage>1,this.rightArrow.visible=this._currentPage<this._maxPage},n.prototype.changeTypeButton=function(e,t){e.isEmpty||(e.select=t)},n.prototype.setInitPokemon=function(t){var n=e.Data.TElf[t];this._radioGroup.touchButton(this._typeButtonList[n.quality-1]),this.setCurrentPokemon(n)},n.prototype.setCurrentPokemon=function(e){this._currentPokemonData=e,this.detail.setCurrentPokemon(e);var t=0;e&&(t=e.id);for(var n=0;n<this._pokemonList.length;n++)this._pokemonList[n].select=this._pokemonList[n].pokemonData.id==t},n.prototype.show=function(){this.detail.play(),this.updateGrade()},n.prototype.hide=function(){this.detail.stop()},n.prototype.updatePiece=function(){this.setInitPokemon(this._currentPokemonData.id),this.updateGrade()},n.prototype.updateGrade=function(){var t=[];for(var n in this._gradePokemonList){var i=this._gradePokemonList[n],a=i[0];if(a&&-1==t.indexOf(a.quality))for(var o=0;o<i.length;o++){var s=i[o],r=e.splitStringToNumberArray(s.debrisNeed,";");if(e.DataManager.playerModel.getItemCount(r[0])>=r[1]){t.push(s.quality);break}}}for(var n=0;n<this._typeButtonList.length;n++){var u=this._typeButtonList[n];u.point.visible=!1,-1!=t.indexOf(u.grade)&&(u.point.visible=!0)}},Object.defineProperty(n,"instance",{get:function(){return n._instance||(n._instance=new n),n._instance},enumerable:!0,configurable:!0}),n.TOUCH_POKEMON="PokemonBook_TOUCH_POKEMON",n}(e.GameComponent);e.PokemonBook=t,__reflect(t.prototype,"game.PokemonBook")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=PokemonBookAttributeSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.removeHandle}],this.addEventAndNotify()},n.prototype.removeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.PokemonBookAttribute=t,__reflect(t.prototype,"game.PokemonBookAttribute")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.skinName=PokemonBookPokemonSkin,n.touchChildren=!1,n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.NotificationCenter.getInstance().postNotification(e.PokemonBook.TOUCH_POKEMON,n.pokemonData)},n),n._pokemonImage=new e.PokemonIconArtAnim,n.pokemonGroup.addChild(n._pokemonImage.display),n}return __extends(n,t),n.prototype.setShowData=function(t,n,i){return __awaiter(this,void 0,void 0,function(){var a,o;return __generator(this,function(s){switch(s.label){case 0:return this.pokemonData=e.Data.TElf[t],this._pokemonImage.setPokemon(t),this.touchEnabled=!1,this.pokemonGroup.visible=!0,this._pokemonImage.display.filters=[],this.exchangePoint.visible=!1,this.chengse_bgGroup.visible=!1,this.exchangeLabel.visible=!0,this.exchangeLabel.text=i,this.matImage.visible=!1,a=!1,this.nameLabel.visible=!1,n?(this.showPiece("icon/item/piece"+this.pokemonData.quality),[3,6]):[3,1];case 1:return this.pieceImage&&(this.pieceImage.visible=!1),this.nameLabel.visible=!0,this.nameLabel.textColor=e.TeamBagPokemonIcon.textColor[this.pokemonData.quality],4!=this.pokemonData.quality?[3,4]:(this.chengse_bgGroup.visible=!0,this.chengse_bg?[3,3]:(o=this,[4,e.getBone("chengse_bg")]));case 2:o.chengse_bg=s.sent(),this.chengse_bg.setTimeScale(2),this.chengse_bgGroup.addChildAt(this.chengse_bg,1),this.chengse_bg.play(null,0),console.log("pokemon_ID::::"+this.pokemonData.id+" 品质:::::"+this.pokemonData.quality),s.label=3;case 3:return[3,5];case 4:this.chengse_bgGroup.visible=!1,s.label=5;case 5:this.nameLabel.text=this.pokemonData.name,s.label=6;case 6:return this._pokemonImage.play(1),[2]}})})},n.prototype.setData=function(t,n,i){if(void 0===i&&(i=!0),this.pokemonData=e.Data.TElf[t],this._pokemonImage.setPokemon(t),this.find=n,this.touchEnabled=!0,this.pokemonGroup.visible=!0,this._pokemonImage.display.filters=[],n||(this._pokemonImage.display.filters=[gameConfig.ColorMatrix.gray]),this.exchangePoint.visible=!1,this.exchangeLabel.visible=!1,this.pokemonData.debrisNeed&&i){this.exchangeLabel.visible=!0;var a=e.splitStringToNumberArray(this.pokemonData.debrisNeed,";"),o=e.DataManager.playerModel.getItemCount(a[0]),s=void 0;o>=a[1]?(this.exchangePoint.visible=!0,s=gameConfig.TextColors.green):s=gameConfig.TextColors.red,this.exchangeLabel.textFlow=[{text:""+o,style:{textColor:s}},{text:"/"+a[1],style:{textColor:gameConfig.TextColors.white}}]}},n.prototype.setCatchPokemonData=function(t){this.pokemonData=e.Data.TElf[t],this._pokemonImage.setPokemon(t),this.touchEnabled=!1,this.pokemonGroup.visible=!0,this.exchangePoint.visible=!1,this.exchangeLabel.visible=!1},n.prototype.showPiece=function(e){this.pieceImage||(this.pieceImage=new eui.Image,this.pieceImage.x=this.pieceImage.y=0,this.addChildAt(this.pieceImage,2)),this.pieceImage.source=e,this.pieceImage.visible=!0},Object.defineProperty(n.prototype,"select",{set:function(e){this.matImage.source=e?"ui/common/panel/mat_select":"ui/common/panel/mat",e?this._pokemonImage.play(1):this._pokemonImage.stop()},enumerable:!0,configurable:!0}),n.prototype.showDetail=function(){var t=e.PokemonDetail.getInstance();t.setCurrentPokemon(this.pokemonData.id),t.show()},n}(e.GameComponent);e.PokemonBookPokemon=t,__reflect(t.prototype,"game.PokemonBookPokemon")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.isEmpty=!1,t.skinName=PokemonBookTypeButtonSkin,t.touchChildren=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"grade",{get:function(){return this._grade},set:function(e){this._grade=e,this.imageDisplay.source="langs/grade"+e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"select",{set:function(e){this.bgDisplay.source=e?"ui/common/button/book_select":"ui/common/button/book_unselect"},enumerable:!0,configurable:!0}),t}(e.GameComponent);e.PokemonBookTypeButton=t,__reflect(t.prototype,"game.PokemonBookTypeButton")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._artPokemonList=[],e._arrowImage=[],e._skillList=[],e.skinName=PokemonBookDetailSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.detail=new e.BookPokemonDetail,this.detailGroup.addChild(this.detail),this.getButton.image="ui/scene/book/huoqu",this.noneLabel.text=e.Lang.wufajinhua,this._touchEvent=[{target:this.closeButton,callBackFunc:this.removeHandle},{target:this.getButton,callBackFunc:this.touchGet}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updatePiece,notifyName:e.PlayerModel.PIECE_UPDATE,execute:!1}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.touchPokemon,n.TOUCH_POKEMON),e.NotificationCenter.getInstance().addObserver(this,this.removeHandle,n.REMOVE)},n.prototype.touchGet=function(){e.PokemonGet.getInstance().setLastPanel(this),e.PokemonGet.getInstance().show()},n.prototype.touchPokemon=function(e){this._currentArtPokemon&&(this._currentArtPokemon.select=!1),this._currentArtPokemon=e,this._currentArtPokemon.select=!0,this.setCurrentPokemon(e.pokemonId,this._fromBook)},n.prototype.removeHandle=function(){this.detail.stop();for(var t=0;t<this._artPokemonList.length;t++)this._artPokemonList[t].stop();e.removePopUp(this),this._fromBook&&(this._fromBook.visible=!0)},n.prototype.setCurrentPokemon=function(t,n,i){void 0===n&&(n=null),void 0===i&&(i=0),this._fromBook=n;var a=e.Data.TElf[t];if(this.skillScroller.viewport.scrollV=0,this.skillGroup.removeChildren(),this._currentPokemonData=a,this.noneLabel.visible=!0,this.evaluationGroup.removeChildren(),this.detail.setCurrentPokemon(a,i),a){this.detail.play();for(var o=e.splitStringToNumberArray(a.skill),s=0;s<o.length;s++){var r=o[s],u=e.Data.TElfSkill[r[0]],l=this._skillList[s];l||(l=new e.PokemonDetailSkill,this._skillList[s]=l),l.setData(u,r[1]),this.skillGroup.addChild(l)}for(var c=t,h=!1;!h;)e.Data.TElf[c].downElf?c=e.Data.TElf[c].downElf:h=!0;var p=0,g=e.Data.TElf[c];if((g.upElf||g.upElfSp)&&!g.sotpGrow){this.noneLabel.visible=!1;var d=this._artPokemonList[p];d||(d=new e.PokemonDetailArt,this._artPokemonList[p]=d),d.setSpecialUp(null,g.id),this.evaluationGroup.addChild(d);var m=this._arrowImage[p];m||(m=new eui.Image("ui/scene/team/doubleArrow"),this._arrowImage[p]=m),this.evaluationGroup.addChild(m),p++}for(var f=void 0;(g.upElf||g.upElfSp)&&!g.sotpGrow;){var d=this._artPokemonList[p];d||(d=new e.PokemonDetailArt,this._artPokemonList[p]=d),d.nextPokemon=null,f&&(f.nextPokemon=d),f=d,d.setSpecialUp(g.upElfSp,g.upElf),this.evaluationGroup.addChild(d);var _=e.Data.TElf[g.upElf];if(!_&&g.upElfSp){var y=e.splitStringToNumberArray(g.upElfSp,"|"),v=y.indexOf(a.downElf);-1!=v&&(d.currentIndex=v,d.updateArrow()),_=e.Data.TElf[y[d.currentIndex]]}if((_.upElf||_.upElfSp)&&!_.sotpGrow){var m=this._arrowImage[p];m||(m=new eui.Image("ui/scene/team/doubleArrow"),this._arrowImage[p]=m),this.evaluationGroup.addChild(m)}g=_,p++}}},n.prototype.updatePiece=function(){this.setCurrentPokemon(this._currentPokemonData.id,this._fromBook)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.TOUCH_POKEMON="PokemonDetail_TOUCH_POKEMON",n.REMOVE="PokemonDetail_REMOVE",n}(e.PanelComponent);e.PokemonDetail=t,__reflect(t.prototype,"game.PokemonDetail")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.skinName=PokemonDetailArtSkin,n._artPokemon=new e.TeamArtPokemon,n.animGroup.addChild(n._artPokemon.display),n.touchChildren=!0,n.touchEnabled=!1,n._touchEvent=[{target:n.touchGroup,callBackFunc:n.touchHandle},{target:n.leftArrow,callBackFunc:n.touchArrow},{target:n.rightArrow,callBackFunc:n.touchArrow}],n.addEventAndNotify(),n}return __extends(n,t),Object.defineProperty(n.prototype,"select",{set:function(e){this.selectImage.source=e?"ui/common/panel/mat_select":"ui/common/panel/mat"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(e){this._currentIndex=e},enumerable:!0,configurable:!0}),n.prototype.touchArrow=function(t){if(t==this.leftArrow?this._currentIndex--:this._currentIndex++,this.updateArrow(),this.nextPokemon){var n=e.Data.TElf[this._elfList[this._currentIndex]];this.nextPokemon.setSpecialUp(n.upElfSp,n.upElf)}},n.prototype.touchHandle=function(){e.NotificationCenter.getInstance().postNotification(e.PokemonDetail.TOUCH_POKEMON,this)},n.prototype.setPokemon=function(t){this.pokemonId=t,this._artPokemon.setPokemon(t,!1);var n=e.Data.TElf[t];this.nameLabel.text=n.name,this.nameLabel.textColor=e.TeamBagPokemonIcon.textColor[n.quality]},n.prototype.setSpecialUp=function(t,n){this.upElfSp=t,t?(this.leftArrow.visible=this.rightArrow.visible=!0,this._elfList=e.splitStringToNumberArray(t),this._elfList[this._currentIndex]||(this._currentIndex=0),this.updateArrow()):(this.leftArrow.visible=this.rightArrow.visible=!1,this.setPokemon(n))},n.prototype.updateArrow=function(){this.leftArrow.visible=this._currentIndex>0,this.rightArrow.visible=this._currentIndex<this._elfList.length-1,this.setPokemon(this._elfList[this._currentIndex])},n.prototype.stop=function(){this._artPokemon.stop()},n}(e.GameComponent);e.PokemonDetailArt=t,__reflect(t.prototype,"game.PokemonDetailArt")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._skillType=[,"单体","群体","单体","群体","变化","弹射","连击"],e.skinName=PokemonDetailSkillSkin,e}return __extends(n,t),n.prototype.setData=function(t,n){switch(this.skillIcon.setSkill(t.id),this.currentSkillDetailLabel.text=t.desc,this.unlockLabel.text=e.formatString(e.Lang.qinmidudengjijiesuo,n),this.typeLabel.text=this.damageLabel.text="",t.damage&&(this.damageLabel.text=e.Lang.weili+": "+t.damage),this.costLabel.text=e.Lang.xiaohao+": "+t.ex+"SP",this.typeLabel.text=e.Lang.fanwei+": "+this._skillType[t.skillType],t.skillType){case 3:case 4:this.skillTypeImage.source="ui/scene/skill/zhi";break;case 5:this.skillTypeImage.source="ui/scene/skill/bian";break;default:t.DamageType?this.skillTypeImage.source="ui/scene/skill/te":this.skillTypeImage.source="ui/scene/skill/wu"}},n}(e.GameComponent);e.PokemonDetailSkill=t,__reflect(t.prototype,"game.PokemonDetailSkill")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=PokemonGetSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){if(this.niudan.text=e.Lang.niudan,this.shangdian.text=e.Lang.shangdian,this.shouliequ.text=e.Lang.shouliequ,this.gashaponButton.label=this.shopButton.label=this.huntButton.label=e.Lang.qianwang,this._touchEvent=[{target:this.gashaponButton,callBackFunc:this.touchGashapon},{target:this.shopButton,callBackFunc:this.touchShop},{target:this.huntButton,callBackFunc:this.touchHunt},{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify(),e.isMobile){var t=this.shopButton.parent;t.parent.removeChild(t)}},n.prototype.touchGashapon=function(){e.NotificationCenter.getInstance().postNotification(e.PokemonDetail.REMOVE),this.closeHandle(),this._lastPanel.removeHandle(),e.navPanel(3)},n.prototype.touchShop=function(){e.NotificationCenter.getInstance().postNotification(e.PokemonDetail.REMOVE),this.closeHandle(),this._lastPanel.removeHandle(),e.navPanel(14)},n.prototype.touchHunt=function(){e.NotificationCenter.getInstance().postNotification(e.PokemonDetail.REMOVE),this.closeHandle(),this._lastPanel.removeHandle(),e.navPanel(8)},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.setLastPanel=function(e){this._lastPanel=e},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.PokemonGet=t,__reflect(t.prototype,"game.PokemonGet")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._typeButtonList=[],e._typeOne=1,e._typeTwo=1,e._pokemonList={},e._artPokemonList=[],e.skinName=RecommendSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){for(var t in e.Data.TRecommend){var n=e.Data.TRecommend[t];this._pokemonList[n.type1]||(this._pokemonList[n.type1]={}),this._pokemonList[n.type1][n.type2]||(this._pokemonList[n.type1][n.type2]=[]),this._pokemonList[n.type1][n.type2].push(n.elfId)}this.typeButton1.label=e.Lang.xinshouzhenrong,this.typeButton2.label=e.Lang.shenshouzhenrong,this.typeButton3.label=e.Lang.chaoshenzhenrong;for(var t=1;5>=t;t++){var i=new e.RecommendTypeButton;switch(i.type=t,t){case 1:i.label=e.Lang.qianggong;break;case 2:i.label=e.Lang.fangyu;break;case 3:i.label=e.Lang.sugong;break;case 4:i.label=e.Lang.kongzhi;break;case 5:i.label=e.Lang.xiaohao}this.typeButtonGroup.addChild(i),this._typeButtonList.push(i)}this.radioOne=new e.RadioGroup(this.typeOneGroup,[this.typeButton1,this.typeButton2,this.typeButton3],this.touchTypeOne,this,this.changeTypeOne),this.radioTwo=new e.RadioGroup(this.typeButtonGroup,this._typeButtonList,this.touchTypeTwo,this,this.changeTypeTwo),this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify(),this.pokemonGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t.showDetail()},this)},n.prototype.touchTypeOne=function(e){switch(e){case this.typeButton1:this._typeOne=1;break;case this.typeButton2:this._typeOne=2;break;case this.typeButton3:this._typeOne=3}this.updatePokemonList()},n.prototype.changeTypeOne=function(e,t){e.bg=t?"ui/common/button/greenBtn":"ui/common/button/greenBtnGray"},n.prototype.touchTypeTwo=function(e){this._typeTwo=e.type,this.updatePokemonList()},n.prototype.changeTypeTwo=function(e,t){e.select=t},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.updatePokemonList=function(){this.pokemonGroup.removeChildren();
for(var t=this._pokemonList[this._typeOne][this._typeTwo],n=0;n<t.length;n++){var i=this._artPokemonList[n];i||(i=new e.RecommendPokemon,this._artPokemonList[n]=i),i.setPokemon(t[n]),this.pokemonGroup.addChild(i)}},n.prototype.onShow=function(){this.radioOne.touchButton(this.typeButton1),this.radioTwo.touchButton(this._typeButtonList[0])},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.RecommendPanel=t,__reflect(t.prototype,"game.RecommendPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.skinName=RecommendPokemonSkin,n.artPokemon=new e.TeamArtPokemon,n.animGroup.addChild(n.artPokemon.display),n.touchChildren=!1,n}return __extends(n,t),n.prototype.setPokemon=function(t){this.pokemonData=e.Data.TElf[t],this.artPokemon.setPokemon(t,!1),this.nameLabel.text=this.pokemonData.name,this.nameLabel.textColor=e.TeamBagPokemonIcon.textColor[this.pokemonData.quality],this.typeImage.source="icon/skillType/"+this.pokemonData.attribute},n.prototype.showDetail=function(){var t=e.PokemonDetail.getInstance();t.setCurrentPokemon(this.pokemonData.id),t.show()},n}(e.GameComponent);e.RecommendPokemon=t,__reflect(t.prototype,"game.RecommendPokemon")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=RecommendTypeButtonSkin,t.touchChildren=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"bg",{set:function(e){this._bg=e,this.bgDisplay&&(this.bgDisplay.source=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{set:function(e){this._label=e,this.labelDisplay&&(this.labelDisplay.text=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"select",{set:function(e){this.bgDisplay.source=e?"ui/common/button/bookSelect":"ui/common/button/book",this.labelDisplay.textColor=e?gameConfig.TextColors.orangeYellow:gameConfig.TextColors.white},enumerable:!0,configurable:!0}),t}(e.GameComponent);e.RecommendTypeButton=t,__reflect(t.prototype,"game.RecommendTypeButton")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=PokemonExchangeSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.exchangeButton.image="ui/scene/exchange/duihuan",this.pieceExchangeButton.image="ui/scene/exchange/duihuanyici",this.pieceTenExchangeButton.image="ui/scene/exchange/duihuanshici",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.exchangeButton,callBackFunc:this.exchangePokemon},{target:this.pieceExchangeButton,callBackFunc:this.exchangeOne},{target:this.pieceTenExchangeButton,callBackFunc:this.exchangeTen}],this.addEventAndNotify(),this.showUI_jt()},n.prototype.closeHandle=function(){this._UI_jt01Bone.stop(),e.removePopUp(this)},n.prototype.showUI_jt=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._UI_jt01Bone?[3,2]:(t=this,[4,e.getBone("UI_jt01")]);case 1:t._UI_jt01Bone=n.sent(),this.UI_jt01Group.addChildAt(this._UI_jt01Bone,0),n.label=2;case 2:return this._UI_jt01Bone.play(null,0),[2]}})})},n.prototype.onShow=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.showUI_jt(),[2]})})},n.prototype.exchangePokemon=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._canExchangePokemon?e.checkCanBuy({type:1,count:this._currentPokemonData.CostMoney})?[4,e.DataManager.playerModel.SwapDebrisToPet(this._currentPokemonData.id)]:[3,2]:[3,3];case 1:t.sent(),this.setPokemon(this._currentPokemonData),t.label=2;case 2:return[3,4];case 3:e.showTips(e.Lang.nindesuipianbuzu,!0),t.label=4;case 4:return[2]}})})},n.prototype.exchangeOne=function(){this.exchangePiece(1)},n.prototype.exchangeTen=function(){this.exchangePiece(10)},n.prototype.exchangePiece=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return t=Math.min(t,this._canExchangePieceCount),t>0?[4,e.DataManager.playerModel.OmnipotentSwapDebris(this._exchangeData.Fdebris,t)]:[3,2];case 1:return n.sent(),this.setPokemon(this._currentPokemonData),[3,3];case 2:e.showTips(e.Lang.nindesuipianbuzu,!0),n.label=3;case 3:return[2]}})})},n.prototype.setPokemon=function(t){if(this._currentPokemonData=t,this._canExchangePokemon=!1,this._goldEnough=!1,this._canExchangePieceCount=0,this.exchangeGroup.visible=!1,t&&t.debrisNeed){var n=e.splitStringToNumberArray(this._currentPokemonData.debrisNeed,";"),i=e.DataManager.playerModel.getItemCount(n[0]);i>=n[1]&&(this._canExchangePokemon=!0),this.pokemonLabel.text=i+"/"+n[1],this.pokemonLabel.textColor=this._canExchangePokemon?gameConfig.TextColors.green:gameConfig.TextColors.red,this.pokemonIcon.item={type:n[0],count:0};var a=e.DataManager.playerModel.gold;a>=t.CostMoney&&(this._goldEnough=!0),this.costLabel.text=""+t.CostMoney,this.costLabel.textColor=this._goldEnough?gameConfig.TextColors.green:gameConfig.TextColors.red,this.exchangeButton.point=this._canExchangePokemon&&this._goldEnough;var o=e.Data.TOmnipotentDebris[n[0]];if(this._exchangeData=o,o){this.exchangeGroup.visible=!0;var s=e.splitStringToNumberArray(o.FDebrisCount,";"),r=e.DataManager.playerModel.getItemCount(s[0]);this._canExchangePieceCount=Math.floor(r/s[1])*o.TDebrisCount,this.superIcon.item={type:s[0],count:0},this.exchangePokemonIcon.item={type:n[0],count:0},this.superPieceLabel.text="需要:"+r+"/"+s[1],this.superPieceLabel.textColor=r>=s[1]?gameConfig.TextColors.green:gameConfig.TextColors.red,this.getLabel.text="可获得:"+o.TDebrisCount}}},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.PokemonExchange=t,__reflect(t.prototype,"game.PokemonExchange")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=preOrderSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.rechargeButton,callBackFunc:this.rechargeHandle},{target:this.freeGroup,callBackFunc:this.freeDetail},{target:this.payGroup,callBackFunc:this.payDetail}],this.confirmButton.bg="ui/scene/activity/btn_12",this.rechargeButton.bg="ui/scene/activity/btn_11",this.addEventAndNotify()},n.prototype.freeDetail=function(){var t=e.ItemInfoPanel.getInstance();t.setData(e.Data.TItem[e.splitStringToNumberArray(this.data.itemForFree,";")[0]]),t.show()},n.prototype.payDetail=function(){var t=e.ItemInfoPanel.getInstance();t.setData(e.Data.TItem[e.splitStringToNumberArray(this.data.itemForPay,";")[0]]),t.show()},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.GetAppointmentGift(0)];case 1:return t.sent(),this.updateInfo(this.info),[2]}})})},n.prototype.rechargeHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=e.DataManager.playerModel.getActivityInfo().eventInfo.appointment,t.Recharge>0?[4,e.DataManager.playerModel.GetAppointmentGift(1)]:[3,2];case 1:return n.sent(),this.updateInfo(this.info),[3,3];case 2:SDK.recharge(15),n.label=3;case 3:return[2]}})})},n.prototype.updateInfo=function(t){if(t){this.info=t,this.data=e.Data.TAppointmentGift[1];var n=!1;this.timeLabel.text=e.formatTime(t.start,"MM月dd日")+"至"+e.formatTime(t.end,"MM月dd日");var i=e.DataManager.playerModel.getActivityInfo().eventInfo.appointment;return 0==(1&i.State)?(this.confirmButton.image="ui/scene/preOrder/2",this.confirmButton.touchEnabled=!0,n=!0):(this.confirmButton.image="ui/scene/preOrder/6",this.confirmButton.touchEnabled=!1),0==(2&i.State)?(this.rechargeButton.touchEnabled=!0,i.Recharge>0?(this.rechargeButton.image="ui/scene/preOrder/2",n=!0):this.rechargeButton.image="ui/scene/preOrder/3"):(this.rechargeButton.image="ui/scene/preOrder/7",this.rechargeButton.touchEnabled=!1),n}},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.PreOrderPanel=t,__reflect(t.prototype,"game.PreOrderPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.postTouchNotify=function(){this.play()},n.prototype.endMovePokemon=function(t){e.NotificationCenter.getInstance().postNotification(e.PvpPokemonSetting.MOVE_POKEMON_END,{icon:this,event:t})},n}(e.TeamBagPokemonIcon);e.PvpBagPokemon=t,__reflect(t.prototype,"game.PvpBagPokemon")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=PvpCheckButtonSkin,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.check=!1},Object.defineProperty(t.prototype,"check",{set:function(e){this.checkImage.visible=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e,this.typeImage.source="ui/scene/itemRecovery/type_"+e},enumerable:!0,configurable:!0}),t}(e.EffectButton);e.PvpCheckButton=t,__reflect(t.prototype,"game.PvpCheckButton")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._battlePokemonData=[],e.skinName=PvpCompetitorSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.challengeButton.image="langs/Tx_tiaozhan",this.challengeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.challengeHandle,this),this._avatar=new e.BattleAvatar,this._pokemon=new e.TeamArtPokemon},n.prototype.challengeHandle=function(){1==this._type?e.NotificationCenter.getInstance().postNotification(e.PvpTianTi.CHALLENGE,this):e.NotificationCenter.getInstance().postNotification(e.PvpDanTiao.CHALLENGE,this)},n.prototype.setCompetitorInfo=function(t,n){if(void 0===n&&(n=1),this._competitorInfo=t,this._battlePokemonData=[],this._type=n,this.avatarGroup.removeChildren(),this.stop(),t){var i=e.getHomeAttribute(t.player.home.level,t.player.home.placed),a=t.player.science,o=t.player.honorLv,s=t.player.playerInfo;this.nameLabel.text=s.name;for(var r=t.player.battlePms,u=t.player.team,l=u.formation,c=0,h=u.gridConfig,p=0;p<r.length;p++){for(var g=r[p],d=2==this._type?1:0,m=0;m<h.length;m++)h[m].id==g.id&&(d=h[m].grid);var f=e.parseBattlePokemonData(g,l,d,!1,!1,u.titles,u.badges,u.roles,1,!1,e.getVipLevelByRecharge(s.vipExp),u,i,a,u.artifacts,o);this._battlePokemonData.push(f),c+=e.countPokemonBattleCount(f)}this.battleCountLabel.text=e.Lang.zhanli+": "+e.setNumber(c),this.rankLabel.text=e.Lang.paiming+": "+t.pvpInfo.rank,1==this._type?(this._avatar.setAvatar(s.gender),this._avatar.setWing(s.wing,1),this._avatar.setDecoration(s.orna,1),this.avatarGroup.addChild(this._avatar.display)):(this._pokemon.setPokemon(r[0].type),this.avatarGroup.addChild(this._pokemon.display))}},n.prototype.play=function(){1==this._type?this._avatar.play(1):this._pokemon.play(1)},n.prototype.stop=function(){this._avatar.stop(),this._pokemon.stop()},Object.defineProperty(n.prototype,"competitorInfo",{get:function(){return this._competitorInfo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"battlePokemonData",{get:function(){return this._battlePokemonData},enumerable:!0,configurable:!0}),n}(e.GameComponent);e.PvpCompetitor=t,__reflect(t.prototype,"game.PvpCompetitor")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._competitorList=[],e._rewardItemList=[],e._interval=null,e.skinName=PvpDanTiaoSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this._refreshDelay=Number(e.Constants.pvpRefreshTime),this.setPokemonButton.image="langs/Tx_shezhichuzhan",this.changeCompetitorButton.image="langs/Tx_huanpids",this._touchEvent=[{target:this.addCountButton,callBackFunc:this.addChallengeCount},{target:this.setPokemonButton,callBackFunc:this.setBattlePokemon},{target:this.changeCompetitorButton,callBackFunc:this.changeHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updatePlayerName,notifyName:e.PlayerModel.NAME_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updatePlayerPvpInfo,notifyName:e.PlayerModel.PVP_INFO_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateCompetitor,notifyName:e.PlayerModel.PVP_PET_COMPETITORS_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updatePlayerPokemon,notifyName:e.PlayerModel.PVP_PET_CHANGE,execute:!0}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,function(n){e.DataManager.playerModel.pvpDanTiaoInfo.remainCount>0?t.challengHandle(n):e.showTips(e.Lang.ninmeiyoutiaozhancishule,!0)},n.CHALLENGE)},n.prototype.updatePlayerPvpInfo=function(t){if(!t||2==t){var n=e.DataManager.playerModel.pvpDanTiaoInfo;this.rankLabel.text=e.Lang.paiming+": "+n.rank,this.scoreLabel.text=e.Lang.jifen+": "+e.setNumber(e.DataManager.playerModel.pvpScore),this.countLabel.text=e.Lang.jinrishengyutiaozhancishu+": "+n.remainCount,this._currentReward=null;for(var i in e.Data.TPVPComReward)if(e.Data.TPVPComReward.hasOwnProperty(i)){var a=e.Data.TPVPComReward[i],o=e.splitStringToNumberArray(a.rank,";"),s=o[0],r=o[1];if(n.rank>=s&&n.rank<=r){this._currentReward=a;break}}if(this.noneLabel.visible=!0,this.rewardGroup.removeChildren(),this._currentReward){this.noneLabel.visible=!1;for(var u=e.splitStringToNumberArray(this._currentReward.reward),i=0;i<u.length;i++){var l=this._rewardItemList[i];l||(l=new e.PvpRewardItem,this._rewardItemList[i]=l),l.setItem(u[i]),this.rewardGroup.addChild(l)}}this.updateTime()}},n.prototype.updateTime=function(){var t=e.DataManager.playerModel.pvpDanTiaoInfo;this._nowTime=e.getNowTime();var n=(this._nowTime.getTime()-t.lastChangeTime.getTime())/1e3,i=this._refreshDelay-n;0>=i?(this._canRefresh=!0,this.changeTimeLabel.visible=!1):(this._canRefresh=!1,this.changeTimeLabel.visible=!0,this.changeTimeLabel.text=e.Lang.shengyushijian+":"+e.s2hms(i))},n.prototype.updatePlayerName=function(){this.nameLabel.text=e.DataManager.playerModel.playerName},n.prototype.challengHandle=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return(n=e.DataManager.playerModel.getPokemonInfoById(e.DataManager.playerModel.pvpDanTiaoInfo.petId))?(i=t.competitorInfo,e.showWaitPanel(),a=e.BattleScene.getInstance(),a.pvpType=2,a.competitorInfo=i,a.competitorPokemonData=t.battlePokemonData,a.pvpPlayerTeam=[e.parseBattlePokemonData(n,0,1)],[4,a.initBattle(3)]):(e.showTips(e.Lang.qingshezhishangzhenbaokemng,!0),[2]);case 1:return o.sent(),e.hideWaitPanel(),e.GameLayer.battleLayer.addChild(a),a.run(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),[2]}})})},n.prototype.endBattle=function(){e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!0,e.NotificationCenter.getInstance().removeObserver(this,e.BattleScene.QUIT_BATTLE)},n.prototype.addChallengeCount=function(){var t=this,n=e.CheckPanel.getInstance(),i=e.DataManager.playerModel.pvpDanTiaoInfo,a=Number(e.Constants.pvpCountBasePrice);a+=Number(e.Constants.pvpCountAddPrice)*i.dailyBuyCount,n.setData(e.formatString(e.Lang.ninquedingyaohuafeiduoshaoshenmezengjiayicitiaozhancishuma,a,e.Data.TItem[2].name),function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n?[4,e.DataManager.playerModel.buyPvpCount(a,2)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}),n.show()},n.prototype.setBattlePokemon=function(){e.PvpPokemonSetting.getInstance().setTypeAndShow(2)},n.prototype.changeHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n=this;return __generator(this,function(i){switch(i.label){case 0:return this._canRefresh?[3,1]:(t=e.CheckPanel.getInstance(),t.setData(e.formatString(e.Lang.ninquedingyaofafeiduoshaozuanshilaishuaxinliebiaoma,e.Constants.pvpRefreshPrice),function(t){return __awaiter(n,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return t?[4,e.DataManager.playerModel.changePvpCompetitor(!1,2)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})}),t.show(),[3,3]);case 1:return[4,e.DataManager.playerModel.changePvpCompetitor(!0,2)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},n.prototype.updateCompetitor=function(){this.competitorGroup.removeChildren();var t=e.DataManager.playerModel.getPvpCompetitorListByType(2);if(0==t.length)e.DataManager.playerModel.changePvpCompetitor(!0,2);else for(var n=0;n<t.length;n++){var i=this._competitorList[n];i||(i=new e.PvpCompetitor,this._competitorList[n]=i),i.setCompetitorInfo(t[n],2),i.play(),this.competitorGroup.addChild(i)}},n.prototype.updatePlayerPokemon=function(){if(this._currentPokemon||(this._currentPokemon=new e.TeamArtPokemon,this.pokemonAvatarGroup.addChild(this._currentPokemon.display)),e.DataManager.playerModel.pvpDanTiaoInfo.petId<=0)return void(this._currentPokemon.visible=!1);var t=e.DataManager.playerModel.getPokemonInfoById(e.DataManager.playerModel.pvpDanTiaoInfo.petId);t&&(this._currentPokemon.visible=!0,this._currentPokemon.setPokemon(t.type,!1),this.battleCountLabel.text=e.Lang.zhanli+": "+e.setNumber(e.countPokemonBattleCount(e.parseBattlePokemonData(t,0,0))))},n.prototype.show=function(){this._currentPokemon&&this._currentPokemon.play(1);for(var e=0;e<this._competitorList.length;e++)this._competitorList[e].play();this._interval=egret.setInterval(this.updateTime,this,1e3)},n.prototype.hide=function(){this._currentPokemon&&this._currentPokemon.stop();for(var e=0;e<this._competitorList.length;e++)this._competitorList[e].stop();egret.clearInterval(this._interval),this._interval=null},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.CHALLENGE="PvpDanTiao_CHALLENGE",n}(e.GameComponent);e.PvpDanTiao=t,__reflect(t.prototype,"game.PvpDanTiao")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._throneList=[],e.skinName=PvpDaShiSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.setPokemonButton.label=e.Lang.shezhichuzhan,this.getRankButton.icon="langs/btn_wodepm",this._touchEvent=[{target:this.setPokemonButton,callBackFunc:this.setPokemon},{target:this.addCountButton,callBackFunc:this.addCount},{target:this.getRankButton,callBackFunc:this.showMyRank}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateInfo,notifyName:e.PlayerModel.PVP_INFO_UPDATE,execute:!1}],this.addEventAndNotify();var t={};for(var n in e.Data.TPVPPokemonMaster){var i=e.Data.TPVPPokemonMaster[n];t[i.attribute]||(t[i.attribute]=[]),t[i.attribute].push(i)}for(var n in t){var a=new e.PvpDaShiThroneItem;a.data=t[n],this._throneList.push(a),this.itemGroup.addChild(a)}e.NotificationCenter.getInstance().addObserver(this,this.showRank,e.PvpDaShiThroneItem.TOUCH)},n.prototype.setPokemon=function(){e.PvpPokemonSetting.getInstance().setTypeAndShow(3)},n.prototype.addCount=function(){var t=this,n=e.CheckPanel.getInstance(),i=Number(e.Constants.pvpCountBasePrice);i+=Number(e.Constants.pvpCountAddPrice)*e.DataManager.playerModel.PvpThroneInfo.buyCount,n.setData(e.formatString(e.Lang.ninquedingyaohuafeiduoshaoshenmezengjiayicitiaozhancishuma,i,e.Data.TItem[2].name),function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n?[4,e.DataManager.playerModel.buyPvpCount(i,3)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}),n.show()},n.prototype.showRank=function(t){var n=e.PvpDaShiRankPanel.getInstance();n.setData(t),n.show()},n.prototype.showMyRank=function(){e.PvpDaShiRankShow.getInstance().show()},n.prototype.updateInfo=function(t){if(!t||3==t){var n=e.DataManager.playerModel.PvpThroneInfo.lastChallengeCount;this.countLabel.text=e.Lang.jinrishengyucishu+": "+n;for(var i=0;i<this._throneList.length;i++)this._throneList[i].update()}},n.prototype.show=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.updateThroneInfo()];case 1:return t.sent(),this.updateInfo(),[2]}})})},n.prototype.hide=function(){},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.PvpDaShi=t,__reflect(t.prototype,"game.PvpDaShi")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.monsterList=[],e._ifComputer=!1,e.skinName=PvpDaShiRankItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.okButton.image="langs/Tx_tiaozhan",this._touchEvent=[{target:this.okButton,callBackFunc:this.challenge}],this.addEventAndNotify()},n.prototype.challenge=function(){var t=this,n=e.CheckPanel.getInstance();n.setData(e.Lang.shifoujinxingtiaozhan,function(n){return __awaiter(t,void 0,void 0,function(){var t,i,a,o,s,r;return __generator(this,function(u){switch(u.label){case 0:return n?this._ifComputer?(t=this,[4,e.PlayerModel.getMissionPokemonList(this._data.PokemonID,1)]):[3,2]:[3,4];case 1:t.monsterList=u.sent(),u.label=2;case 2:if(e.DataManager.playerModel.PvpThroneInfo.lastChallengeCount<=0)return e.showTips(e.Lang.nindecishubuzu,!0),[2];if(i=[],a=e.DataManager.playerModel.PvpThroneInfo.playerPms[this._data.attribute])for(o=0;o<a.length&&!(o>6);o++)s=e.DataManager.playerModel.getPokemonInfoById(a[o]),s&&i.push(e.parseBattlePokemonData(s,0,o+1));return i.length<=0?(e.showTips(e.Lang.qingshezhishangzhenbaokemng,!0),[2]):(e.showWaitPanel(),r=e.BattleScene.getInstance(),r.pvpType=3,r.pvpThroneID=this._data.attribute,r.pvpThroneRank=this.rankNum+1,this.playerDetail&&(r.competitorInfo={player:this.playerDetail,pvpInfo:null}),r.competitorPokemonData=this.monsterList,r.pvpPlayerTeam=i,[4,r.initBattle(3)]);case 3:u.sent(),e.hideWaitPanel(),e.GameLayer.battleLayer.addChild(r),r.run(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),u.label=4;case 4:return[2]}})})}),n.show()},n.prototype.endBattle=function(t){t&&this.setData(this._data,this.rankNum),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!0,e.NotificationCenter.getInstance().removeObserver(this,e.BattleScene.QUIT_BATTLE)},n.prototype.setData=function(t,n){this.rankNum=n,this._data=t,this.dark.visible=!(n%2),this.rankImage.visible=this.rankLabel.visible=!1,7>n?(this.rankImage.visible=!0,this.rankImage.source="ui/scene/pvp/Icon_jiangbei_"+(n+1)):(this.rankLabel.visible=!0,this.rankLabel.text=""+(n+1));var i=e.DataManager.playerModel.PvpThroneInfo.computers[t.attribute];if(this.playerDetail=null,i&&i[n]){this._ifComputer=!1,this.playerDetail=i[n];var a=this.playerDetail.playerInfo,o=this.playerDetail.battlePms,s=this.playerDetail.team,r=this.playerDetail.honorLv,u=this.playerDetail.science,l=e.getHomeAttribute(this.playerDetail.home.level,this.playerDetail.home.placed),c=0;this.monsterList=[];for(var h=0;h<o.length;h++){var p=o[h],g=e.parseBattlePokemonData(p,s.formation,h+1,!1,!1,s.titles,s.badges,s.roles,1,!1,e.getVipLevelByRecharge(a.vipExp),s,l,u,s.artifacts,r);c+=e.countPokemonBattleCount(g),this.monsterList.push(g)}this.fightLabel.text=""+c,this.playerIcon.icon=this.playerDetail.team.currentRole,this.nameLabel.text=this.playerDetail.playerInfo.name}else this._ifComputer=!0,this.fightLabel.text=""+t.CombatNum,this.playerIcon.icon=t.HeroID,this.nameLabel.text=t.name},n}(e.GameComponent);e.PvpDaShiRankItem=t,__reflect(t.prototype,"game.PvpDaShiRankItem")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=PvpDaShiRankLabelSkin,t}return __extends(t,e),Object.defineProperty(t.prototype,"type",{set:function(e){this.typeImage&&(this.typeImage.source="ui/scene/itemRecovery/type_"+e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{set:function(e){this.rankLabel&&(this.rankLabel.text=e)},enumerable:!0,configurable:!0}),t}(eui.Component);e.PvpDaShiRankLabel=t,__reflect(t.prototype,"game.PvpDaShiRankLabel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e._playerPokemonList=[],e.skinName=PvpDaShiRankPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.preViewButton.bg="ui/common/button/orangeBtn_1",this.preViewButton.image="langs/Tx_jiangli",this.goButton.image="langs/Tx_shezhichuzhan",this._touchEvent=[{target:this.goButton,callBackFunc:this.setHandle},{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.preViewButton,callBackFunc:this.showPreview}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateInfo,notifyName:e.PlayerModel.PVP_INFO_UPDATE,execute:!1}],this.addEventAndNotify()},n.prototype.closeHandle=function(){for(var t=0;t<this._playerPokemonList.length;t++)this._playerPokemonList[t].stop();e.removePopUp(this)},n.prototype.showPreview=function(){e.PvpDaShiReward.getInstance().setAttributeAndShow(this._attribute)},n.prototype.setHandle=function(){e.PvpPokemonSetting.getInstance().setTypeAndShow(3,this._attribute)},n.prototype.setData=function(e){this._throne=e,this._attribute=e.data[0].attribute,this.updateInfo()},n.prototype.updateInfo=function(t){if(!t||3==t){this.itemGroup.removeChildren();for(var n=0;n<this._throne.data.length;n++){this._itemList[n]||(this._itemList[n]=new e.PvpDaShiRankItem);var i=this._itemList[n];i.setData(this._throne.data[n],n),this.itemGroup.addChild(i)}this.typeIcon.source="ui/scene/itemRecovery/type_"+this._attribute,this.nameLabel.text=e.DataManager.playerModel.playerName,this.countLabel.text=""+e.DataManager.playerModel.PvpThroneInfo.lastChallengeCount,this.playerIcon.icon=e.DataManager.playerModel.icon}},n.prototype.updateSetPokemon=function(){var t=0,n=e.DataManager.playerModel.PvpThroneInfo.playerPms[this._attribute];if(this.pokemonGroup.removeChildren(),n)for(var i=0;i<n.length;i++){var a=e.DataManager.playerModel.getPokemonInfoById(n[i]);if(a){this._playerPokemonList[i]||(this._playerPokemonList[i]=new e.TeamArtPokemon);var o=this._playerPokemonList[i];o.setPokemon(a.type,!1),o.setScaleX(-1);var s=60+110*i,r=100;o.setDisplayPosition(s,r),this.pokemonGroup.addChild(o.display);var u=e.parseBattlePokemonData(a,1,i+1);t+=e.countPokemonBattleCount(u)}}this.fightLabel.text=t.toString()},n.prototype.onShow=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,this.updateSetPokemon()];case 1:for(t.sent(),e=0;e<this._playerPokemonList.length;e++)this._playerPokemonList[e].play(1);return[2]}})})},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.PvpDaShiRankPanel=t,__reflect(t.prototype,"game.PvpDaShiRankPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._labelList=[],e.skinName=PvpDaShiRankShowSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.onShow=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a;return __generator(this,function(o){switch(o.label){case 0:return[4,e.DataManager.playerModel.getThroneRankMine()];case 1:for(t=o.sent(),this.labelGroup.removeChildren(),n=0;18>n;n++)this._labelList[n]||(this._labelList[n]=new e.PvpDaShiRankLabel),i=this._labelList[n],a=t[n+1],a?i.text=e.formatString(e.Lang.dijiming,a.rank):i.text=e.Lang.zanwupaiming,i.type=n+1,this.labelGroup.addChild(i);return[2]}})})},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.PvpDaShiRankShow=t,__reflect(t.prototype,"game.PvpDaShiRankShow")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e.skinName=PvpDaShiRewardSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},n.prototype.onShow=function(){this.scroller.viewport.scrollV=0},n.prototype.setAttributeAndShow=function(t){var n=[];for(var i in e.Data.TPVPPokemonMaster)e.Data.TPVPPokemonMaster[i].attribute==t&&n.push(e.Data.TPVPPokemonMaster[i]);n.sort(function(e,t){return e.rank-t.rank}),this.itemGroup.removeChildren();for(var i=0;i<n.length;i++){this._itemList[i]||(this._itemList[i]=new e.PvpDaShiRewardItem);var a=this._itemList[i];a.setData(n[i]),this.itemGroup.addChild(a)}this.show()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.PvpDaShiReward=t,__reflect(t.prototype,"game.PvpDaShiReward")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e.skinName=PvpDaShiRewardItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target&&e.target.showDetail&&e.target.showDetail()},this)},n.prototype.setData=function(t){this.typeImage.source="ui/scene/pvp/type_"+t.attribute;var n=e.splitStringToNumberArray(t.Loots);this.itemGroup.removeChildren();for(var i=0,a=0;a<n.length;a++){var o=n[a];if(o[0]&&o[1]){this._itemList[i]||(this._itemList[i]=new e.ItemIcon);var s=this._itemList[i];s.item={type:o[0],count:o[1]},this.itemGroup.addChild(s),i++}}this.rankLabel.visible=this.rankImage.visible=!1,t.rank<8?(this.rankImage.visible=!0,this.rankImage.source="ui/scene/pvp/Icon_jiangbei_"+t.rank):(this.rankLabel.visible=!0,this.rankLabel.text=""+t.rank)},n}(e.GameComponent);e.PvpDaShiRewardItem=t,__reflect(t.prototype,"game.PvpDaShiRewardItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.monsterList=[],e.skinName=PvpDaShiThroneItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.nameLabel.visible=this.countLabel.visible=!1,this._artAvatar=new e.BattleAvatar,this.avatarGroup.addChild(this._artAvatar.displayGroup),this.addEventListener(egret.TouchEvent.TOUCH_TAP,function(i){e.NotificationCenter.getInstance().postNotification(n.TOUCH,t)},this)},Object.defineProperty(n.prototype,"data",{get:function(){return this._data},set:function(e){e.sort(function(e,t){return e.rank-t.rank}),this._data=e,this.typeImage.source="ui/scene/pvp/type_"+e[0].attribute},enumerable:!0,configurable:!0}),n.prototype.update=function(){var t=e.DataManager.playerModel.PvpThroneInfo.computers[this._data[0].attribute];if(t&&t[0]){this.playerDetail=t[0];var n=this.playerDetail.playerInfo,i=this.playerDetail.battlePms,a=this.playerDetail.team,o=this.playerDetail.honorLv,s=this.playerDetail.science,r=e.getHomeAttribute(this.playerDetail.home.level,this.playerDetail.home.placed),u=0;this.monsterList=[];for(var l=0;l<i.length;l++){var c=i[l],h=e.parseBattlePokemonData(c,a.formation,l+1,!1,!1,a.titles,a.badges,a.roles,1,!1,e.getVipLevelByRecharge(n.vipExp),a,r,s,a.artifacts,o);u+=e.countPokemonBattleCount(h),this.monsterList.push(h)}this.countLabel.text=""+u,this.nameLabel.text=this.playerDetail.playerInfo.name,this._artAvatar.setAvatar(this.playerDetail.playerInfo.gender,!1),this._artAvatar.setWing(this.playerDetail.playerInfo.wing,1)
}else this.nameLabel.text=""+this._data[0].name,this._artAvatar.setAvatar(this._data[0].HeroID,!1),this.countLabel.text=""+this._data[0].CombatNum;this.nameLabel.visible=this.countLabel.visible=!0},n.prototype.play=function(){this._artAvatar.play(1)},n.prototype.stop=function(){this._artAvatar.stop()},n.TOUCH="PvpDaShiThroneItem_TOUCH",n}(e.GameComponent);e.PvpDaShiThroneItem=t,__reflect(t.prototype,"game.PvpDaShiThroneItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=PvpPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify(),this.TianTiButton.icon="ui/scene/pvp/tiantijingji",this.DanTiaoButton.icon="ui/scene/pvp/tiaozhanzhishen",this.DaShiButton.icon="ui/scene/pvp/jinglingdashi",this.radioList=[this.TianTiButton,this.DanTiaoButton,this.DaShiButton],this.radioGroup=new e.RadioGroup(this.btnGroup,this.radioList,this.btnTypeHandle,this,this.selectHandle,this.checkHandle),this.radioGroup.touchButton(this.TianTiButton)},n.prototype.btnTypeHandle=function(t){if(this._currentBtn!=t){switch(this._currentBtn=t,this.tabGroup.removeChildren(),this._currentPanel&&this._currentPanel.hide&&this._currentPanel.hide(),t){case this.TianTiButton:this._currentPanel=e.PvpTianTi.getInstance();break;case this.DanTiaoButton:this._currentPanel=e.PvpDanTiao.getInstance();break;case this.DaShiButton:this._currentPanel=e.PvpDaShi.getInstance()}this._currentPanel&&(this._currentPanel.show&&this._currentPanel.show(),this.tabGroup.addChild(this._currentPanel))}},n.prototype.selectHandle=function(e,t){e.select=t},n.prototype.checkHandle=function(e){return!0},n.prototype.onShow=function(){this._currentPanel&&this._currentPanel.show&&this._currentPanel.show(),this.TianTiButton.point=e.PvpTianTi.getInstance().point},n.prototype.closeHandle=function(){this._currentPanel&&this._currentPanel.hide&&this._currentPanel.hide(),e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.PvpPanel=t,__reflect(t.prototype,"game.PvpPanel")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=PvpPanelChangeButtonSkin,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.select=this.point=!1},Object.defineProperty(t.prototype,"icon",{set:function(e){this.iconImage.source=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"select",{set:function(e){this.selectImage.visible=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"point",{get:function(){return this.pointImage.visible},set:function(e){this.pointImage.visible=e},enumerable:!0,configurable:!0}),t}(e.EffectButton);e.PvpPanelChangeButton=t,__reflect(t.prototype,"game.PvpPanelChangeButton")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._currentPage=1,e._maxPage=2,e._pokemonSlotList=[],e._bagPokemonList=[],e._totalPokemonInfo=[],e._bagPokemonInfo=[],e._slotPokemonIds=[],e._BtnList=[],e.skinName=PvpPokemonSettingSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.leftArrowButton,callBackFunc:this.moveLastPage},{target:this.rightArrowButton,callBackFunc:this.moveNextPage}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.movePokemonEnd,n.MOVE_POKEMON_END);for(var t=0;6>t;t++){var i=new e.PvpPokemonSlot;this._pokemonSlotList.push(i),this.teamPokemonGroup.addChild(i)}for(var t=0;18>t;t++){var a=new e.PvpCheckButton;a.type=t+1,this._BtnList.push(a),this.typeGroup.addChild(a)}this.radioGroup=new e.RadioGroup(this.typeGroup,this._BtnList,this.checkHandle,this)},n.prototype.checkHandle=function(t){this._currentBtn&&(this._currentBtn.check=!1),this._currentBtn=t,this._currentBtn.check=!0,this._slotPokemonIds=e.DataManager.playerModel.PvpThroneInfo.playerPms[t.type]||[],this.page=1,this.updateBag(),this.updateSlot()},n.prototype.moveNextPage=function(){var e=this.page+1;e>this._maxPage||(this.page=e,this.updateBag())},n.prototype.moveLastPage=function(){var e=this.page-1;1>e||(this.page=e,this.updateBag())},Object.defineProperty(n.prototype,"page",{get:function(){return this._currentPage},set:function(e){this._currentPage=e,this.leftArrowButton.visible=this._currentPage>1,this.rightArrowButton.visible=this._currentPage<this._maxPage,this.bagLabel.text=this._currentPage+"/"+this._maxPage},enumerable:!0,configurable:!0}),n.prototype.updateBag=function(){this._bagPokemonInfo=[];for(var t=0;t<this._totalPokemonInfo.length;t++){var n=!1,i=this._totalPokemonInfo[t];if(!(this._slotPokemonIds.indexOf(i.id)>-1)){if(2==this._type)n=!0;else if(3==this._type){var a=this._currentBtn.type,o=e.Data.TElf[i.type];if(o&&(a==o.attribute||a==o.attribute2)){var s=e.DataManager.playerModel.PvpThroneInfo.playerPms[o.attribute],r=e.DataManager.playerModel.PvpThroneInfo.playerPms[o.attribute2];if(s&&s.indexOf(i.id)>-1)continue;if(r&&r.indexOf(i.id)>-1)continue;n=!0}}n&&this._bagPokemonInfo.push(i)}}for(var u=this._bagPokemonInfo,l=15*(this.page-1)+1,c=l+15,h=u.length,t=0;15>t;t++){this._bagPokemonList[t]||(this._bagPokemonList[t]=new e.PvpBagPokemon,this.bagGroup.addChild(this._bagPokemonList[t]));var p=this._bagPokemonList[t];p.setPokemonInfo(null),p.slot=l+t}for(var t=l;c>t;t++){var g=u[t-1];if(g){var d=(t-1)%15,p=this._bagPokemonList[d];if(!p)continue;p.setPokemonInfo(g),p.helpImage.visible=!1}}this._maxPage=Math.floor(h/15)+1,this.page=this.page},n.prototype.updateSlot=function(){for(var t=0;t<this._pokemonSlotList.length;t++){var n=this._pokemonSlotList[t];n.setPokemonInfo(e.DataManager.playerModel.getPokemonInfoById(this._slotPokemonIds[t]))}},n.prototype.movePokemonEnd=function(t){var n=t.icon;n.stop();var i=t.event,a=i.stageX,o=i.stageY,s=this._slotPokemonIds.indexOf(n.pokemonInfo.id)>-1;if(e.checkPointAtRect(a,o,33,394,770,120))if(s)n.resetPokemon();else{var r=a-33,u=Math.floor(r/107);this._pokemonSlotList[u]?this.changeTeamAndBag(this._pokemonSlotList[u],n):n.resetPokemon()}else if(e.checkPointAtRect(a,o,47,522,624,372)){var r=a-47,l=o-554,u=Math.floor(r/126)+5*Math.floor(l/126);2!=this._type&&s?this.changeTeamAndBag(n,this._bagPokemonList[u]):n.resetPokemon()}else n.resetPokemon()},n.prototype.changeTeamAndBag=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a,o,s,r,a,o,s,r,u=this;return __generator(this,function(l){switch(l.label){case 0:if(i=function(t,n){return void 0===n&&(n=-1),__awaiter(u,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return 2!=this._type?[3,2]:[4,e.DataManager.playerModel.SetPvpDanTiaoPet(t)];case 1:return a.sent(),this._slotPokemonIds[0]=t,[3,4];case 2:return i=this,[4,e.DataManager.playerModel.setThroneTeam(this._currentBtn.type,t,n)];case 3:i._slotPokemonIds=a.sent(),a.label=4;case 4:return[2]}})})},!t.pokemonInfo)return[3,7];if(!n.pokemonInfo)return[3,4];if(a=0,o=e.Data.TElf[n.pokemonInfo.type].battleId,t.pokemonInfo.type!=n.pokemonInfo.type)for(s=0;s<this._pokemonSlotList.length;s++)r=this._pokemonSlotList[s],r.pokemonInfo&&e.Data.TElf[r.pokemonInfo.type].battleId==o&&a++;return 0!=a?[3,2]:[4,i(n.pokemonInfo.id,t.pokemonInfo.id)];case 1:return l.sent(),[3,3];case 2:e.showTips(e.Lang.ninzuiduoshangzhenxiangtongbaokemeng,!0),l.label=3;case 3:return[3,6];case 4:return 3!=this._type?[3,6]:[4,i(t.pokemonInfo.id)];case 5:l.sent(),l.label=6;case 6:return[3,10];case 7:if(!n.pokemonInfo)return[3,10];for(a=0,o=e.Data.TElf[n.pokemonInfo.type].battleId,s=0;s<this._pokemonSlotList.length;s++)r=this._pokemonSlotList[s],r.pokemonInfo&&e.Data.TElf[r.pokemonInfo.type].battleId==o&&a++;return 0!=a?[3,9]:[4,i(n.pokemonInfo.id)];case 8:return l.sent(),[3,10];case 9:e.showTips(e.Lang.ninzuiduoshangzhenxiangtongbaokemeng,!0),l.label=10;case 10:return this.updateBag(),this.updateSlot(),[2]}})})},n.prototype.setTypeAndShow=function(t,n){void 0===n&&(n=1),1!=t&&(this.tipGroup.visible=2==t,this.choseGroup.visible=3==t,this._type=t,this._totalPokemonInfo=e.DataManager.playerModel.playerAllPokemonList,this._slotPokemonIds=[],2==t?(e.DataManager.playerModel.pvpDanTiaoInfo.petId>0&&this._slotPokemonIds.push(e.DataManager.playerModel.pvpDanTiaoInfo.petId),this.teamPokemonGroup.touchEnabled=this.teamPokemonGroup.touchChildren=!1,this.updateBag(),this.updateSlot()):3==t&&(this.teamPokemonGroup.touchEnabled=this.teamPokemonGroup.touchChildren=!0,this.radioGroup.touchButton(this._BtnList[n-1]||this._currentBtn||this._BtnList[0]),this.updateSlot()),this.show())},n.prototype.closeHandle=function(){e.PvpDaShiRankPanel.getInstance().updateSetPokemon(),e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.MOVE_POKEMON_END="PvpPokemonSetting_MOVE_POKEMON_END",n}(e.PanelComponent);e.PvpPokemonSetting=t,__reflect(t.prototype,"game.PvpPokemonSetting")}(game||(game={}));var game;!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.postTouchNotify=function(){this.play()},n.prototype.endMovePokemon=function(t){e.NotificationCenter.getInstance().postNotification(e.PvpPokemonSetting.MOVE_POKEMON_END,{icon:this,event:t})},n.prototype.updatePoint=function(){this.point.visible=!1},n}(e.TeamPokemonIcon);e.PvpPokemonSlot=t,__reflect(t.prototype,"game.PvpPokemonSlot")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=PvpRewardItemSkin,t}return __extends(t,e),t.prototype.setItem=function(e){this.iconDisplay.source="icon/item/"+e[0],this.countLabel.text=e[1].toString()},t}(e.GameComponent);e.PvpRewardItem=t,__reflect(t.prototype,"game.PvpRewardItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._playerPokemonList=[],e._competitorList=[],e._rewardItemList=[],e._interval=null,e.skinName=PvpTianTiSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this._refreshDelay=Number(e.Constants.pvpRefreshTime),this.changeCompetitorButton.image="langs/Tx_huanpids",this.upButton.icon="ui/scene/pvp/up",this._touchEvent=[{target:this.changeCompetitorButton,callBackFunc:this.changeHandle},{target:this.addCountButton,callBackFunc:this.addChallengCount},{target:this.upButton,callBackFunc:this.showUpDetail}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updatePokemonTeam,notifyName:e.PlayerModel.POKEMON_TEAM_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updatePlayerAvatar,notifyName:e.PlayerModel.IDLE_AVATAR_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updatePlayerName,notifyName:e.PlayerModel.NAME_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updatePlayerPvpInfo,notifyName:e.PlayerModel.PVP_INFO_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateCompetitor,notifyName:e.PlayerModel.PVP_TT_COMPETITORS_UPDATE,execute:!0}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,function(n){var i=e.DataManager.playerModel.pvpTianTiInfo;i.remainCount>0?t.challengHandle(n):e.showTips(e.Lang.ninmeiyoutiaozhancishule,!0)},n.CHALLENGE)},n.prototype.addChallengCount=function(){var t=this,n=e.CheckPanel.getInstance(),i=e.DataManager.playerModel.pvpTianTiInfo,a=Number(e.Constants.pvpCountBasePrice);a+=Number(e.Constants.pvpCountAddPrice)*i.dailyBuyCount,n.setData(e.formatString(e.Lang.ninquedingyaohuafeiduoshaoshenmezengjiayicitiaozhancishuma,a,e.Data.TItem[2].name),function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n?[4,e.DataManager.playerModel.buyPvpCount(a,1)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}),n.show()},n.prototype.endBattle=function(){e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!0,e.NotificationCenter.getInstance().removeObserver(this,e.BattleScene.QUIT_BATTLE),this.updatePoint()},n.prototype.challengHandle=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return n=t.competitorInfo,e.showWaitPanel(),i=e.BattleScene.getInstance(),i.pvpType=1,i.competitorInfo=n,i.competitorPokemonData=t.battlePokemonData,i.pvpPlayerTeam=e.DataManager.playerModel.getPlayerBattlePokemonList(!1),[4,i.initBattle(3)];case 1:return a.sent(),e.hideWaitPanel(),e.GameLayer.battleLayer.addChild(i),i.run(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),[2]}})})},n.prototype.changeHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n=this;return __generator(this,function(i){switch(i.label){case 0:return this._canRefresh?[3,1]:(t=e.CheckPanel.getInstance(),t.setData(e.formatString(e.Lang.ninquedingyaofafeiduoshaozuanshilaishuaxinliebiaoma,e.Constants.pvpRefreshPrice),function(t){return __awaiter(n,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return t?[4,e.DataManager.playerModel.changePvpCompetitor(!1,1)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})}),t.show(),[3,3]);case 1:return[4,e.DataManager.playerModel.changePvpCompetitor(!0,1)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},n.prototype.updatePokemonTeam=function(){this.playerPokemonGroup.removeChildren();for(var t=e.DataManager.playerModel.getPlayerBattlePokemonList(!1),n=0;n<t.length;n++){this._playerPokemonList[n]||(this._playerPokemonList[n]=new e.TeamArtPokemon);var i=this._playerPokemonList[n];i.setPokemon(t[n].id,!1),i.setScaleX(-1);var a=60+110*n,o=100;i.setDisplayPosition(a,o),this.playerPokemonGroup.addChild(i.display)}for(var s=0,n=0;n<t.length;n++)s+=e.countPokemonBattleCount(t[n]);this.battleCountLabel.text=e.Lang.zhanli+": "+e.setNumber(s)},n.prototype.updatePlayerAvatar=function(){this._playerAvatar||(this._playerAvatar=new e.BattleAvatar,this.playerAvatarGroup.addChild(this._playerAvatar.displayGroup)),this._playerAvatar.setAvatar(e.DataManager.playerModel.playerRole),this._playerAvatar.setWing(e.DataManager.playerModel.playerWing,1),this._playerAvatar.setDecoration(e.DataManager.playerModel.playerDecoration,1)},n.prototype.updatePlayerName=function(){this.nameLabel.text=e.DataManager.playerModel.playerName},n.prototype.updatePlayerPvpInfo=function(t){if(!t||1==t){var n=e.DataManager.playerModel.pvpTianTiInfo;this.rankLabel.text=e.Lang.paiming+": "+n.rank,this.scoreLabel.text=e.Lang.jifen+": "+e.setNumber(e.DataManager.playerModel.pvpScore),this.countLabel.text=e.Lang.jinrishengyutiaozhancishu+": "+n.remainCount,this._currentReward=null;for(var i in e.Data.TPVPComReward)if(e.Data.TPVPComReward.hasOwnProperty(i)){var a=e.Data.TPVPComReward[i],o=e.splitStringToNumberArray(a.rank,";"),s=o[0],r=o[1];if(n.rank>=s&&n.rank<=r){this._currentReward=a;break}}if(this.noneLabel.visible=!0,this.rewardGroup.removeChildren(),this._currentReward){this.noneLabel.visible=!1;for(var u=e.splitStringToNumberArray(this._currentReward.reward),i=0;i<u.length;i++){var l=this._rewardItemList[i];l||(l=new e.PvpRewardItem,this._rewardItemList[i]=l),l.setItem(u[i]),this.rewardGroup.addChild(l)}}this.updateTime()}},n.prototype.updateTime=function(){var t=e.DataManager.playerModel.pvpTianTiInfo;this._nowTime=e.getNowTime();var n=(this._nowTime.getTime()-t.lastChangeTime.getTime())/1e3,i=this._refreshDelay-n;0>=i?(this._canRefresh=!0,this.changeTimeLabel.visible=!1):(this._canRefresh=!1,this.changeTimeLabel.visible=!0,this.changeTimeLabel.text=e.Lang.shengyushijian+":"+e.s2hms(i))},n.prototype.updateCompetitor=function(){this.competitorGroup.removeChildren();var t=e.DataManager.playerModel.getPvpCompetitorListByType(1);if(0==t.length)e.DataManager.playerModel.changePvpCompetitor(!0,1);else for(var n=0;n<t.length;n++){var i=this._competitorList[n];i||(i=new e.PvpCompetitor,this._competitorList[n]=i),i.setCompetitorInfo(t[n],1),i.play(),this.competitorGroup.addChild(i)}},n.prototype.showUpDetail=function(){e.PvpUpReward.getInstance().show()},n.prototype.updatePoint=function(){var t=e.DataManager.playerModel.pvpTianTiInfo,n=e.DataManager.playerModel.pveRankRewardList;this.upPoint.visible=!1;var i=-1;for(var a in e.Data.TPVPMissionReward)if(e.Data.TPVPMissionReward.hasOwnProperty(a)){i++;var o=e.Data.TPVPMissionReward[a];if(-1!=n.indexOf(i)||t.rank>Number(o.rank))continue;this.upPoint.visible=!0;break}},Object.defineProperty(n.prototype,"point",{get:function(){return this.upPoint.visible},enumerable:!0,configurable:!0}),n.prototype.show=function(){this._playerAvatar&&this._playerAvatar.play(1);for(var e=0;e<this._playerPokemonList.length;e++)this._playerPokemonList[e].play(1);for(var e=0;e<this._competitorList.length;e++)this._competitorList[e].play();this._interval=egret.setInterval(this.updateTime,this,1e3),this.updatePokemonTeam(),this.updatePoint()},n.prototype.hide=function(){this._playerAvatar&&this._playerAvatar.stop();for(var e=0;e<this._playerPokemonList.length;e++)this._playerPokemonList[e].stop();for(var e=0;e<this._competitorList.length;e++)this._competitorList[e].stop();egret.clearInterval(this._interval),this._interval=null},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.CHALLENGE="PvpTianTi_CHALLENGE",n}(e.GameComponent);e.PvpTianTi=t,__reflect(t.prototype,"game.PvpTianTi")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e._items=[],e.skinName=PvpUpRewardSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this.hideLabel1.visible=this.hideLabel2.visible=this.noneLabel.visible=!1,this.titleLabel.text=e.Lang.jingjichangtishengjiangli,this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.update,notifyName:e.PlayerModel.PVP_RANK_REWARD_UPDATE,execute:!1}],this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify(),this.setList()},i.prototype.setList=function(){this.itemGroup.removeChildren();var t=-1;for(var i in e.Data.TPVPMissionReward)if(e.Data.TPVPMissionReward.hasOwnProperty(i)){t++;var a=e.Data.TPVPMissionReward[i],o=new n;o.setData(a,t),this.itemGroup.addChildAt(o,0),this._items.push(o)}},i.prototype.onShow=function(){this.update()},i.prototype.update=function(){for(var e=0;e<this._items.length;e++)this._items[e].update()},i.prototype.closeHandle=function(){e.PvpTianTi.getInstance().updatePoint(),e.removePopUp(this)},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.PanelComponent);e.PvpUpReward=t,__reflect(t.prototype,"game.PvpUpReward");var n=function(t){function n(){var e=t.call(this)||this;return e.skinName=PvpUpRewardItemSkin,e.okButton.addEventListener(egret.TouchEvent.TOUCH_TAP,e.okHandle,e),e}return __extends(n,t),n.prototype.okHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.getPvpRankReward(this.index)];case 1:return t.sent(),this.update(),[2]}})})},n.prototype.setData=function(t,n){this.data=t,this.index=n;var i=e.splitStringToNumberArray(t.reward,";"),a={type:i[0],count:i[1]};this.levelLabel.text=e.formatString(e.Lang.mingcidadaojiming,t.rank),this.typeImage.source="icon/item/"+a.type,this.countLabel.text=a.count.toString()},n.prototype.update=function(){var t=e.DataManager.playerModel.pvpTianTiInfo,n=e.DataManager.playerModel.pveRankRewardList;-1!=n.indexOf(this.index)?this.removeFromParent():t.rank<=Number(this.data.rank)?(this.okButton.image="ui/scene/activity/Tx_lingqu",this.okButton.lock=!1,this.okButton.touchEnabled=!0):(this.okButton.image="ui/scene/activity/Tx_weidacheng",this.okButton.lock=!0,this.okButton.touchEnabled=!1)},n}(e.GameComponent);e.PvpUpRewardItem=n,__reflect(n.prototype,"game.PvpUpRewardItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.skinName=PvpRankNoticeSkin,n.confirmButton.image="ui/scene/pvpRank/zhidaole",n.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removePopUp(n)},n),n}return __extends(n,t),n.prototype.setData=function(e){e?(this.dingjisaiGroup.visible=!1,3==e.needBattle?(this.jinjisai3Group.visible=!0,this.jinjisai5Group.visible=!1,this.jinjisai3TotalLabel.text="3",this.jinjisai3WinLabel.text=e.needBattleWin.toString()):(this.jinjisai5Group.visible=!0,this.jinjisai3Group.visible=!1,this.jinjisai5TotalLabel.text=e.needBattle.toString(),this.jinjisai5WinLabel.text=e.needBattleWin.toString())):(this.dingjisaiGroup.visible=!0,this.jinjisai3Group.visible=this.jinjisai5Group.visible=!1)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.PvpRankNotice=t,__reflect(t.prototype,"game.PvpRankNotice")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._rewardList=[],e._pokemonList=[],e._itemIconList=[],e._upgradeItem=[],e._listItem=[],e.skinName=PvpRankPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.rewardViewButton.icon="ui/scene/pvpRank/jiangliyulan",this.rewardConfirmButton.image="ui/scene/pvpRank/baoming",this.rewardCancelButton.image="ui/scene/pvpRank/quxiao",this.rewardDailyButton.bgDisplay.width=this.rewardEndButton.bgDisplay.width=200,this.confirmButton.image="ui/scene/pvpRank/kaishibisai",this.shopButton.icon="ui/scene/pvp/shop",this.rankButton.icon="ui/scene/rank/rank",this.battleTimeLabel.text=e.Constants.RankOpeningHours+" 至 "+e.Constants.RankClosingHours,this.ruleButton.icon="ui/scene/pvpRank/guize",this._touchEvent=[{target:this.rewardDailyButton,callBackFunc:this.changeReward},{target:this.rewardEndButton,callBackFunc:this.changeReward},{target:this.rewardConfirmButton,callBackFunc:this.rewardConfirmHandle},{target:this.rewardCancelButton,callBackFunc:this.rewardCancelHandle},{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.confirmButton,callBackFunc:this.battleHandle},{target:this.shopButton,callBackFunc:this.touchShopButton},{target:this.rewardViewButton,callBackFunc:this.touchRewardView},{target:this.rewardBackButton,callBackFunc:this.backToMain},{target:this.rankButton,callBackFunc:this.openRank},{target:this.ruleButton,callBackFunc:this.openRule}],this.addEventAndNotify(),this.initSelectZone()},n.prototype.openRule=function(){var t=e.PvpRulePanel.getInstance();t.setText(e.Data.TRankRule[1].info),t.show()},n.prototype.openRank=function(){e.navPanel(25),e.RankPanel.getInstance().changeToPvpRank()},n.prototype.backToMain=function(){this.mainGroup.visible=!0,this.zoneRewardGroup.visible=!1},n.prototype.touchRewardView=function(){this.mainGroup.visible=!1,this.zoneRewardGroup.visible=!0,this.rewardConfirmButton.visible=this.rewardCancelButton.visible=!1,this.rewardBackButton.visible=!0,this.changeReward(this.rewardDailyButton)},n.prototype.touchShopButton=function(){e.navPanel(7),e.ShopPanel.getInstance().changeToRankPvp()},n.prototype.battleHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,u,l;return __generator(this,function(c){switch(c.label){case 0:return t=e.getNowTime(),n=t.getHours(),i=t.getMinutes(),10>n||n>=22&&i>=50?(e.showTips(e.Lang.xianzaibuzaizhandoushijianneio,!0),[2]):(e.showWaitPanel(),[4,e.DataManager.playerModel.getMyPvpRankInfo()]);case 1:if(a=c.sent(),0!=a.honor)return[3,2];o=6000054;for(s in e.Data.TRankGradCompetition)if(r=e.Data.TRankGradCompetition[s],r.Division==a.area&&r.Victory==a.victory){o=r.enemyId;break}return this.runMission(o),[3,8];case 2:return[4,e.DataManager.playerModel.startRankPvp()];case 3:return(u=c.sent())?u.team?(l=e.BattleScene.getInstance(),l.rankPvpInfo=u,[4,l.initBattle(12)]):[3,5]:[3,7];case 4:return c.sent(),e.hideWaitPanel(),e.GameLayer.battleLayer.addChild(l),l.run(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),[3,6];case 5:this.runMission(u.playerInfo.level,!0),c.label=6;case 6:return[3,8];case 7:e.hideWaitPanel(),e.showTips(e.Lang.weipipeidaoduishouqingshaohouzaishi,!0),c.label=8;case 8:return[2]}})})},n.prototype.runMission=function(t,n){return void 0===n&&(n=!1),__awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return i=e.BattleScene.getInstance(),i.rankPvpMission=t,i.rankPvpIsRobot=n,[4,i.initBattle(13)];case 1:return a.sent(),e.hideWaitPanel(),e.GameLayer.battleLayer.addChild(i),i.run(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),[2]}})})},n.prototype.endBattle=function(){e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!0,e.NotificationCenter.getInstance().removeObserver(this,e.BattleScene.QUIT_BATTLE),this.updateInfo()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.rewardConfirmHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:return t=e.getNowTime().getTime(),n=e.DataManager.playerModel.getPvpRankInfo(),t>=n.start.getTime()&&t<=n.end.getTime()?[4,e.DataManager.playerModel.signPvpRank()]:[3,2];case 1:return i.sent(),this.updateInfo(),[3,3];case 2:e.showTips(e.Lang.xianzaibuzaibaomingshijianneio,!0),i.label=3;case 3:return[2]}})})},n.prototype.rewardCancelHandle=function(){this.zoneRewardGroup.visible=!1,this.selectZoneGroup.visible=!0},n.prototype.changeReward=function(t){this.rewardDailyButton.image=t==this.rewardDailyButton?"ui/scene/pvpRank/meirijiangli":"ui/scene/pvpRank/meirijiangli_hui",this.rewardDailyButton.bg=t==this.rewardDailyButton?"ui/common/button/greenBtn":"ui/common/button/greenBtnGray",this.rewardEndButton.image=t==this.rewardEndButton?"ui/scene/pvpRank/saijijiangli":"ui/scene/pvpRank/saijijiangli_hui",this.rewardEndButton.bg=t==this.rewardEndButton?"ui/common/button/greenBtn":"ui/common/button/greenBtnGray",this.rewardItemGroup.removeChildren();var n=0;for(var i in e.Data.TRankSignReward){var a=e.Data.TRankSignReward[i],o=this._rewardList[n];o||(o=new e.PvpRankRewardItem,this._rewardList[n]=o),o.setData(a,t==this.rewardDailyButton),this.rewardItemGroup.addChild(o),n++}},n.prototype.initSelectZone=function(){var t=this;for(var n in e.Data.TRankSignUp){var i=e.Data.TRankSignUp[n],a=new e.PvpRankZoneItem;a.setData(i),this.zoneItemGroup.addChild(a)}this.zoneItemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var n=e.target,i=n.zoneData;i&&t.enterZone()},this)},n.prototype.enterZone=function(){this.selectZoneGroup.visible=!1,this.zoneRewardGroup.visible=!0,this.rewardConfirmButton.visible=this.rewardCancelButton.visible=!0,this.rewardBackButton.visible=!1,this.changeReward(this.rewardDailyButton)},n.prototype.onShow=function(){this.updatePlayer(),this.updateInfo()},n.prototype.updatePlayer=function(){this._avatar||(this._avatar=new e.BattleAvatar,this.avatarGroup.addChild(this._avatar.displayGroup)),this._avatar.setAvatar(e.DataManager.playerModel.playerRole),this._avatar.setWing(e.DataManager.playerModel.playerWing,1),this._avatar.setDecoration(e.DataManager.playerModel.playerDecoration,1),this.pokemonGroup.removeChildren();for(var t=e.DataManager.playerModel.teamConfig,n=0;n<t.gridConfig.length;n++){var i=t.gridConfig[n],a=e.DataManager.playerModel.getPokemonInfoById(i.id),o=this._pokemonList[n];o||(o=new e.ArtPokemonWithStar,this._pokemonList[n]=o),o.setPokemonInfo(a),o.x=60+n%3*100,o.y=80+100*Math.floor(n/3),this.pokemonGroup.addChild(o)}},n.prototype.updateInfo=function(){if(this._pvpRankInfo=e.DataManager.playerModel.getMyPvpRankInfo(),this._pvpRankInfo&&0!=this._pvpRankInfo.area){if(this.zoneRewardGroup.visible=this.selectZoneGroup.visible=!1,this.mainGroup.visible=!0,0==this._pvpRankInfo.honor){if(this.titleImage.source="ui/scene/pvpRank/zanweidingji",this.rankLabel.visible=!1,this.dingjizhong.visible=!0,this.memberScroller.visible=!1,this.dailyRewardGroup.visible=!1,this.noneRewardLabel.visible=!0,this.dingjiGroup.visible=!0,this.rankIcon.visible=!1,this.dingjiLabel.text=(this._pvpRankInfo.battle+1).toString(),0==this._pvpRankInfo.battle){var t=e.PvpRankNotice.getInstance();t.setData(null),t.show()}}else{var n=e.Data.TRankHonorLv[this._pvpRankInfo.honor];this.titleImage.source="ui/scene/pvpRank/rank_"+this._pvpRankInfo.honor,this.rankLabel.visible=!0,this.rankLabel.text=n.dec,this.dingjizhong.visible=!1,this.memberScroller.visible=!0,this.updateOtherPlayer(),this.dailyRewardGroup.visible=!0,this.currentRewardGroup.removeChildren();for(var i=e.splitStringToNumberArray(n.DayReward),a=0,o=0;o<i.length;o++){var s=i[o],r=this._itemIconList[a];r||(r=new e.ItemIcon,this._itemIconList[a]=r),r.item={type:s[0],count:s[1]},this.currentRewardGroup.addChild(r),a++}this.nextRewardGroup.removeChildren();var u=e.Data.TRankHonorLv[n.nextLv];if(u){this.nextRewardLabel.visible=!0;for(var l=e.splitStringToNumberArray(u.DayReward),o=0;o<l.length;o++){var s=l[o],r=this._itemIconList[a];r||(r=new e.ItemIcon,this._itemIconList[a]=r),r.item={type:s[0],count:s[1]},this.nextRewardGroup.addChild(r),a++}if(100==this._pvpRankInfo.victoryCount&&0==this._pvpRankInfo.battles.length&&n.needBattle){var t=e.PvpRankNotice.getInstance();t.setData(n),t.show()}}else this.nextRewardLabel.visible=!1;this.noneRewardLabel.visible=!1,this.dingjiGroup.visible=!1,this.rankIcon.visible=!0,this.rankIcon.source="ui/scene/pvpRank/"+n.medal}this.totalLabel.text=e.setNumber(this._pvpRankInfo.battle),this.winLabel.text=e.setNumber(this._pvpRankInfo.victory),this.scoreBar.maximum=Math.max(100,this._pvpRankInfo.victoryCount),this.scoreBar.value=this._pvpRankInfo.victoryCount}else{var c=e.DataManager.playerModel.getPvpRankInfo();this.selectBeginTime.text=e.formatTime(c.start),this.selectEndTime.text=e.formatTime(c.end),this.selectZoneGroup.visible=!0,this.zoneRewardGroup.visible=this.mainGroup.visible=!1,this.titleImage.source="ui/scene/pvpRank/baomingbisai"}},n.prototype.updateOtherPlayer=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,n,i;return __generator(this,function(o){switch(o.label){case 0:return this.totalInfoGroup.removeChildren(),this.upgradeGroup.removeChildren(),e.showWaitPanel(),[4,e.DataManager.playerModel.getJinJiMembers()];case 1:for(t=o.sent(),n=0;n<t.length;n++)i=this._upgradeItem[n],i||(i=new e.PvpRankPlayerListUpgrade,this._upgradeItem[n]=i),i.setInfo(t[n]),this.upgradeGroup.addChild(i);return this.totalGroup.y=60+31*t.length,[4,e.DataManager.playerModel.getSignUpMembers()];case 2:for(a=o.sent(),n=0;n<a.length;n++)i=this._listItem[n],i||(i=new e.PvpRankPlayerListItem,this._listItem[n]=i),i.setInfo(a[n]),this.totalInfoGroup.addChild(i);return e.hideWaitPanel(),[2]}})})},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.PvpRankPanel=t,__reflect(t.prototype,"game.PvpRankPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=PvpRankPlayerListItemSkin,e}return __extends(n,t),n.prototype.setInfo=function(t){this.memberInfo=t,this.nameLabel.text=t.name,this.winCountLabel.text=e.setNumber(t.victory),this.scoreLabel.text=e.setNumber(t.victoryCount)},n}(e.GameComponent);e.PvpRankPlayerListItem=t,__reflect(t.prototype,"game.PvpRankPlayerListItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._signImage=[],e.skinName=PvpRankPlayerListUpgradeSkin,e}return __extends(n,t),n.prototype.setInfo=function(t){this.memberInfo=t,this.nameLabel.text=t.name,this.signGroup.removeChildren();for(var n=e.Data.TRankHonorLv[t.honor],i=n.needBattle,a=0;i>a;a++){var o=this._signImage[a];
o||(o=new eui.Image,this._signImage[a]=o);var s=t.battles[a];s?o.source="ui/scene/pvpRank/duihao":0==s?o.source="ui/scene/pvpRank/chahao":o.source="ui/scene/pvpRank/wenhao",this.signGroup.addChild(o)}},n}(e.GameComponent);e.PvpRankPlayerListUpgrade=t,__reflect(t.prototype,"game.PvpRankPlayerListUpgrade")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._rewardItem=[],e.skinName=PvpRankRewardItemSkin,e}return __extends(n,t),n.prototype.setData=function(t,n){this.rewardData=t,this.rankIcon.source="ui/scene/pvpRank/"+t.name,this.rewardGroup.removeChildren();var i;i=n?t.lvMix:t.lvMax;for(var a=e.splitStringToNumberArray(i),o=0;o<a.length;o++){var s=a[o],r=this._rewardItem[o];r||(r=new e.ItemIcon,this._rewardItem[o]=r),r.item={type:s[0],count:s[1]},this.rewardGroup.addChild(r)}},n}(e.GameComponent);e.PvpRankRewardItem=t,__reflect(t.prototype,"game.PvpRankRewardItem")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=PvpRankZoneItemSkin,t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.setData=function(e){this.zoneData=e,this.image="ui/scene/pvpRank/zone_"+e.ID},Object.defineProperty(t.prototype,"bg",{set:function(e){this._bg=e,this.bgDisplay&&(this.bgDisplay.source=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"image",{set:function(e){this._image=e,this.imageDisplay&&(this.imageDisplay.source=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ImageScale",{set:function(e){this.imageDisplay&&(this.imageDisplay.scaleY=this.imageDisplay.scaleX=e)},enumerable:!0,configurable:!0}),t}(e.GameComponent);e.PvpRankZoneItem=t,__reflect(t.prototype,"game.PvpRankZoneItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=PvpRulePanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeHandle,this)},n.prototype.setText=function(t){this.infoLabel.textFlow=e.parseColorText(t)},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.PvpRulePanel=t,__reflect(t.prototype,"game.PvpRulePanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._artPokemonList=[],e._rankItemList=[],e.skinName=GuildBossRankSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._avatar=new e.BattleAvatar,this.avatarGroup.addChild(this._avatar.displayGroup),this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.touchGroup,callBackFunc:this.touchFirst}],this.addEventAndNotify()},n.prototype.touchFirst=function(){e.DataManager.playerModel.showPlayerDetail(this._firstInfo.id)},n.prototype.closeHandle=function(){this._avatar.stop();for(var t=0;t<this._artPokemonList.length;t++)this._artPokemonList[t].stop();e.removePopUp(this)},n.prototype.updateRankList=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o;return __generator(this,function(s){switch(s.label){case 0:return this.rankScroller.viewport.scrollV=0,[4,this.createFirst(t.first,t.ranks[0].value)];case 1:for(s.sent(),n=t.ranks,this.rankGroup.removeChildren(),i=1;i<n.length;i++)a=this._rankItemList[i],a||(a=new e.RankItem,this._rankItemList[i]=a),o=n[i],a.setData(o.info,o.rank,o.value,99),this.rankGroup.addChild(a);return[2]}})})},n.prototype.createFirst=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:return i=t.playerInfo,a=t.battlePms,this._firstInfo=i,this.nameLabel.text=i.name,this.vipLabel.text=e.getVipLevelByRecharge(i.vipExp).toString(),this.infoLabel.text=e.Lang.zaochengshanghai+":"+Math.floor(n/10)+"%",[4,this._avatar.setAvatar(i.gender)];case 1:r.sent(),this._avatar.setWing(t.playerInfo.wing,1),this._avatar.setDecoration(t.playerInfo.orna,1),this.pokemonGroup.removeChildren(),o=0,r.label=2;case 2:return o<a.length?(s=this._artPokemonList[o],s||(s=new e.ArtPokemonWithStar,this._artPokemonList[o]=s),[4,s.setPokemonInfo(a[o])]):[3,5];case 3:r.sent(),s.setScaleX(-1),this.pokemonGroup.addChild(s),s.setDisplayPosition(120*o+70,0),r.label=4;case 4:return o++,[3,2];case 5:return i.id.pid==e.DataManager.playerModel.pid&&i.id.sid==e.DataManager.playerModel.sid?this.nameLabel.textColor=2293504:this.nameLabel.textColor=16777215,t.playerInfo.title?(this.firstTitleImage.visible=!0,this.firstTitleImage.source="langs/title/"+t.playerInfo.title):this.firstTitleImage.visible=!1,[2]}})})},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.GuildBossRank=t,__reflect(t.prototype,"game.GuildBossRank")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.skinName=RankItemSkin,n.playerIcon.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.DataManager.playerModel.showPlayerDetail(n.playerInfo.id)},n),n}return __extends(n,t),n.prototype.setData=function(t,n,i,a){switch(this.playerInfo=t,this.nameLabel.text=t.name,this.playerIcon.icon=t.gender,this.vipLabel.text=e.getVipLevelByRecharge(t.vipExp).toString(),n>3?(this.rankIcon.visible=!1,this.rankLabel.visible=!0,this.rankLabel.text=n.toString()):(this.rankIcon.visible=!0,this.rankIcon.source="ui/scene/rank/"+n,this.rankLabel.visible=!1),a){case 0:this.infoLabel.text=e.Lang.zhanli+":"+i;break;case 1:this.infoLabel.text=e.Lang.dangqianguanka+":"+i;break;case 2:this.infoLabel.text=e.Lang.zhanli+":"+e.setNumber(t.fight);break;case 3:this.infoLabel.text=e.Lang.wakuangcishu+":"+e.setNumber(i);break;case 4:this.infoLabel.text=e.Lang.xiezhucishu+":"+e.setNumber(i);break;case 101:this.infoLabel.text=e.Lang.shengdian+":"+e.setNumber(i);break;case 100:this.infoLabel.text=e.Lang.shengdian+":"+e.setNumber(i);break;case 99:this.infoLabel.text=e.Lang.zaochengshanghai+":"+Math.floor(i/10)+"%"}t.id.pid==e.DataManager.playerModel.pid&&t.id.sid==e.DataManager.playerModel.sid?this.nameLabel.textColor=2293504:this.nameLabel.textColor=16777215},n}(e.GameComponent);e.RankItem=t,__reflect(t.prototype,"game.RankItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._types=[0,1,2,100,101,3,4],e._typeButtonList=[],e._artPokemonList=[],e._rankItemList=[],e.skinName=RankPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){for(var t=0;t<this._types.length;t++){var n=new e.RankTypeButton;n.type=this._types[t],this._typeButtonList.push(n),this.typeGroup.addChild(n)}this._radioGroup=new e.RadioGroup(this.typeGroup,this._typeButtonList,this.touchTypeButton,this,this.changeTypeButton),this._avatar=new e.BattleAvatar,this.avatarGroup.addChild(this._avatar.displayGroup),this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.touchGroup,callBackFunc:this.touchFirst}],this.addEventAndNotify()},n.prototype.touchFirst=function(){e.DataManager.playerModel.showPlayerDetail(this._firstInfo.id)},n.prototype.closeHandle=function(){this._avatar.stop();for(var t=0;t<this._artPokemonList.length;t++)this._artPokemonList[t].stop();e.removePopUp(this)},n.prototype.touchTypeButton=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return this._currentTypeButton=t,e.showWaitPanel(),[4,e.DataManager.playerModel.getRankList(t.type)];case 1:return n=i.sent(),n&&n.ranks.length>0?(this.firstGroup.visible=this.rankScroller.visible=this.selfRankLabel.visible=!0,[4,this.updateRankList(n)]):[3,3];case 2:return i.sent(),[3,4];case 3:this.firstGroup.visible=this.rankScroller.visible=this.selfRankLabel.visible=!1,e.showTips(e.Lang.dangqianbangdanweikaifang,!0),i.label=4;case 4:return e.hideWaitPanel(),[2]}})})},n.prototype.updateRankList=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:return this.rankScroller.viewport.scrollV=0,this.selfRankLabel.text=e.Lang.zanwupaiming,[4,this.createFirst(t.first,t.ranks[0].value)];case 1:for(r.sent(),n=t.ranks,this.rankGroup.removeChildren(),i=1;i<n.length;i++)a=this._rankItemList[i],a||(a=new e.RankItem,this._rankItemList[i]=a),o=n[i],a.setData(o.info,o.rank,o.value,this._currentTypeButton.type),this.rankGroup.addChild(a),s=o.info,s.id.pid==e.DataManager.playerModel.pid&&s.id.sid==e.DataManager.playerModel.sid&&(this.selfRankLabel.text=e.Lang.wodepaiming+":"+e.setNumber(o.rank));return[2]}})})},n.prototype.createFirst=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:switch(i=t.playerInfo,a=t.battlePms,this._firstInfo=i,this.nameLabel.text=i.name,this.vipLabel.text=e.getVipLevelByRecharge(i.vipExp).toString(),this._currentTypeButton.type){case 0:this.infoLabel.text=e.Lang.zhanli+":"+e.setNumber(n);break;case 1:this.infoLabel.text=e.Lang.dangqianguanka+":"+n;break;case 2:this.infoLabel.text=e.Lang.zhanli+":"+e.setNumber(i.fight);break;case 3:this.infoLabel.text=e.Lang.wakuangcishu+":"+e.setNumber(n);break;case 4:this.infoLabel.text=e.Lang.xiezhucishu+":"+e.setNumber(n);break;case 101:this.infoLabel.text=e.Lang.shengdian+":"+e.setNumber(n);break;case 100:this.infoLabel.text=e.Lang.shengdian+":"+e.setNumber(n)}return[4,this._avatar.setAvatar(i.gender)];case 1:r.sent(),this._avatar.setWing(t.playerInfo.wing,1),this._avatar.setDecoration(t.playerInfo.orna,1),this.pokemonGroup.removeChildren(),o=0,r.label=2;case 2:return o<a.length?(s=this._artPokemonList[o],s||(s=new e.ArtPokemonWithStar,this._artPokemonList[o]=s),[4,s.setPokemonInfo(a[o])]):[3,5];case 3:r.sent(),s.setScale(-.8,.8),s.setPlayerDetail(t),this.pokemonGroup.addChild(s),s.setDisplayPosition(120*o+70,0),r.label=4;case 4:return o++,[3,2];case 5:return i.id.pid==e.DataManager.playerModel.pid&&i.id.sid==e.DataManager.playerModel.sid?(this.nameLabel.textColor=2293504,this.selfRankLabel.text=e.Lang.wodepaiming+":1"):this.nameLabel.textColor=16777215,t.playerInfo.title?(this.firstTitleImage.visible=!0,this.firstTitleImage.source="langs/title/"+t.playerInfo.title):this.firstTitleImage.visible=!1,[2]}})})},n.prototype.changeTypeButton=function(e,t){e.select=t},n.prototype.onShow=function(){this._radioGroup.touchButton(this._typeButtonList[0])},n.prototype.changeToPvpRank=function(){this._radioGroup.touchButton(this._typeButtonList[3])},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.RankPanel=t,__reflect(t.prototype,"game.RankPanel")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=RankTypeButtonSkin,t.touchChildren=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"bg",{set:function(e){this._bg=e,this.bgDisplay&&(this.bgDisplay.source=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"image",{set:function(e){this._image=e,this.imageDisplay&&(this.imageDisplay.source=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){switch(this._type=e,e){case 0:this.image="ui/scene/rank/battleCount";break;case 2:this.image="ui/scene/rank/pvp";break;case 1:this.image="ui/scene/rank/mission";break;case 3:this.image="ui/scene/rank/minging";break;case 4:this.image="ui/scene/rank/friend";break;case 100:this.image="ui/scene/rank/king";break;case 101:this.image="ui/scene/rank/master"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"select",{set:function(e){this.bg=e?"ui/common/button/orangeBtn":"ui/common/button/yellowBtn"},enumerable:!0,configurable:!0}),t}(e.GameComponent);e.RankTypeButton=t,__reflect(t.prototype,"game.RankTypeButton")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._costItem={type:2,count:0},n._costItem0={type:1,count:0},n._rebirthMaxCount=Number(e.Constants.Rebirthtime),n._starCostCount={},n._starGoldCostCount={},n._expCostCount={},n._goldCostCount={},n._loveCostCount={},n._SPEvolveUPCost={},n._loveItemData=e.Data.TItem[12006],n.skinName=RebirthPanelSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.okButton.image="ui/scene/rebirth/Tx_zuanshics",this.okButton.bg="ui/common/button/orange",this.okButton0.image="ui/scene/rebirth/Tx_jinbics",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.okButton,callBackFunc:this.okHandle},{target:this.okButton0,callBackFunc:this.ok0Handle}],this.addEventAndNotify(),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showDetail,this),this.initRecoveryData()},n.prototype.initRecoveryData=function(){var t=0,n=0;for(var i in e.Data.TElfStarUp){if(this._starCostCount[i]=t,this._starGoldCostCount[i]=n,e.Data.TElfStarUp[i].costItem){var a=e.splitStringToNumberArray(e.Data.TElfStarUp[i].costItem,";");t+=a[1]}if(e.Data.TElfStarUp[i].price){var a=e.splitStringToNumberArray(e.Data.TElfStarUp[i].price,";");n+=a[1]}}var o=0;for(var i in e.Data.TElfLevel)this._expCostCount[i]=o,e.Data.TElfLevel[i].exp&&(o+=e.Data.TElfLevel[i].exp);var s=0;for(var i in e.Data.TElfLevel)this._goldCostCount[i]=s,e.Data.TElfLevel[i].money&&(s+=e.Data.TElfLevel[i].money);var r=0;for(var i in e.Data.TElfLove)this._loveCostCount[i]=r,e.Data.TElfLove[i].exp&&(r+=e.Data.TElfLove[i].exp);var u={},l=function(t){for(var n=t.split("|"),i=0;i<n.length;i++){var a=e.splitStringToNumberArray(n[i],";");u[a[0]]?u[a[0]]+=a[1]:u[a[0]]=a[1]}};for(var i in e.Data.TREvolveUp){var c=e.Data.TREvolveUp[i];c.costItem&&l(c.costItem),c.price&&l(c.price),this._SPEvolveUPCost[Number(i)+1]=e.copyObject(u)}},n.prototype.okHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n=this;return __generator(this,function(i){return t=e.CheckPanel.getInstance(),t.setData(e.Lang.quedingyaochongshengma,function(e){return __awaiter(n,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return e?[4,this.okAction(this._costItem)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}),t.show(),[2]})})},n.prototype.ok0Handle=function(){return __awaiter(this,void 0,void 0,function(){var t,n=this;return __generator(this,function(i){return t=e.CheckPanel.getInstance(),t.setData(e.Lang.jinbichongshengfanhuanqishiziyuan,function(e){return __awaiter(n,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return e?[4,this.okAction(this._costItem0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}),t.show(),[2]})})},n.prototype.okAction=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return n=e.DataManager.playerModel.getPokemonInfoById(this.pokemonID),e.checkPokemonRecoveryOrRebirth(n,!0)?(i=e.DataManager.playerModel.getPokemonInfoById(this.pokemonID).rebornCount,i>=this._rebirthMaxCount?(e.showTips(e.Lang.chongshicishudadaoshangxian,!0),[2]):e.checkCanBuy(t)?[4,e.DataManager.playerModel.RebirthPokemon(this.pokemonID,t)]:(e.showTips(e.Lang.nindedaojubuzu,!0),[2])):[2];case 1:return a.sent(),this.setPokemon(),this.itemGroup.removeChildren(),[2]}})})},n.prototype.showDetail=function(e){e&&e.target&&e.target.showDetail&&e.target.showDetail()},n.prototype.setPokemon=function(){var t=e.DataManager.playerModel.getPokemonInfoById(this.pokemonID);this._artPokemon||(this._artPokemon=new e.TeamArtPokemon,this._artPokemon.setScale(1),this.pokemonGroup.addChild(this._artPokemon.display)),this._artPokemon.setPokemon(t.type,!1),this._costItem.count=Number(e.Constants.RebirthDiamondPerStar)*(t.star+1),this._costItem0.count=Number(e.Constants.RebirthGoldPerStar)*(t.star+1),this.countLabel.text=e.setNumber(this._costItem.count),this.countLabel0.text=e.setNumber(this._costItem0.count)},n.prototype.onShow=function(){var t=this.getItems();this.itemGroup.removeChildren();for(var n=0;n<t.length;n++){var i=new e.ItemIcon;i.item=t[n],this.itemGroup.addChild(i)}this.setPokemon()},n.prototype.getItems=function(){var t=e.DataManager.playerModel.getPokemonInfoById(this.pokemonID),n=e.Data.TElf[t.type],i=e.Data.TPetRebirth[n.quality],a={},o=this._expCostCount[t.lv]+t.exp,s=this._goldCostCount[t.lv],r=this._loveCostCount[t.intimacyLv]+t.intimacy,u=this._starCostCount[t.star],l=function(e,t){return a[e]?void(a[e]+=t):void(a[e]=t)},c=function(t,n){if(void 0===n&&(n=1),null!=t)for(var i=t.split("|"),a=0;a<i.length;a++){var o=e.splitStringToNumberArray(i[a],";");l(o[0],Math.ceil(o[1]*n))}};if(t.stage){var h=e.Data.TElf[n.upElf];if(h){var p=e.Data.TAdvanced[h.quality];if(p){if(n.upPrice){var g=e.splitStringToNumberArray(n.upPrice,";");l(g[0],Math.ceil(g[1]*p.AdvancedPricePer)*t.stage)}n.upItem&&c(n.upItem,p.AdvancedPricePer*t.stage)}}}if(t.star>0)for(var d=e.splitStringToNumberArray(n.starUpCost),m=0;m<Math.floor(t.star-1);++m)l(d[m][0],d[m][1]);var f=[12246,12221,12231,12226,12236,12241],_=t.effort;l(f[0],_.hp),l(f[1],_.atk),l(f[2],_.def),l(f[3],_.spAtk),l(f[4],_.spDef),l(f[5],_.speed),l(3,o),l(6,u),l(12006,r),l(1,r*e.TeamLovePanel.everyLoveCostMoneyCount+this._starGoldCostCount[t.star]+s);var y=[];for(var m in a)if(a.hasOwnProperty(m)){var v={type:Number(m),count:Number(a[m])};switch(v.type){case 1:v.count=Math.floor(v.count*i.gold),v.count&&y.push(v);break;case 3:v.count=Math.floor(v.count*i.experience),v.count&&y.push(v);break;case 6:v.count=Math.floor(v.count*i.bluecrystal),v.count&&y.push(v);break;case 12006:v.count=Math.floor(v.count*i.Intimacy/this._loveItemData.number1),v.count&&y.push(v);break;case 12151:v.count=Math.floor(v.count*i.low),v.count&&y.push(v);break;case 12152:v.count=Math.floor(v.count*i.scalamedia),v.count&&y.push(v);break;case 12111:v.count=Math.floor(v.count*i.mega),v.count&&y.push(v);break;default:v.type>=12101&&v.type<=12129?(v.count=Math.floor(v.count*i.stone),v.count&&y.push(v)):v.type>=10086&&v.type<=10088?(v.count=Math.floor(v.count*i.debris),v.count&&y.push(v)):f.indexOf(v.type)>-1?(v.count=Math.floor(v.count*i.strive),v.count&&y.push(v)):v.type>6e5&&v.type<7e5&&v.count&&y.push(v)}}return y},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.openPokemonLv=Number(e.Constants.RebirthLv),n.openPlayerLv=Number(e.Constants.SpiritRebirth),n}(e.PanelComponent);e.RebirthPanel=t,__reflect(t.prototype,"game.RebirthPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._vipLimit=Number(e.Constants.HuoChengZhangVip),n._price=e.splitStringToNumberArray(e.Constants.HuoChengZhangPrice,";"),n.skinName=ChengZhangJiHuaYinDaoSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.missionLabel.text=e.Constants.stageToGrowUpPlan,this.detailButton.label=e.Lang.liaojiexiangqing,this.buyButton.label=e.Lang.goumai,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.detailButton,callBackFunc:this.detailHandle},{target:this.buyButton,callBackFunc:this.buyHandle}],this.addEventAndNotify()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.detailHandle=function(){this.closeHandle(),e.ActivityPanel.openActivity(105)},n.prototype.buyHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i=this;return __generator(this,function(a){switch(a.label){case 0:return e.DataManager.playerModel.playerVip>=this._vipLimit?[4,e.DataManager.playerModel.buyGrowthPlan(this._price[1])]:[3,2];case 1:return a.sent(),this.closeHandle(),[3,3];case 2:t=e.Data.TVip[3].threshold-e.DataManager.playerModel.playerRecharge,n=e.CheckPanel.getInstance(),n.setData("只有Vip"+this._vipLimit+"或者以上的训练师才可以购买哦~再充值"+t+"就可以白赚4000钻哦!",function(t){t&&(e.navPanel(18),i.closeHandle())}),n.show(),a.label=3;case 3:return[2]}})})},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.ChengZhangJiHuaYinDao=t,__reflect(t.prototype,"game.ChengZhangJiHuaYinDao")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=CommonTipsPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.confirmButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},n.prototype.setData=function(){},n.prototype.setText=function(e){return void 0===e&&(e=""),this.tipsLabel.text=e,this.tipsImage.visible=!1,this.titleImage.visible=!1,this.setTitleImage(),this.setTipsImage(),this.setButtonImage("langs/queding"),this},n.prototype.setImage=function(e,t,n){return this.setText(),this.setTitleImage(e),this.setTipsImage(t),this.setButtonImage(n),this.tipsLabel.visible=!1,this},n.prototype.setTitleImage=function(e){void 0===e&&(e=""),this.titleImage.visible=""!=e,this.titleImage.source=e},n.prototype.setTipsImage=function(e){void 0===e&&(e=""),this.tipsImage.visible=""!=e,this.tipsImage.source=e},n.prototype.setButtonImage=function(e){void 0===e&&(e=""),this.confirmButton.image=e},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.CommonTipsPanel=t,__reflect(t.prototype,"game.CommonTipsPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=RechargeItemSkin,e.touchChildren=!1,e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.rechargeHandle,e),e}return __extends(n,t),n.prototype.setData=function(e){this.rechargeData=e,this.icon.verticalCenter=42,9==e.ID?this.icon.source="ui/scene/recharge/yueka":10==e.ID?this.icon.source="ui/scene/recharge/zhongshenka":(this.icon.verticalCenter=12,this.icon.source="ui/scene/recharge/"+Math.min(6,e.ID)),this.moneyLabel.text=e.Price.toString()},n.prototype.update=function(){this.doubleGroup.visible=!1,e.DataManager.playerModel.chargeOrNot(this.rechargeData.ID)?9==this.rechargeData.ID||10==this.rechargeData.ID?this.removeFromParent():this.titleLabel.textFlow=e.parseColorText("[#ffffff]"+e.Lang.zuanshi+" [#00e500]"+this.rechargeData.Diamonds):9==this.rechargeData.ID?this.titleLabel.text=e.Lang.chaozhiyueka:10==this.rechargeData.ID?this.titleLabel.text=e.Lang.zhongshenka:(this.doubleGroup.visible=!0,this.titleLabel.textFlow=e.parseColorText("[#ffffff]"+e.Lang.zuanshi+" [#00e500]"+this.rechargeData.Diamonds+"x2"))},n.prototype.rechargeHandle=function(){SDK.recharge(this.rechargeData.ID)},n}(e.EffectButton);e.RechargeItem=t,__reflect(t.prototype,"game.RechargeItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=RechargeResultSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.confirmButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.RechargeResult=t,__reflect(t.prototype,"game.RechargeResult")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=YueKaYinDaoSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.monthButton.icon="ui/scene/activity/102_icon",this.superButton.icon="ui/scene/activity/103_icon",this.goButton.label=e.Lang.lijiqianwang,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.monthButton,callBackFunc:this.monthHandle},{target:this.superButton,callBackFunc:this.superHandle},{target:this.goButton,callBackFunc:this.monthHandle}],this.addEventAndNotify()},n.prototype.onShow=function(){this.monthButton.visible=this.superButton.visible=!1;var t=e.DataManager.playerModel.getSuperCard(),n=e.getNowTime(),i=e.DataManager.playerModel.getMoneyCardTime();n.getTime()>=i.getTime()&&(this.monthButton.visible=!0,this.monthButton.horizontalCenter=40),0==t&&(this.superButton.visible=!0,this.monthButton.visible?(this.monthButton.horizontalCenter=-44,this.superButton.horizontalCenter=127):this.superButton.horizontalCenter=40)},n.prototype.monthHandle=function(){this.closeHandle(),e.ActivityPanel.openActivity(102)},n.prototype.superHandle=function(){this.closeHandle(),e.ActivityPanel.openActivity(103)},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.YueKaYinDao=t,__reflect(t.prototype,"game.YueKaYinDao")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=ZhanDouShiBaiSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.image="ui/scene/activity/Tx_lingqu",this.confirmButton.bg="ui/scene/activity/btn_12",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.confirmButton,callBackFunc:this.confirmHandle}],this.addEventAndNotify();for(var t=e.splitStringToNumberArray(e.Constants.sympathyGiftItemID),n=0;n<t.length;n++){var i=t[n];if(e.Data.TItem[i[0]]){var a=new e.ItemIcon;a.item={type:i[0],count:i[1]},this.rewardGroup.addChild(a)}else if(e.Data.TElf[i[0]]){var o=new e.PokemonIcon;o.pokemon=i[0],this.rewardGroup.addChild(o)}}this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchItem,this)},n.prototype.touchItem=function(e){var t=e.target;t.showDetail&&t.showDetail()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.GetFirstFailedReward()];case 1:return t.sent(),this.closeHandle(),[2]}})})},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.ZhanDouShiBai=t,__reflect(t.prototype,"game.ZhanDouShiBai")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._maxAttCount=Number(e.Constants.MeetPVPRobCount),n._can=!0,n.skinName=RevengeItemSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.deleteButton.label=e.Lang.shanchu,this.signButton.imageDisplay.scaleX=this.signButton.imageDisplay.scaleY=1.5,this.revengeButton.imageDisplay.scaleX=this.revengeButton.imageDisplay.scaleY=1.5,this.attButton.imageDisplay.scaleX=this.attButton.imageDisplay.scaleY=1.5,this.deleteButton.labelDisplay.scaleX=this.deleteButton.labelDisplay.scaleY=1.5,this.signButton.image="langs/biaojiweisudi",this.revengeButton.image="langs/fuchou2",this.attButton.image="langs/qiangta",this._role=new e.BattleAvatar,this.avatarGroup.addChild(this._role.displayGroup),this._touchEvent=[{target:this.attButton,callBackFunc:this.attHandle},{target:this.deleteButton,callBackFunc:this.deleteHandle},{target:this.signButton,callBackFunc:this.signHandle},{target:this.revengeButton,callBackFunc:this.attHandle}],this.addEventAndNotify()},n.prototype.signHandle=function(){e.NotificationCenter.getInstance().postNotification(e.RevengePanel.ADD_RIVAL,this._playerInfo)},n.prototype.deleteHandle=function(){e.NotificationCenter.getInstance().postNotification(e.RevengePanel.DELETE_RIVAL,this._playerInfo)},n.prototype.attHandle=function(){this._can?e.NotificationCenter.getInstance().postNotification(e.RevengePanel.ATT_RIVAL,this):e.showTips(e.Lang.gaiwanjialueduoyidaoshangxian,!0)},n.prototype.setPlunderInfo=function(e){this._can=!0,this.plunderInfo=e,this._playerInfo=e.Enemy,this.rivalInfo=null,this.updatePlayer(),this.attGroup.visible=!1,this.normalGroup.visible=!0,e.Money>0?(this.successGroup.visible=!0,this.failLabel.visible=!1,this.countLabel.text=e.Money.toString()):(this.successGroup.visible=!1,this.failLabel.visible=!0)},n.prototype.setRivalInfo=function(t){this._can=!0,this.rivalInfo=t,this.plunderInfo=null,this._playerInfo=this.rivalInfo.Info,this.updatePlayer(),this.attGroup.visible=!0,this.normalGroup.visible=!1;var n;t.AttackCount>=this._maxAttCount?(n=gameConfig.TextColors.red,this._can=!1):n=gameConfig.TextColors.green,this.attCountLabel.textFlow=[{text:e.Lang.jinriyilueduo},{text:t.AttackCount+"/"+this._maxAttCount,style:{textColor:n}}]},n.prototype.updatePlayer=function(){this._playerInfo&&(this._playerInfo.title?(this.titleImage.visible=!0,this.titleImage.source="langs/title/"+this._playerInfo.title):this.titleImage.visible=!1,this.nameLabel.text=this._playerInfo.name,this.vipLabel.text=e.getVipLevelByRecharge(this._playerInfo.vipExp).toString(),this._role.setAvatar(this._playerInfo.gender),this._role.setWing(this._playerInfo.wing,1),this._role.setDecoration(this._playerInfo.orna,1))},n.prototype.stop=function(){this._role.removeWing()},n}(e.GameComponent);e.RevengeItem=t,__reflect(t.prototype,"game.RevengeItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._itemList=[],n._maxRivalCount=Number(e.Constants.MeetPVPRobPerson),n.skinName=RevengePanelSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.normalButton.image="langs/fuchou",this.specialButton.image="langs/choudi",this._touchEvent=[{target:this.normalButton,callBackFunc:this.touchTypeButton},{target:this.specialButton,callBackFunc:this.touchTypeButton},{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.addRival,n.ADD_RIVAL),e.NotificationCenter.getInstance().addObserver(this,this.deleteRival,n.DELETE_RIVAL),e.NotificationCenter.getInstance().addObserver(this,this.attHandle,n.ATT_RIVAL)},n.prototype.attHandle=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s,r,u,l,c,a,h,p,g,d,m;return __generator(this,function(f){switch(f.label){case 0:return t?(e.showWaitPanel(),t.rivalInfo?(n=t.rivalInfo.Info.id,i=t.rivalInfo,[4,e.HttpRequest.PlunderAsync(n)]):[3,2]):[2];case 1:return i.AttackCount=f.sent(),[3,3];case 2:for(n=t.plunderInfo.Enemy.id,a=0;a<e.DataManager.playerModel.plunderList.length;a++)o=e.DataManager.playerModel.plunderList[a].Enemy.id,n.sid==o.sid&&n.pid==o.pid&&(e.DataManager.playerModel.plunderList.splice(a,1),a--);f.label=3;case 3:return[4,e.HttpRequest.QueryPlayerDetailAsync(n)];case 4:for(s=f.sent(),r=s.battlePms,u=s.team,l=s.playerInfo,c=[],a=0;a<r.length;a++){for(h=r[a],p=0,g=0;g<u.gridConfig.length;g++)if(u.gridConfig[a].id==h.id){p=u.gridConfig[a].grid;break}d=e.parseBattlePokemonData(h,u.formation,p,!1,!1,u.titles,u.badges,u.roles,1,!1,e.getVipLevelByRecharge(l.vipExp),u,null,null,u.artifacts,null),c.push(d)}return m=e.BattleScene.getInstance(),m.friendData=c,m.friendInfo=l,m.friendTeam=u,m.friendPokemonData=e.DataManager.playerModel.getPlayerBattlePokemonList(),[4,m.initBattle(5)];case 5:return f.sent(),e.hideWaitPanel(),e.GameLayer.battleLayer.addChild(m),m.run(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),[2]}})})},n.prototype.endBattle=function(){e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!0,e.NotificationCenter.getInstance().removeObserver(this,e.BattleScene.QUIT_BATTLE),this.updateList()},n.prototype.deleteRival=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return t?[4,e.DataManager.playerModel.deleteRival(t)]:[3,2];case 1:n.sent(),this.updateList(),n.label=2;case 2:return[2]}})})},n.prototype.addRival=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return t?this._rivalList&&this._rivalList.length>=this._maxRivalCount?(e.showTips(e.formatString(e.Lang.ninzuiduozhinengshezhiduoshaosudi,this._maxRivalCount),!0),[3,3]):[3,1]:[3,3];case 1:return[4,e.DataManager.playerModel.setRival(t)];case 2:n.sent(),this.updateList(),n.label=3;
case 3:return[2]}})})},n.prototype.touchTypeButton=function(e){this._currentButton=e,this.normalButton.bg=e==this.normalButton?"ui/common/button/greenBtn":"ui/common/button/greenBtnGray",this.specialButton.bg=e==this.specialButton?"ui/common/button/greenBtn":"ui/common/button/greenBtnGray",this.updateList()},n.prototype.updateList=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,n,i;return __generator(this,function(o){switch(o.label){case 0:if(this.itemGroup.removeChildren(),this._currentButton!=this.normalButton)return[3,1];if(t=e.DataManager.playerModel.plunderList,t.length>0)for(this.noneLabel.visible=!1,n=0;n<t.length;n++)i=this._itemList[n],i||(i=new e.RevengeItem,this._itemList.push(i)),i.setPlunderInfo(t[n]),this.itemGroup.addChild(i);else this.noneLabel.visible=!0;return[3,3];case 1:return a=this,[4,e.DataManager.playerModel.getRivalList()];case 2:if(a._rivalList=o.sent(),this._rivalList.length>0)for(this.noneLabel.visible=!1,n=0;n<this._rivalList.length;n++)i=this._itemList[n],i||(i=new e.RevengeItem,this._itemList.push(i)),i.setRivalInfo(this._rivalList[n]),this.itemGroup.addChild(i);else this.noneLabel.visible=!0;o.label=3;case 3:return[2]}})})},n.prototype.closeHandle=function(){for(var t=0;t<this._itemList.length;t++)this._itemList[t].stop();e.removePopUp(this)},n.prototype.onShow=function(){this.touchTypeButton(this.normalButton)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.ADD_RIVAL="RevengePanel_ADD_RIVAL",n.DELETE_RIVAL="RevengePanel_DELETE_RIVAL",n.ATT_RIVAL="RevengePanel_ATT_RIVAL",n}(e.PanelComponent);e.RevengePanel=t,__reflect(t.prototype,"game.RevengePanel")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.riftItem=[],e.skinName=RiftChangeLevelSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},i.prototype.closeHandle=function(){e.removePopUp(this)},i.prototype.onShow=function(){this.itemGroup.removeChildren();for(var t=e.DataManager.playerModel.getActivityInfo().ext.famInfo,i=t.maxLv+1,a=1;i>=a;a++){var o=e.Data.TFamLv[a];if(o){var s=this.riftItem[a];s||(s=new n,this.riftItem[a]=s);for(var r=void 0,u=0;u<t.levels.length;u++)if(t.levels[u].lv==o.id){r=t.levels[u];break}s.setData(o,r,this),this.itemGroup.addChild(s)}}},i.prototype.changeLevel=function(t){e.NotificationCenter.getInstance().postNotification(e.RiftPanel.CHANGE_LEVEL,t),this.closeHandle()},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.PanelComponent);e.RiftChangeLevel=t,__reflect(t.prototype,"game.RiftChangeLevel");var n=function(t){function n(){var e=t.call(this)||this;return e.skinName=RiftLevelItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.changeButton.label=e.Lang.qianwang,this._touchEvent=[{target:this.changeButton,callBackFunc:this.changeHandle}],this.addEventAndNotify()},n.prototype.changeHandle=function(){this.changePanel.changeLevel(this.riftData.id)},n.prototype.setData=function(t,n,i){this.riftData=t,this.riftInfo=n,this.changePanel=i,this.nameLabel.text=t.name,n?this.progressLabel.text=e.Lang.dangqianjindu+": "+Math.floor(n.index/n.events.length*100)+"%":this.progressLabel.text=e.Lang.dangqianjindu+": 0%"},n}(e.GameComponent);e.RiftLevelItem=n,__reflect(n.prototype,"game.RiftLevelItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.playHoe=!1,e.skinName=RiftEventDetailSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.playerRole=new e.SequenceImage,this.playerRole.setDisplayPosition(0,0),this.playerRole.setScale(.7),this.roleGroup.addChild(this.playerRole.display),this.eventAnim=new e.SequenceImage,this.eventAnim.setDisplayPosition(0,0),this.eventAnim.setScale(.7),this.animGroup.addChild(this.eventAnim.display),this._touchEvent=[{target:this.confirmButton,callBackFunc:this.confirmHandle}],this.addEventAndNotify()},n.prototype.confirmHandle=function(){switch(this.riftEvent.type){case 1:case 2:case 3:this.startMine();break;case 5:this.useWater();break;case 6:this.useTrap();break;case 7:this.useLeaf();break;case 8:this.enterBattle(!0);break;case 10:this.enterBattle(!1)}},n.prototype.useWater=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.endRiftEvent(0)];case 1:return t.sent(),this.riftEvent.riftInfo.hp+=20,this.closeHandle(),[2]}})})},n.prototype.useTrap=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.endRiftEvent(0)];case 1:return t.sent(),this.riftEvent.riftInfo.hp-=20,this.closeHandle(),[2]}})})},n.prototype.useLeaf=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a=this;return __generator(this,function(o){switch(o.label){case 0:return this.confirmButton.visible=!1,[4,e.DataManager.playerModel.endRiftEvent(0)];case 1:return t=o.sent(),t&&(n=e.DataManager.playerModel.idleFollowPokemon[0],i=t.pokemons[0],i.effort.hp!=n.effort.hp?this.talkLabel.text=e.formatString(e.Lang.nulizhizengjia,e.Data.TElf[i.type].name,this.riftEvent.riftData.LeafEffort):i.intimacyLv!=n.intimacyLv||i.intimacy!=n.intimacy?this.talkLabel.text=e.formatString(e.Lang.baokemengqinmiduzengjia,e.Data.TElf[i.type].name,this.riftEvent.riftData.LeafLove):this.talkLabel.text=e.formatString(e.Lang.baokemengjingyanzengjia,e.Data.TElf[i.type].name,this.riftEvent.riftData.LeafExp),e.DataManager.playerModel.addRiftReward(t),egret.setTimeout(function(){a.closeHandle()},this,1500)),[2]}})})},n.prototype.enterBattle=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return e.showWaitPanel(),n=e.BattleScene.getInstance(),t?(n.riftId=this.riftEvent.riftData.npcID,n.riftFormation=this.riftEvent.riftData.npcFormation):(n.riftId=this.riftEvent.riftData.bossID,n.riftFormation=this.riftEvent.riftData.bossFormation),n.riftHpPercent=(100+this.riftEvent.riftInfo.hp)/100,[4,n.initBattle(9)];case 1:return i.sent(),e.hideWaitPanel(),e.GameLayer.battleLayer.addChild(n),n.run(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),[2]}})})},n.prototype.endBattle=function(t){e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!0,e.NotificationCenter.getInstance().removeObserver(this,e.BattleScene.QUIT_BATTLE),e.NotificationCenter.getInstance().postNotification(e.RiftPanel.BATTLE_END,t),this.closeHandle()},n.prototype.startMine=function(){return __awaiter(this,void 0,void 0,function(){var t,n=this;return __generator(this,function(i){switch(i.label){case 0:return[4,e.DataManager.playerModel.endRiftEvent(0)];case 1:return t=i.sent(),t&&(this.playHoe=!0,this.confirmButton.visible=!1,this.hoe&&this.hoe.play(null,0),this.boneGroup.visible=!0,this.mineProgress.visible=!0,egret.Tween.get(this.mineProgress).to({value:0},2e3).call(function(){n.playHoe=!1,n.confirmButton.visible=!1,n.hoe&&n.hoe.stop(),n.boneGroup.visible=!1,n.mineProgress.visible=!1,e.DataManager.playerModel.addRiftReward(t),egret.Tween.get(n.itemIcon).to({alpha:0},1e3).call(function(){n.closeHandle()})})),[2]}})})},n.prototype.closeHandle=function(){e.NotificationCenter.getInstance().postNotification(e.RiftPanel.DETAIL_CLOSE),e.removePopUp(this)},n.prototype.setEvent=function(e){switch(this.confirmButton.visible=!0,this.boneGroup.visible=!1,this.mineProgress.visible=!1,this.playHoe=!1,this.itemIcon.alpha=1,this.itemIcon.x=332,this.itemIcon.y=262,this.riftEvent=e,e.type){case 1:case 2:case 3:this.setMining();break;case 5:this.setWater();break;case 6:this.setTrap();break;case 7:this.setLeaf();break;case 8:this.setNpc();break;case 10:this.setBoss()}},n.prototype.setBoss=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.itemIcon.visible=!1,this.animGroup.visible=!0,this.talkLabel.text=e.Lang.pengdaobaokemeng,this.confirmButton.label=e.Lang.zhandou,[4,this.eventAnim.setData(this.riftEvent.animData)];case 1:return t.sent(),this.eventAnim.updateTexture(1,1),[2]}})})},n.prototype.setNpc=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.itemIcon.visible=!1,this.animGroup.visible=!0,this.talkLabel.text=e.Lang.laizhandouba,this.confirmButton.label=e.Lang.zhandou,[4,this.eventAnim.setData(this.riftEvent.animData)];case 1:return t.sent(),this.eventAnim.updateTexture(1,1),[2]}})})},n.prototype.setLeaf=function(){this.itemIcon.visible=!0,this.animGroup.visible=!1,this.talkLabel.text=e.Lang.siyecao,this.confirmButton.label=e.Lang.shiyong,this.itemIcon.source="ui/scene/rift/type_"+this.riftEvent.type},n.prototype.setTrap=function(){this.itemIcon.visible=!0,this.animGroup.visible=!1,this.talkLabel.text=e.Lang.caidaoxianjing,this.confirmButton.label=e.Lang.queding,this.itemIcon.source="ui/scene/rift/type_"+this.riftEvent.type},n.prototype.setWater=function(){this.itemIcon.visible=!0,this.animGroup.visible=!1,this.talkLabel.text=e.Lang.faixianquanhui,this.confirmButton.label=e.Lang.queding,this.itemIcon.source="ui/scene/rift/type_"+this.riftEvent.type},n.prototype.setMining=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.itemIcon.visible=!0,this.animGroup.visible=!1,this.talkLabel.text=e.Lang.faxianxinkuangshi,this.confirmButton.label=e.Lang.kaishi,this.itemIcon.source="ui/scene/rift/type_"+this.riftEvent.type,this.mineProgress.maximum=100,this.mineProgress.value=100,this.hoe?[3,2]:(t=new e.SkeletonBase,[4,t.createBones("langtou")]);case 1:n.sent(),this.boneGroup.addChild(t),this.hoe=t,this.playHoe&&this.hoe.play(null,0),n.label=2;case 2:return[2]}})})},n.prototype.onShow=function(){this.updateAnim()},n.prototype.updateAnim=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.playerRole.setData({delay:150,size:{col:4,row:4},resource:"anim/role/"+e.DataManager.playerModel.playerRole})];case 1:return t.sent(),this.playerRole.updateTexture(1,1),[2]}})})},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.RiftDetail=t,__reflect(t.prototype,"game.RiftDetail")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=RiftEventSkin,e}return __extends(n,t),n.prototype.setEvent=function(t,i,a){this.riftInfo=a,this.riftData=e.Data.TFamLv[a.lv],this.id=t,this.type=i,10==i||0==i||8==i?this.typeIcon.visible=!1:(this.typeIcon.visible=!0,this.typeIcon.source="ui/scene/rift/type_"+i),this.nameLabel.text=n.nameList[i],this.animGroup.removeChildren(),this.id==a.index&&this.hideIcon()},n.prototype.hideIcon=function(){this.typeIcon.visible=!1,this.animGroup.visible=!1},n.prototype.setAnim=function(e){this.animData=e.sequenceImageData,this.typeIcon.visible=!1,this.animGroup.addChild(e.display)},n.prototype.showDetail=function(){if(4==this.type){var t=e.RiftMole.getInstance();t.setEvent(this),t.show()}else{var n=e.RiftDetail.getInstance();n.setEvent(this),n.show()}},n.prototype.showIcon=function(){this.typeIcon.visible=!0,this.animGroup.visible=!0},n.nameList=["","银矿","金矿","水晶矿","打地鼠","泉水","陷阱","四叶草","NPC","未知","BOSS"],n}(e.GameComponent);e.RiftEvent=t,__reflect(t.prototype,"game.RiftEvent")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._animList=[],e._eventList=[],e.skinName=RiftLineSkin,e}return __extends(n,t),n.prototype.setData=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a,i,o,s,r,r;return __generator(this,function(u){switch(u.label){case 0:for(i=0;i<this._eventList.length;i++)this._eventList[i].showIcon();this.riftInfo=t,this.riftData=n,a=0,i=0,u.label=1;case 1:return i<t.events.length?(o=t.events[i],s=this._eventList[i],s||(s=new e.RiftEvent,this._eventList[i]=s),s.x=92*i,s.setEvent(i,o,this.riftInfo),this.eventGroup.addChild(s),10!=o?[3,3]:(r=this._animList[a],r||(r=new e.SequenceImage,r.setScale(.7),this._animList[a]=r),[4,r.setData({delay:150,size:{col:4,row:4},resource:"anim/pokemon/"+this.riftData.bossShow})])):[3,6];case 2:return u.sent(),r.setDisplayPosition(0,0),r.updateTexture(2,1),s.setAnim(r),a++,[3,5];case 3:return 8!=o?[3,5]:(r=this._animList[a],r||(r=new e.SequenceImage,r.setScale(.7),this._animList[a]=r),[4,r.setData({delay:150,size:{col:4,row:4},resource:"anim/human/"+this.riftData.npcShow})]);case 4:u.sent(),r.setDisplayPosition(0,0),r.updateTexture(2,1),s.setAnim(r),a++,u.label=5;case 5:return i++,[3,1];case 6:return[2]}})})},n.prototype.setProgress=function(e){this.eventGroup.x=-92*e,this._eventList[e]&&this._eventList[e].hideIcon()},n.prototype.showBoss=function(){this._eventList[this._eventList.length-1].animGroup.visible=!0},n.prototype.run=function(e,t){var n=this.eventGroup.x-92*e;egret.Tween.get(this.eventGroup).to({x:n},t)},n.prototype.getEvent=function(e){return this._eventList[e]},n}(e.GameComponent);e.RiftLine=t,__reflect(t.prototype,"game.RiftLine")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i.touchCount=0,i.rewardGold=2e3,i.goldPool=new e.ObjectPool(n),i._timeOut=!1,i._hurtTime=null,i.skinName=RiftMoleSkin,i.init(),i}return __extends(i,t),i.prototype.init=function(){this.confirmButton.label=e.Lang.kaishi,this.talkLabel.text=e.Lang.faxiansandishu,this.playerRole=new e.SequenceImage,this.playerRole.setDisplayPosition(0,0),this.playerRole.setScale(.7),this.roleGroup.addChild(this.playerRole.display),this._touchEvent=[{target:this.confirmButton,callBackFunc:this.startHandle},{target:this.touchGroup,callBackFunc:this.touchHandle}],this.addEventAndNotify(),this._hurtEffect=new e.SequenceImage},i.prototype.touchHandle=function(t,n){var i=this;if(this._timeOut)return void e.showTips(e.Lang.shijiandao,!0);this._hurtEffect.setDisplayPosition(n.stageX,n.stageY+30),this._hurtEffect.play(1),this.stage.addChild(this._hurtEffect.display),null!=this._hurtTime&&egret.clearTimeout(this._hurtTime),this._hurtTime=egret.setTimeout(function(){i._hurtTime=null,i.stage.removeChild(i._hurtEffect.display)},this,1e3),this.touchCount++,this.touchCount=Math.min(200,this.touchCount),this.countLabel.text=e.Lang.dianjicishu+": "+this.touchCount,this.touchProgress.value=this.touchCount;for(var a=0;a<this.needCount.length;a++)this.touchCount>=this.needCount[a]?this["treasure"+(a+1)].source="ui/common/util/unlockTreasure":this["treasure"+(a+1)].source="ui/common/util/lockTreasure";var o=this.goldPool.createObject();o.setGold(this.rewardGold),o.x=Math.random()*this.goldGroup.width,o.y=Math.random()*this.goldGroup.height,o.alpha=1,this.goldGroup.addChild(o),egret.Tween.get(o).to({y:o.y-100,alpha:0},500).call(function(){i.goldPool.destroyObject(o)})},i.prototype.startHandle=function(){var t=this;this.timeLabel.visible=this.countLabel.visible=this.rewardGroup.visible=!0,this.confirmButton.visible=!1,this.touchGroup.touchEnabled=!0;var n=function(){t.timeLabel.text=e.Lang.shengyushijian+": "+i+"s",i--,0>i&&(egret.clearInterval(a),t.timeOut())},i=10;n();var a=egret.setInterval(function(){n()},this,1e3)},i.prototype.timeOut=function(){return __awaiter(this,void 0,void 0,function(){var t,n=this;return __generator(this,function(i){switch(i.label){case 0:return this._timeOut=!0,this.timeLabel.text=e.Lang.shijiandao,[4,e.DataManager.playerModel.endRiftEvent(this.touchCount)];case 1:return t=i.sent(),t&&e.DataManager.playerModel.addRiftReward(t),egret.setTimeout(function(){n.closeHandle()},this,2e3),[2]}})})},i.prototype.closeHandle=function(){e.NotificationCenter.getInstance().postNotification(e.RiftPanel.DETAIL_CLOSE),e.removePopUp(this)},i.prototype.onShow=function(){this.updateAnim(),this.goldGroup.removeChildren(),this.timeLabel.visible=this.countLabel.visible=this.rewardGroup.visible=!1,this.confirmButton.visible=!0,this.treasure1.source=this.treasure2.source=this.treasure3.source="ui/common/util/lockTreasure",this.touchCount=0,this.countLabel.text=e.Lang.dianjicishu+": "+this.touchCount,this.touchProgress.value=this.touchCount,this.touchGroup.touchEnabled=!1,this._timeOut=!1},i.prototype.updateAnim=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.playerRole.setData({delay:150,size:{col:4,row:4},resource:"anim/role/"+e.DataManager.playerModel.playerRole})];case 1:return t.sent(),this.playerRole.updateTexture(1,1),[4,this._hurtEffect.setData({delay:100,size:{row:1,col:4},resource:"anim/effect/4"})];case 2:return t.sent(),this._hurtEffect.play(1),[2]}})})},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i.prototype.setEvent=function(t){this.riftEvent=t;var n=e.Data.TFamLv[t.riftInfo.lv],i=n.MoleCount;this.needCount=e.splitStringToNumberArray(i,";"),this.touchProgress.maximum=this.needCount[2],this.rewardGold=n.MoleGold},i}(e.PanelComponent);e.RiftMole=t,__reflect(t.prototype,"game.RiftMole");var n=function(e){function t(){var t=e.call(this)||this;return t.skinName=RiftMoleGoldSkin,t}return __extends(t,e),t.prototype.setGold=function(e){this.countLabel.text="+"+e},t.prototype.onDestroy=function(){this.removeFromParent()},t}(e.GameComponent);e.RiftMoleGold=n,__reflect(n.prototype,"game.RiftMoleGold",["game.PoolItem"])}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._currentLevel=1,n.onProgressRun=!1,n._iconList=[],n._sweptNeedCount=Number(e.Constants.SweepAward10),n._maxBuyCount=Number(e.Constants.FamDemtruns),n.skinName=RiftPanelSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.sweptButton.label=e.Lang.saodang,this.changeLevelButton.label=e.Lang.huanceng,this._freeCount=Number(e.Constants.Famtruns);var t=e.splitStringToNumberArray(e.Constants.FamAdvtrunsPrice,";");this.specialPriceLabel.text=t[1].toString(),this._specialCostItem={type:t[0],count:t[1]},this.bossdiaoluo.text=e.Lang.mijingbossdiaoluo,this.putongtouzi.text=e.Lang.putongtouzi,this.dingdiantouzi.text=e.Lang.dingdiantouzi,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.normalDiceButton,callBackFunc:this.touchNormal},{target:this.specialDiceButton,callBackFunc:this.touchSpecial},{target:this.changeLevelButton,callBackFunc:this.touchChange},{target:this.sweptButton,callBackFunc:this.touchSwept}],this.addEventAndNotify(),this._pokemonAnim=new e.SequenceImage,this._pokemonAnim.setDisplayPosition(175,0),this._pokemonAnim.setScale(.7),this.animGroup.addChild(this._pokemonAnim.display),this._roleAnim=new e.SequenceImage,this._roleAnim.setDisplayPosition(235,0),this._roleAnim.setScale(.7),this.animGroup.addChild(this._roleAnim.display),this._diceAnim=new e.SequenceImage,this._diceAnim.setData({delay:100,size:{col:10,row:1},resource:"ui/scene/rift/dice"}),e.NotificationCenter.getInstance().addObserver(this,this.useSpecialDice,n.ROLL_SPECIAL_DICE),e.NotificationCenter.getInstance().addObserver(this,this.continueRun,n.DETAIL_CLOSE),e.NotificationCenter.getInstance().addObserver(this,this.battleEnd,n.BATTLE_END),e.NotificationCenter.getInstance().addObserver(this,this.changeLevel,n.CHANGE_LEVEL),this._lineRole=new e.SequenceImage,this._lineRole.setDisplayPosition(0,0),this._lineRole.setScale(.7),this.lineRoleGroup.addChild(this._lineRole.display),this._eventAnim=new e.SequenceImage,this._eventAnim.setDisplayPosition(0,0),this._eventAnim.setScale(.7),this.eventAnimGroup.addChild(this._eventAnim.display),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t.showDetail()},this)},n.prototype.touchSwept=function(){var t=this;if(e.DataManager.playerModel.getSuperCard()>0){var n=e.CheckPanel.getInstance();n.setData(e.formatString(e.Lang.huafeiduoshaocishusaodang,this._sweptNeedCount),function(e){e&&t.swept()}),n.show()}else e.showTips(e.Lang.zhongshenkajieshuo,!0)},n.prototype.swept=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=this._riftInfo.count,this._freeCount-t>=this._sweptNeedCount?[4,e.DataManager.playerModel.sweptRift(this._sweptNeedCount)]:[3,2];case 1:return n.sent(),this.updateCount(),[3,3];case 2:e.showTips(e.Lang.nindetouzicishubuzu,!0),n.label=3;case 3:return[2]}})})},n.prototype.changeLevel=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return n=this,[4,e.DataManager.playerModel.enterRift(t)];case 1:return n._currentInfo=i.sent(),this.onRemove(),this.onShow(),[2]}})})},n.prototype.touchChange=function(){e.RiftChangeLevel.getInstance().show()},n.prototype.battleEnd=function(t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return this._currentInfo.index!=this._currentInfo.events.length-1?[3,3]:t?(n=this._riftInfo.levels.indexOf(this._currentInfo),n>-1&&this._riftInfo.levels.splice(n,1),this._riftInfo.maxLv=Math.max(this._riftInfo.maxLv,this._currentInfo.lv),i=this,[4,e.DataManager.playerModel.enterRift(this._currentInfo.lv+1)]):[3,2];case 1:return i._currentInfo=a.sent(),this.onRemove(),this.onShow(),[3,3];case 2:this._currentInfo.index--,this.riftLine.setProgress(this._currentInfo.index),this.riftLine.showBoss(),this.updateProgress(),a.label=3;case 3:return[2]}})})},n.prototype.continueRun=function(){this._roleAnim.play(3),this._pokemonAnim.play(3),egret.Tween.resumeTweens(this.bg1),egret.Tween.resumeTweens(this.bg2)},n.prototype.closeHandle=function(){this.onRemove(),e.IdleScene.getInstance().playMusic(),e.removePopUp(this)},n.prototype.onRemove=function(){this._roleAnim.stop(),this._lineRole.stop(),this._pokemonAnim.stop(),this._eventAnim.stop(),egret.Tween.removeTweens(this.bg1),egret.Tween.removeTweens(this.bg2)},n.prototype.useSpecialDice=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return[4,e.DataManager.playerModel.rollRiftDice(t,this._specialCostItem)];case 1:return n=i.sent(),n&&this.showDice(n),[2]}})})},n.prototype.touchNormal=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.onProgressRun?(e.showTips(e.Lang.zhengzaiqianjinzhong,!0),[2]):this._riftInfo.count>=this._freeCount?(e.showTips(e.Lang.nindecishubuzu,!0),[2]):[4,e.DataManager.playerModel.rollRiftDice(0,this._specialCostItem)];case 1:return t=n.sent(),t&&(this.updateCount(),this.showDice(t)),[2]}})})},n.prototype.touchSpecial=function(){return this._riftInfo.buyCount>=this._maxBuyCount?void e.showTips(e.Lang.jinrigoumaicishuyiyongwan,!0):this.onProgressRun?void e.showTips(e.Lang.zhengzaiqianjinzhong,!0):void(e.checkCanBuy(this._specialCostItem)?e.RiftSpecialDice.getInstance().show():e.showTips(e.Lang.nindehuobibuzu,!0))},n.prototype.showDice=function(e){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(n){return this.endDice.source="ui/scene/rift/dice_"+e,this.endDice.visible=!1,this.diceGroup.visible=!0,this._diceAnim.play(1),this._diceAnim.setTimeScale(.5),this._diceAnim.setDisplayPosition(360,0),this.diceGroup.addChild(this._diceAnim.display),egret.Tween.get(this._diceAnim.display).to({y:892},500).call(function(){t._diceAnim.stop(),t.diceGroup.removeChild(t._diceAnim.display),t.endDice.visible=!0}).wait(1e3).call(function(){t.diceGroup.visible=!1,t.progressRun(e)}),[2]})})},n.prototype.progressRun=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s,r,u=this;return __generator(this,function(l){switch(l.label){case 0:return this.onProgressRun=!0,n=this._currentInfo.index+t,n=Math.min(n,this._currentInfo.events.length-1),t=n-this._currentInfo.index,i=this.riftLine.getEvent(n),a=500*t,o=250,10!=i.type&&0!=i.type&&8!=i.type?[3,2]:(this.eventIconImage.visible=!1,this.eventAnimGroup.visible=!0,[4,this._eventAnim.setData(i.animData)]);case 1:return l.sent(),s=this.eventAnimGroup,[3,3];case 2:this.eventIconImage.visible=!0,this.eventAnimGroup.visible=!1,this.eventIconImage.source="ui/scene/rift/type_"+i.type,s=this.eventIconImage,l.label=3;case 3:return r=250,s.x=r+o*a*.001,egret.Tween.get(s).to({x:r},a).call(function(){return __awaiter(u,void 0,void 0,function(){var t;return __generator(this,function(a){switch(a.label){case 0:return this.eventIconImage.visible=!1,this.eventAnimGroup.visible=!1,this._lineRole.stop(),this._lineRole.updateTexture(3,1),this.riftLine.setProgress(n),egret.Tween.pauseTweens(this.bg1),egret.Tween.pauseTweens(this.bg2),this.onProgressRun=!1,this._currentInfo.index=n,this._roleAnim.stop(),this._pokemonAnim.stop(),9!=i.type?[3,2]:[4,e.DataManager.playerModel.endRiftEvent(0)];case 1:return t=a.sent(),this._currentInfo.events[n]=t.levelId,i.setEvent(n,t.levelId,this._currentInfo),8==t.levelId&&(i.animData={delay:150,size:{col:4,row:4},resource:"anim/human/"+this._riftData.npcShow}),i.showDetail(),[3,3];case 2:i.showDetail(),a.label=3;case 3:return this.updateProgress(),[2]}})})}),this._lineRole.play(3),this.riftLine.run(t,a),[2]}})})},n.prototype.updateCount=function(){var t=this._riftInfo.count;this.normalCountLabel.text=e.Lang.jinrishengyucishu+": "+(this._freeCount-t)},n.prototype.onShow=function(){e.SoundManager.playBgSound("music/mijing"),this.updateAnim(),this.runMap(),this._riftInfo=e.DataManager.playerModel.getActivityInfo().ext.famInfo;for(var t=0;t<this._riftInfo.levels.length;t++)if(this._riftInfo.levels[t].lv==this._riftInfo.lv){this._currentInfo=this._riftInfo.levels[t];break}this._riftData=e.Data.TFamLv[this._currentInfo.lv],this.riftLine.setData(this._currentInfo,this._riftData),this._currentInfo.index==this._currentInfo.events.length-1&&this._currentInfo.index--,this.riftLine.setProgress(this._currentInfo.index),this.updateData(),this.updateCount(),this.updateProgress(),this.bg1.source=this.bg2.source="ui/scene/rift/"+this._riftData.maps,this.onProgressRun=!1},n.prototype.updateProgress=function(){var t=Math.floor(this._currentInfo.index/this._currentInfo.events.length*100);this.progressLabel.text=e.Lang.dangqianjindu+": "+t+"%",this.totalProgressBar.maximum=this._currentInfo.events.length,this.totalProgressBar.value=this._currentInfo.index},n.prototype.updateData=function(){this.nameLabel.text=this._riftData.name,this.rewardGroup.removeChildren();for(var t=e.splitStringToNumberArray(this._riftData.lootPreview,";"),n=0;n<t.length;n++){var i=this._iconList[n];i||(i=new e.ItemIcon,this._iconList[n]=i),i.item={count:0,type:t[n]},this.rewardGroup.addChild(i)}},n.prototype.runMap=function(){this.bg1.x=0,this.bg2.x=720;var e=1e4;egret.Tween.get(this.bg1,{loop:!0}).to({x:-1440},e).to({x:720},0).wait(e/2).to({x:0},e/2),egret.Tween.get(this.bg2,{loop:!0}).wait(e/2).to({x:0},e/2).to({x:-1440},e).to({x:720},0)},n.prototype.updateAnim=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this._roleAnim.setData({delay:150,size:{col:4,row:4},resource:"anim/role/"+e.DataManager.playerModel.playerRole})];case 1:return t.sent(),this._roleAnim.play(3),[4,this._pokemonAnim.setData({delay:150,size:{col:4,row:4},resource:"anim/pokemon/"+e.DataManager.playerModel.idleFollowPokemon[0].type})];case 2:return t.sent(),this._pokemonAnim.play(3),[4,this._lineRole.setData({delay:150,size:{col:4,row:4},resource:"anim/role/"+e.DataManager.playerModel.playerRole})];case 3:return t.sent(),this._lineRole.updateTexture(3,1),[2]}})})},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.DETAIL_CLOSE="RiftPanel_DETAIL_CLOSE",n.ROLL_SPECIAL_DICE="RiftPanel_ROLL_SPECIAL_DICE",n.BATTLE_END="RiftPanel_BATTLE_END",n.CHANGE_LEVEL="RiftPanel_CHANGE_LEVEL",n}(e.PanelComponent);e.RiftPanel=t,__reflect(t.prototype,"game.RiftPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=RiftSpecialDiceSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.infoLabel.text=e.Lang.teshutouzishuoming,this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeHandle,this);for(var n=1;6>=n;n++){var i=new eui.Image("ui/scene/rift/dice_"+n);i.name=n.toString(),this.diceGroup.addChild(i)}this.diceGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(n){var i=n.target;if(i.name){var a=Number(i.name);e.NotificationCenter.getInstance().postNotification(e.RiftPanel.ROLL_SPECIAL_DICE,a),t.closeHandle()}},this)},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.RiftSpecialDice=t,__reflect(t.prototype,"game.RiftSpecialDice")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=BattleCountUpgradeSkin,e.touchChildren=e.touchEnabled=!1,e}return __extends(n,t),n.prototype.setText=function(e){this.countLabel.text=e},n.prototype.setCount=function(t){t>0?(this.countLabel.textColor=gameConfig.TextColors.green,this.countLabel.text=e.Lang.zhanli+"+"+t):(this.countLabel.textColor=gameConfig.TextColors.red,this.countLabel.text=""+e.Lang.zhanli+t)},n.prototype.onDestroy=function(){this.parent&&this.parent.removeChild(this)},n}(e.GameComponent);e.BattleCountUpgrade=t,__reflect(t.prototype,"game.BattleCountUpgrade",["game.PoolItem"])}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._btnList=[],n._subwayTime=60*Number(e.Constants.battleSubawayRecoverTime)*1e3,n._tansuoData=e.Data.TFSearch[1],n._zhuanpan=Number(e.Constants.dailyZhuanPanFreeCount),n.skinName=RootBottomSkin,n.touchEnabled=!1,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.homeCityBtn.icon="ui/scene/homeCity/homeCity",this.bagBtn.icon="ui/scene/homeCity/backpack",this.pokemonBtn.icon="ui/scene/homeCity/pokemon",this.adventureBtn.icon="ui/scene/homeCity/adventure",this.gashaponBtn.icon="ui/scene/homeCity/gashapon",this.taskBtn.icon="ui/scene/homeCity/exchange",this.guildBtn.icon="ui/scene/homeCity/guild",this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.parseQuest,notifyName:e.PlayerModel.ACHIEVE_TASK_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.parseQuest,notifyName:e.PlayerModel.DAILY_TASK_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateLock,notifyName:e.PlayerModel.LOCK_UPDATE,execute:!0}],this.addEventAndNotify(),this._btnList=[this.homeCityBtn,this.pokemonBtn,this.adventureBtn,this.gashaponBtn,this.guildBtn,this.taskBtn,this.bagBtn],this._radioGroup=new e.RadioGroup(this.buttonGroup,this._btnList,this.touchButtonHandle,this,this.radioChangeFunction,this.checkOpen);var t=this.adventureBtn;this._radioGroup.touchButton(t),this.bagBtn.point=!1;for(var n=e.DataManager.playerModel.getItemList(),i=0;i<n.length;i++){var a=n[i];if(e.Data.TItem[a.type]&&8==e.Data.TItem[a.type].type){this.bagBtn.point=!0;break}}this.updatePoint(),egret.setInterval(this.updatePoint,this,1e3)},n.prototype.checkOpen=function(t){if(t==this.guildBtn){var n=e.DataManager.playerModel.getMyGuildInfo();return n.guildId?!0:e.DataManager.playerModel.playerLevel>=Number(e.Constants.figureLV)?!0:(e.showTips(e.formatString(e.Lang.dengjijiesuo,e.Constants.figureLV),!0),!1)}return t==this.taskBtn?e.DataManager.playerModel.playerLevel>=Number(e.Constants.dailyQuestOpenLc)?!0:(e.showTips(e.formatString(e.Lang.dengjijiesuo,e.Constants.dailyQuestOpenLc),!0),!1):!0},n.prototype.updateLock=function(){this.guildBtn.lock=e.DataManager.playerModel.playerLevel<Number(e.Constants.figureLV)
},n.prototype.updatePoint=function(){this._nowTime=e.getNowTime();for(var t=!1,n=e.DataManager.playerModel.getGashaponInfo(),i=0;i<n.length;i++)if(n[i].remainCount>0){var a=e.Data.TGashapon[n[i].id],o=(this._nowTime.getTime()-n[i].time.getTime())/1e3,s=a.freeInterval;if(o>s){t=!0;break}}this.gashaponBtn.point=t;var r=!1;if(!r&&e.DataManager.playerModel.playerLevel>=Number(e.Constants.FurnOpenLv)){this.homeInfo=e.DataManager.playerModel.homeInfo;var u=this._tansuoData.count-this.homeInfo.search;if(u>0)r=!0;else{for(var l=void 0,c=void 0,i=0;i<this.homeInfo.fgashapon.length;i++){var h=this.homeInfo.fgashapon[i];switch(h.id){case 1:l=h;break;case 11:c=h}}if(l.remainCount>0){var p=e.Data.TFGashapon[1],o=(this._nowTime.getTime()-l.time.getTime())/1e3,s=p.freeInterval;o>s&&(r=!0)}if(!r&&e.DataManager.playerModel.playerLevel>=Number(e.Constants.ArtifactLookOpenLv)&&c.remainCount>0){var g=e.Data.TFGashapon[11],o=(this._nowTime.getTime()-l.time.getTime())/1e3,s=g.freeInterval;o>s&&(r=!0)}}}this.homeCityBtn.point=r;for(var d=!1,m=e.DataManager.playerModel.playerTeamPokemonList,f=e.DataManager.playerModel.playerAllPokemonList,_=e.splitStringToNumberArray(e.Constants.teamUnlockMission,";"),y=e.DataManager.playerModel.playerLevel,v=0,i=0;i<_.length;i++)y>=_[i]&&v++;var b=v-m.length;if(b&&f.length-m.length>0&&(d=!0),!d)for(var i=0;i<m.length;i++){var w=m[i];if(e.checkPokemonCanLevelUp(w)){d=!0;break}if(e.checkPokemonCanEvaluation(w)){d=!0;break}if(e.checkPokemonCanEquip(w)){d=!0;break}if(e.checkPokemonCanLearnSkill(w)){d=!0;break}if(e.checkPokemonCanStar(w)){d=!0;break}if(e.checkPokemonCanSuperEquip(w)){d=!0;break}if(e.checkPokemonCanLearnGift(w)){d=!0;break}}this.pokemonBtn.point=d},n.prototype.parseQuest=function(){if(e.DataManager.playerModel.playerLevel<Number(e.Constants.dailyQuestOpenLc))return void(this.taskBtn.lock=!0);this.taskBtn.lock=!1;for(var t=e.DataManager.playerModel.getDailyQuest(),n=e.DataManager.playerModel.getAchieveQuest(),i=e.DataManager.playerModel.playerLevel,a=!1,o=!1,s=0;s<t.length;s++){var r=t[s],u=e.Data.TQuest[r.id];if(!(u.visual&&i<u.visual)&&r.progress>=u.LimitedNum&&0==r.state){a=!0;break}}if(!a){var l=e.DataManager.playerModel.getLively();for(var s in e.Data.TActiveReward)if(e.Data.TActiveReward.hasOwnProperty(s)){var u=e.Data.TActiveReward[s];if(l>=u.active&&!e.DataManager.playerModel.checkReceiveLively(u)){a=!0;break}}}for(var s=0;s<n.length;s++){var r=n[s],u=e.Data.TQuest[r.id];if(!(u.visual&&i<u.visual)&&r.progress>=u.LimitedNum&&0==r.state){o=!0;break}}this.taskBtn.point=a||o,e.TaskPanel.getInstance().dailyTaskButton.point=a,e.TaskPanel.getInstance().achievementButton.point=o},n.prototype.radioChangeFunction=function(t,n){1!=e.GashaponScene.getInstance().isPlaying&&(n&&this.buttonGroup.swapChildrenAt(this.buttonGroup.getChildIndex(t),this.buttonGroup.numChildren-1),t.select=n)},n.prototype.touchButtonHandle=function(t){if(1!=e.GashaponScene.getInstance().isPlaying)switch(t){case this.homeCityBtn:e.SceneManager.changeScene(0),e.updateTeach(9);break;case this.pokemonBtn:e.SceneManager.changeScene(2),e.updateTeach(2);break;case this.adventureBtn:e.SceneManager.changeScene(1),e.updateTeach(1);break;case this.gashaponBtn:e.SceneManager.changeScene(3),e.updateTeach(3);break;case this.guildBtn:var n=e.DataManager.playerModel.getMyGuildInfo();n.guildId?e.SceneManager.changeScene(4):e.DataManager.playerModel.playerLevel>=Number(e.Constants.figureLV)?e.CreateOrJoinGuild.getInstance().show():e.showTips(e.formatString(e.Lang.dengjijiesuo,e.Constants.figureLV),!0);break;case this.taskBtn:e.SceneManager.changeScene(5);break;case this.bagBtn:e.SceneManager.changeScene(6),this.bagBtn.point&&(this.bagBtn.point=!1,e.ItemBag.getInstance().changeToSkill())}},n.prototype.touchButton=function(e){this._radioGroup.touchButton(e)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.GameComponent);e.RootBottom=t,__reflect(t.prototype,"game.RootBottom")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=RootBottomButtonSkin,t.touchChildren=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"icon",{set:function(e){this.iconDisplay.source=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"select",{set:function(e){this.bgDisplay.source=e?"ui/common/button/root_bottom_select":"ui/common/button/root_bottom"},enumerable:!0,configurable:!0}),t}(e.BaseButton);e.RootBottomButton=t,__reflect(t.prototype,"game.RootBottomButton")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.lastBattleCount=0,n._battleCountLabelPool=new e.ObjectPool(e.BattleCountUpgrade),n._onSystemRun=!1,n._speed=40,n._init=!1,n.skinName=RootTopSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.addButton.icon="ui/scene/idle/btn_gj_tisheng",this._touchEvent=[{target:this.addDiamondButton,callBackFunc:this.touchAddDiamond},{target:this.addGoldButton,callBackFunc:this.touchAddGold},{target:this.playerIcon,callBackFunc:this.touchPlayerIcon},{target:this.vipButton,callBackFunc:this.touchVip},{target:this.addButton,callBackFunc:this.touchAdd}],this._notify=[{source:e.DataManager.playerModel,target:this,execute:!0,callBackFunc:this.updateName,notifyName:e.PlayerModel.NAME_UPDATE},{source:e.DataManager.playerModel,target:this,execute:!0,callBackFunc:this.updateExp,notifyName:e.PlayerModel.EXP_UPDATE},{source:e.DataManager.playerModel,target:this,execute:!0,callBackFunc:this.updateGold,notifyName:e.PlayerModel.GOLD_UPDATE},{source:e.DataManager.playerModel,target:this,execute:!0,callBackFunc:this.updateDiamond,notifyName:e.PlayerModel.DIAMOND_UPDATE},{source:e.DataManager.playerModel,target:this,execute:!0,callBackFunc:this.updateIcon,notifyName:e.PlayerModel.IDLE_AVATAR_UPDATE},{source:e.DataManager.playerModel,target:this,execute:!0,callBackFunc:this.updateRecharge,notifyName:e.PlayerModel.RECHARGE_UPDATE},{source:e.DataManager.playerModel,target:this,execute:!0,callBackFunc:this.updateTitle,notifyName:e.PlayerModel.TITLE_UPDATE},{source:e.DataManager.playerModel,target:this,execute:!0,callBackFunc:this.updateBattleCount,notifyName:e.PlayerModel.POKEMON_TEAM_UPDATE},{source:e.DataManager.playerModel,target:this,execute:!0,callBackFunc:this.updateBattleCount,notifyName:e.PlayerModel.POKEMON_INFO_UPDATE},{source:e.DataManager.playerModel,target:this,execute:!0,callBackFunc:this.updatePlayerLevel,notifyName:e.PlayerModel.PLAYER_LEVEL_UPDATE}],this.addEventAndNotify(),this.updatePoint(),egret.setInterval(this.updatePoint,this,1e3),this.initNotice()},n.prototype.updatePlayerLevel=function(){this.playerLevelLabel.text="Lv."+e.DataManager.playerModel.playerLevel},n.prototype.initNotice=function(){this.systemNotice=e.DataManager.playerModel.systemNotice,this.systemNotice.length>0?this.runNotice():this.noticeGroup.visible=!1},n.prototype.runNotice=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,n,i,n,i;return __generator(this,function(a){switch(a.label){case 0:if(this._onSystemRun)return[2];for(t=e.getNowTime().getTime(),n=0;n<this.systemNotice.length;n++)i=this.systemNotice[n],i.endTime&&t>i.endTime.getTime()&&(this.systemNotice.splice(n,1),n--);if(!(this.systemNotice.length>0))return[3,6];this._onSystemRun=!0,this.noticeGroup.visible=!0,n=0,a.label=1;case 1:return n<this.systemNotice.length?(i=this.systemNotice[n],this.contentLabel.textFlow=e.parseColorText(i.content),[4,this.run()]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:for(this.noticeGroup.visible=!1,this._onSystemRun=!1,n=0;n<this.systemNotice.length;n++)i=this.systemNotice[n],i.endTime||(i.loop--,i.loop<0&&(this.systemNotice.splice(n,1),n--));return[4,e.delay(2e4)];case 5:return a.sent(),this.runNotice(),[3,7];case 6:this._onSystemRun=!1,this.noticeGroup.visible=!1,a.label=7;case 7:return[2]}})})},n.prototype.run=function(){var t=e.defer();this.contentLabel.x=580;var n=this.contentLabel.width,i=n/this._speed*1e3;return egret.Tween.get(this.contentLabel).to({x:-n},i).wait(1e3).call(function(){t.resolve(null)}),t.promise()},n.prototype.updatePoint=function(){this.vipPoint.visible=e.VipMeiRiLiBao.getInstance().point;var t=!1;if(e.checkPlayerBadgeCanUpgrade()&&(t=!0),!t){for(var n=e.DataManager.playerModel.teamConfig,i=n.equips,a=0;a<i.length;a++){var o=i[a];if(e.checkPlayerEquipCanUpgrade(o)){t=!0;break}if(e.checkPlayerEquipCanRefine(o)){t=!0;break}if(e.checkPlayerEquipCanEnchanting(o)){t=!0;break}}if(!t){for(var a in e.Data.TWing){var s=e.Data.TWing[a],r=e.DataManager.playerModel.getPlayerWing(s.type);if(s.id==r&&e.checkPlayerWingCanUpgrade(r)){t=!0;break}}if(!t){for(var a in e.Data.TOrna){var s=e.Data.TOrna[a],r=e.DataManager.playerModel.getPlayerDecoration(s.type);if(s.id==r&&e.checkPlayerDecorationCanUpgrade(r)){t=!0;break}}if(!t){var u=n.follows.length;if(e.Data.TElfFollowGrid[u+1]){var l=e.splitStringToNumberArray(e.Data.TElfFollowGrid[u+1].open,";"),c=void 0;1==l[0]?c=e.DataManager.playerModel.currentMission>=l[1]:2==l[0]&&(c=e.DataManager.playerModel.playerVip>=l[1]),t=c}}}}}t?this.playerInfoPoint.visible=!0:this.playerInfoPoint.visible=!1},n.prototype.updateBattleCount=function(t){var n=this;(!this._init||t&&e.DataManager.playerModel.teamConfig.helps.indexOf(t.id)>-1)&&(e.DataManager.playerModel.updateHelpPokemon(!1),this._init=!0);for(var i=e.DataManager.playerModel.getPlayerBattlePokemonList(),a=0,o=0;o<i.length;o++)a+=e.countPokemonBattleCount(i[o]);if(this.battleCountLabel.text=""+e.setNumber(a),this.lastBattleCount){var s=a-this.lastBattleCount;if(0!=s){var r=this._battleCountLabelPool.createObject();r.setCount(s),r.alpha=0,r.horizontalCenter=0,r.y=523,egret.Tween.get(r).to({y:238,alpha:1},500).wait(2e3).to({y:53,alpha:0},500).call(function(){n._battleCountLabelPool.destroyObject(r)}),e.GameLayer.effectLayer.addChild(r)}}if(a>this.lastBattleCount)for(var o in e.Data.TGodbeast){var u=e.Data.TGodbeast[o];if(a>=u.Unlock&&a<u.Limit){e.DataManager.playerModel.legendaryInfo[u.ElfID].info||e.DataManager.playerModel.startLegendaryChallenge(u);break}}this.lastBattleCount=a},n.prototype.updateTitle=function(){var t=e.DataManager.playerModel.playerTitle,n=e.Data.TTitle[t];n?(this.playerTitleImage.visible=!0,this.playerTitleImage.source="langs/title/"+n.id,this.titleNoneLabel.visible=!1):(this.playerTitleImage.visible=!1,this.titleNoneLabel.visible=!0)},n.prototype.touchAdd=function(){e.navPanel(89)},n.prototype.touchVip=function(){e.navPanel(18)},n.prototype.updateRecharge=function(){this.vipButton.vip=e.DataManager.playerModel.playerVip},n.prototype.touchPlayerIcon=function(){e.navPanel(17)},n.prototype.updateName=function(){this.playerNameLabel.text=e.DataManager.playerModel.playerName},n.prototype.updateExp=function(){this.expLabel.text=e.setNumber(e.DataManager.playerModel.exp)},n.prototype.updateGold=function(){this.goldLabel.text=e.setNumber(e.DataManager.playerModel.gold)},n.prototype.updateDiamond=function(){this.diamondLabel.text=e.DataManager.playerModel.diamond.toString()},n.prototype.updateIcon=function(){this.playerIcon.icon=e.DataManager.playerModel.icon},n.prototype.touchAddDiamond=function(){e.navPanel(15)},n.prototype.touchAddGold=function(){e.navPanel(80)},n.prototype.addNotice=function(e,t,n,i){this.systemNotice.push({content:e,endTime:i,id:1,type:null,loop:n,beginTime:null,state:null,duration:null}),this.runNotice()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.SceneComponent);e.RootTop=t,__reflect(t.prototype,"game.RootTop")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=RootTopVipButtonSkin,t.touchChildren=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"vip",{set:function(e){this.vipLabel.text=e.toString()},enumerable:!0,configurable:!0}),t}(e.EffectButton);e.RootTopVipButton=t,__reflect(t.prototype,"game.RootTopVipButton")}(game||(game={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.rewardList=[],e._interval=null,e.skinName=ShareSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this.shareButton.label=e.Lang.fenxiang,this.shareButton.labelDisplay.strokeColor=3670016;for(var t in e.Data.THuoInvite){var i=new n;i.setData(e.Data.THuoInvite[t]),this.rewardList.push(i),this.rewardGroup.addChild(i)}this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.shareButton,callBackFunc:this.shareHandle}],this.addEventAndNotify()},i.prototype.shareHandle=function(){2==SDK.$platformType&&(AWY_SDK.shareParams({cp_sid:e.DataManager.playerModel.sid,cp_pid:e.DataManager.playerModel.pid}),AWY_SDK.showShare())},i.prototype.onShow=function(){this.updateReward(),this._interval=egret.setInterval(this.updateTime,this,1e3)},i.prototype.updateReward=function(){for(var t=0;t<this.rewardList.length;t++)this.rewardList[t].update();var n=e.DataManager.playerModel.getActivityInfo(),i=Number(e.Constants.inviteCountDay);this.countLabel.text="今日已分享("+n.ext.dShare+"/"+i+")",this.updateTime()},i.prototype.updateTime=function(){var t=e.DataManager.playerModel.getActivityInfo();if(t.ext.dShare>=Number(e.Constants.inviteCountDay))this.timeLabel.visible=!1;else{this.timeLabel.visible=!0;var n=60*Number(e.Constants.inviteTime),i=.001*(e.getNowTime().getTime()-t.ext.shareCD.getTime()),a=n-i;a>0?this.timeLabel.text="奖励CD "+e.s2hms(a):this.timeLabel.text="分享即得奖励!"}},i.prototype.getReward=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a;return __generator(this,function(o){switch(o.label){case 0:return t=e.DataManager.playerModel.getActivityInfo(),n=.001*(e.getNowTime().getTime()-t.ext.shareCD.getTime()),i=60*Number(e.Constants.inviteTime),t.ext.dShare>=Number(e.Constants.inviteCountDay)||i>n?(e.showTips(e.Lang.ganxiefengxiang),[3,4]):[3,1];case 1:return[4,e.HttpRequest.ShareAsync()];case 2:return o.sent(),[4,e.HttpRequest.GetShareGiftAsync(0)];case 3:a=o.sent(),a?(e.showTips(e.Lang.fenxiangchenggong),t.ext.dShare++,t.ext.shareCD=e.getNowTime(),this.updateReward(),e.IdleScene.getInstance().updateShare()):e.showTips(e.Lang.chuxiancuowu,!0),o.label=4;case 4:return[2]}})})},i.prototype.closeHandle=function(){egret.clearInterval(this._interval),e.removePopUp(this)},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.PanelComponent);e.SharePanel=t,__reflect(t.prototype,"game.SharePanel");var n=function(t){function n(){var e=t.call(this)||this;return e.canGet=!1,e.skinName=ShareItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.labelDisplay.size=40,this._touchEvent=[{target:this.confirmButton,callBackFunc:this.goShare}],this.addEventAndNotify()},n.prototype.goShare=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.canGet?[4,e.HttpRequest.GetShareGiftAsync(this.data.id)]:[3,2];case 1:return t=n.sent(),t?(e.showTips(e.Lang.fenxiangchenggong,!0),e.DataManager.playerModel.getActivityInfo().ext.shares.push(this.data.id),this.update()):e.showTips(e.Lang.chuxiancuowu,!0),[3,3];case 2:2==SDK.$platformType&&(AWY_SDK.shareParams({cp_sid:e.DataManager.playerModel.sid,cp_pid:e.DataManager.playerModel.pid}),AWY_SDK.showShare()),n.label=3;case 3:return[2]}})})},n.prototype.setData=function(t){this.data=t,t&&(this.typeImage.source="ui/scene/focus/red",this.typeLabel.text=e.formatString(e.Lang.fenxiangduoshaoci,t.count),this.reward=e.splitStringToNumberArray(t.rewardList,";"),this.rewardIcon.source="icon/item/"+this.reward[0],this.rewardLabel.text="x"+this.reward[1])},n.prototype.update=function(){this.canGet=!1;var t=e.DataManager.playerModel.getActivityInfo();this.data&&(this.confirmButton.label="去邀请",t.ext.shares.indexOf(this.data.id)>-1&&this.removeFromParent())},n}(e.GameComponent);e.ShareItem=n,__reflect(n.prototype,"game.ShareItem")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(e.ItemIcon);e.ExchangeItemIcon=t,__reflect(t.prototype,"game.ExchangeItemIcon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._ownItemIcon=[],e._exchangeList=[],e._currentIndex=0,e.skinName=ExchangePieceSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.selectImage.horizontalCenter=0,this.selectImage.verticalCenter=0,this.confirmButton.image="langs/duihuan2",this._touchEvent=[{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.leftArrow,callBackFunc:this.touchArrow},{target:this.rightArrow,callBackFunc:this.touchArrow},{target:this.closeButton,callBackFunc:this.closeHandle}],this.showUI_jt(),this.addEventAndNotify(),this.ownItemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchItem,this)},n.prototype.showUI_jt=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._UI_jt01Bone?[3,2]:(t=this,[4,e.getBone("UI_jt01")]);case 1:t._UI_jt01Bone=n.sent(),this.UI_jt01Group.addChildAt(this._UI_jt01Bone,0),this._UI_jt01Bone.play(null,0),n.label=2;case 2:return[2]}})})},n.prototype.touchItem=function(e){var t=e.target;t.exchangeData&&(this.setSelectItem(t),this._currentIndex=0,this.updateSelectItem())},n.prototype.setSelectItem=function(t){this._selectItem=t;var n=t.exchangeData;this.selectImage.visible=!0,t.addChildAt(this.selectImage,0),this.needSelectLabel.visible=!1,this.exchangeGroup.visible=!0,this.fromItemIcon.item={count:t.itemInfo.count,type:t.itemInfo.type},this.fromCountLabel.textFlow=[{text:""+t.itemInfo.count,style:{textColor:t.itemInfo.count>=n.FDebrisCount?gameConfig.TextColors.green:gameConfig.TextColors.red}},{text:"/"+n.FDebrisCount}];var i=e.splitStringToNumberArray(n.price,";");this.costIcon.source="icon/item/"+i[0],this.costLabel.text=e.setNumber(i[1]),this._exchangeList=e.splitStringToNumberArray(n.TDebris)},n.prototype.onShow=function(){this.updateOwn(),this.selectImage.visible=!1,this.exchangeGroup.visible=!1,this.noneLabel.visible=0==this.ownItemGroup.numChildren,this.needSelectLabel.visible=!0,this.updateCount()},n.prototype.updateOwn=function(){this.ownItemGroup.removeChildren();var t=0;for(var n in e.Data.TDebrisSwap){var i=e.Data.TDebrisSwap[n],a=e.DataManager.playerModel.getItemCount(i.FDebris);if(a>0){var o=this._ownItemIcon[t];o||(o=new e.ExchangeItemIcon,this._ownItemIcon[t]=o),o.item={type:i.FDebris,count:a},o.exchangeData=i,this.ownItemGroup.addChild(o),t++}}},n.prototype.updateCount=function(){var t=e.Data.TVip[e.DataManager.playerModel.playerVip].DebrisSwap,n=t-e.DataManager.playerModel.extension.debrisSwap;this.remainCountLabel.text=e.Lang.jinrishengyucishu+":"+n},n.prototype.touchArrow=function(e){switch(e){case this.leftArrow:this._currentIndex=Math.max(0,this._currentIndex-1);break;case this.rightArrow:this._currentIndex=Math.min(this._exchangeList.length-1,this._currentIndex+1)}this.updateSelectItem()},n.prototype.updateSelectItem=function(){var e=this._exchangeList[this._currentIndex];this.toItemIcon.item={type:e[0],count:e[1]},this.leftArrow.visible=0!=this._currentIndex,this.rightArrow.visible=this._currentIndex!=this._exchangeList.length-1},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,u,l;return __generator(this,function(c){switch(c.label){case 0:return t=e.Data.TVip[e.DataManager.playerModel.playerVip].DebrisSwap,n=t-e.DataManager.playerModel.extension.debrisSwap,n>0?(i=this._selectItem.exchangeData,a=e.DataManager.playerModel.getItemCount(i.FDebris),a>=i.FDebrisCount?(o=e.splitStringToNumberArray(i.price,";"),s=e.DataManager.playerModel.getItemCount(o[0]),s>=o[1]?[4,e.DataManager.playerModel.swapDebris(i,this._currentIndex)]:[3,2]):[3,4]):[3,6];case 1:if(c.sent(),r=i.FDebris,u=e.DataManager.playerModel.getItemCount(i.FDebris),u>0){for(this.updateCount(),this.updateOwn(),l=0;l<this._ownItemIcon.length;l++)if(r==this._ownItemIcon[l].itemInfo.type){this.setSelectItem(this._ownItemIcon[l]),this.updateSelectItem();break}}else this.onShow();return[3,3];case 2:e.showTips(e.Lang.nindehuobibuzu,!0),c.label=3;case 3:return[3,5];case 4:e.showTips(e.Lang.nindedaojubuzu,!0),c.label=5;case 5:return[3,7];case 6:e.showTips(e.Lang.jinricishuyiyongwan,!0),c.label=7;case 7:return[2]}})})},n.prototype.closeHandle=function(){this._UI_jt01Bone.stop(),e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.ExchangePiece=t,__reflect(t.prototype,"game.ExchangePiece")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=LegendaryItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.image="langs/duihuan",this._touchEvent=[{target:this.touchGroup,callBackFunc:this.touchPokemon},{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.costGroup,callBackFunc:this.touchCost}],this.addEventAndNotify()},n.prototype.touchCost=function(){var t=e.ItemInfoPanel.getInstance();t.setData(e.Data.TItem[this.costItem[0]]),t.show()},n.prototype.setData=function(t){this.data=t,this.costItem=e.splitStringToNumberArray(t.price,";"),this.itemIcon.source="icon/item/"+this.costItem[0];var n=e.DataManager.playerModel.getItemCount(this.costItem[0]);n>=this.costItem[1]?(this.countLabel.textColor=gameConfig.TextColors.green,this.canBuy=!0):(this.countLabel.textColor=gameConfig.TextColors.red,this.canBuy=!1),this.countLabel.text=n+"/"+this.costItem[1],this.pokemonIcon.pokemon=t.goods},n.prototype.touchPokemon=function(){e.NotificationCenter.getInstance().postNotification(e.LegendaryShopPanel.TOUCH_POKEMON,this.data)},n.prototype.confirmHandle=function(){e.NotificationCenter.getInstance().postNotification(e.LegendaryShopPanel.BUY_POKEMON,this)},Object.defineProperty(n.prototype,"select",{set:function(e){e?this.pokemonIcon.play():this.pokemonIcon.stop()},enumerable:!0,configurable:!0}),n}(e.GameComponent);e.LegendaryShopItem=t,__reflect(t.prototype,"game.LegendaryShopItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e._typeIcon=new eui.Image,e._labelList=[],e._skillList=[],e.skinName=LegendaryPokemonShopSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.exchangeButton.image="langs/suipianhuhuan",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.exchangeButton,callBackFunc:this.exchangeHandle}],this.addEventAndNotify(),this._artPokemon=new e.TeamArtPokemon,this.artGroup.addChild(this._artPokemon.display);for(var t=0;7>t;t++){var i=new eui.Label;i.size=25,i.stroke=2,this._labelList.push(i),this.speciesGroup.addChild(i)}e.NotificationCenter.getInstance().addObserver(this,this.setCurrentPokemon,n.TOUCH_POKEMON),e.NotificationCenter.getInstance().addObserver(this,this.buyPokemon,n.BUY_POKEMON),this.skillGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){var n=t.target,i=e.SkillDetail.getInstance();i.setSkill(n.skillData.id),i.show()},this)},n.prototype.exchangeHandle=function(){e.navPanel(61)},n.prototype.buyPokemon=function(t){var n=this;if(t.canBuy){var i=e.CheckPanel.getInstance();i.setData(e.formatString(e.Lang.ninquedingyaoduihuanshenmebaokemengma,t.pokemonIcon.pokemonData.name),function(i){return __awaiter(n,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return i?[4,e.DataManager.playerModel.exchangeLegendaryPokemon(t.data,t.costItem)]:[3,2];case 1:n.sent(),this.updateList(),n.label=2;case 2:return[2]}})})}),i.show()}else e.showTips(e.Lang.nindedaojubuzu,!0)},n.prototype.updateList=function(){this.itemGroup.removeChildren();var t=0;for(var n in e.Data.TRedElfShop)if(e.Data.TRedElfShop.hasOwnProperty(n)){var i=e.Data.TRedElfShop[n],a=this._itemList[t];a||(a=new e.LegendaryShopItem,this._itemList[t]=a),a.setData(i),this.itemGroup.addChild(a),t++}},n.prototype.onShow=function(){this.updateList(),this.setCurrentPokemon(null)},n.prototype.setCurrentPokemon=function(t){if(this._currentData=t,t){this.currentGroup.visible=!0,this._artPokemon.setPokemon(t.goods,!1),this._artPokemon.setScale(1.5);var n=e.Data.TElf[t.goods];this.nameLabel.text=n.name;var i=n.attribute;this._typeIcon.source="icon/skillType/"+i,this.typeIconGroup.addChild(this._typeIcon);var a=n.hp+n.atk+n.atkSp+n.def+n.defSp+n.spe;this._labelList[0].text=e.Lang.zongzhongzuzhi+": "+a,this._labelList[1].text=e.Lang.shengming+":  "+n.hp,this._labelList[2].text=e.Lang.wugong+":  "+n.atk,this._labelList[3].text=e.Lang.tegong+":  "+n.atkSp,this._labelList[4].text=e.Lang.sudu+":  "+n.spe,this._labelList[5].text=e.Lang.wufang+":  "+n.def,this._labelList[6].text=e.Lang.tefang+":  "+n.defSp,this.skillGroup.removeChildren();for(var o=e.splitStringToNumberArray(n.skill),s=Math.min(o.length,4),r=0;s>r;r++){var u=this._skillList[r];u||(u=new e.SkillIcon,this._skillList[r]=u),u.setSkill(o[r][0]),this.skillGroup.addChild(u)}var l=e.Data.TAbility[n.ability];this.abilityNameLabel.textFlow=e.parseColorText(l.name),this.abilityDetailLabel.textFlow=e.parseColorText(e.getAbilityText(l,0))}else this.currentGroup.visible=!1;for(var r=0;r<this._itemList.length;r++){var c=this._itemList[r];c.select=c.data==t}},n.prototype.closeHandle=function(){this._artPokemon.stop(),e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.TOUCH_POKEMON="LegendaryShopPanel_TOUCH_POKEMON",n.BUY_POKEMON="LegendaryShopPanel_BUY_POKEMON",n}(e.PanelComponent);e.LegendaryShopPanel=t,__reflect(t.prototype,"game.LegendaryShopPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=RewardPreviewSkin,e._touchEvent=[{target:e.closeButton,callBackFunc:e.closeHandle}],e.addEventAndNotify(),e.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,e.showDetail,e),e.pokemonGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,e.showDetail,e),e}return __extends(n,t),n.prototype.showDetail=function(e){e.target&&e.target.showDetail&&e.target.showDetail()},n.prototype.setTypeAndShow=function(t){var n=e.Data.TRewardPreview[t];if(n){this.pokemonScroller.viewport.scrollH=0,this.pokemonGroup.removeChildren();for(var i=e.splitStringToNumberArray(n.AdvPreview,"|"),a=0;a<i.length;a++){var o=i[a];if(e.Data.TItem[o]){var s=new e.ItemIcon;s.scaleX=s.scaleY=.8,s.item={type:o,count:0},this.pokemonGroup.addChild(s)}else if(e.Data.TElf[o]){var r=new e.PokemonIcon;r.pokemon=o,r.scaleX=r.scaleY=.8,this.pokemonGroup.addChild(r)}}this.itemScroller.viewport.scrollV=0,this.itemGroup.removeChildren();for(var u=e.splitStringToNumberArray(n.LowerPreview,"|"),a=0;a<u.length;a++){var l=u[a];if(e.Data.TItem[l]){var s=new e.ItemIcon;s.scaleX=s.scaleY=.8,s.item={type:l,count:0},this.itemGroup.addChild(s)}else if(e.Data.TElf[l]){var r=new e.PokemonIcon;r.pokemon=l,r.scaleX=r.scaleY=.8,this.itemGroup.addChild(r)}}this.show()}},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.RewardPreviewPanel=t,__reflect(t.prototype,"game.RewardPreviewPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=ShopBuyPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.label=e.Lang.goumai,this._touchEvent=[{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify(),this.countLabel.addEventListener(egret.Event.CHANGE,this.changeBuyCount,this)},n.prototype.changeBuyCount=function(){this._currentCount=Number(this.countLabel.text),this._currentCount=Math.min(this._currentCount,this._maxBuyCount),this.countLabel.text=this._currentCount.toString();var t=e.DataManager.playerModel.getItemCount(this._costInfo.type),n=this._costInfo.count*this._currentCount;this.costItemCountLabel.text=e.Lang.xuyaohuafei+": "+t+"/"+n,t>=n?(this.costItemCountLabel.textColor=gameConfig.TextColors.green,this._canBuy=!0):(this.costItemCountLabel.textColor=gameConfig.TextColors.red,this._canBuy=!1)},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return 0==this._currentCount?(e.showTips(e.Lang.qingshuruzhengquedeshuliang,!0),[2]):(this.buy(),[2])})})},n.prototype.buy=function(){var t=this;if(this._currentCount<=0)return void e.showTips(e.Lang.qingshuruzhengquedeshuliang,!0);if(this.goodsInfo.count>=0&&this._currentCount>this.goodsInfo.count)return void e.showTips("最大可购买数量为: "+this.goodsInfo.count+" 哦!",!0);if(!this._canBuy)return void e.showTips(e.Lang.nindehuobibuzu,!0);var n=e.CheckPanel.getInstance();n.setData(e.Lang.ninquedingyaogoumaidangqianshangpinma,function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n?[4,e.DataManager.playerModel.buyShopItem(this.shopData,this.goodsInfo,this._currentCount)]:[3,2];case 1:t.sent(),this.parent&&this.closeHandle(),t.label=2;case 2:return[2]}})})}),n.show()},n.prototype.setData=function(t,n,i){void 0===i&&(i=0),this.shopData=t,this.goodsInfo=n,this.goodsData=e.Data.TShop[n.type];var a=e.splitStringToNumberArray(this.goodsData.goods,";");this._itemInfo={type:a[0],count:a[1]},this.itemIcon.item=this._itemInfo,this.itemIcon.itemData?(this.nameLabel.text=this.itemIcon.itemData.name,this.detailLabel.text=this.itemIcon.itemData.desc):this.itemIcon.newEquipData&&(this.nameLabel.text=this.itemIcon.newEquipData.name,this.detailLabel.text=this.itemIcon.newEquipData.jieshao);var o=e.splitStringToNumberArray(this.goodsData.price,";");this._costInfo={type:o[0],count:o[1]},this.costItemIcon.source="icon/item/"+o[0],this._currentCount=1,this.countLabel.text="1",this.goodsInfo.count>=0?this._maxBuyCount=this.goodsInfo.count:this._maxBuyCount=1e4,this.buyCountLabel.text="请输入您要购买的数量:   (最大为"+this._maxBuyCount+")",this.changeBuyCount()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.ShopBuyPanel=t,__reflect(t.prototype,"game.ShopBuyPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.canBuy=!0,n._starList=[],n.skinName=ShopItemSkin,n.touchChildren=!1,n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.NotificationCenter.getInstance().postNotification(e.ShopPanel.TOUCH_ITEM,n)},n),n.noScale=!0,n}return __extends(n,t),n.prototype.setData=function(t){this.nameLabel.visible=!0,this.skillGroup.visible=!1,this.slotIcon.visible=this.starGroup.visible=!1,this.canBuy=!0,this.goodsInfo=t,this.goodsData=e.Data.TShop[t.type];var n=e.splitStringToNumberArray(this.goodsData.goods,";"),i=e.splitStringToNumberArray(this.goodsData.price,";");if(e.Data.TItem[n[0]]||e.Data.Tequip[n[0]]){if(this.itemIcon.item={type:n[0],count:n[1]},this.costItemIcon.source="icon/item/"+i[0],this.costItemCount.text=i[1].toString(),this.limitCountLabel.textColor=2150656,this.checkCanBuy(this.goodsData)?t.count>0?this.limitCountLabel.text=e.Lang.xiangou+": "+t.count:0==t.count?(this.limitCountLabel.textColor=16711680,this.limitCountLabel.text=e.Lang.yishouwan):this.limitCountLabel.text=e.Lang.wuxianzhi:(this.canBuy=!1,this.limitCountLabel.textColor=16711680,this.limitCountLabel.text=this.getBuyLimitLabel(this.goodsData)),this.itemIcon.itemData){if(this.nameLabel.text=this.itemIcon.itemData.name,8==this.itemIcon.itemData.type){this.skillGroup.visible=!0,this.nameLabel.visible=!1;var a=e.Data.TElfSkill[this.itemIcon.itemData.number1];if(a)switch(this.skillNameLabel.text=a.name,this.skillSpLabel.text="sp:"+a.ex,this.skillPowerLabel.text="威力:"+(a.damage||0),a.skillType){case 3:case 4:this.skillTypeImage.source="ui/scene/skill/zhi";break;case 5:this.skillTypeImage.source="ui/scene/skill/bian";break;
default:a.DamageType?this.skillTypeImage.source="ui/scene/skill/te":this.skillTypeImage.source="ui/scene/skill/wu"}}}else if(this.itemIcon.newEquipData){this.nameLabel.text=this.itemIcon.newEquipData.name,this.slotIcon.visible=this.starGroup.visible=!0,this.slotIcon.source="ui/scene/equip/"+this.itemIcon.newEquipData.position,this.starGroup.removeChildren();for(var o=0;o<this.itemIcon.newEquipData.rare;o++){var s=this._starList[o];s||(s=new eui.Image("ui/scene/team/star"),this._starList[o]=s),this.starGroup.addChild(s)}}this.timeImage.visible=!1,this.goodsData.cycleNotify&&(this.timeImage.visible=!0,this.timeImage.source="ui/scene/shop/d"+this.goodsData.cycleNotify)}},n.prototype.checkCanBuy=function(t){var n=!0;if(t.buyLimitType)switch(t.buyLimitType){case 1:e.DataManager.playerModel.playerGymInfo.honorLevel<t.buyLimitNumber&&(n=!1)}return n},n.prototype.getBuyLimitLabel=function(e){var t="";switch(e.buyLimitType){case 1:t="需名望Lv: "+e.buyLimitNumber}return t},Object.defineProperty(n.prototype,"select",{set:function(e){this.bgImage.source=e?"ui/common/panel/UI_BG08":"ui/common/panel/UI_BG07",this.selectImage.visible=!1},enumerable:!0,configurable:!0}),n}(e.EffectButton);e.ShopItem=t,__reflect(t.prototype,"game.ShopItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.free=!1,e._typeButtonList=[],e._shopItemList=[],e._interval=null,e.skinName=ShopPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.buyButton.image="langs/Tx_goumai",this.buyButton.bg="ui/common/button/orangeBtn_1",this.refreshButton.image="langs/Tx_shuaxin",this.previewButton.icon="ui/scene/shop/icon",this.recoverButton.bg="ui/common/button/blue",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.buyButton,callBackFunc:this.buyHandle},{target:this.refreshButton,callBackFunc:this.refreshHandle},{target:this.recoverButton,callBackFunc:this.buttonHandle},{target:this.previewButton,callBackFunc:this.openPreview}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateShopInfo,notifyName:e.PlayerModel.GOODS_INFO_UPDATE,execute:!1}],this.addEventAndNotify(),this.typeButtonGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){t.touchTypeButton(e.target)},this),e.NotificationCenter.getInstance().addObserver(this,this.touchItem,n.TOUCH_ITEM),egret.Tween.get(this.arrowImage,{loop:!0}).to({y:803},350).to({y:808},350)},n.prototype.touchRecovery=function(){return e.DataManager.playerModel.playerLevel<Number(e.Constants.elfRecoverOpenLv)?void e.showTips(e.formatString(e.Lang.dengjijiesuo,e.Constants.elfRecoverOpenLv),!0):void(this._currentShopData&&1==this._currentShopData.recoverType&&e.ShopRecoveryPanel.getInstance().show())},n.prototype.buttonHandle=function(){if(this._currentShopData&&1==this._currentShopData.recoverType)this.touchRecovery();else if(this._currentShopData){switch(this._currentShopData.typeid){case 5:e.navPanel(3);break;case 2:e.navPanel(11);break;case 3:return void e.navPanel(4);case 6:return void e.navPanel(65);case 7:return void e.navPanel(72)}this.closeHandle()}},n.prototype.updateShopInfo=function(){this._currentTypeButton&&this.touchTypeButton(this._currentTypeButton,!0)},n.prototype.buyHandle=function(){if(!this._selectShopItem.canBuy)return void e.showTips(e.Lang.ninweidadaogoumaitiaojian,!0);var t=this._selectShopItem.goodsInfo;if(0==t.count)return void e.showTips(e.Lang.gaishangpinyishouqing,!0);var n=e.ShopBuyPanel.getInstance();1==t.count?(n.setData(this._currentShopData,t,1),n.buy()):(n.setData(this._currentShopData,t),n.show())},n.prototype.refreshHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:if(t=this._refreshCostItem,this.free)t=null;else if(n=e.DataManager.playerModel.getItemCount(t.type),n<t.count)return e.showTips(e.Lang.nindehuobibuzu,!0),[2];return[4,e.DataManager.playerModel.refreshShop(this._currentTypeButton.buttonData,t)];case 1:return i.sent(),[2]}})})},n.prototype.closeHandle=function(){egret.Tween.pauseTweens(this.arrowImage),this.cleanInterval(),e.removePopUp(this)},n.prototype.touchTypeButton=function(t,n){if(void 0===n&&(n=!1),t){var i=t.buttonData;if(i){var a=e.DataManager.playerModel.playerLevel;if(i.level&&a<i.level)return void e.showTips(e.formatString(e.Lang.dengjijiesuo,i.level),!0);n||(this.shopItemScroller.viewport.scrollV=0),this._currentTypeButton=t,this._currentShopData=t.buttonData;var o=e.DataManager.playerModel.getShopItemList(t.buttonData);o.sort(function(e,n){return 4==t.buttonData.typeid?n.type-e.type:e.type-n.type}),this.shopItemGroup.removeChildren();for(var s=0,r=0;r<o.length;r++){var u=e.Data.TShop[o[r].type];if(u){if(u.dedTime){var l=e.getNowTime().getTime(),c=new Date(u.startTime).getTime(),h=new Date(u.dedTime).getTime();if(c>l||l>h)continue}var p=this._shopItemList[s];p||(p=new e.ShopItem,this._shopItemList[s]=p),p.setData(o[r]),this.shopItemGroup.addChild(p),0==s&&this.touchItem(p),s++}}if(t.buttonData.recoveTime){this._currentShopInfo=e.DataManager.playerModel.getShopInfo(t.buttonData),this.refreshButton.visible=this.costGroup.visible=this.freeLabel.visible=!0,this.cleanInterval();var g=e.splitStringToNumberArray(i.price,";");this._refreshCostItem={type:g[0],count:g[1]},this.costIcon.source="icon/item/"+g[0],this.updateTime(),this._interval=egret.setInterval(this.updateTime,this,1e3)}else this.cleanInterval(),this.refreshButton.visible=this.costGroup.visible=this.freeLabel.visible=!1;for(var r=0;r<this._typeButtonList.length;r++){var d=this._typeButtonList[r];d==this._currentTypeButton?this.changeTypeButton(d,!0):this.changeTypeButton(d,!1)}if(this.tehuiLabel.visible=!1,this.recoverButton.visible=!1,t.buttonData.recoverType)this.recoverButton.visible=!0,this.recoverButton.image="langs/Tx_qufangsheng";else if(5==SDK.$platformType||e.isMobile)switch(this.recoverButton.visible=!0,t.buttonData.typeid){case 5:this.recoverButton.image="langs/Tx_quniudan";break;case 2:this.recoverButton.image="langs/Tx_qugonghui";break;case 3:this.recoverButton.image="langs/Tx_qujinji";break;case 6:this.recoverButton.image="langs/Tx_qudasai";break;case 7:this.recoverButton.image="langs/Tx_qugonghui";break;default:this.recoverButton.visible=!1}var m=[2,3,4,8];this.previewButton.visible=!1,m.indexOf(t.buttonData.typeid)>-1&&(this.previewButton.visible=!0),this.arrowImage.visible=this.shopItemGroup.numChildren>8,this.tipImage.visible=!1,1==t.buttonData.typeid?(this.tipImage.visible=!0,this.tipImage.source="langs/shop_tip"):5==t.buttonData.typeid&&(this.tipImage.visible=!1,this.tipImage.source="langs/shop_tip2")}}},n.prototype.cleanInterval=function(){null!=this._interval&&(egret.clearInterval(this._interval),this._interval=null)},n.prototype.touchItem=function(t){this._selectShopItem&&(this._selectShopItem.select=!1),this._selectShopItem=t,t.select=!0,this.detailGroup.visible=this.buyButton.visible=!0,this.currentShopItem.setData(t.goodsInfo),this.currentShopItem.itemIcon.itemData?this.detailLabel.text=this.currentShopItem.itemIcon.itemData.desc:this.currentShopItem.itemIcon.newEquipData&&(this.detailLabel.text=this.currentShopItem.itemIcon.newEquipData.jieshao);var n=e.splitStringToNumberArray(t.goodsData.price,";");this.ownItemIcon.source="icon/item/"+n[0];var i=e.DataManager.playerModel.getItemCount(n[0]);this.ownItemCountLabel.text=e.Lang.yongyou+": "+i},n.prototype.changeTypeButton=function(e,t){e.select=t},n.prototype.onShow=function(){egret.Tween.resumeTweens(this.arrowImage),this.detailGroup.visible=this.buyButton.visible=this.refreshButton.visible=!1,this.touchTypeButton(this._typeButtonList[0])},n.prototype.firstShow=function(){var t=[];for(var n in e.Data.TShopType)if(e.Data.TShopType.hasOwnProperty(n)){var i=e.Data.TShopType[n];t.push(i)}t=t.sort(function(e,t){return e.sort-t.sort});for(var n=0;n<t.length;n++){var i=t[n],a=new e.ShopTypeButton;a.setData(i),this.typeButtonGroup.addChild(a),this._typeButtonList.push(a)}this.touchTypeButton(this._typeButtonList[0])},n.prototype.updateTime=function(){if(this._currentShopInfo){this._nowTime=e.getNowTime();var t=this._nowTime.getTime(),n=this._currentShopData.recoveTime,i=(t-this._currentShopInfo.time.getTime())/1e3,a=Math.floor(i/n),o=i%n;a>0&&(this._currentShopInfo.count=Math.min(this._currentShopInfo.count+a,this._currentShopData.MaxCount),this._currentShopInfo.count==this._currentShopData.MaxCount?this._currentShopInfo.time=this._nowTime:(this._nowTime.setTime(t-1e3*o),this._currentShopInfo.time=this._nowTime)),this._currentShopInfo.count>0?(this.free=!0,this.costIcon.parent&&this.costIcon.parent.removeChild(this.costIcon),this.costLabel.text=e.Lang.mianfei,this.freeLabel.text=e.Lang.shengyumianfeicishu+":"+this._currentShopInfo.count):(this.free=!1,this.costIcon.parent||this.costGroup.addChildAt(this.costIcon,0),this.costLabel.text=this._refreshCostItem.count.toString(),this.freeLabel.text=e.formatString(e.Lang.duoshaojijianhoumianfei,e.s2hms(n-i)))}},n.prototype.changeTo=function(e){for(var t=0;t<this._typeButtonList.length;t++){var n=this._typeButtonList[t];if(n.buttonData.typeid==e){this.touchTypeButton(n);break}}},n.prototype.changeToPvp=function(){this.changeTo(3)},n.prototype.changeToRankPvp=function(){this.changeTo(6)},n.prototype.changeToPet=function(){this.changeTo(4)},n.prototype.changeToSkill=function(){this.changeTo(1)},n.prototype.openPreview=function(){var t=0;switch(this._currentShopData.typeid){case 2:t=3;break;case 3:t=4;break;case 4:t=5;break;case 8:t=6}e.RewardPreviewPanel.getInstance().setTypeAndShow(t)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.TOUCH_ITEM="ShopPanel_TOUCH_ITEM",n}(e.PanelComponent);e.ShopPanel=t,__reflect(t.prototype,"game.ShopPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._starImages=[],n.touchChildren=!1,n.skinName=ShopPokemonIconSkin,n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.NotificationCenter.getInstance().postNotification(e.ShopRecoveryPanel.TOUCH_POKEMON,n)},n),n}return __extends(n,t),n.prototype.setPokemonInfo=function(t){if(this.starGroup.removeChildren(),this.pokemonInfo=t,this.pokemonInfo){this.pokemon=t.type,this.textLabel.textColor=e.TeamBagPokemonIcon.textColor[this.pokemonData.quality],this.textLabel.text="LV."+t.lv+" "+this.pokemonData.name,this.textLabel.visible=!0,this.touchEnabled=!0;for(var n=t.star||0,i=Math.floor(n/5),a=n%5,o=0,s=0;i>s;s++){var r=this._starImages[o];r||(r=new eui.Image,this._starImages[o]=r),r.source="ui/scene/team/star1",this.starGroup.addChild(r),o++}for(var s=0;a>s;s++){var r=this._starImages[o];r||(r=new eui.Image,this._starImages[o]=r),r.source="ui/scene/team/star",r.scaleX=r.scaleY=1,this.starGroup.addChild(r),o++}}else this.pokemonGroup.visible=!1,this.textLabel.visible=!1,this.touchEnabled=!1},n.prototype.onDestroy=function(){this.removeFromParent()},n}(e.PokemonIcon);e.ShopPokemonIcon=t,__reflect(t.prototype,"game.ShopPokemonIcon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._pokemonList=[],n._selectPokemonList=[],n._starCostCount={},n._expCostCount={},n._loveCostCount={},n._loveItemData=e.Data.TItem[12006],n.skinName=ShopRecoverySkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){var t=0;for(var i in e.Data.TElfStarUp)if(this._starCostCount[i]=t,e.Data.TElfStarUp[i].costItem){var a=e.splitStringToNumberArray(e.Data.TElfStarUp[i].costItem,";");t+=a[1]}var o=0;for(var i in e.Data.TElfLevel)this._expCostCount[i]=o,e.Data.TElfLevel[i].exp&&(o+=e.Data.TElfLevel[i].exp);var s=0;for(var i in e.Data.TElfLove)this._loveCostCount[i]=s,e.Data.TElfLove[i].exp&&(s+=e.Data.TElfLove[i].exp);this.autoSelect.image="langs/yijiantianjia",this.autoSelect.imageDisplay.scaleX=this.autoSelect.imageDisplay.scaleY=1.5,this.kexuan.text=e.Lang.kexuanbaokemeng,this.yixuan.text=e.Lang.yixuanbaokemeng,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.autoSelect,callBackFunc:this.autoHandle}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.touchPokemon,n.TOUCH_POKEMON)},n.prototype.autoHandle=function(){for(var t=[],n=0;n<this._allPokemon.length;n++){var i=this._allPokemon[n];if(e.checkPokemonCanUse(i)&&this._selectPokemonList.indexOf(i)<0){var a=e.Data.TElf[i.type];t[a.quality]||(t[a.quality]=[]),t[a.quality].push(i)}}for(var n=0;n<t.length;n++)if(t[n]){for(var o=t[n],s=0;s<o.length;s++){var r=o[s];this._selectPokemonList.push(r)}break}this.updatePokemonList()},n.prototype.touchPokemon=function(e){var t=this._selectPokemonList.indexOf(e.pokemonInfo);t>-1?this._selectPokemonList.splice(t,1):this._selectPokemonList.push(e.pokemonInfo),this.updatePokemonList()},n.prototype.onShow=function(){this.allScroller.viewport.scrollV=this.selectScroller.viewport.scrollV=0,this._allPokemon=e.DataManager.playerModel.playerAllPokemonList,this._allPokemon=this._allPokemon.sort(function(t,n){return e.Data.TElf[t.type].quality>e.Data.TElf[n.type].quality?1:-1}),this._selectPokemonList=[],this.updatePokemonList()},n.prototype.updatePokemonList=function(){this.allGroup.removeChildren(),this.selectGroup.removeChildren();for(var t={},n={},i=0,a=0,o=0;o<this._allPokemon.length;o++){var s=this._allPokemon[o],r=this._pokemonList[o];if(r||(r=new e.ShopPokemonIcon,this._pokemonList[o]=r),r.setPokemonInfo(s),e.checkPokemonCanUse(s))if(this._selectPokemonList.indexOf(s)>-1){this.selectGroup.addChild(r);var u=e.Data.TElf[s.type];t[u.quality]||(t[u.quality]=0),t[u.quality]++,n[s.star]||(n[s.star]=0),n[s.star]++,i+=this._expCostCount[s.lv],i+=s.exp,a+=this._loveCostCount[s.intimacyLv],a+=s.intimacy}else this.allGroup.addChild(r)}var l=0;for(var o in t)if(t.hasOwnProperty(o)){var c=e.Data.TElfQuality[o],h=e.splitStringToNumberArray(c.price,";");l+=h[1]*t[o]}var p=Number(e.Constants.ElfRecycleScale);for(var o in n)n.hasOwnProperty(o)&&(l+=this._starCostCount[o]*n[o]*p);this.totalLabel.text=e.setNumber(l),this.expLabel.text=e.setNumber(i*p),this.loveLabel.text=e.setNumber(Math.floor(a*p/this._loveItemData.number1))},n.prototype.confirmHandle=function(){var t=this;if(this._selectPokemonList.length<=0)return void e.showTips(e.Lang.qingxuanzeninyaohuishoudebaokemeng,!0);var n=e.CheckPanel.getInstance();n.setData(e.formatString(e.Lang.ninquedingyaohuishouzhexiebaokemengma,this.totalLabel.text,this.expLabel.text,this._loveItemData.name,this.loveLabel.text),function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n?[4,e.DataManager.playerModel.recoveryPokemon(this._selectPokemonList)]:[3,2];case 1:t.sent(),this.closeHandle(),t.label=2;case 2:return[2]}})})}),n.show()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.TOUCH_POKEMON="ShopRecoveryPanel_TOUCH_POKEMON",n}(e.PanelComponent);e.ShopRecoveryPanel=t,__reflect(t.prototype,"game.ShopRecoveryPanel")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=ShopTypeButtonSkin,t.touchChildren=!1,t}return __extends(t,e),t.prototype.setData=function(e){this.buttonData=e,this.imageDisplay.source="langs/shop"+e.typeid},Object.defineProperty(t.prototype,"select",{set:function(e){var t=this.buttonData.typeid;this.bgDisplay.source=e?"ui/common/button/shopSelect":"ui/common/button/shop",this.imageDisplay.source="langs/shop"+t},enumerable:!0,configurable:!0}),t}(e.GameComponent);e.ShopTypeButton=t,__reflect(t.prototype,"game.ShopTypeButton")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=PieceShopHouseSkin,e._adjust=!0,e.init(),e}return __extends(n,t),n.prototype.init=function(){var e=this;this._touchEvent=[{target:this.closeButton,callBackFunc:function(){e.backAnim.play(0),egret.setTimeout(function(){e._playerActor.play(1)},e,200)}},{target:this.enterButton,callBackFunc:this.showDetail}],this.addEventAndNotify(),this.enterAnim.addEventListener("complete",this.showDetail,this),this.backAnim.addEventListener("complete",this.closeHandle,this)},n.prototype.firstShow=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(a){switch(a.label){case 0:return this.acatorGroup.removeChildren(),this._playerActor=new e.SequenceImage,[4,this._playerActor.setData({delay:200,size:{row:4,col:4},resource:"anim/role/"+e.DataManager.playerModel.playerRole})];case 1:return a.sent(),this._playerActor.setDisplayPosition(55,130),this.acatorGroup.addChild(this._playerActor.display),this.fuwushengGroup.removeChildren(),this._fuwushengActor=new e.SequenceImage,[4,this._fuwushengActor.setData({delay:200,size:{row:1,col:4},resource:"ui/scene/pieceShop/0001"})];case 2:return a.sent(),this._fuwushengActor.setDisplayPosition(40,80),this.fuwushengGroup.addChild(this._fuwushengActor.display),this.pokemonGroup0.removeChildren(),t=new eui.Image("anim/pokemon/shadow"),t.horizontalCenter=0,t.bottom=-5,this.pokemonGroup0.addChild(t),this._pokemonSeq0=new e.PokemonIconAnim,[4,this._pokemonSeq0.setPokemon(1100)];case 3:return a.sent(),this._pokemonSeq0.setDisplayPosition(24,55),this.pokemonGroup0.addChild(this._pokemonSeq0.display),this.pokemonGroup1.removeChildren(),n=new eui.Image("anim/pokemon/shadow"),n.horizontalCenter=0,n.bottom=-5,this.pokemonGroup1.addChild(n),this._pokemonSeq1=new e.PokemonIconAnim,[4,this._pokemonSeq1.setPokemon(1040)];case 4:return a.sent(),this._pokemonSeq1.setDisplayPosition(42,75),this.pokemonGroup1.addChild(this._pokemonSeq1.display),i=this,[4,e.getBone("UI_jt01")];case 5:return i._UI_jt01Bone=a.sent(),this._UI_jt01Bone.rotation=90,this._UI_jt01Bone.x=45,this._UI_jt01Bone.y=30,this.closeButton.addChild(this._UI_jt01Bone),[2]}})})},n.prototype.onShow=function(){this._UI_jt01Bone.play(null,0),this._playerActor.play(4),this._fuwushengActor.play(1),this._pokemonSeq0.play(3),this._pokemonSeq1.play(1),this.enterAnim.play(0)},n.prototype.showDetail=function(){e.PieceShopPanel.getInstance().show()},n.prototype.closeHandle=function(){this._playerActor.stop(),this._fuwushengActor.stop(),this._UI_jt01Bone.stop(),this._pokemonSeq0.stop(),this._pokemonSeq1.stop(),e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.PieceShopHouse=t,__reflect(t.prototype,"game.PieceShopHouse")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.canBuy=!0,n.skinName=PieceShopItemSkin,n.touchChildren=!1,n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.NotificationCenter.getInstance().postNotification(e.PieceShopPanel.TOUCH_ITEM,n)},n),n.noScale=!0,n}return __extends(n,t),n.prototype.setData=function(t,n,i){this.nameLabel0.visible=!0,this.goodsInfo=t,this.groupIndex=n,this.goodsData=e.Data.TPiecesShop[n],this.count=i;var a=e.splitStringToNumberArray(this.goodsData.money,";");this.itemIcon0.item={type:t.type,count:i},this.costItemIcon0.source="icon/item/"+a[0],this.costItemCount0.text=a[1].toString(),this.limitCountLabel0.textColor=2150656;var o=e.DataManager.playerModel.getItemCount(a[0]);this.canBuy=o>=a[1],t.count>0?this.limitCountLabel0.text=e.Lang.xiangou+": "+t.count:0==t.count?(this.limitCountLabel0.textColor=16711680,this.limitCountLabel0.text=e.Lang.yishouwan):this.limitCountLabel0.text=e.Lang.wuxianzhi,this.itemIcon0.itemData?this.nameLabel0.text=this.itemIcon0.itemData.name:this.itemIcon0.newEquipData&&(this.nameLabel0.text=this.itemIcon0.newEquipData.name),this.timeImage0.visible=!1},Object.defineProperty(n.prototype,"select",{set:function(e){this.bgImage0.source=e?"ui/common/panel/UI_BG08":"ui/common/panel/UI_BG07",this.selectImage0.visible=!1},enumerable:!0,configurable:!0}),n}(e.EffectButton);e.PieceShopItem=t,__reflect(t.prototype,"game.PieceShopItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.free=!1,e._autoRefresh=!1,e._currentShopInfo=null,e._shopItemList=[],e._interval=null,e._curAutoRefreshIndex=null,e._itemGroupIndexDic={},e._itemCountDic={},e._autoRefreshTime=[],e.skinName=PieceShopPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var t,i;return __generator(this,function(a){switch(a.label){case 0:this.Buy.image="langs/Tx_goumai",this.Buy.bg="ui/common/button/orangeBtn_1",this.Refresh.image="langs/Tx_shuaxin",this.Release.image="langs/Tx_qufangsheng",this.Release.bg="ui/common/button/blue",this._touchEvent=[{target:this.Close,callBackFunc:this.closeHandle},{target:this.Buy,callBackFunc:this.buyHandle},{target:this.Refresh,callBackFunc:this.refreshHandle},{target:this.Release,callBackFunc:this.releaseHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateShopInfo,notifyName:e.PlayerModel.GOODS_INFO_UPDATE,execute:!1}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.touchItem,n.TOUCH_ITEM),egret.Tween.get(this.arrowImage,{loop:!0}).to({y:803},350).to({y:808},350),this.TitlePic.source="ui/scene/pieceShop/UI_bg_jinlingsc";for(t in e.Data.TRefresh)i=e.splitStringToNumberArray(e.Data.TRefresh[t].good,";"),this._itemGroupIndexDic[i[0]]=e.Data.TRefresh[t].goods,this._itemCountDic[i[0]]=i[1];return this._refreshCostArr=e.splitStringToNumberArray(e.Constants.RefreshShopCost),this.initAnim(),this.initTime(),[4,this.UpdateShopInfoFromServer()];case 1:return a.sent(),[2]}})})},n.prototype.UpdateShopInfoFromServer=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,e.DataManager.playerModel.getFragmentShopInfo()];case 1:return t=n.sent(),this._currentShopInfo&&this._currentShopInfo.time==t.time?[2,!1]:(this._currentShopInfo=t,this.updateShopInfo(),[2,!0])}})})},n.prototype.updateShopInfo=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,i,r;return __generator(this,function(u){if(!this._currentShopInfo)return[2];for(t=0,n=this._currentShopInfo.items,this.shopItemGroup0.removeChildren(),this._interval=egret.setInterval(this.UpdateTime,this,1e3),i=0;i<n.length;i++)a=this._shopItemList[t],a||(a=new e.PieceShopItem,this._shopItemList[t]=a),a.setData(n[i],this._itemGroupIndexDic[n[i].type]-1e4,this._itemCountDic[n[i].type]),this.shopItemGroup0.addChild(a),0==t&&this.touchItem(a),t++;for(o=e.DataManager.playerModel.getActivityInfo().fragShop.count,s=null,i=0;i<this._refreshCostArr.length;++i)if(o<this._refreshCostArr[i][0]){s=this._refreshCostArr[i-1][1];break}return null==s&&(s=this._refreshCostArr[this._refreshCostArr.length-1][1]),this._refreshCostItem={type:2,count:s},this.costIcon0.source="icon/item/2",this.costLabel0.text=0==s?e.Lang.mianfei:String(s),this.arrowImage.visible=this.shopItemGroup0.numChildren>8,this.ownItemIcon0.source="icon/item/2",r=e.DataManager.playerModel.getItemCount(2),this.ownItemCountLabel0.text=e.Lang.yongyou+": "+e.setNumber(r),this.ownItemIcon1.source="icon/item/6",r=e.DataManager.playerModel.getItemCount(6),this.ownItemCountLabel1.text=e.Lang.yongyou+": "+e.setNumber(r),[2]})})},n.prototype.touchItem=function(e){this._selectShopItem&&(this._selectShopItem.select=!1),this._selectShopItem=e,e.select=!0,this.Detail.visible=this.Buy.visible=!0,this.currentShopItem0.setData(e.goodsInfo,e.groupIndex,e.count),this.currentShopItem0.itemIcon0.itemData?this.detailLabel0.text=this.currentShopItem0.itemIcon0.itemData.desc:this.currentShopItem0.itemIcon0.newEquipData&&(this.detailLabel0.text=this.currentShopItem0.itemIcon0.newEquipData.jieshao)},n.prototype.buyHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:if(!this._selectShopItem.canBuy)return e.showTips(e.Lang.ninweidadaogoumaitiaojian,!0),[2];if(t=this._selectShopItem.goodsInfo,0==t.count)return e.showTips(e.Lang.gaishangpinyishouqing,!0),[2];for(n=0;n<this._currentShopInfo.items.length;++n)this._currentShopInfo.items[n].type==t.type&&this._currentShopInfo.items[n].count--;return[4,e.DataManager.playerModel.buyFragmentShop(this._selectShopItem.groupIndex,this._selectShopItem.goodsInfo.type)];case 1:return i.sent(),[2]}})})},n.prototype.refreshHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(a){switch(a.label){case 0:return t=this._refreshCostItem,n=e.DataManager.playerModel.getItemCount(t.type),n<t.count?(e.showTips(e.Lang.nindehuobibuzu,!0),[2]):(i=this,[4,e.DataManager.playerModel.refreshFragmentShop(t)]);case 1:return i._currentShopInfo=a.sent(),this.updateShopInfo(),[2]}})})},n.prototype.releaseHandle=function(){return e.DataManager.playerModel.playerLevel<Number(e.Constants.elfRecoverOpenLv)?void e.showTips(e.formatString(e.Lang.dengjijiesuo,e.Constants.elfRecoverOpenLv),!0):void e.ShopRecoveryPanel.getInstance().show()},n.prototype.closeHandle=function(){egret.Tween.pauseTweens(this.arrowImage),e.removePopUp(this),this.cleanInterval()},n.prototype.onShow=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return egret.Tween.resumeTweens(this.arrowImage),this.Detail.visible=this.Buy.visible=!1,this.updateShopInfo(),[2]})})},n.prototype.initAnim=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._TitleBones?[3,2]:(t=this,[4,e.getBone("shangchengjlsp")]);case 1:t._TitleBones=n.sent(),this.Head.addChild(this._TitleBones),n.label=2;case 2:return this._TitleBones.play(null,0),[2]}})})},n.prototype.onRemove=function(){this._TitleBones&&this._TitleBones.stop()},n.prototype.UpdateTime=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:return t=this._autoRefreshTime[this._curAutoRefreshIndex]-this.getNowRealTime(),t=0>t?0:t,this.freeLabel.text=e.formatString(e.Lang.houshuaxin,e.s2hms(t)),n=0==t,n?[4,this.UpdateShopInfoFromServer()]:[3,2];case 1:n=i.sent(),i.label=2;case 2:return n&&(this._curAutoRefreshIndex=this.getAutoRefreshTimeIndex()),[2]}})})},n.prototype.getAutoRefreshTimeIndex=function(){for(var e=this.getNowRealTime(),t=0;t<this._autoRefreshTime.length;++t)if(e<this._autoRefreshTime[t])return t;return t},n.prototype.getNowRealTime=function(){var t=e.getNowTime(),n=3600*t.getHours()+60*t.getMinutes()+t.getSeconds();return n},n.prototype.initTime=function(){for(var t=e.splitStringToNumberArray(e.Constants.RefreshShopTime),n=0;n<t.length;++n)this._autoRefreshTime.push(3600*t[n]);this._autoRefreshTime.push(this._autoRefreshTime[0]+86400),this._curAutoRefreshIndex=this.getAutoRefreshTimeIndex()},n.prototype.cleanInterval=function(){null!=this._interval&&(egret.clearInterval(this._interval),this._interval=null)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.TOUCH_ITEM="PieceShopPanel_TOUCH_ITEM",n}(e.PanelComponent);e.PieceShopPanel=t,__reflect(t.prototype,"game.PieceShopPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.rewardList=[],e.skinName=SignPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.reSignButton.image="ui/scene/sign/Tx_buqian",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.signButton,callBackFunc:this.signHandle},{target:this.reSignButton,callBackFunc:this.reSignHandle}],this.addEventAndNotify(),this.initReward(),[2]})})},n.prototype.initReward=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(a){switch(a.label){case 0:return t=this,[4,e.DataManager.playerModel.getSign()];case 1:for(t.signInfo=a.sent(),n=0;n<this.signInfo.rewards.length;n++)i=new e.SignReward,i.setData(this.signInfo.rewards[n],n),this.rewardGroup.addChild(i),this.rewardList.push(i);return[2]}})})},n.prototype.signHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.canSign?[4,e.DataManager.playerModel.sign()]:[3,2];case 1:return t.sent(),this.updateSign(),[3,3];case 2:this.closeHandle(),t.label=3;case 3:return[2]}})})},n.prototype.reSignHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=e.getNowTime().getDate(),t<=this.signInfo.signData.day?[2,e.showTips(e.Lang.wuxubuqian)]:e.DataManager.playerModel.diamond<(this.signInfo.signData.limitCount+1)*Number(e.Constants.ReplenishSignCost)?[2,e.showTips(e.Lang.nindezuanshibuzu)]:[4,e.DataManager.playerModel.ReplenishSign()];case 1:return n.sent(),this.updateSign(),[2]}})})},n.prototype.onShow=function(){this.updateSign()},n.prototype.updateSign=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:return t=this,[4,e.DataManager.playerModel.getSign()];case 1:for(t.signInfo=i.sent(),this.canSign=!1,this.signButton.image="ui/scene/sign/Tx_yiqiand",this.signInfo.signData.day>=this.rewardList.length?this.signButton.image="ui/scene/sign/Tx_benyuewc":0==this.signInfo.signed&&(this.canSign=!0,this.signButton.image="ui/scene/sign/Tx_qiandao"),this.signButton.lock=!this.canSign,this.signButton.touchEnabled=this.canSign,this.dayLabel.text=e.formatString(e.Lang.benyueleijiqiandao,this.signInfo.signData.day),n=0;n<this.rewardList.length;n++)this.rewardList[n].updateSign(this.signInfo.signData.day);return this.signInfo.signData.limitCount>=Number(e.Constants.ReplenishSignLimit)?(this.replenGroup.visible=!1,this.reSignButton.lock=!0,this.reSignButton.touchEnabled=!1):(this.replenGroup.visible=!0,this.replenLabel.text=String((this.signInfo.signData.limitCount+1)*Number(e.Constants.ReplenishSignCost)),this.reSignButton.lock=!1,this.reSignButton.touchEnabled=!0),[2]}})})},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.SignPanel=t,__reflect(t.prototype,"game.SignPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=SignRewardSkin,e.touchChildren=!1,e.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.itemIcon.showDetail&&e.itemIcon.showDetail()},e),e}return __extends(n,t),n.prototype.setData=function(t,n){this.index=n,this.reward=t,e.Data.TElf[this.reward.type]?(this.itemIcon=new e.PokemonIcon,this.itemIcon.pokemon=this.reward.type):(this.itemIcon=new e.ItemIcon,this.itemIcon.item=this.reward),this.itemIcon.horizontalCenter=0,this.itemIcon.verticalCenter=-14.5,this.itemIcon.scaleX=this.itemIcon.scaleY=.72,this.addChildAt(this.itemIcon,1);var i=n%7%2==0;this.bgRect.visible=i,this.dayLabel.textColor=i?gameConfig.TextColors.white:gameConfig.TextColors.black,this.dayLabel.text=e.formatString(e.Lang.dijitian,n+1)},n.prototype.updateSign=function(e){this.finishImage.visible=this.index<e},n}(e.GameComponent);e.SignReward=t,__reflect(t.prototype,"game.SignReward")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=SkillDetailSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},n.prototype.setSkill=function(e){this.currentSkillIcon.setSkill(e),this.currentSkillDetailLabel.text=this.currentSkillIcon.skillData.desc},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.SkillDetail=t,__reflect(t.prototype,"game.SkillDetail")
}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=SkillIconSkin,e.touchChildren=!1,e}return __extends(n,t),n.prototype.registerEvent=function(){this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this)},n.prototype.onTouchBegin=function(t){this._lock||(this.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onStageTouchEnd,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.oldParent=this.parent,this.oldX=this.x,this.oldY=this.y,e.GameLayer.effectLayer.addChild(this),this.setMovePokemonPosition(t)),this.postTouchNotify()},n.prototype.postTouchNotify=function(){e.NotificationCenter.getInstance().postNotification(e.SkillPanel.TOUCH_SKILL,this)},n.prototype.onTouchMove=function(e){this.setMovePokemonPosition(e)},n.prototype.onStageTouchEnd=function(e){var t=e.currentTarget;t.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onStageTouchEnd,this),t.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),t.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.endMovePokemon(e)},n.prototype.setMovePokemonPosition=function(e){var t=e.stageX,n=e.stageY,i=this.height/2,a=this.width/2;this.x=t-a,this.y=n-i},n.prototype.endMovePokemon=function(t){e.NotificationCenter.getInstance().postNotification(e.SkillPanel.MOVE_SKILL_END,{skill:this,event:t})},n.prototype.setSkill=function(t){this.setLock(),this.setItem(),this.skillData=e.Data.TElfSkill[t],this.selectDisplay.visible=!1,this.skillDisplay.source="icon/skill/"+this.skillData.Icon,this.typeDisplay.source="icon/skillType/"+this.skillData.attribute,this.nameLabel.text=this.skillData.name},n.prototype.setLock=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=0),this._lock=t,this.lockGroup.visible=t,this.lockLabel.text=e.formatString(e.Lang.qinmidudengjijiesuo,n)},n.prototype.setItem=function(e,t,n){void 0===e&&(e=!1),void 0===t&&(t=0),void 0===n&&(n=0),this.itemId=n,this.itemIcon.visible=e,t>1&&(this.nameLabel.text=this.skillData.name+"x"+t)},Object.defineProperty(n.prototype,"select",{set:function(e){this.selectDisplay.visible=e},enumerable:!0,configurable:!0}),n.prototype.reset=function(){this.oldParent&&(this.x=this.oldX,this.y=this.oldY,this.oldParent.addChild(this))},n}(e.GameComponent);e.SkillIcon=t,__reflect(t.prototype,"game.SkillIcon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.skinName=SkillItemSkin,n.skillGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.NotificationCenter.getInstance().postNotification(e.SkillPanel.TOUCH_SKILL,n)},n),n.sortImage.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.NotificationCenter.getInstance().postNotification(e.SkillPanel.TOUCH_SORT_SKILL,n)},n),n}return __extends(n,t),n.prototype.setSkill=function(t,n){if(void 0===n&&(n=null),this.sort=n,this.select=!1,t){this.typeLabel.visible=this.damageLabel.visible=this.skillTypeImage.visible=this.skillIcon.visible=!0,this.touchEnabled=!0,this.rect1.visible=this.rect2.visible=!0,this.noneLabel.visible=!1,this.skillIcon.setSkill(t),this.skillData=this.skillIcon.skillData;var i=void 0;switch(this.skillData.target){case 1:case 3:case 8:case 9:case 10:case 11:case 22:case 13:case 14:i=e.Lang.danti;break;default:i=e.Lang.qunti}switch(this.typeLabel.text=e.Lang.fanwei+": "+i,this.skillData.damage?this.damageLabel.text=e.Lang.weili+": "+this.skillData.damage+" "+e.Lang.xiaohao+":"+this.skillData.ex+"SP":this.damageLabel.text=e.Lang.xiaohao+":"+this.skillData.ex+"SP",5==this.skillData.skillType?this.damageLabel.text=e.Lang.xiaohao+":"+this.skillData.ex+"SP":6==this.skillData.skillType?this.typeLabel.text=e.Lang.fanwei+": "+e.Lang.tanshe:7==this.skillData.skillType&&(this.typeLabel.text=e.Lang.fanwei+": "+e.Lang.lianji),null!=n?(this.sortImage.visible=!0,this.sortImage.source="ui/scene/skill/sort"+n):this.sortImage.visible=!1,this.skillData.skillType){case 3:case 4:this.skillTypeImage.source="ui/scene/skill/zhi";break;case 5:this.skillTypeImage.source="ui/scene/skill/bian";break;default:this.skillData.DamageType?this.skillTypeImage.source="ui/scene/skill/te":this.skillTypeImage.source="ui/scene/skill/wu"}}else this.skillData=null,this.typeLabel.visible=this.skillTypeImage.visible=this.damageLabel.visible=this.sortImage.visible=this.skillIcon.visible=this.selectDisplay.visible=!1,this.touchEnabled=!1,this.rect1.visible=this.rect2.visible=!1,this.noneLabel.visible=!0},Object.defineProperty(n.prototype,"select",{set:function(e){this.selectDisplay.visible=e},enumerable:!0,configurable:!0}),n.prototype.resetIcon=function(){},n}(e.GameComponent);e.SkillItem=t,__reflect(t.prototype,"game.SkillItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._equipSkillList=[],e._skillIconList=[],e.skinName=SkillPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.levelSkillButton.imageDisplay.source="ui/scene/skill/Tx_zhongzujn",this.itemSkillButton.imageDisplay.source="ui/scene/skill/Tx_xuexij",this.detailButton.bg="ui/common/button/blueBtn",this.detailButton.image="ui/scene/book/huoqu",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.leftArrowButton,callBackFunc:this.touchArrow},{target:this.rightArrowButton,callBackFunc:this.touchArrow},{target:this.levelSkillButton,callBackFunc:this.touchTypeButton},{target:this.itemSkillButton,callBackFunc:this.touchTypeButton},{target:this.sortButton,callBackFunc:this.changeSort},{target:this.detailButton,callBackFunc:this.detailHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updatePokemon,notifyName:e.PlayerModel.POKEMON_INFO_UPDATE,execute:!1}],this.addEventAndNotify(),this.touchTypeButton(this.levelSkillButton),e.NotificationCenter.getInstance().addObserver(this,this.setCurrentSkill,n.TOUCH_SKILL),e.NotificationCenter.getInstance().addObserver(this,this.setSortSkill,n.TOUCH_SORT_SKILL),e.NotificationCenter.getInstance().addObserver(this,this.endMoveSkill,n.MOVE_SKILL_END)},n.prototype.changeSort=function(){this._currentSkill instanceof e.SkillItem&&(e.DataManager.playerModel.setSkillSetting(this._currentPokemonInfo,this._currentSkill.slot,this._currentSkill.sort),this.updateEquipSkill(),this.setCurrentSkill(this._currentSkill))},n.prototype.detailHandle=function(){e.navPanel(57)},n.prototype.endMoveSkill=function(t){for(var n=this,i=t.skill,a=t.event,o=null,s=a.stageX,r=a.stageY,u=0;4>u;u++){var l=u%2==0?54:370,c=0==Math.floor(u/2)?402:504;if(e.checkPointAtRect(s,r,l,c,296,90)){o=u;break}}if(i.reset(),null!=o){if(this._currentPokemonInfo.skills.indexOf(i.skillData.id)>-1)return i.reset(),void e.showTips(e.Lang.nindebaokemengyijingxuehuidangqianjinengleo,!0);var h=this._equipSkillList[o],p=void 0;p=h&&h.skillData?e.formatString(e.Lang.shifoujiangshenmejinengtihuanweishenmejineng,h.skillData.name,i.skillData.name):e.formatString(e.Lang.shifouxueximoujiuneng,i.skillData.name);var g=e.CheckPanel.getInstance();g.setData(p,function(e){e&&n.learnSkill(i,o)}),g.show()}},n.prototype.learnSkill=function(t,n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return t.itemId?[4,e.DataManager.playerModel.useSKillBook(this._currentPokemonInfo,n,t.itemId,t.skillData.id)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.DataManager.playerModel.learnSkill(this._currentPokemonInfo,n,t.skillData.id)];case 3:i.sent(),i.label=4;case 4:return[2]}})})},n.prototype.updatePokemon=function(e){this._currentPokemonInfo.id==e.id&&(this._currentPokemonInfo=e,this.setCurrentPokemon(this._currentPokemonInfo))},n.prototype.touchTypeButton=function(e){this._currentTypeButton=e,e==this.levelSkillButton?(this.levelSkillButton.bgDisplay.source="ui/scene/skill/btnbq02_u",this.itemSkillButton.bgDisplay.source="ui/scene/skill/btnbq02_d",this.updateLevelSkill()):(this.itemSkillButton.bgDisplay.source="ui/scene/skill/btnbq02_u",this.levelSkillButton.bgDisplay.source="ui/scene/skill/btnbq02_d",this.updateCanUseItem())},n.prototype.closeHandle=function(){this.artPokemon.stop(),e.removePopUp(this)},n.prototype.touchArrow=function(e){e==this.rightArrowButton?this._currentIndex++:e==this.leftArrowButton&&this._currentIndex--,this.setCurrentPokemon(this._pokemonList[this._currentIndex])},n.prototype.setCurrentPokemon=function(t){this._currentPokemonInfo=t;var n=e.Data.TElf[t.type];this._currentPokemonData=n;var i=0,a=0;if(0==t.slot){var o=e.DataManager.playerModel.getPlayerGridConfigById(t.id);i=o.formation,a=o.grid}var s=e.parseBattlePokemonData(t,i,a);this._currentPokemonBattleData=s,this.artPokemon.setData(t,n,s),this._pokemonList=e.DataManager.playerModel.playerTeamPokemonList,this._currentIndex=this._pokemonList.indexOf(t),this.updateArrowDisplay(),this.updateEquipSkill(),this._currentTypeButton==this.levelSkillButton?this.updateLevelSkill():this.updateCanUseItem(),this._currentSkill=null,this.currentSkillIcon.visible=this.currentSkillDetailLabel.visible=this.sortButton.visible=this.sortLabel.visible=!1},n.prototype.updateEquipSkill=function(){if(this._currentPokemonInfo)for(var t=this._currentPokemonInfo.skills,n=0;4>n;n++){this._equipSkillList[n]||(this._equipSkillList[n]=new e.SkillItem,this.equipSkillGroup.addChild(this._equipSkillList[n]));for(var i=1,a=0;a<this._currentPokemonInfo.skillSettings.length;a++){var o=this._currentPokemonInfo.skillSettings[a];if(o.slot==n){i=o.sort;break}}this._equipSkillList[n].setSkill(t[n],i),this._equipSkillList[n].slot=n}},n.prototype.updateLevelSkill=function(){if(this._currentPokemonInfo){this.skillIconGroup.removeChildren(),this.scroller.viewport.scrollV=0;var t=e.splitStringToNumberArray(this._currentPokemonData.skill);if(this._currentPokemonInfo.giftSkill&&this._currentPokemonInfo.giftSkill.length>0)for(var n=0;n<this._currentPokemonInfo.giftSkill.length;n++)t.push([this._currentPokemonInfo.giftSkill[n],0]);for(var n=0;n<t.length;n++){var i=t[n];if(i){this._skillIconList[n]||(this._skillIconList[n]=new e.SkillIcon,this._skillIconList[n].registerEvent());var a=this._skillIconList[n];a.x=n%5*130,a.y=97*Math.floor(n/5),a.setSkill(i[0]),a.setLock(this._currentPokemonInfo.intimacyLv<i[1],i[1]),this.skillIconGroup.addChild(a)}}}},n.prototype.updateCanUseItem=function(){if(this._currentPokemonInfo){this.skillIconGroup.removeChildren(),this.scroller.viewport.scrollV=0;for(var t=e.splitStringToNumberArray(this._currentPokemonData.learnSkill),n=e.DataManager.playerModel.getItemListByItemType(8),i=0,a=0;a<n.length;a++){var o=n[a],s=e.Data.TItem[o.type];if(s){var r=e.Data.TElfSkill[s.number1];if(r&&t.indexOf(r.attribute)>-1){this._skillIconList[i]||(this._skillIconList[i]=new e.SkillIcon,this._skillIconList[i].registerEvent());var u=this._skillIconList[i];u.setSkill(s.number1),u.setItem(!0,o.count,o.type),u.x=i%5*130,u.y=97*Math.floor(i/5),this.skillIconGroup.addChild(u),i++}}}}},n.prototype.setCurrentSkill=function(t){if(null!=t&&null!=t.skillData){this._currentSkill&&(this._currentSkill.select=!1),this._currentSkill=t,this._currentSkill.select=!0,this.currentSkillIcon.visible=this.currentSkillDetailLabel.visible=!0,t instanceof e.SkillItem?this.currentSkillDetailLabel.width=204:this.currentSkillDetailLabel.width=301,this.currentSkillIcon.setSkill(t.skillData.id),this.currentSkillIcon.sortImage.visible=!1;var n=this.currentSkillIcon.skillData;this.currentSkillDetailLabel.text=n.desc}},n.prototype.setSortSkill=function(t){t instanceof e.SkillItem&&(e.DataManager.playerModel.setSkillSetting(this._currentPokemonInfo,t.slot,t.sort),this.updateEquipSkill(),this.setCurrentSkill(t))},n.prototype.updateArrowDisplay=function(){this._currentIndex<0?this.leftArrowButton.visible=this.rightArrowButton.visible=!1:(this.leftArrowButton.visible=this._currentIndex>0,this.rightArrowButton.visible=this._currentIndex!=this._pokemonList.length-1)},n.prototype.onShow=function(){this._currentPokemonInfo||this.setCurrentPokemon(e.DataManager.playerModel.playerTeamPokemonList[0])},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.TOUCH_SKILL="SkillPanel_TOUCH_SKILL",n.MOVE_SKILL_END="SkillPanel_MOVE_SKILL_END",n.TOUCH_SORT_SKILL="SkillPanel_TOUCH_SORT_SKILL",n}(e.PanelComponent);e.SkillPanel=t,__reflect(t.prototype,"game.SkillPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.typeButtonList=[],e.itemList=[],e.skills={},e.skinName=SkillBookSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){for(var t in e.Data.TElfSkill){var n=e.Data.TElfSkill[t];1===n.preview&&(this.skills[n.attribute]||(this.skills[n.attribute]=[]),this.skills[n.attribute].push(n.id))}var i=0;for(var t in e.Data.TAttribute){var n=e.Data.TAttribute[t],a=new e.IconButton;a.name=""+n.Id,a.skinName=SkillTypeButtonSkin,a.icon="ui/scene/itemRecovery/type_"+n.Id,this.typeButtonList.push(a),a.horizontalCenter=0,a.verticalCenter=-330+90*i,i++,this.typeGroup.addChild(a)}this.touchTypeButton(this.typeButtonList[0]),this.typeGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchItemHandle,this)},n.prototype.touchItemHandle=function(e){var t=e.target;t.skillId&&this.touchItem(t)},n.prototype.touchHandle=function(e){var t=e.target;-1!=this.typeButtonList.indexOf(t)&&this.touchTypeButton(t)},n.prototype.touchTypeButton=function(t){this.scroller.viewport.scrollV=0,t.addChild(this.typeSelectImage);var n=Number(t.name);this.itemGroup.removeChildren();for(var i=this.skills[n],a=0;a<i.length;a++){var o=i[a],s=this.itemList[a];s||(s=new e.SkillBookItem,this.itemList[a]=s),s.setSkill(o),this.itemGroup.addChild(s)}this.touchItem(this.itemList[0])},n.prototype.touchItem=function(t){t.addChild(this.skillSelectImage);var n=t.skillId;this.skillIcon.setSkill(n);var i,a=this.skillIcon.skillData;switch(a.target){case 1:case 3:case 8:case 9:case 10:case 11:case 22:case 13:case 14:i=e.Lang.danti;break;default:i=e.Lang.qunti}switch(this.typeLabel.text=e.Lang.fanwei+": "+i,a.damage?this.damageLabel.text=e.Lang.weili+": "+a.damage+" "+e.Lang.xiaohao+":"+a.ex+"SP":this.damageLabel.text=e.Lang.xiaohao+":"+a.ex+"SP",5==a.skillType?this.damageLabel.text=e.Lang.xiaohao+":"+a.ex+"SP":6==a.skillType?this.typeLabel.text=e.Lang.fanwei+": "+e.Lang.tanshe:7==a.skillType&&(this.typeLabel.text=e.Lang.fanwei+": "+e.Lang.lianji),a.skillType){case 3:case 4:this.skillTypeImage.source="ui/scene/skill/zhi";break;case 5:this.skillTypeImage.source="ui/scene/skill/bian";break;default:a.DamageType?this.skillTypeImage.source="ui/scene/skill/te":this.skillTypeImage.source="ui/scene/skill/wu"}this.currentSkillDetailLabel.text=a.desc},n.prototype.show=function(){},Object.defineProperty(n,"instance",{get:function(){return n._instance||(n._instance=new n),n._instance},enumerable:!0,configurable:!0}),n}(e.GameComponent);e.SkillBook=t,__reflect(t.prototype,"game.SkillBook")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=SkillBookItemSkin,t.touchChildren=!1,t}return __extends(t,e),t.prototype.setSkill=function(e){this.skillId=e,this.skillIcon.setSkill(e);var t=this.skillIcon.skillData;switch(t.skillType){case 3:case 4:this.powerLabel.text="治疗技能";break;case 5:this.powerLabel.text="变化技能";break;default:this.powerLabel.text="威力: "+t.damage}},t}(e.GameComponent);e.SkillBookItem=t,__reflect(t.prototype,"game.SkillBookItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=SkillBookSkillIconSkin,e}return __extends(n,t),n.prototype.setSkill=function(t){this.skillData=e.Data.TElfSkill[t],this.skillDisplay.source="icon/skill/"+this.skillData.Icon,this.typeDisplay.source="icon/skillType/"+this.skillData.attribute,this.nameLabel.text=this.skillData.name},n}(e.GameComponent);e.SkillBookSkillIcon=t,__reflect(t.prototype,"game.SkillBookSkillIcon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=StarItemSkin,e}return __extends(n,t),n.prototype.setItem=function(t,n,i){this.id=t,this.needCount=n,this._itemIcon||(this._itemIcon=new e.ItemIcon,this.iconGroup.addChild(this._itemIcon)),this._itemIcon.item={type:t,count:0},this.nameLabel.text=this._itemIcon.itemData.name,this.updateCount(i)},n.prototype.setPokemon=function(t,n,i){this.id=t,this.needCount=n,this._pokemonIcon||(this._pokemonIcon=new e.PokemonIcon,this.iconGroup.addChild(this._pokemonIcon)),this._pokemonIcon.pokemon=t,this.nameLabel.text=this._pokemonIcon.pokemonData.name,this.updateCount(i)},n.prototype.updateCount=function(t){this.countLabel.text=e.setNumber(t)+"/"+e.setNumber(this.needCount),this.countLabel.textColor=t>=this.needCount?gameConfig.TextColors.green:gameConfig.TextColors.red},n}(e.GameComponent);e.StarItem=t,__reflect(t.prototype,"game.StarItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._costItem=[],e._canLevelUp=!1,e.skinName=StarPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.selectPokemonButton.label=e.Lang.tianjiabaokemeng,this.autoSelectButton.label=e.Lang.yijiantianjia,this.confirmButton.image="ui/scene/team/Tx_shenx",this.goButton.icon="ui/scene/bag/fangdajing",this.noneLabel.text=e.Lang.wufashengxing,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.leftArrowButton,callBackFunc:this.touchArrow},{target:this.rightArrowButton,callBackFunc:this.touchArrow},{target:this.selectPokemonButton,callBackFunc:this.touchSelectPokemon},{target:this.autoSelectButton,callBackFunc:this.autoSelectPokemon},{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.goButton,callBackFunc:this.goHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updatePiece,notifyName:e.PlayerModel.PIECE_UPDATE,execute:!1}],this.showUI_jt(),this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.updateSelectPokemon,n.SELECT_POKEMON_UPDATE),this.costGroup.touchChildren=!0,this.costGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var t=e.target;t&&t.showDetail&&t.showDetail()},this)},n.prototype.showUI_jt=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._UI_jt01Bone?[3,2]:(t=this,[4,e.getBone("UI_jt01")]);case 1:t._UI_jt01Bone=n.sent(),this.UI_jt01Group.addChildAt(this._UI_jt01Bone,0),n.label=2;case 2:return this._UI_jt01Bone.play(null,0),[2]}})})},n.prototype.touchSelectPokemon=function(){var t=e.StarSelectPokemon.getInstance();t.setPokemon(this._currentPokemonInfo.id,this._currentPokemonInfo.type,this._selectPokemonList,this._costPokemonIcon.needCount,n.SELECT_POKEMON_UPDATE),t.show()},n.prototype.goHandle=function(){if(this._costItem.length>1){var t=e.ItemComeFromPanel.getInstance(),n=e.Data.TItem[this._costPriceIcon.id];t.setData(n.comeFrom,null,null,n.number1),t.show()}},n.prototype.confirmHandle=function(){var t=this;if(!this._levelEnough)return void e.showTips(e.Lang.nindebaokemengdengjibuzu,!0);if(!this._itemEnough)return void e.showTips(e.Lang.nindedaojubuzu,!0);if(!this._priceEnough)return void e.showTips(e.Lang.nindehuobibuzu,!0);if(!this._pokemonEnough)return void e.showTips(e.Lang.nindebaokemengbuzu,!0);var n=e.CheckPanel.getInstance();n.setData(e.Lang.ninquedingyaotishenggaibaokemengdexingjima,function(n){return __awaiter(t,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return n?[4,e.DataManager.playerModel.upgradePokemonStar(this._currentPokemonInfo,this._selectPokemonList,this._costItem)]:[3,2];case 1:t=i.sent(),t&&(this._currentPokemonInfo=t,this.setCurrentPokemon(t)),i.label=2;case 2:return[2]}})})}),n.show()},n.prototype.autoSelectPokemon=function(){var t=e.DataManager.playerModel.getPlayerStarPokemonByType(this._currentPokemonInfo.type);if(t.length>=this._costPokemonIcon.needCount+1){for(var n=[],i=0;i<t.length;i++){var a=t[i];e.checkPokemonCanUse(a)&&a.id!=this._currentPokemonInfo.id&&n.push(a)}if(n.length>=this._costPokemonIcon.needCount){this._selectPokemonList=[],n=n.sort(function(e,t){return e.lv>t.lv?1:-1});for(var i=0;i<this._costPokemonIcon.needCount;i++)this._selectPokemonList.push(n[i]);this.updateSelectPokemon(this._selectPokemonList)}else e.showTips(e.Lang.meiyouzugougaizhongleidebaokemeng,!0)}else e.showTips(e.Lang.meiyouzugougaizhongleidebaokemeng,!0)},n.prototype.updateSelectPokemon=function(e){this._selectPokemonList=e,this._pokemonEnough=e.length>=this._costPokemonIcon.needCount,this._costPokemonIcon.updateCount(this._selectPokemonList.length),this.updatePoint()},n.prototype.closeHandle=function(){this.artPokemon.stop(),this._UI_jt01Bone.stop(),e.removePopUp(this)},n.prototype.touchArrow=function(e){e==this.rightArrowButton?this._currentIndex++:e==this.leftArrowButton&&this._currentIndex--,this.setCurrentPokemon(this._pokemonList[this._currentIndex])},n.prototype.updatePiece=function(){if(this._costPriceIcon){var t={type:this._costPriceIcon.id,count:this._costPriceIcon.needCount},n=e.DataManager.playerModel.getItemCount(t.type);this._costPriceIcon.setItem(t.type,t.count,n),this._itemEnough=this._itemEnough&&n>=t.count,this.setCurrentPokemon(this._pokemonList[this._currentIndex])}},n.prototype.setCurrentPokemon=function(t){this._selectPokemonList=[],this._currentPokemonInfo=t;var n=e.Data.TElf[t.type];this._currentPokemonData=n;var i=0,a=0;if(0==t.slot){var o=e.DataManager.playerModel.getPlayerGridConfigById(t.id);i=o.formation,a=o.grid}var s=e.parseBattlePokemonData(t,i,a);this._currentPokemonBattleData=s,this.artPokemon.setData(t,n,s,0,!0),this._pokemonList=e.DataManager.playerModel.playerTeamPokemonList,this._currentIndex=this._pokemonList.indexOf(t),this.updateArrowDisplay(),this._costItem=[],this.costGroup.removeChildren(),this.currentStarLabel.text=""+t.star,this.currentAttribute.setData(s),this.currentBattlePowerLabel.text=e.countPokemonBattleCount(s).toString(),this.currentAttribute.setCounter(s.counter,e.Data.TAttribute[n.attribute].Kezhi);var r;r=e.Data.TElfStarUp[t.star];var u=n.starCan;if(this.goButton.visible=!1,t.star<u){this._levelEnough=t.lv>=r.levelLimit,this.shengxingsuoxu.text=""+r.levelLimit,this.shengxingsuoxu.textColor=this._levelEnough?gameConfig.TextColors.green:gameConfig.TextColors.red,this.upgradeGroup.visible=!0,this.noneLabel.visible=!1,this.nextStarGroup.visible=!0,this.nextStarGroup.touchChildren=!0,this.currentStarGroup.x=0;var l=e.parseBattlePokemonData(t,i,a,!1,!1,e.DataManager.playerModel.playerTitleList,e.DataManager.playerModel.getBadgeList(),e.DataManager.playerModel.playerAllRole,1,!0);if(this.nextStarLabel.text=""+(t.star+1),this.nextAttribute.setData(l),this.nextBattlePowerLabel.text=e.countPokemonBattleCount(l).toString(),this.nextAttribute.setCounter(l.counter,e.Data.TAttribute[n.attribute].Kezhi),this._itemEnough=!0,r.costItem){var c=e.splitStringToNumberArray(r.costItem,";");this._costItem.push({type:c[0],count:c[1]}),this._costItemIcon||(this._costItemIcon=new e.StarItem);var h=e.DataManager.playerModel.getItemCount(c[0]);this._costItemIcon.setItem(c[0],c[1],h),this.costGroup.addChild(this._costItemIcon),this._itemEnough=h>=c[1]}if(t.star>0&&e.Data.TElf[t.type]){var p=e.splitStringToNumberArray(e.Data.TElf[t.type].starUpCost),g=p[t.star-1];if(g){var h=e.DataManager.playerModel.getItemCount(g[0]);this._costPriceIcon||(this._costPriceIcon=new e.StarItem),this.goButton.visible=!0,this._costItem.push({type:g[0],count:g[1]}),this._costPriceIcon.setItem(g[0],g[1],h),this.costGroup.addChild(this._costPriceIcon),this._itemEnough=this._itemEnough&&h>=g[1]}}if(this._priceEnough=!0,r.price){var d=e.splitStringToNumberArray(r.price,";");this._costItem.push({type:d[0],count:d[1]});var h=e.DataManager.playerModel.getItemCount(d[0]);this._priceEnough=h>=d[1],this.raiseStarLabel.text=e.setNumber(d[1]),this.raiseStarLabel.textColor=h>=d[1]?gameConfig.TextColors.green:gameConfig.TextColors.red}if(this._pokemonEnough=!0,r.costElf){this._pokemonEnough=!1,this.selectPokemonButton.visible=this.autoSelectButton.visible=!0;var m=void 0;if(n.starPokemon){var f=e.splitStringToNumberArray(n.starPokemon);m=f[0]}else m=this._currentPokemonInfo.type;var _=[m,r.costElf];this._costPokemonIcon||(this._costPokemonIcon=new e.StarItem),this._costPokemonIcon.setPokemon(_[0],_[1],0),this.costGroup.addChild(this._costPokemonIcon)}else this.selectPokemonButton.visible=this.autoSelectButton.visible=!1;this.maxLabel.visible=!1}else this.upgradeGroup.visible=!1,this.noneLabel.visible=!0,this.nextStarGroup.visible=!1,this.maxLabel.visible=!0;this._canLevelUp=e.checkPokemonCanStar(t),e.Data.TElfStarUp[t.star+1]&&(this.limitTip.text=e.formatString(e.Lang.pkLevelLimitTip,e.Data.TElfStarUp[t.star+1].leverCap)),this.updatePoint()},n.prototype.updatePoint=function(){this.autoPoint.visible=this.confirmPoint.visible=!1,this._canLevelUp&&(this._pokemonEnough?this.confirmPoint.visible=!0:this.confirmPoint.visible=!1)},n.prototype.updateArrowDisplay=function(){this._currentIndex<0?this.leftArrowButton.visible=this.rightArrowButton.visible=!1:(this.leftArrowButton.visible=this._currentIndex>0,this.rightArrowButton.visible=this._currentIndex!=this._pokemonList.length-1)},n.prototype.onShow=function(){this._currentPokemonInfo||this.setCurrentPokemon(e.DataManager.playerModel.playerTeamPokemonList[0]),this.showUI_jt()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.SELECT_POKEMON_UPDATE="StarPanel_SELECT_POKEMON_UPDATE",n}(e.PanelComponent);e.StarPanel=t,__reflect(t.prototype,"game.StarPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._starImages=[],n.touchChildren=!1,n.skinName=ShopPokemonIconSkin,n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.NotificationCenter.getInstance().postNotification(e.StarSelectPokemon.TOUCH_POKEMON,n)},n),n}return __extends(n,t),n.prototype.setPokemonInfo=function(t){if(this.starGroup.removeChildren(),this.pokemonInfo=t,this.pokemonInfo){this.pokemon=t.type,this.textLabel.textColor=e.TeamBagPokemonIcon.textColor[this.pokemonData.quality],this.textLabel.text="LV."+t.lv+" "+this.pokemonData.name,this.textLabel.visible=!0,this.touchEnabled=!0;for(var n=t.star||0,i=Math.floor(n/5),a=n%5,o=0,s=0;i>s;s++){var r=this._starImages[o];r||(r=new eui.Image,this._starImages[o]=r),r.source="ui/scene/team/star1",this.starGroup.addChild(r),o++}for(var s=0;a>s;s++){var r=this._starImages[o];r||(r=new eui.Image,this._starImages[o]=r),r.source="ui/scene/team/star",r.scaleX=r.scaleY=1,this.starGroup.addChild(r),o++}}else this.pokemonGroup.visible=!1,this.textLabel.visible=!1,this.touchEnabled=!1},n.prototype.onDestroy=function(){this.removeFromParent()},n}(e.PokemonIcon);e.StarPokemonIcon=t,__reflect(t.prototype,"game.StarPokemonIcon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=StarResultSkin,e._touchEvent=[{target:e.confirmButton,callBackFunc:e.closeHandle}],e.addEventAndNotify(),e}return __extends(n,t),n.prototype.closeHandle=function(){this.removeFromParent(),this._bone.stop(),this._artPokemon.stop()},n.prototype.setReward=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return this._artPokemon||(this._artPokemon=new e.ArtPokemonWithStar,this.oneRewardGroup.addChild(this._artPokemon)),[4,this._artPokemon.setPokemonInfo(t)];case 1:return n.sent(),this._bone?[3,3]:(this._bone=new e.SkeletonBase,[4,this._bone.createBones("niudan")]);case 2:n.sent(),this.boneGroup.addChild(this._bone),n.label=3;case 3:return this._bone.play(null,0),[2]}})})},n.prototype.show=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return e.GameLayer.panelLayer.addChild(this),[2]})})},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.StarResult=t,__reflect(t.prototype,"game.StarResult")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._pokemonList=[],e._selectPokemonList=[],e.skinName=StarSelectPokemonSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.noneLabel.text=e.Lang.meiyougaizhongleidebaokemeng,this.kexuan.text=e.Lang.kexuanbaokemeng,this.yixuan.text=e.Lang.yixuanbaokemeng,this._touchEvent=[{target:this.closeButton,callBackFunc:this.confirmHandle},{target:this.confirmButton,callBackFunc:this.confirmHandle}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.touchPokemon,n.TOUCH_POKEMON)},n.prototype.touchPokemon=function(t){var n=this._selectPokemonList.indexOf(t.pokemonInfo);if(n>-1)this._selectPokemonList.splice(n,1);else{if(this._selectPokemonList.length>=this._needCount)return void e.showTips(e.Lang.ninbuyaozaitianjiabaokemengleo,!0);this._selectPokemonList.push(t.pokemonInfo)}this.updatePokemonList()},n.prototype.setPokemon=function(t,n,i,a,o){this._currentPokemonId=t,this._needCount=a,this._notifyStr=o,this.allScroller.viewport.scrollV=this.selectScroller.viewport.scrollV=0,o==e.GiftUnlockPanel.SELECT_POKEMON_UPDATE?this._allPokemon=e.DataManager.playerModel.getPokemonListByQuality(n):this._allPokemon=e.DataManager.playerModel.getPlayerStarPokemonByType(n),this._allPokemon=this._allPokemon.sort(function(e,t){return e.lv>t.lv?1:-1}),this._selectPokemonList=i,this.updatePokemonList()},n.prototype.updatePokemonList=function(){this.allGroup.removeChildren(),this.selectGroup.removeChildren();for(var t=0;t<this._allPokemon.length;t++){var n=this._allPokemon[t];if(e.checkPokemonCanUse(n)&&n.id!=this._currentPokemonId){var i=this._pokemonList[t];i||(i=new e.StarPokemonIcon,this._pokemonList[t]=i),i.setPokemonInfo(n),this._selectPokemonList.indexOf(n)>-1?this.selectGroup.addChild(i):this.allGroup.addChild(i)}}this.noneLabel.visible=0==this.allGroup.numChildren,this.totalLabel.text=e.Lang.yixuanbaokemeng+": "+this._selectPokemonList.length+"/"+this._needCount,this.totalLabel.textColor=this._selectPokemonList.length>=this._needCount?gameConfig.TextColors.green:gameConfig.TextColors.red},n.prototype.confirmHandle=function(){e.NotificationCenter.getInstance().postNotification(this._notifyStr,this._selectPokemonList),this.closeHandle()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.TOUCH_POKEMON="StarSelectPokemon_TOUCH_POKEMON",n}(e.PanelComponent);e.StarSelectPokemon=t,__reflect(t.prototype,"game.StarSelectPokemon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._quit=!1,e._battleFinish=!1,e._enterBattle=!1,e.skinName=StorySceneSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._adjust=!0,this.skipButton.icon="ui/scene/story/skip",this._touchEvent=[{target:this.skipButton,callBackFunc:this.skipHandle}],this.addEventAndNotify()},n.prototype.loadScene=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:return t=e.DataManager.playerModel.playerRole,this._playerRole=new e.BattleAvatar,[4,this._playerRole.setAvatar(t)];case 1:return i.sent(),this.playerGroup.addChild(this._playerRole.displayGroup),this._leftRole=new e.BattleAvatar,n=5001==t?5002:5001,this.leftRoleId=n,[4,this._leftRole.setAvatar(n)];case 2:return i.sent(),this.leftGroup.addChild(this._leftRole.displayGroup),this._rightRole=new e.BattleAvatar,[4,this._rightRole.setAvatar(5003)];case 3:return i.sent(),this.rightGroup.addChild(this._rightRole.displayGroup),[4,e.loadGroup("story")];case 4:return i.sent(),[2]}})})},n.prototype.run=function(){var t=this;
Auth.uploadLog("进入剧情","1"),e.SoundManager.playBgSound("music/main2"),this.textGroup.visible=this.signImage.visible=!1,this.leftGroup.x=285,this.leftGroup.y=480,this.rightGroup.x=510,this.rightGroup.y=480,this._leftRole.updateTexture(3,1),this._rightRole.updateTexture(2,1),this.playerGroup.x=0,this.playerGroup.y=670,this._playerRole.play(3),egret.Tween.get(this.playerGroup).to({x:400},1500).call(function(){t._playerRole.stop(),t._playerRole.updateTexture(3,1),t.signImage.visible=!0,t.signImage.source="ui/scene/story/tanhao",t.signImage.x=367,t.signImage.y=492}).wait(500).call(function(){t._playerRole.updateTexture(4,1),t.signImage.visible=!1}).wait(500).call(function(){t.textGroup.visible=!0,t.textLabel.text=""+e.Lang.xiluonadenghouduoshoyijueshengfuba}).wait(2e3).call(function(){t.textGroup.visible=!1,t._leftRole.play(3),t._rightRole.play(2),egret.Tween.get(t.leftGroup).to({x:375},500),egret.Tween.get(t.rightGroup).to({x:420},500).call(function(){t._leftRole.stop(),t._rightRole.stop(),t._leftRole.updateTexture(3,1),t._rightRole.updateTexture(2,1),t.startBattle()})})},n.prototype.startBattle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this._battleFinish?this.runBattle():(this._enterBattle=!0,e.showWaitPanel()),[2]})})},n.prototype.runBattle=function(){var t=e.BattleScene.getInstance();e.GameLayer.battleLayer.addChild(t),t.run(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!1,this.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),Auth.uploadLog("进入剧情","2")},n.prototype.loadBattle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=e.BattleScene.getInstance(),t.storyInfo={leftFormation:1,leftMission:5e6,rightFormation:3,rightMission:51e5,leftRole:this.leftRoleId,rightRole:5003},[4,t.initBattle(8)];case 1:return n.sent(),this._enterBattle?(e.hideWaitPanel(),this.runBattle()):this._battleFinish=!0,[2]}})})},n.prototype.endBattle=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(n){switch(n.label){case 0:return Auth.uploadLog("进入剧情","3"),e.SoundManager.playBgSound("music/main2"),this.visible=!0,e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!0,e.NotificationCenter.getInstance().removeObserver(this,e.BattleScene.QUIT_BATTLE),this.textGroup.visible=!0,this.textLabel.text=e.Lang.xiluonazhenshichangjingcaidezhandou,[4,e.delay(2e3)];case 1:return n.sent(),this._quit?[2]:(this.textGroup.visible=!1,this._leftRole.updateTexture(1,1),this._rightRole.play(1),egret.Tween.get(this.rightGroup).to({y:560},400).call(function(){t._rightRole.stop(),t._rightRole.updateTexture(1,1),t.signImage.visible=!0,t.signImage.x=395,t.signImage.y=413}).wait(800).call(function(){t.signImage.visible=!1,t.textGroup.visible=!0,t.textLabel.text=e.Lang.xiluonaxindexunlianshi}).wait(1500).call(function(){t.textGroup.visible=!1,t._playerRole.play(3),egret.Tween.get(t.playerGroup).to({x:510},400).call(function(){t._playerRole.stop(),t._playerRole.updateTexture(2,1),t._leftRole.play(1),egret.Tween.get(t.leftGroup).to({y:670},400).call(function(){t._leftRole.play(2)}).to({x:-100},3e3),t._rightRole.play(1),egret.Tween.get(t.rightGroup).to({y:670},400).call(function(){t._rightRole.play(2)}).to({x:-100},2e3).call(function(){t.signImage.source="ui/scene/story/shengluehao",t.signImage.visible=!0,t.signImage.x=476,t.signImage.y=530}).wait(1e3).call(function(){t.signImage.visible=!1,t._playerRole.play(1),egret.Tween.get(t.playerGroup).to({y:931},300).call(function(){t._playerRole.play(3)}).to({x:730},1500).call(function(){t.quitHandle()})})})}),[2])}})})},n.prototype.skipHandle=function(){var t=this,n=e.CheckPanel.getInstance();n.setData(e.Lang.ninquedingyaotiaoguojuqingma,function(e){e&&t.quitHandle()}),n.show()},n.prototype.quitHandle=function(){Auth.uploadLog("进入剧情","4"),this._quit=!0,this._playerRole.stop(),this._leftRole.stop(),this._rightRole.stop(),egret.Tween.removeTweens(this.leftGroup),egret.Tween.removeTweens(this.rightGroup),egret.Tween.removeTweens(this.playerGroup),this.removeFromParent();var t=e.RootTop.getInstance();t.top=0;var n=e.RootBottom.getInstance();n.bottom=0,e.GameLayer.mainLayer.addChild(t),e.GameLayer.mainLayer.addChild(n)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.GameComponent);e.StoryScene=t,__reflect(t.prototype,"game.StoryScene")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._step=0,e.skinName=Story2Skin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._adjust=!0,this.skipButton.icon="ui/scene/story2/tiaoguo",this.skipButton.visible=!1,egret.Tween.get(this.arrowImage,{loop:!0}).to({y:680},500).to({y:670},500),this.playerNameLabel.text=e.DataManager.playerModel.playerName,this.touchGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.skipButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.skipHandle,this)},n.prototype.skipHandle=function(){this.end()},n.prototype.runArrow=function(){egret.Tween.removeTweens(this.arrowImage),this.arrowImage.y=670,egret.Tween.get(this.arrowImage,{loop:!0}).to({y:680},500).to({y:670},500)},n.prototype.touchHandle=function(){var t=this;switch(this._step){case 0:this.arrowImage.visible=!1,Auth.uploadLog("新手剧情","2"),this.skipButton.visible=!0,this.playerGroup.x=-50,this.touchGroup.touchEnabled=!1,this.talkGroup.visible=!1,this.animGroup.visible=!0,this._playerRole.play(3),egret.Tween.get(this.playerGroup).to({x:346},2e3).call(function(){t._playerRole.stop(),t._playerRole.updateTexture(3,1),t.signImage.visible=!0,t.talkGroup.visible=!0,t.talkText.source="ui/scene/story2/2",t.touchGroup.touchEnabled=!0,t.arrowImage.visible=!0,t._step++});break;case 1:Auth.uploadLog("新手剧情","3"),this.signImage.visible=!1,this.touchGroup.touchEnabled=!1,this.playerImage.visible=this.playerNameLabel.visible=this.playerNameBg.visible=!1,this.talkBg.visible=this.talkText.visible=!1,this.talkText.source="ui/scene/story2/3",this.pokemonImage.visible=!0,this.pokemonImage.x=720,egret.Tween.get(this.pokemonImage).to({x:355},700).call(function(){t.talkBg.visible=t.talkText.visible=!0,t.pokemonNameLabel.visible=t.pokemonNameBg.visible=!0,e.SoundManager.playEffect("1382"),t.touchGroup.touchEnabled=!0,t._step++});break;case 2:Auth.uploadLog("新手剧情","4"),this.pokemonImage.visible=this.pokemonNameLabel.visible=this.pokemonNameBg.visible=!1,this.touchGroup.touchEnabled=!1,this.talkBg.visible=this.talkText.visible=!1,this.playerImage.visible=!0,this.talkText.source="ui/scene/story2/4",this.playerImage.x=-241,egret.Tween.get(this.playerImage).to({x:126},700).call(function(){t.talkBg.visible=t.talkText.visible=!0,t.playerImage.visible=t.playerNameLabel.visible=t.playerNameBg.visible=!0,t.touchGroup.touchEnabled=!0,t._step++});break;case 3:Auth.uploadLog("新手剧情","5"),this.end(),this.touchGroup.touchEnabled=!1,this._step++;break;case 4:Auth.uploadLog("新手剧情","结束"),this.end(),this.touchGroup.touchEnabled=!1,this.removeFromParent(),e.GameLayer.teachLayer.visible=!0,e.SoundManager.resumeTeach()}},n.prototype.end=function(){this._playerBone.stop(),this.touchGroup.touchEnabled=!1,egret.localStorage.setItem("finishStory","true"),egret.Tween.removeTweens(this.arrowImage),egret.Tween.removeTweens(this.pokemonImage),egret.Tween.removeTweens(this.playerImage),egret.Tween.removeTweens(this.playerGroup),this._pokemon.stop(),this._playerRole.stop(),this._d.resolve(null)},n.prototype.finish=function(){return this._d=e.defer(),this.start(),this._d.promise()},n.prototype.start=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i=this;return __generator(this,function(a){switch(a.label){case 0:return this.arrowImage.visible=!1,this.touchGroup.touchEnabled=!1,this.anYingImage.visible=!0,this.animGroup.visible=!1,this.talkGroup.visible=!1,this.anYingImage.y=1100,this._playerRole=new e.BattleAvatar,[4,this._playerRole.setAvatar(e.DataManager.playerModel.playerRole)];case 1:return a.sent(),this.playerGroup.addChild(this._playerRole.displayGroup),this._pokemon=new e.PokemonIconAnim,[4,this._pokemon.setPokemon(1382,!0)];case 2:return a.sent(),this.pokemonGroup.addChild(this._pokemon.display),this._pokemon.play(2),5001!=e.DataManager.playerModel.getPlayerInfo().gender?[3,4]:(t=this,[4,e.getBone("01_character_m")]);case 3:return t._playerBone=a.sent(),[3,6];case 4:return n=this,[4,e.getBone("01_character_f")];case 5:n._playerBone=a.sent(),a.label=6;case 6:return this.playerImage.addChild(this._playerBone),this._playerBone.play(null,0),egret.Tween.get(this.anYingImage).wait(1e3).to({y:-353},1e3).call(function(){i.arrowImage.visible=!0,i.anYingImage.visible=!1,i.touchGroup.touchEnabled=!0,i._step=0,i.talkGroup.visible=!0,i.pokemonImage.visible=i.pokemonNameLabel.visible=i.pokemonNameBg.visible=!1,i.talkText.source="ui/scene/story2/1"}),[2]}})})},n.prototype.setEndText=function(){this._step=4,this._playerBone.play(null,0),this._pokemon.play(2),this.animGroup.visible=!0,this.talkGroup.visible=!0,this.playerGroup.x=346,this.playerImage.x=126,this._playerRole.stop(),this._playerRole.updateTexture(3,1),this.signImage.visible=!1,this.pokemonImage.visible=this.pokemonNameLabel.visible=this.pokemonNameBg.visible=!1,this.playerImage.visible=this.playerNameLabel.visible=this.playerNameBg.visible=!0,this.skipButton.visible=!1,this.runArrow(),this.talkText.source="ui/scene/story2/5",this.touchGroup.touchEnabled=!0},n.prototype.onHeightChange=function(){t.prototype.onHeightChange.call(this),this.maskRect.scaleX=this.maskRect.scaleY=this._heightScale,this.animGroup.scaleY*=this._heightScale},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.GameComponent);e.Story2Scene=t,__reflect(t.prototype,"game.Story2Scene")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=StrengthTipSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify();for(var t in e.Data.TStronger)if(e.Data.TStronger.hasOwnProperty(t)){var n=new e.StrengthTipItem;n.setData(e.Data.TStronger[t]),this.itemGroup.addChild(n)}},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.StrengthTip=t,__reflect(t.prototype,"game.StrengthTip")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._goNumber=0,e.skinName=StrengthTipItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.goButton.bg="ui/common/button/blue",this.goButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.navPanel(t._goNumber),e.StrengthTip.getInstance().closeHandle()},this)},n.prototype.setData=function(e){this.descLabel.text=e.Describe;var t=Number(e.level);this.starGroup.removeChildren();for(var n=0;t>n;n++){var i=new eui.Image;i.source="ui/scene/strengthTip/UI_star01",this.starGroup.addChild(i)}this.goButton.image="ui/scene/strengthTip/"+e.picture,this._goNumber=e.jump},n}(e.GameComponent);e.StrengthTipItem=t,__reflect(t.prototype,"game.StrengthTipItem")}(game||(game={}));var game;!function(e){function t(t){var n=0;for(var i in e.Data.TBattleMetro)e.Data.TBattleMetro[i].Type==t&&n++;return n}e.getSubwayLevelCount=t;var n=function(n){function i(){var t=n.call(this)||this;return t.subwayBtnList=[],t._competitorAnim=[],t._subwayTime=60*Number(e.Constants.battleSubawayRecoverTime)*1e3,t._countLimit=Number(e.Constants.battleSubawayTimes),t._heightOffSet=-1,t._adjust=!0,t.skinName=SubwaySkin,t.init(),t}return __extends(i,n),i.prototype.init=function(){var t=this;this._adjust=!0,this.verticalCenter=this.horizontalCenter=0,this.expandButton.image="ui/scene/subway/a6",this.expandButton.imageScale=1.5,this.autoButton.image="langs/yijiansaodang",this.challengeButton.image="langs/tiaozhan",this._playerAnim=new e.SubwayAnim,this.playerGroup.addChild(this._playerAnim),this.subwayBtn1.image="ui/scene/subway/Tx_guoneixian",this.subwayBtn2.image="ui/scene/subway/Tx_guojixian",this.subwayBtn3.image="ui/scene/subway/Tx_dongjingwan",this.subwayBtn3.progressLabel.visible=!1,this.subwayBtn1.lockTips.text=e.Lang.tongwangdaoguanzhan,this.subwayBtn2.lockTips.text=e.Lang.tongwangshijiejinglingdasai,this.subwayBtn3.lockTips.text="",this.subwayBtn3.lockLabel.text="",this.subwayBtn3.lock=!0,this.subwayBtn3.noScale=!0,this.subwayBtnList=[this.subwayBtn1,this.subwayBtn2,this.subwayBtn3];for(var n in e.Data.TVip)if(e.Data.TVip[n].bsAutoBattle){this._limitVipLevel=e.Data.TVip[n].level;break}this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.challengeButton,callBackFunc:this.challengeHandle},{target:this.autoButton,callBackFunc:this.autoChallengeHandle},{target:this.expandButton,callBackFunc:this.openExpand},{target:this.addButton,callBackFunc:this.addCount},{target:this.subwayBtn1,callBackFunc:function(){t.StartSubwayBattle(1)}},{target:this.subwayBtn2,callBackFunc:function(){t.StartSubwayBattle(2)}},{target:this.subwayBtn3,callBackFunc:function(){t.StartSubwayBattle(3)}}],this.addEventAndNotify(),this.runSubWay(),this.updateLevel()},i.prototype.StartSubwayBattle=function(t){return 3==t?void e.showTips(e.Lang.zanweikaifang):void e.SubwayBattlePanel.getInstance().updateLineInfo(t).show()},i.prototype.addCount=function(){},i.prototype.openExpand=function(){var t=e.SubwayUpgrade.getInstance();t.mainPanel=this,t.show()},i.prototype.autoChallengeHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r=this;return __generator(this,function(u){switch(u.label){case 0:return this.autoLimitLabel.visible?(e.showTips(e.Lang.nindevipdengjibuzu,!0),[2]):this._realCount<=0?(e.showTips(e.Lang.nindecishubuzu,!0),[2]):[4,e.DataManager.playerModel.SweepBattleSubway()];case 1:return(t=u.sent())?(this.updateCount(),this.touchChildren=!1,this._hurtEffect?[3,3]:(this._hurtEffect=new e.SequenceImage,[4,this._hurtEffect.setData({delay:100,size:{row:1,col:4},resource:"anim/effect/4"})])):[2];case 2:u.sent(),u.label=3;case 3:this.competitorGroup.x=820,n=0,u.label=4;case 4:if(!(10>n))return[3,7];for(i=this._competitorAnim[n],i||(i=new e.SubwayAnim,this._competitorAnim[n]=i),i.alpha=1,a=Math.floor(18*Math.random())+1e4,o=0;!o;)s=Math.floor(900*Math.random())+1e3,e.Data.TElf[s]&&(o=s);return[4,i.setData(a,o,0,0,!0)];case 5:u.sent(),this.competitorGroup.addChild(i),i.play(3),i.x=10*Math.random(),i.y=-50+15*n,u.label=6;case 6:return n++,[3,4];case 7:return this.competitorGroup.alpha=1,egret.Tween.get(this.competitorGroup).to({x:540},1500).call(function(){return __awaiter(r,void 0,void 0,function(){var n,i=this;return __generator(this,function(a){switch(a.label){case 0:return[4,this._playerAnim.playAtt()];case 1:for(a.sent(),this.playHurtEffect(this._competitorAnim[4].hurtGroup),n=0;n<this._competitorAnim.length;n++)this._competitorAnim[n].playAtt();return[4,e.delay(525)];case 2:return a.sent(),this.playHurtEffect(this._playerAnim.hurtGroup),[4,this._playerAnim.playAtt()];case 3:return a.sent(),this.playHurtEffect(this._competitorAnim[4].hurtGroup),egret.Tween.get(this.competitorGroup).to({alpha:0},500).call(function(){return __awaiter(i,void 0,void 0,function(){var n,i;return __generator(this,function(a){for(n=0;n<this._competitorAnim.length;n++)this._competitorAnim[n].stop();return this.competitorGroup.removeChildren(),t.id&&(i=e.Data.TBattlesubwayRandClip[t.id],i&&e.showTips(i.clipTalk)),e.DataManager.playerModel.addMailReward(t.gets),this.updatePlayerLevel(),this.touchChildren=!0,[2]})})}),[2]}})})}),[2]}})})},i.prototype.challengeHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},i.prototype.playHurtEffect=function(e){var t=this;e.addChild(this._hurtEffect.display),this._hurtEffect.play(1,1),egret.setTimeout(function(){t._hurtEffect.display.parent&&t._hurtEffect.display.parent.removeChild(t._hurtEffect.display)},this,400)},i.prototype.onShow=function(){},i.prototype.updateCount=function(){},i.prototype.runSubWay=function(){this.subwayImage.x=720,egret.Tween.get(this.subwayImage,{loop:!0}).to({x:312},1e3).wait(1e4).to({x:-619},2e3).to({x:720},0).wait(3e4)},i.prototype.closeHandle=function(){this._playerAnim.stop();for(var t=0;t<this._competitorAnim.length;t++)this._competitorAnim[t].stop();this.competitorGroup.removeChildren(),e.removePopUp(this)},i.prototype.updateLevel=function(){for(var n=e.DataManager.playerModel.battleProgress.BattleSubway,i=0;i<n.length;i++){var a=n[i];if(0==i||1==i)this.subwayBtnList[i].progressLabel.text=a.id%1e3-1+"/"+t(i+1),null!=a&&a.pet>0?(this.subwayBtnList[i].lockLabel.text=e.Lang.yikaiqi,this.subwayBtnList[i].lockLabel.textColor=gameConfig.TextColors.green):(this.subwayBtnList[i].lockLabel.text=e.Lang.weikaiqi,this.subwayBtnList[i].lockLabel.textColor=gameConfig.TextColors.red);else if(i>=2)continue}},i.prototype.updatePlayerLevel=function(){this.playerLevelLabel.text="LV."+e.DataManager.playerModel.playerLevel;var t=e.Data.TPlayerLv[e.DataManager.playerModel.playerLevel].ex,n=e.DataManager.playerModel.playerExp;t?(this.playerExpLabel.text=e.setNumber(n)+"/"+e.setNumber(t),this.playerExpBar.maximum=t,this.playerExpBar.value=Math.min(n,t)):(this.playerExpLabel.text=e.Lang.yimanji,this.playerExpBar.maximum=1,this.playerExpBar.value=1)},i.prototype.updatePlayerDiamond=function(){this.diamondLabel.text="现有钻石:"+e.setNumber(e.DataManager.playerModel.diamond)},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.PanelComponent);e.Subway=n,__reflect(n.prototype,"game.Subway")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=SubwayAnimSkin,e.touchChildren=e.touchEnabled=!1,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._roleAnim=new e.IdleAvatarAnim,this.humanGroup.addChild(this._roleAnim.displayGroup),this._pokemonAnim=new e.IdlePokemonAnim,this.pokemonGroup.addChild(this._pokemonAnim.displayGroup)},n.prototype.setData=function(e,t,n,i,a){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(o){switch(o.label){case 0:return a?this.humanGroup.x=-10:this.humanGroup.x=-30,this._roleAnim.setDisplayPosition(50,50),this._roleAnim.setAvatar(e,0,a),this._roleAnim.setWing(n),this._roleAnim.setDecoration(i),this._roleAnim.changeDirection(3),this._roleAnim.play(3),[4,this._pokemonAnim.setPokemon(t)];case 1:return o.sent(),a?(this._roleAnim.setScale(.7),this._pokemonAnim.setScale(.8)):(this._roleAnim.setScale(1),this._pokemonAnim.setScale(1.15)),this._pokemonAnim.play(3),[2]}})})},n.prototype.stop=function(){this._roleAnim.stop(),this._pokemonAnim.stop(),egret.Tween.removeTweens(this)},n.prototype.play=function(e){this._roleAnim.changeDirection(e),this._pokemonAnim.play(e)},n.prototype.playAtt=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this._pokemonAnim.playAtk(3,null,null)];case 1:return e.sent(),[2]}})})},n}(e.GameComponent);e.SubwayAnim=t,__reflect(t.prototype,"game.SubwayAnim")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.canGo=!1,e.line=0,e.id=0,e.skinName=SubwayBattlePanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removePopUp(t)},this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){return __awaiter(t,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return 0==this.canGo?[2]:(e.showWaitPanel(),t=e.BattleScene.getInstance(),[4,t.initBattle(17,this.subwayId)]);case 1:return n.sent(),e.hideWaitPanel(),e.GameLayer.battleLayer.addChild(t),t.run(),e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!1,[2]}})})},this),this.goBtn.image="langs/qianwang",this._avatar=new e.BattleAvatar,this._avatar.setAvatar(e.DataManager.playerModel.playerRole,!0,!1,3),this._avatar.setDecoration(e.DataManager.playerModel.playerDecoration,3),this._avatar.displayGroup.$setScaleX(.56),this._avatar.displayGroup.$setScaleY(.56),this.station.addChild(this._avatar.displayGroup),this._avatar.displayGroup.y=this.station.getPointY(),this.arrowImage.visible=!1},n.prototype.updateStationInfo=function(e){return void 0===e&&(e=1),__awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.map.setPoint(e,this.arrowImage),this.arrowImage.visible=!0,this.arrowImage.x=this.arrowImage.y=0,egret.Tween.removeTweens(this.arrowImage),effectUtils.flyObj(this.arrowImage,300,10),[2]})})},n.prototype.endBattle=function(){e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!0,e.NotificationCenter.getInstance().removeObserver(this,e.BattleScene.QUIT_BATTLE),this.updateLineInfo(this.line)},n.prototype.updateLineInfo=function(t){var n=this;void 0===t&&(t=1);var i=!0;this.line!=t&&(i=!1),this.line=t,this.map.skinName="SubwayMapSkin"+t,this.station.skinName="SubwayStationSkin"+t;var a=e.DataManager.playerModel.battleProgress.BattleSubway[t-1].id;this.subwayId==a?i=!1:this.subwayId=a;var o=a%1e3;return this.goBtn.lock=!0,this.goBtn.noScale=!0,this.goBtn.touchEnabled=!1,null!=e.Data.TBattleMetro[a]?egret.Tween.get(this._avatar.displayGroup).to({x:this.station.getPointX(o)},i?1e3:0).call(function(){n.updateStationInfo(a%1e3),n.powerLabel.text=e.Lang.xuyaozhandouli+e.Data.TBattleMetro[a].CombatPower,n.canGo=!0,n.goBtn.lock=!1,n.goBtn.touchEnabled=!0,n._avatar.setAvatar(e.DataManager.playerModel.playerRole,!0,!1,3)}):(this.canGo=!1,this.goBtn.touchEnabled=!1,egret.Tween.get(this._avatar.displayGroup).to({x:this.station.getPointX(o)},i?1e3:0).call(function(){n.powerLabel.text="",n.updateStationInfo(e.getSubwayLevelCount(t)+1),n._avatar.setAvatar(e.DataManager.playerModel.playerRole,!0,!1,1)}),this.goBtn.noScale=!0,this.goBtn.touchEnabled=!1),this},n.prototype.onShow=function(){null!=this._avatar&&this._avatar.play(3)},n.prototype.onRemove=function(){this._avatar.stop()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.SubwayBattlePanel=t,__reflect(t.prototype,"game.SubwayBattlePanel")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.bg=this._bg,this.image=this._image,this.imageScale=this._imageScale},Object.defineProperty(t.prototype,"label",{set:function(e){e!=this._text&&(this._text=e,e&&this.progressLabel&&(this.progressLabel.text=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bg",{set:function(e){this._bg=e,e&&this.bgDisplay&&(this.bgDisplay.source=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"image",{set:function(e){this._image=e,e&&this.imageDisplay&&(this.imageDisplay.source=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageScale",{set:function(e){this._imageScale=e,e&&this.imageDisplay&&(this.imageDisplay.scaleY=this.imageDisplay.scaleX=e)},enumerable:!0,configurable:!0}),t}(e.EffectButton);e.SubwayButton=t,__reflect(t.prototype,"game.SubwayButton")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.init(),t}return __extends(t,e),t.prototype.init=function(){},t.prototype.getPointGroup=function(e){if(this.pointGroup){var t=this.pointGroup.getChildAt(e);return t}return null},t.prototype.setPoint=function(e,t){if(this.pointGroup){var n=this.pointGroup.getChildAt(e-1);n?n.addChild(t):console.log("不存在此索引对象! index = "+e)}},t}(e.GameComponent);e.SubwayMap=t,__reflect(t.prototype,"game.SubwayMap")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.init(),t}return __extends(t,e),t.prototype.init=function(){},t.prototype.getPointGroup=function(e){if(this.pointGroup){var t=this.pointGroup.getChildAt(e);return t}return null},t.prototype.setPoint=function(e,t){if(this.pointGroup){var n=this.pointGroup.getChildAt(e-1);n?(n.addChild(t),t.x=t.y=0):console.log("不存在此索引对象! index = "+e)}},t.prototype.getPointY=function(){if(this.pointGroup){var e=this.pointGroup.getChildAt(0);return e?e.y:63}return 63},t.prototype.getPointX=function(e){if(this.pointGroup){var t=this.pointGroup.getChildAt(e-1);if(t)return t.x}},t}(e.GameComponent);e.SubwayStation=t,__reflect(t.prototype,"game.SubwayStation")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=SubwayUpgradeSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.expandButton,callBackFunc:this.expandHandle}],this.addEventAndNotify()},n.prototype.expandHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._canUpgrade?this._itemEnough?this._countEnough?[4,e.DataManager.playerModel.UpgradeSubway()]:(e.showTips(e.Lang.nindeshiyongcishubuzu,!0),[2]):(e.showTips(e.Lang.nindejinbibuzu,!0),[2]):(this.closeHandle(),[2]);case 1:return t.sent(),this.mainPanel&&this.mainPanel.updateLevel(),this.onShow(),[2]}})})},n.prototype.onShow=function(){},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.SubwayUpgrade=t,__reflect(t.prototype,"game.SubwayUpgrade")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._animList=[],e.skinName=WorldMapSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.ribenTouch.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){return __awaiter(t,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.DataManager.playerModel.battleProgress.BattleSubway[0].pet>0?[4,e.DataManager.playerModel.updateGymInfo()]:[3,2];case 1:return t=n.sent(),t&&(e.GymPanel.getInstance().show(),e.removePopUp(this)),[3,3];case 2:e.showTips(e.Lang.tongguoguoneixianjiesuo),n.label=3;case 3:return[2]}})})},this),this.shijieTouch.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return e.DataManager.playerModel.battleProgress.BattleSubway[1].pet>0?[4,e.DataManager.playerModel.updatePvpRankInfo()]:[3,2];case 1:return t.sent(),e.PvpRankPanel.getInstance().show(),e.removePopUp(this),[3,3];case 2:e.showTips(e.Lang.tongguoguojixianjiesuo),t.label=3;case 3:return[2]}})})},this),this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){for(var n=0;n<t._animList.length;n++)t._animList[n].stop();e.removePopUp(t)},this),this.initAnim(),this.showRankTopPlayer()},n.prototype.SetInfo=function(e){1==e?(this.ribenMap.visible=!0,this.shijieMap.visible=!1):2==e&&(this.ribenMap.visible=!1,this.shijieMap.visible=!0);for(var t=0;t<this._animList.length;t++)this._animList[t].play(1);return this},n.prototype.showRankTopPlayer=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o;return __generator(this,function(s){switch(s.label){case 0:return[4,e.DataManager.playerModel.getRankList(0)];case 1:if(t=s.sent(),t&&t.ranks.length>0)for(n=6,n=t.ranks.length<n?t.ranks.length:6,i=function(n){var i=t.ranks[n].info.gender,o=new e.IdleAvatarAnim;o.setAvatar(i,0),o.setTimeScale(1.5),o.setWing(t.ranks[n].info.wing),o.changeDirection(1),o.setDisplayPosition(50,50),o.displayGroup.scaleX=o.displayGroup.scaleY=.5;var s=t.ranks[n].info.name,r=a.choiceGroup(n,s);r.addChildAt(o.displayGroup,0),r.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.DataManager.playerModel.showPlayerDetail(t.ranks[n].info.id)},a)},a=this,o=0;n>o;o++)i(o);return[2]}})})},n.prototype.choiceGroup=function(e,t){switch(e){case 0:return this.nameLabel0.text=t,this.avaterGroup0.visible=!0,this.avaterGroup0;case 1:return this.nameLabel1.text=t,this.avaterGroup1.visible=!0,this.avaterGroup1;case 2:return this.nameLabel2.text=t,this.avaterGroup2.visible=!0,this.avaterGroup2;case 3:return this.nameLabel3.text=t,this.avaterGroup3.visible=!0,this.avaterGroup3;case 4:return this.nameLabel4.text=t,this.avaterGroup4.visible=!0,this.avaterGroup4;case 5:return this.nameLabel5.text=t,this.avaterGroup5.visible=!0,this.avaterGroup5}},n.prototype.initAnim=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return console.log("initAnim"),this._boat2=new e.SequenceImage,this._animList.push(this._boat2),this._boat1=new e.SequenceImage,this._animList.push(this._boat1),this._boat3=new e.SequenceImage,this._animList.push(this._boat3),this._snow1=new e.SequenceImage,this._animList.push(this._snow1),this._snow2=new e.SequenceImage,this._animList.push(this._snow2),this._flash1=new e.SequenceImage,this._animList.push(this._flash1),this._flash2=new e.SequenceImage,this._animList.push(this._flash2),this._whirlpool=new e.SequenceImage,this._animList.push(this._whirlpool),[4,this._boat2.setData({delay:200,size:{row:1,col:4},resource:"anim/WorldMap/02"})];case 1:return t.sent(),this.boatGroup02.addChild(this._boat2.display),[4,this._boat1.setData({delay:200,size:{row:1,col:4},resource:"anim/WorldMap/01"})];case 2:return t.sent(),this.boatGroup01.addChild(this._boat1.display),[4,this._boat3.setData({delay:200,size:{row:1,col:4},resource:"anim/WorldMap/03"})];case 3:return t.sent(),this.boatGroup03.addChild(this._boat3.display),[4,this._snow1.setData({delay:200,size:{row:1,col:4},resource:"anim/WorldMap/05"})];case 4:return t.sent(),this.snowGroup01.addChild(this._snow1.display),[4,this._snow2.setData({delay:200,size:{row:1,col:4},resource:"anim/WorldMap/06"})];case 5:return t.sent(),this.snowGroup02.addChild(this._snow2.display),[4,this._flash1.setData({delay:200,size:{row:1,col:4},resource:"anim/WorldMap/04"})];case 6:return t.sent(),this.flashGroup01.addChild(this._flash1.display),[4,this._flash2.setData({delay:200,size:{row:1,col:4},resource:"anim/WorldMap/04"})];case 7:return t.sent(),this.flashGroup02.addChild(this._flash2.display),[4,this._whirlpool.setData({delay:200,size:{row:1,col:4},resource:"anim/WorldMap/04"})];case 8:return t.sent(),this.whirlpoolGroup.addChild(this._whirlpool.display),[2]}})})},n.prototype.onCreate=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.WorldMap=t,__reflect(t.prototype,"game.WorldMap")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._attributeItem=[],n._baseRecoverItem=[],n._starRecoverItem={},n._levelExp={},n._discount=Number(e.Constants.ArtifactRecoverPer),n._recoveryItemData=e.Data.TItem[e.Constants.ArtifactItemId],n._abilityItem=[],n.skinName=SuperEquipSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){for(var t=e.splitStringToNumberArray(e.Constants.ArtifactRecoverItems),n=0;n<t.length;n++){var i={type:t[n][0],count:t[n][1]};this._baseRecoverItem.push(i)}var a=[];for(var n in e.Data.TEArtifactStarLv){for(var o=e.Data.TEArtifactStarLv[n],s=[],r=0;r<a.length;r++){var i=a[r];s.push({type:i[0],count:i[1]})}this._starRecoverItem[o.starLv]=s;for(var u=e.splitStringToNumberArray(o.upItems),l=0;l<u.length;l++){for(var c=u[l],h=!1,p=0;p<a.length;p++)if(a[p][0]==c[0]){a[p][1]+=c[1],h=!0;break}h||a.push(c)}}var g=0;for(var n in e.Data.TEArtifactUpLv){var o=e.Data.TEArtifactUpLv[n];
this._levelExp[o.id]=g,o.upItems&&(g+=o.upItems)}this.cancelEquipButton.image="langs/Tx_xiexia",this.changeButton.image="langs/Tx_genhuan",this.qianghuaButton.image="langs/Tx_shenqiqh",this.qianghuaButton.bg="ui/common/button/blue",this.recycleButton.image="langs/TX_huishou",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.cancelEquipButton,callBackFunc:this.cancelHandle},{target:this.changeButton,callBackFunc:this.changeHandle},{target:this.qianghuaButton,callBackFunc:this.strengthHandle},{target:this.recycleButton,callBackFunc:this.recycleHandle}],this.addEventAndNotify();for(var n in e.Data.TEArtifactStarLv){var o=e.Data.TEArtifactStarLv[n];if(o.etrEffect){var i=new e.SuperEquipStarAbility;i.setData(o),this.starAbilityGroup.addChild(i),this._abilityItem.push(i)}}},n.prototype.recycleHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,n,s,r,u,l,c,n,h,p,g,d=this;return __generator(this,function(m){for(t=[],n=0;n<this._baseRecoverItem.length;n++)i={type:this._baseRecoverItem[n].type,count:this._baseRecoverItem[n].count},t.push(i);for(a=this.equipInfo.star,o=this._starRecoverItem[a],n=0;n<o.length;n++){for(s=o[n],r=s.count*this._discount|0,u=!1,l=0;l<t.length;l++)if(t[l].type==s.type){t[l].count+=r,u=!0;break}u||t.push({type:s.type,count:r})}for(c="",n=0;n<t.length;n++)h=e.Data.TItem[t[n].type],c+=h.name+"x"+e.setNumber(t[n].count)+" ";return p=(this._levelExp[this.equipInfo.level]+this.equipInfo.exp)*this._discount/this._recoveryItemData.number1|0,c+=this._recoveryItemData.name+"x"+e.setNumber(p),g=e.CheckPanel.getInstance(),g.setData(e.formatString(e.Lang.ninquedingyaohuishoudangqianjiajuma,c,100*this._discount),function(t){return __awaiter(d,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return t?[4,e.DataManager.playerModel.recycleArtifact(this.pokemonInfo,this.equipInfo)]:[3,2];case 1:n=i.sent(),n&&this.closeHandle(),i.label=2;case 2:return[2]}})})}),g.show(),[2]})})},n.prototype.strengthHandle=function(){var t=e.SuperEquipStrength.getInstance();t.setInfo(this.pokemonInfo,this.equipInfo),t.show(),t.touchTypeButton(t.levelButton),this.closeHandle()},n.prototype.cancelHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,e.DataManager.playerModel.cancelEquipArtifact(this.pokemonInfo,this.equipInfo)];case 1:return t=n.sent(),t&&this.closeHandle(),[2]}})})},n.prototype.changeHandle=function(){var t=e.SuperEquipChange.getInstance();t.setPokemon(this.pokemonInfo,this.equipInfo),t.show(),this.closeHandle()},n.prototype.setInfo=function(t,n){this.pokemonInfo=t,this.equipInfo=n,this.equipDeatil.setInfo(n);for(var i=e.Data.TEArtifact[n.type],a=e.Data.TEArtifactAbility[n.ability],o=a.textE,s=e.splitStringToNumberArray(a.anum1,";"),r=0;r<s.length;r++)o=o.replace("{"+r+"}",s[r]);this.detailLabel.text=i.text+"\r"+o;var u=0;this.starGroup.removeChildren();var l=e.Data.TEArtifactStarLv[n.star],c=e.Data.TEffect[l.effectId],h=new e.EquipAttribute;e.parseEquipAttribute(h,c);var p=[];for(var r in h)if(h[r]>0){var g=this._attributeItem[u];g||(g=new e.HomeAttributeItem,this._attributeItem[u]=g),u++,this.starGroup.addChild(g),p.push(g.detailLabel)}e.setFurnitureAttribute(h,p,""),this.levelGroup.removeChildren();var d=e.Data.TEArtifactUpLv[n.level],m=e.Data.TEffect[d.effectId],f=new e.EquipAttribute;e.parseEquipAttribute(f,m);var _=[];for(var r in f)if(f[r]>0){var g=this._attributeItem[u];g||(g=new e.HomeAttributeItem,this._attributeItem[u]=g),u++,this.levelGroup.addChild(g),_.push(g.detailLabel)}e.setFurnitureAttribute(f,_,""),this.extGroup.removeChildren();for(var r=0;r<n.exts.length;r++){var y=e.Data.TEffect[n.exts[r]];if(y){var v=new e.EquipAttribute;e.parseEquipAttribute(v,y);var b=[];for(var w in v)if(v[w]>0){var g=this._attributeItem[u];g||(g=new e.HomeAttributeItem,this._attributeItem[u]=g),u++,this.extGroup.addChild(g),b.push(g.detailLabel)}e.setFurnitureAttribute(v,b,"")}}this.updateStarAbility(n.star),this.updatePoint()},n.prototype.updateStarAbility=function(e){for(var t=0;t<this._abilityItem.length;t++){var n=this._abilityItem[t];n.updateStar(e)}},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.updatePoint=function(){},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.SuperEquip=t,__reflect(t.prototype,"game.SuperEquip")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._equipIcon=[],e.skinName=SuperEquipChangeSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.getButton.image="langs/Tx_qudazao",this.getButton.bg="ui/common/button/blue",this.equipButton.image="langs/Tx_zhuangbei",this.equipButton.bg="ui/common/button/green",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.getButton,callBackFunc:this.getHandle},{target:this.equipButton,callBackFunc:this.equipHandle}],this.addEventAndNotify(),this.allEquipGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchEquip,this)},n.prototype.touchEquip=function(e){var t=e.target;t.equipInfo&&this.selectEquip(t)},n.prototype.selectEquip=function(e){this.selectEquipIcon&&(this.selectEquipIcon.select=!1),this.selectEquipIcon=e,this.selectEquipIcon.select=!0,this.detailGroup.visible=!0,this.equipDeatil.setInfo(this.selectEquipIcon.equipInfo),this.detailLabel.text=this.selectEquipIcon.equipData.text+"\r"+this.selectEquipIcon.abilityText},n.prototype.getHandle=function(){var t=e.HomeMake.getInstance();t.show(),t.typeRadioGroup.touchButton(t.equipButton),this.closeHandle()},n.prototype.equipHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:return this.selectEquipIcon?[4,e.DataManager.playerModel.equipArtifact(this.pokemonInfo,this.selectEquipIcon.equipInfo,this.oldEquipInfo)]:[3,2];case 1:return t=i.sent(),t&&(this.closeHandle(),n=e.SuperEquip.getInstance(),n.setInfo(this.pokemonInfo,this.selectEquipIcon.equipInfo),n.show()),[3,3];case 2:e.showTips(e.Lang.weixuanzezhuangbei,!0),i.label=3;case 3:return[2]}})})},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.setPokemon=function(t,n){this.oldEquipInfo=n,this.selectEquipIcon&&(this.selectEquipIcon.select=!1,this.selectEquipIcon=null),this.pokemonInfo=t;var i=t.type,a=e.Data.TElf[i],o=a.attribute,s=e.DataManager.playerModel.teamConfig.artifacts;this.detailLabel.text="",this.equipDeatil.reset(),this.allEquipGroup.removeChildren();for(var r=0,u=0;u<s.length;u++){var l=s[u];if(!l.equip){var c=e.Data.TEArtifact[l.type];if(c.attributeId){var h=e.splitStringToNumberArray(c.attributeId,";");if(-1==h.indexOf(o))continue}if(c.elfId){var p=e.splitStringToNumberArray(c.elfId,";");if(-1==p.indexOf(i))continue}var g=this._equipIcon[r];g||(g=new e.SuperEquipIcon,this._equipIcon[r]=g),g.setInfo(l),this.allEquipGroup.addChild(g),r++}}this.noneLabel.visible=0==this.allEquipGroup.numChildren},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.SuperEquipChange=t,__reflect(t.prototype,"game.SuperEquipChange")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=SuperEquipDetailSkin,e.touchChildren=!1,e.init(),e}return __extends(n,t),n.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=this,[4,e.getBone("shenqibg")];case 1:return t._effectBone=n.sent(),this.boneGroup.addChild(this._effectBone),this._effectBone.play(null,0),this.nameLabel.text="",this.levelLabel.text="",this.starLabel.text="",[2]}})})},n.prototype.reset=function(){this.nameLabel.text="",this.levelLabel.text="",this.starLabel.text="",this.itemDisplay.source=""},n.prototype.setInfo=function(t){this.equipInfo=t;var n=e.Data.TEArtifact[t.type];this.equipData=n,this.nameLabel.text=n.itemName,this.levelLabel.text=e.Lang.qianghuadengji+(": "+t.level),this.starLabel.text=e.Lang.xingji+(": "+(t.star||0)),this.superIcon.setInfo(t),this.superIcon.isOnlyIcon(!1),egret.Tween.removeTweens(this.itemDisplay),this.itemDisplay.y=-14,effectUtils.flyObj(this.itemDisplay,1e3,15)},n}(e.GameComponent);e.SuperEquipDetail=t,__reflect(t.prototype,"game.SuperEquipDetail")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=SuperEquipExtItemSkin,t.selectImage.visible=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"select",{set:function(e){this.selectImage.visible=e},enumerable:!0,configurable:!0}),t}(e.GameComponent);e.SuperEquipExtItem=t,__reflect(t.prototype,"game.SuperEquipExtItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._starImages=[],e.skinName=SuperEquipIconSkin,e.touchChildren=!1,e}return __extends(n,t),n.prototype.setInfo=function(t){this.equipInfo=t;var n=e.Data.TEArtifact[t.type];this.equipData=n,this.nameLabel.text=n.itemName;var i=e.Data.TEArtifactAbility[t.ability];this.gradeDisplay.source="icon/item/q"+(i.color-1),this.itemDisplay.source="icon/item/"+n.icon,this.levelLabel.text="+"+t.level,this.starGroup.removeChildren();for(var a=t.star||0,o=Math.floor(a/5),s=a%5,r=0,u=0;o>u;u++){var l=this._starImages[r];l||(l=new eui.Image,this._starImages[r]=l),l.source="ui/scene/team/star1",this.starGroup.addChild(l),r++}for(var u=0;s>u;u++){var l=this._starImages[r];l||(l=new eui.Image,this._starImages[r]=l),l.source="ui/scene/team/star",l.scaleX=l.scaleY=1,this.starGroup.addChild(l),r++}for(var c=i.textE,h=e.splitStringToNumberArray(i.anum1,";"),u=0;u<h.length;u++)c=c.replace("{"+u+"}",h[u]);this.abilityText=c},n.prototype.isOnlyIcon=function(e){this.starGroup.visible=e,this.levelLabel.visible=e,this.nameLabel.visible=e},Object.defineProperty(n.prototype,"select",{set:function(e){this.selectImage.visible=e},enumerable:!0,configurable:!0}),n}(e.GameComponent);e.SuperEquipIcon=t,__reflect(t.prototype,"game.SuperEquipIcon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=SuperEquipStarAbilitySkin,e.touchChildren=!1,e}return __extends(n,t),n.prototype.setData=function(e){this.starData=e,this.detailLabel.text=e.starLv+"星能力: "+e.textE,this.unlockLabel.text=e.starLv+"星解锁"},n.prototype.updateStar=function(t){t>=this.starData.starLv?(this.unlockLabel.text=e.Lang.yijiesuo,this.detailLabel.textColor=this.unlockLabel.textColor=gameConfig.TextColors.green):(this.unlockLabel.text=this.starData.starLv+"星解锁",this.detailLabel.textColor=this.unlockLabel.textColor=gameConfig.TextColors.white)},n}(e.GameComponent);e.SuperEquipStarAbility=t,__reflect(t.prototype,"game.SuperEquipStarAbility")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._attributeItem=[],e._originalAttributeItem=[],e._costIcon=[],e._levelItems=[],e.SuperEquipExtItemArray=[],e.SuperEquipExtItemArray1=[],e._abilityItem=[],e.skinName=SuperEquipStrengthSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.levelButton.image="langs/Tx_bq_qianghua",this.starButton.image="langs/Tx_bq_shenxin",this.extButton.image="langs/Tx_bq_fujia",this.levelButton.noScale=!0,this.starButton.noScale=!0,this.extButton.noScale=!0,this.levelUpButton.image="langs/Tx_bq_qianghua",this.levelUpTenButton.image="langs/Tx_qianghuasc",this.starUpButton.image="langs/Tx_bq_shenxin",this.extItemButton.image="langs/Tx_fujia",this.extDiamondButton.image="langs/Tx_zuanshifj",this.extDiamondButton.bg="ui/common/button/orange";var t=0;for(var n in e.Data.TEArtifactEtrType){var i=e.Data.TEArtifactEtrType[n],a=this.SuperEquipExtItemArray[t];a||(a=new e.SuperEquipExtItem,this.SuperEquipExtItemArray[t]=a),a.detailLabel.text=i.textE,this.possibleGroup.addChild(a),t++}t=0;for(var n in e.Data.TEArtifactEtrType){var i=e.Data.TEArtifactEtrType[n],a=this.SuperEquipExtItemArray1[t];a||(a=new e.SuperEquipExtItem,this.SuperEquipExtItemArray1[t]=a),a.detailLabel.text=i.textE,this.possibleGroup1.addChild(a),t++}this._touchEvent=[{target:this.levelButton,callBackFunc:this.touchTypeButton},{target:this.starButton,callBackFunc:this.touchTypeButton},{target:this.extButton,callBackFunc:this.touchTypeButton},{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.extItemTouchGroup,callBackFunc:this.extItemDetail},{target:this.levelUpButton,callBackFunc:this.levelUpEquip},{target:this.levelUpTenButton,callBackFunc:this.levelUpEquip},{target:this.starUpButton,callBackFunc:this.starEquip},{target:this.extItemButton,callBackFunc:this.extEquip},{target:this.extDiamondButton,callBackFunc:this.extEquip}],this.addEventAndNotify(),this.starCostGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchItem,this),this.levelCostGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchItem,this);var o=e.splitStringToNumberArray(e.Constants.ArtifactEtrItem,";");this._extCostItem={type:o[0],count:o[1]},this.itemCostIcon.source="icon/item/"+this._extCostItem.type,this.itemCostLabel.text=e.setNumber(this._extCostItem.count),this._extCostDiamond={type:2,count:Number(e.Constants.ArtifactEtrPrice)},this.diamondCostLabel.text=e.setNumber(this._extCostDiamond.count);for(var n in e.Data.TEArtifactStarLv){var i=e.Data.TEArtifactStarLv[n];if(i.etrEffect){var a=new e.SuperEquipStarAbility;a.setData(i),this.starAbilityGroup.addChild(a),this._abilityItem.push(a)}}},n.prototype.updateStarAbility=function(e){for(var t=0;t<this._abilityItem.length;t++){var n=this._abilityItem[t];n.updateStar(e)}},n.prototype.extEquip=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return t==this.extItemButton?(n=!0,i=this._extItemEnough,a=this._extCostItem):(n=!1,i=this._extDiamondEnough,a=this._extCostDiamond),i?[4,e.DataManager.playerModel.resetArtifact(this.pokemonInfo,this.equipInfo,n,a)]:(e.showTips(e.Lang.nindedaojubuzu,!0),[2]);case 1:return o.sent(),this.updateExt(),[2]}})})},n.prototype.starEquip=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._starItemEnough?[4,e.DataManager.playerModel.upgradeArtifactStar(this.pokemonInfo,this.equipInfo)]:(e.showTips(e.Lang.nindedaojubuzu,!0),[2]);case 1:return t.sent(),this.updateStar(),this.updatePoint(),[2]}})})},n.prototype.levelUpEquip=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s,r,o,u,l,c,h,p;return __generator(this,function(g){switch(g.label){case 0:if(!this._levelItemEnough)return e.showTips(e.Lang.nindedaojubuzu,!0),[2];for(n=this.equipInfo,i=t==this.levelUpButton?1:10,a=0,o=0;i>o;o++)s=e.Data.TEArtifactUpLv[n.level+o],s&&s.upItems&&(a+=s.upItems);if(r=[],!(a>0))return[3,2];for(o=0;o<this._levelItems.length;o++){for(u=this._levelItems[o],l=e.Data.TItem[u.type],c=l.number1,h={type:u.type,count:0},p=0;p<u.count&&!(0>=a);p++)a-=c,h.count++;h.count>0&&r.push(h)}return[4,e.DataManager.playerModel.upgradeArtifactLv(this.pokemonInfo,this.equipInfo,r)];case 1:return g.sent(),this.updateLevel(),this.updatePoint(),[3,3];case 2:e.showTips(e.Lang.nindeshenqiyimanji,!0),g.label=3;case 3:return[2]}})})},n.prototype.extItemDetail=function(){var t=e.ItemInfoPanel.getInstance();t.setData(e.Data.TItem[this._extCostItem.type]),t.show()},n.prototype.touchItem=function(e){var t=e.target;t.showDetail&&t.showDetail()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.touchTypeButton=function(e){switch(this.levelButton.bg=e==this.levelButton?"ui/scene/team/btnbq01_u":"ui/scene/team/btnbq01_d",this.starButton.bg=e==this.starButton?"ui/scene/team/btnbq01_u":"ui/scene/team/btnbq01_d",this.extButton.bg=e==this.extButton?"ui/scene/team/btnbq01_u":"ui/scene/team/btnbq01_d",this.levelGroup.visible=e==this.levelButton,this.starGroup.visible=e==this.starButton,this.extGroup.visible=e==this.extButton,this.equipBaseGroup.visible=e==this.levelButton||e==this.starButton,e){case this.levelButton:this.updateLevel();break;case this.starButton:this.updateStar();break;case this.extButton:this.updateExt()}},n.prototype.updateLevel=function(){var t=this;this.currentAttributeGroup.removeChildren();var n=0,i=function(i,a){var o=e.Data.TEArtifactUpLv[i.level],s=e.Data.TEffect[o.effectId],r=new e.EquipAttribute;e.parseEquipAttribute(r,s);var u=[];for(var l in r)if(r[l]>0){var c=t._attributeItem[n];c||(c=new e.HomeAttributeItem,t._attributeItem[n]=c),n++,a.addChild(c),u.push(c.detailLabel)}e.setFurnitureAttribute(r,u,"")},a=this.equipInfo;i(a,this.currentAttributeGroup),this.currentEquipIcon.setInfo(a);var o=e.Data.TEArtifactUpLv[a.level];if(o.upItems){this.nextEquipGroup.visible=!0,this.currentAttributeGroup.horizontalCenter=this.currentEquipIcon.horizontalCenter=-160,this.levelProgressBar.maximum=o.upItems;var s=e.copyObject(this.equipInfo);s.level++,i(s,this.nextAttributeGroup),this.nextEquipIcon.setInfo(s)}else this.nextEquipGroup.visible=!1,this.currentAttributeGroup.horizontalCenter=this.currentEquipIcon.horizontalCenter=0,this.levelProgressBar.maximum=a.exp;this.levelProgressBar.value=a.exp,this.levelCostGroup.removeChildren(),this._levelItems=[],this._levelItemEnough=!1;for(var r=e.splitStringToNumberArray(e.Constants.ArtifactUpItem,";"),u=0;u<r.length;u++){var l=this._costIcon[u];l||(l=new e.ItemIcon,this._costIcon[u]=l);var c=r[u],h=e.DataManager.playerModel.getItemCount(c);h>0&&(this._levelItemEnough=!0);var p={type:c,count:h};l.item=p,l.countLabel.textColor=gameConfig.TextColors.green,this.levelCostGroup.addChild(l),this._levelItems.push(p)}},n.prototype.updateStar=function(){var t=this;this.currentAttributeGroup.removeChildren();var n=0,i=function(i,a){var o=e.Data.TEArtifactStarLv[i.star],s=e.Data.TEffect[o.effectId],r=new e.EquipAttribute;e.parseEquipAttribute(r,s);var u=[];for(var l in r)if(r[l]>0){var c=t._attributeItem[n];c||(c=new e.HomeAttributeItem,t._attributeItem[n]=c),n++,a.addChild(c),u.push(c.detailLabel)}e.setFurnitureAttribute(r,u,"")},a=this.equipInfo;i(a,this.currentAttributeGroup),this.currentEquipIcon.setInfo(a);var o=e.Data.TEArtifactStarLv[a.star];if(o.upItems){this.nextEquipGroup.visible=!0,this.currentAttributeGroup.horizontalCenter=this.currentEquipIcon.horizontalCenter=-160;var s=e.copyObject(this.equipInfo);s.star++,i(s,this.nextAttributeGroup),this.nextEquipIcon.setInfo(s)}else this.nextEquipGroup.visible=!1,this.currentAttributeGroup.horizontalCenter=this.currentEquipIcon.horizontalCenter=0;var r;for(var u in e.Data.TEArtifactStarLv){var l=e.Data.TEArtifactStarLv[u];if(l.starLv>o.starLv&&l.etrEffect){r=l;break}}r?(this.starGroup.visible=!0,this.nextStarAbility.setData(r)):this.starGroup.visible=!1,this.starCostGroup.removeChildren(),this._starItemEnough=!0;for(var c=e.splitStringToNumberArray(o.upItems),u=0;u<c.length;u++){var h=c[u],p=this._costIcon[u];p||(p=new e.ItemIcon,this._costIcon[u]=p),p.item={type:h[0],count:h[1]};var g=e.DataManager.playerModel.getItemCount(h[0]);g<h[1]?(this._starItemEnough=!1,p.countLabel.textColor=gameConfig.TextColors.red):p.countLabel.textColor=gameConfig.TextColors.green,p.countLabel.text=g+"/"+h[1],this.starCostGroup.addChild(p),this.updateStarAbility(a.star)}},n.prototype.updateExtAttribule=function(t,n){if(null!=this.equipInfo.exts[n]){var i=e.Data.TEffect[this.equipInfo.exts[n]];if(i){var a=new e.SuperEquipAttribute;e.parseSuperEquipAttribute(a,i);var o="0",s=0;for(var r in a)if(a[r]>0){o=r,s=e.StripNumber(100*a[r]);break}var u=0;for(var l in e.Data.TEArtifactEtrType){var c=e.Data.TEArtifactEtrType[l];c.attribute==o?(t[u].select=!0,t[u].detailLabel.text=c.textE+s+"%"):(t[u].select=!1,t[u].detailLabel.text=c.textE),u++}}}},n.prototype.updateExt=function(){if(this.equipInfo.exts.length<2)for(var t=0;t<this.SuperEquipExtItemArray1.length;t++)this.SuperEquipExtItemArray1[t].select=t==this.SuperEquipExtItemArray1.length-1;if(this.equipInfo.exts.length<1)for(var n=0;n<this.SuperEquipExtItemArray.length;n++)this.SuperEquipExtItemArray[n].select=n==this.SuperEquipExtItemArray.length-1;this.updateExtAttribule(this.SuperEquipExtItemArray,0),this.updateExtAttribule(this.SuperEquipExtItemArray1,1);var i=e.DataManager.playerModel.getItemCount(this._extCostItem.type);this._extItemEnough=i>=this._extCostItem.count,this.itemCostLabel.text=e.setNumber(i)+"/"+this._extCostItem.count,this.itemCostLabel.textColor=this._extItemEnough?gameConfig.TextColors.green:gameConfig.TextColors.red;var a=e.DataManager.playerModel.diamond;this._extDiamondEnough=a>=this._extCostDiamond.count,this.diamondCostLabel.text=e.setNumber(a)+"/"+this._extCostDiamond.count,this.diamondCostLabel.textColor=this._extDiamondEnough?gameConfig.TextColors.green:gameConfig.TextColors.red},n.prototype.setInfo=function(e,t){this.pokemonInfo=e,this.equipInfo=t,this.updatePoint()},n.prototype.updatePoint=function(){var t=e.Data.TEArtifactStarLv[this.equipInfo.star];if(t.upItems){for(var n=!0,i=e.splitStringToNumberArray(t.upItems),a=0;a<i.length;a++){var o=i[a],s=e.DataManager.playerModel.getItemCount(o[0]);if(s<o[1]){n=!1;break}}this.starPoint.visible=n}else this.starPoint.visible=!1;var r=e.Data.TEArtifactUpLv[this.equipInfo.level];if(r.upItems){for(var u=[],l=e.splitStringToNumberArray(e.Constants.ArtifactUpItem,";"),a=0;a<l.length;a++){var c=l[a],s=e.DataManager.playerModel.getItemCount(c);s>0&&u.push({type:c,count:s})}for(var h=r.upItems,a=0;a<u.length;a++)for(var p=u[a],g=e.Data.TItem[p.type],d=g.number1,m=0;m<p.count&&!(0>=h);m++)h-=d;this.levelPoint.visible=0>=h}else this.levelPoint.visible=!1},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.SuperEquipStrength=t,__reflect(t.prototype,"game.SuperEquipStrength")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=SuperGashponItemSkin,e.touchChildren=!1,e.init(),e}return __extends(n,t),Object.defineProperty(n.prototype,"idx",{get:function(){return this._idx},set:function(e){this._idx=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pokemon",{get:function(){return this._pokemonID},set:function(e){this._pokemonID=e},enumerable:!0,configurable:!0}),n.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._pokemon=new e.PokemonIconArtAnim,this._pokemon.setDisplayPosition(72,87),this.pokemonGroup.addChildAt(this._pokemon.display,0),t=this,[4,e.getBone("jinlingqiudakai")];case 1:return t._bone=n.sent(),this._bone.bottom=0,this._bone.horizontalCenter=0,this.boneGroup.addChild(this._bone),this.initFloat(),[2]}})})},n.prototype.initFloat=function(){var e=this,t=0,n=function(){var i=5+10*t,a=400+400*t,o=function(){egret.Tween.get(e.boneGroup).to({y:e.boneGroup.y-i},a).call(n,e)};egret.setTimeout(function(){egret.Tween.get(e.boneGroup).to({y:e.boneGroup.y+i},a).call(o,e)},e,100*t),t=Math.random()};n(),egret.Tween.pauseTweens(this.boneGroup)},n.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.pokemonGroup.visible=!1,this._pokemon?this.pokemon&&e.Data.TElf[this.pokemon]?[4,this._pokemon.setPokemon(this.pokemon)]:[3,4]:[3,7];case 1:return t.sent(),this.nameLabel.text=e.Data.TElf[this.pokemon].name,this._bone?[4,this._bone.play("end",1)]:[3,3];case 2:t.sent(),t.label=3;case 3:return this._pokemon.play(1),this.pokemonGroup.visible=!0,egret.Tween.pauseTweens(this.boneGroup),this.boneGroup.y=80,[3,7];case 4:return egret.Tween.resumeTweens(this.boneGroup),this._bone?[4,this._bone.play("begin",1)]:[3,6];case 5:t.sent(),t.label=6;case 6:this._pokemon&&this._pokemon.stop(),t.label=7;case 7:return[2]}})})},n.prototype.stop=function(){this._pokemon&&this._pokemon.stop(),egret.Tween.pauseTweens(this.boneGroup)},n.prototype.playBone=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._bone?[4,this._bone.play(e,1)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[4,this.play()];case 3:return t.sent(),[2]}})})},n}(e.GameComponent);e.SuperGashponItem=t,__reflect(t.prototype,"game.SuperGashponItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._itemList=[],n._costItem={type:e.Data.TGashapon[6].costItemType,count:e.Data.TGashapon[6].count},n.skinName=SuperGashponPanelSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){var t=this;this._adjust=!0,this.showRect.visible=!1,this.goButton.bg="ui/common/button/blue",this.goButton.image="langs/huoqu",this._touchEvent=[{target:this.goButton,callBackFunc:function(){e.ActivityPanel.openActivity(108)}},{target:this.infoButton,callBackFunc:function(){e.SuperGashponPreview.getInstance().show()}},{target:this.closeButton,callBackFunc:function(){e.removePopUp(t)}},{target:this.showRect,callBackFunc:function(){if(t._showItem){t.showRect.fillAlpha=.3,t.showRect.visible=!0;var n=t.itemGroup.localToGlobal(t._showItemP.x,t._showItemP.y);egret.Tween.get(t.showRect).to({fillAlpha:0},300).play(),egret.Tween.get(t._showItem).to({x:n.x,y:n.y},300).call(function(){t.removeChild(t._showItem),t._showItem.x=t._showItemP.x,t._showItem.y=t._showItemP.y,t.itemGroup.addChildAt(t._showItem,0),t._showItem.touchEnabled=!0,t._showItem=null,t.showRect.visible=!1,t.updateLabel();for(var n=e.DataManager.playerModel.getGashaponInfoByType(6),i=0;i<t._itemList.length;i++){var a=t._itemList[i];a.pokemon=n.pmids[i],a.play()}},t).play()}}}],this.addEventAndNotify(),this.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(n){return __awaiter(t,void 0,void 0,function(){var t,i,a,o,s,r=this;return __generator(this,function(u){switch(u.label){case 0:return t=n.target,t.pokemon?[2]:e.checkCanBuy(this._costItem)?(this.itemGroup.touchEnabled=!1,[4,e.DataManager.playerModel.GetSuperGashponReward(t.idx,this._costItem)]):(e.showTips(e.Lang.nindedaojubuzu,!0),[2]);case 1:return i=u.sent(),(a=e.Data.TElf[i])?(t.pokemon=i,this.itemGroup.setChildIndex(t,-1),a.quality>=6?(t.touchEnabled=!1,o=this.itemGroup.localToGlobal(t.x,t.y),s=this.itemGroup.parent.localToGlobal(290,568),o=this.globalToLocal(o.x,o.y),this._showItem=t,this._showItemP=new egret.Point(t.x,t.y),this.itemGroup.removeChild(t),t.x=o.x,t.y=o.y,this.addChild(t),this.showRect.fillAlpha=0,this.showRect.visible=!0,this.showRect.touchEnabled=!1,egret.Tween.get(this.showRect).to({fillAlpha:.3},300).play(),egret.Tween.get(t).to({x:s.x,y:s.y},300).call(function(){return __awaiter(r,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,t.playBone("s_open")];case 1:return e.sent(),this.showRect.touchEnabled=!0,[2]}})})},this).play(),[3,4]):[3,2]):[3,4];case 2:return[4,t.playBone("open")];case 3:u.sent(),this.updateLabel(),u.label=4;case 4:return this.itemGroup.touchEnabled=!0,[2]}})})},this),this.itemGroup.removeChildren();for(var n=0;10>n;n++){var i=new e.SuperGashponItem;i.idx=n,i.x=n%5*145,i.y=240*Math.floor(n/5),this._itemList.push(i),this.itemGroup.addChild(i)}},n.prototype.updateLabel=function(){this.countLabel.text=e.DataManager.playerModel.getGashaponInfoByType(6).pmids.filter(function(e){return!!e}).length.toString(),this.itemCountLabel.text=e.DataManager.playerModel.getItemCount(this._costItem.type).toString()},n.prototype.firstShow=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=this,[4,e.getBone("shangchengjlsp")];case 1:return t._head=n.sent(),this.Head.addChild(this._head),[2]}})})},n.prototype.onShow=function(){this._head.play(null,0);for(var t=e.DataManager.playerModel.getGashaponInfoByType(6),n=0;n<this._itemList.length;n++){var i=this._itemList[n];i.pokemon=t.pmids[n],i.play()}this.updateLabel()},n.prototype.onRemove=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){for(this._head.stop(),e=0;e<this._itemList.length;e++)this._itemList[e].stop();return[2]})})},n.prototype.onHeightChange=function(){t.prototype.onHeightChange.call(this),this.bg.scaleX=this.bg.scaleY=this._heightScale},n.getInstance=function(){return this._instance||(this._instance=new n),this._instance},n}(e.PanelComponent);e.SuperGashponPanel=t,__reflect(t.prototype,"game.SuperGashponPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=SuperGashponPreviewSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removePopUp(t)},this),this.pokemonGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.target&&e.target.showDetail&&e.target.showDetail()},this)},n.prototype.firstShow=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a;return __generator(this,function(o){switch(o.label){case 0:this.pokemonGroup.removeChildren();for(t in e.Data.TSuperGashapon)e.Data.TSuperGashapon.hasOwnProperty(t)&&(n=e.Data.TSuperGashapon[t],10001==n.Group&&(i=new e.PokemonBookPokemon,i.setData(n.ID,!0,!1),this.pokemonGroup.addChild(i)));return a=this,[4,e.getBone("aerzhousi")];case 1:return a._bone=o.sent(),this.boneGroup.addChild(this._bone),[2]}})})},n.prototype.onShow=function(){this.pokemonScroller.viewport.scrollV=0,this._bone.play(null,0)},n.prototype.onRemove=function(){this._bone.stop()},n.getInstance=function(){return this._instance||(this._instance=new n),this._instance},n}(e.PanelComponent);e.SuperGashponPreview=t,__reflect(t.prototype,"game.SuperGashponPreview")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._rewardItemList=[],e.skinName=LivelyTaskRewardPreviewSkin,e.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,e.closeHandle,e),e}return __extends(n,t),n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.setData=function(t){var n=this;this.rewardGroup.removeChildren();var i=0,a=function(t){var a=e.splitStringToNumberArray(t,";");n._rewardItemList[i]||(n._rewardItemList[i]=new e.LivelyPreviewItem),n._rewardItemList[i].setData({type:a[0],count:a[1]}),n.rewardGroup.addChild(n._rewardItemList[i]),i++};t.Reward1&&a(t.Reward1),t.Reward2&&a(t.Reward2),t.Reward3&&a(t.Reward3),t.Reward4&&a(t.Reward4)},n.prototype.setGymData=function(t){this.rewardGroup.removeChildren();for(var n=e.splitStringToNumberArray(t.rewardBoxPreview),i=0;i<n.length;i++){var a=n[i],o=this._rewardItemList[i];o||(o=new e.LivelyPreviewItem,this._rewardItemList[i]=o),this._rewardItemList[i].setData({type:a[0],count:a[1]},!0),this.rewardGroup.addChild(o)}},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.LivelyPreview=t,__reflect(t.prototype,"game.LivelyPreview")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=LivelyPreviewItemSkin,e}return __extends(n,t),n.prototype.setData=function(t,n){void 0===n&&(n=!1),this.itemIcon.item=t,this.itemIcon.countLabel.visible=!1,n?(this.countLabel.text=this.itemIcon.itemData.desc,this.countLabel.size=20):(this.countLabel.text=e.Lang.shuxiang+": "+t.count,this.countLabel.size=25),this.nameLabel.text=this.itemIcon.itemData.name},n}(e.GameComponent);e.LivelyPreviewItem=t,__reflect(t.prototype,"game.LivelyPreviewItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._rewardList=[],e.skinName=LivelyTaskSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._maxProgress=0;var t=0;for(var n in e.Data.TActiveReward)if(e.Data.TActiveReward.hasOwnProperty(n)){var i=e.Data.TActiveReward[n];this._rewardList[t]||(this._rewardList[t]=new e.LivelyTaskReward),this._rewardList[t].setData(i),this.rewardGroup.addChild(this._rewardList[t]),t++,this._maxProgress=Math.max(this._maxProgress,i.active)
}this.livelyProgressBar.maximum=this._maxProgress},n.prototype.updateProgress=function(){var t=e.DataManager.playerModel.getLively();this.livelyLabel.text=e.Lang.wodehuoyuedu+": "+t,this.livelyProgressBar.value=t;for(var n=0;n<this._rewardList.length;n++)this._rewardList[n].update()},n}(e.GameComponent);e.LivelyTask=t,__reflect(t.prototype,"game.LivelyTask")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=LivelyTaskRewardSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.treasureButton,callBackFunc:this.buttonHandle}],this.addEventAndNotify()},n.prototype.buttonHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._finish?[4,e.DataManager.playerModel.getLivelyReward(this.taskData)]:[3,2];case 1:return n.sent(),this.update(),[3,3];case 2:t=e.LivelyPreview.getInstance(),t.setData(this.taskData),t.show(),n.label=3;case 3:return[2]}})})},n.prototype.setData=function(e){this.taskData=e,this.livelyLabel.text=e.active.toString()},n.prototype.update=function(){var t=e.DataManager.playerModel.getLively();this._finish=!1,this.touchChildren=!0,this.lightImage.visible=!1,this.point.visible=!1,this.treasureButton.icon="ui/common/util/lockTreasure",t>=this.taskData.active&&(e.DataManager.playerModel.checkReceiveLively(this.taskData)?(this.treasureButton.icon="ui/common/util/unlockTreasure",this.touchChildren=!1):(this.point.visible=!0,this._finish=!0,this.lightImage.visible=!0))},n}(e.GameComponent);e.LivelyTaskReward=t,__reflect(t.prototype,"game.LivelyTaskReward")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemIconList=[],e.skinName=TaskItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.ifplayEffect=!1,this.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.rewardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){var n=t.target;if(n.itemInfo){var i=e.ItemInfoPanel.getInstance();i.setData(e.Data.TItem[n.itemInfo.type]),i.show()}},this)},n.prototype.touchHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._finish?(e.SoundManager.playEffect("music/UI_renwuwanchen"),4!=this.questData.type?[3,2]:[4,e.DataManager.playerModel.GetMissionQuestReward(this.questData.id)]):[3,5];case 1:return t.sent(),[3,4];case 2:return[4,e.DataManager.playerModel.getQuestReward(this.questData)];case 3:t.sent(),t.label=4;case 4:return[3,6];case 5:e.NotificationCenter.getInstance().postNotification(e.TaskPanel.CLOSE),e.TeachData=e.Data.TTeach[this.questData.TeachStartId],e.navPanel(this.questData.GoToNumber),t.label=6;case 6:return[2]}})})},n.prototype.dataChanged=function(){var t=this;if(this.data){this.questData=e.Data.TQuest[this.data.id],this.taskNameLabel.text=this.questData.QuestTitle,this.questData.active?(this.livelyLabel.visible=!0,this.livelyLabel.text=e.Lang.huoyuedu+"+"+this.questData.active):this.livelyLabel.visible=!1,this.taskDetailLabel.text=e.formatString(this.questData.QuestInformation,this.questData.LimitedNum);var n=this.data.progress;4==this.questData.type&&(n=e.DataManager.playerModel.currentMission-1),this.progressLabel.text=e.setNumber(n)+"/"+e.setNumber(this.questData.LimitedNum),n>=this.questData.LimitedNum?(this._finish=!0,this.progressLabel.textColor=65304,this.confirmButton.image="langs/Tx_lingqu",this.confirmButton.bg="ui/common/button/green"):(this._finish=!1,this.progressLabel.textColor=15269888,this.confirmButton.image="langs/Tx_qianwang",this.confirmButton.bg="ui/common/button/blue");var i=0,a=function(n){var a=e.splitStringToNumberArray(n,";");t._itemIconList[i]||(t._itemIconList[i]=new e.ItemIcon),t._itemIconList[i].item={type:a[0],count:a[1]},t.rewardGroup.addChild(t._itemIconList[i]),i++};this.rewardGroup.removeChildren(),this.questData.Reward1&&a(this.questData.Reward1),this.questData.Reward2&&a(this.questData.Reward2),this.questData.Reward3&&a(this.questData.Reward3)}},n}(eui.ItemRenderer);e.TaskItem=t,__reflect(t.prototype,"game.TaskItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=TaskPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.dailyTaskButton.noScale=this.achievementButton.noScale=this.missionRewardTask.noScale=!0,this.dailyTaskButton.image="langs/Tx_richangrw",this.achievementButton.image="langs/Tx_chenjiurw",this.missionRewardTask.image="langs/Tx_guankajl",this._adjust=!0,this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateDailyTask,notifyName:e.PlayerModel.DAILY_TASK_UPDATE,execute:!1},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateAchieve,notifyName:e.PlayerModel.ACHIEVE_TASK_UPDATE,execute:!1},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateMissionReward,notifyName:e.PlayerModel.MISSION_TASK_UPDATE,execute:!1}],this.addEventAndNotify(),this._livelyTask=new e.LivelyTask,this.livelyGroup.addChild(this._livelyTask),this._listDataProvider=new eui.ArrayCollection,this.taskList.dataProvider=this._listDataProvider,this.taskList.itemRenderer=e.TaskItem,this._radioGroup=new e.RadioGroup(this.typeButtonGroup,[this.dailyTaskButton,this.achievementButton,this.missionRewardTask],this.touchTypeButton,this,this.changeTypeButton),e.NotificationCenter.getInstance().addObserver(this,this.closeHandle,n.CLOSE)},n.prototype.updateDailyTask=function(){this.stage&&this._currentButton==this.dailyTaskButton&&this.touchTypeButton(this.dailyTaskButton)},n.prototype.updateAchieve=function(){this.stage&&this._currentButton==this.achievementButton&&this.touchTypeButton(this.achievementButton)},n.prototype.updateMissionReward=function(){this.stage&&this._currentButton==this.missionRewardTask&&this.touchTypeButton(this.missionRewardTask)},n.prototype.showMissionReward=function(){this._radioGroup.touchButton(this.missionRewardTask)},n.prototype.closeHandle=function(){},n.prototype.touchTypeButton=function(t){this._currentButton=t,this._listDataProvider.removeAll();var n;t==this.achievementButton?(this.scroller.top=164,this.scroller.y=164,this.scroller.height=814,this.livelyGroup.visible=!1,n=e.DataManager.playerModel.getAchieveQuest()):t==this.dailyTaskButton?(this.scroller.top=281,this.scroller.y=281,this.scroller.height=697,this.livelyGroup.visible=!0,n=e.DataManager.playerModel.getDailyQuest(),this._livelyTask.updateProgress()):t==this.missionRewardTask&&(this.scroller.top=164,this.scroller.y=164,this.scroller.height=814,this.livelyGroup.visible=!1,n=e.DataManager.playerModel.missionQuests);var i=function(t,n){var i=e.Data.TQuest[t.id],a=e.Data.TQuest[n.id];return n.progress/a.LimitedNum-t.progress/i.LimitedNum},a=function(t,n){var i=e.Data.TQuest[t.id],a=e.Data.TQuest[n.id];return 1/a.LimitedNum-1/i.LimitedNum};n=n.sort(t==this.missionRewardTask?a:i);for(var o=e.DataManager.playerModel.playerLevel,s=0;s<n.length;s++){var r=e.Data.TQuest[n[s].id];1==n[s].state||0!=n[s].state&&4!=r.type||r.visual&&o<r.visual||this._listDataProvider.addItem(n[s])}this.typeButtonGroup.setChildIndex(t,-1)},n.prototype.changeTypeButton=function(e,t){e.bg=t?"ui/scene/bag/select":"ui/scene/bag/unSelect"},n.prototype.onCreate=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.scroller.viewport.scrollV=0,this._radioGroup.touchButton(this.achievementButton),[2]})})},n.prototype.onHeightChange=function(){t.prototype.onHeightChange.call(this),this.bgImage.scaleX=this.bgImage.scaleY=this._heightScale},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.CLOSE="TaskPanel_CLOSE",n}(e.SceneComponent);e.TaskPanel=t,__reflect(t.prototype,"game.TaskPanel")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=TaskRewardItemSkin,t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),Object.defineProperty(t.prototype,"item",{set:function(e){this.itemInfo=e,this.countLabel.text="x"+e.count,this.itemIcon.item=e,this.itemIcon.countLabel.visible=!1},enumerable:!0,configurable:!0}),t}(e.GameComponent);e.TaskRewardItem=t,__reflect(t.prototype,"game.TaskRewardItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=TeachSceneSkin,e._adjust=!0,e.touchEnabled=e.touchChildren=!1,e._hasListen=!1,e}return __extends(n,t),n.prototype.setData=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a,o,s,r,u,l;return __generator(this,function(c){switch(c.label){case 0:return 123!=t.id||123==this.currentData.id?[3,2]:(this.visible=!1,[4,e.delay(4700)]);case 1:c.sent(),this.visible=!0,c.label=2;case 2:if(this.currentData=e.copyObject(t),this._type=n,this.currentData)if(this.removeTween(),1==t.FromLeft?this.currentData.cubeY=t.cubeY:2==t.FromLeft?this.currentData.cubeY=e.GetOffSetYWithCenter(t.cubeY):this.currentData.cubeY=e.GetOffSetYWithBottom(t.cubeY),this.cubeX=this.currentData.cubeX,this.cubeY=this.currentData.cubeY,i=this.currentData.cubeX,a=this.currentData.cubeX+this.currentData.cubeWidth,o=this.currentData.cubeY,s=this.currentData.cubeY+75,s=o+75,this.leftCube.x=i,this.leftCube.y=o,this.rightCube.x=a,this.rightCube.y=s,r=200,egret.Tween.get(this.leftCube,{loop:!0}).to({x:i-10},r).to({x:i},r),egret.Tween.get(this.rightCube,{loop:!0}).to({x:a+10},r).to({x:a},r),this.currentData.fingerDir)switch(this.finger.visible=!0,u=void 0,l=void 0,this.currentData.fingerDir){case 4:this.finger.rotation=90,this.finger.scaleX=1,u=this.leftCube.x+this.currentData.cubeWidth/2,l=this.leftCube.y+75,this.finger.x=u,this.finger.y=l,egret.Tween.get(this.finger,{loop:!0}).to({y:l+10},r).to({y:l},r);break;case 1:this.finger.rotation=270,this.finger.scaleX=1,u=this.leftCube.x+this.currentData.cubeWidth/2-28,l=this.leftCube.y,this.finger.x=u,this.finger.y=l,egret.Tween.get(this.finger,{loop:!0}).to({y:l-10},r).to({y:l},r);break;case 2:this.finger.rotation=0,this.finger.scaleX=1,u=this.rightCube.x+28,l=this.leftCube.y,this.finger.x=u,this.finger.y=l,egret.Tween.get(this.finger,{loop:!0}).to({x:u+10},r).to({x:u},r);break;case 3:this.finger.rotation=0,this.finger.scaleX=-1,u=this.leftCube.x,l=this.leftCube.y,this.finger.x=u,this.finger.y=l,egret.Tween.get(this.finger,{loop:!0}).to({x:u-10},r).to({x:u},r)}else this.finger.visible=!1;else this.removeFromParent();return[2]}})})},n.prototype.onRemove=function(){this._hasListen&&(this._hasListen=!1,e.GameLayer.teachLayer.stage.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchStage,this))},n.prototype.show=function(){e.GameLayer.teachLayer.addChild(this),this._hasListen||(this._hasListen=!0,e.GameLayer.teachLayer.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchStage,this))},n.prototype.touchStage=function(t){if(!this.currentData)return void this.removeFromParent();var n=t.stageX,i=t.stageY;if(e.checkPointAtRect(n,i,this.cubeX,this.cubeY,this.currentData.cubeWidth,75,!0)){if(this.currentData.check)return;e.TeachData=e.Data.TTeach[this.currentData.nextId],e.TeachData?e.updateTeach(e.TeachData.panel):e.updateTeach(null)}},n.prototype.removeTween=function(){egret.Tween.removeTweens(this.finger),egret.Tween.removeTweens(this.rightCube),egret.Tween.removeTweens(this.leftCube)},n.prototype.onHeightChange=function(){t.prototype.onHeightChange.call(this),this.currentData&&this.setData(e.Data.TTeach[this.currentData.id],this._type)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.GameComponent);e.TeachScene=t,__reflect(t.prototype,"game.TeachScene")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._loveItemPool=new e.ObjectPool(e.TeamLoveItem),n.skinName=TeamAddLovePanelSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.confirmButton,callBackFunc:this.confirmHandle}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.selectItem,n.SELECT_ITEM),e.NotificationCenter.getInstance().addObserver(this,this.cancelSelectItem,n.CANCEL_SELECT_ITEM)},n.prototype.setSelectItem=function(t){this.selectItemList=t,this._loveItemPool.destroyAllObject();for(var n=e.DataManager.playerModel.getItemListByItemType(4),i=e.copyObject(n,[]),a=0;a<i.length;a++){for(var o=i[a],s=0;s<t.length;s++){var r=t[s];if(o.type==r.type){o.count-=r.count;break}}if(!(o.count<=0)){var u=this._loveItemPool.createObject();u.setItem(o,!0),this.canSelectItemGroup.addChild(u)}}i=null;for(var l=0,a=0;a<t.length;a++){var o=t[a],u=this._loveItemPool.createObject();u.setItem(o,!1),l+=u.totalLove,this.selectItemGroup.addChild(u)}this.totalLoveLabel.text=e.Lang.zongqinmidu+":"+l},n.prototype.selectItem=function(e){for(var t=!1,n=0;n<this.selectItemList.length;n++){var i=this.selectItemList[n];if(i.type==e.type){i.count+=e.count,t=!0;break}}t||this.selectItemList.push(e),this.setSelectItem(this.selectItemList)},n.prototype.cancelSelectItem=function(e){for(var t=0;t<this.selectItemList.length;t++){var n=this.selectItemList[t];if(n.type==e.type){n.count-=e.count,n.count<=0&&this.selectItemList.splice(t,1);break}}this.setSelectItem(this.selectItemList)},n.prototype.confirmHandle=function(){e.NotificationCenter.getInstance().postNotification(e.TeamLovePanel.ADD_LOVE_ITEM,this.selectItemList),this.closeHandle()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.SELECT_ITEM="TeamAddLovePanel_SELECT_ITEM",n.CANCEL_SELECT_ITEM="TeamAddLovePanel_CANCEL_SELECT_ITEM",n}(e.PanelComponent);e.TeamAddLovePanel=t,__reflect(t.prototype,"game.TeamAddLovePanel")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.setPokemon=function(e,t){return void 0===t&&(t=!0),__awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,this.setData({delay:100,size:{col:8,row:1},resource:"anim/battlePokemon/"+e})];case 1:return n.sent(),t?this.stay():this.play(1,0),[2]}})})},t.prototype.stay=function(){this.stop(),this.updateTexture(1,1)},t}(e.SequenceImage);e.TeamArtPokemon=t,__reflect(t.prototype,"game.TeamArtPokemon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.attDic={},e}return __extends(n,t),n.prototype.setData=function(t){this.attGroup.removeChildren(),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_shenm",t.hp)),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_wug",t.atk)),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_teg",t.spAtk)),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_sud",t.speed)),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_wuf",t.def)),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_tef",t.spDef))},n.prototype.setCounter=function(e,t){},n.prototype.setEffect=function(t){t?(this.attGroup.removeChildren(),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_shenm",(100*t.hpPer).toFixed(1)+"%")),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_wug",(100*t.atkPer).toFixed(1)+"%")),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_teg",(100*t.atkSpPer).toFixed(1)+"%")),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_sud",(100*t.spePer).toFixed(1)+"%")),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_wuf",(100*t.defPer).toFixed(1)+"%")),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_tef",(100*t.defSpPer).toFixed(1)+"%"))):(this.attGroup.removeChildren(),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_shenm","0%")),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_wug","0%")),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_teg","0%")),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_sud","0%")),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_wuf","0%")),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_tef","0%")))},n.prototype.setState=function(t){t?(this.hpLabel.text=e.Lang.shengming+"+"+t.hp,this.atkLabel.text=e.Lang.wugong+"+"+t.atk,this.spAtkLabel.text=e.Lang.tegong+"+"+t.spAtk,this.speedLabel.text=e.Lang.sudu+"+"+t.speed,this.defLabel.text=e.Lang.wufang+"+"+t.def,this.spDefLabel.text=e.Lang.tefang+"+"+t.spDef,this.counterBg.visible=this.counterLabel.visible=!1):(this.hpLabel.text=e.Lang.shengming+"+0",this.atkLabel.text=e.Lang.wugong+"+0",this.spAtkLabel.text=e.Lang.tegong+"+0",this.speedLabel.text=e.Lang.sudu+"+0",this.defLabel.text=e.Lang.wufang+"+0",this.spDefLabel.text=e.Lang.tefang+"+0",this.counterBg.visible=this.counterLabel.visible=!1)},n}(e.GameComponent);e.TeamAttribute=t,__reflect(t.prototype,"game.TeamAttribute")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=TeamAttributeItemSkin,t.init(),t}return __extends(t,e),t.prototype.init=function(){},t.GetTeamAttributeItem=function(e,n){var i=new t;return i.setData(e,n),i},t.prototype.setData=function(e,t){this.attImage.source="ui/scene/team/"+e,this.attLabel.text=t+""},t}(e.GameComponent);e.TeamAttributeItem=t,__reflect(t.prototype,"game.TeamAttributeItem")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.setPokemon=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.setData({delay:150,size:{col:4,row:4},resource:"anim/pokemon/"+e})];case 1:return t.sent(),this.stay(),[2]}})})},t.prototype.stay=function(){this.updateTexture(3,1)},t}(e.SequenceImage);e.TeamAttributePokemon=t,__reflect(t.prototype,"game.TeamAttributePokemon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=TeamBagConfigSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.levelButton.image="langs/andengji",this.battleCountButton.image="langs/anzhanli",this.idButton.image="langs/antujian",this.gradeButton.image="langs/anpinzhi",this.sortSelectImage.x=90,this.sortSelectImage.y=3,this._touchEvent=[{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify(),this._sortRadioGroup=new e.RadioGroup(this.sortGroup,[this.levelButton,this.battleCountButton,this.idButton,this.gradeButton],this.touchSort,this,this.changeSortButton)},n.prototype.touchSort=function(e){switch(e){case this.levelButton:this._sortType=0;break;case this.battleCountButton:this._sortType=1;break;case this.idButton:this._sortType=2;break;case this.gradeButton:this._sortType=3}},n.prototype.changeSortButton=function(e,t){t&&(this.sortSelectImage.visible=!0,e.addChild(this.sortSelectImage))},n.prototype.onShow=function(){this.sortSelectImage.visible=!1,this._sortType=0},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.sortPokemonBag(this._sortType)];case 1:return t.sent(),this.closeHandle(),[2]}})})},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.TeamBagConfig=t,__reflect(t.prototype,"game.TeamBagConfig")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.init(),t}return __extends(t,e),t.prototype.init=function(){this.touchThrough=!0,t.sceneLayer.touchEnabled=!1,t.mainLayer.touchEnabled=!1,t.battleLayer.touchEnabled=!1,t.panelLayer.touchEnabled=!1,t.effectLayer.touchEnabled=!1,t.teachLayer.touchEnabled=!1,t.maskLayer.touchEnabled=!1,t.loadLayer.touchEnabled=!1,t.sceneLayer.touchThrough=!0,t.mainLayer.touchThrough=!0,t.battleLayer.touchThrough=!0,t.panelLayer.touchThrough=!0,t.effectLayer.touchThrough=!0,t.teachLayer.touchThrough=!0,t.maskLayer.touchThrough=!0,t.loadLayer.touchThrough=!0,this.addChild(t.sceneLayer),this.addChild(t.mainLayer),this.addChild(t.battleLayer),this.addChild(t.panelLayer),this.addChild(t.effectLayer),this.addChild(t.teachLayer),this.addChild(t.maskLayer),this.addChild(t.loadLayer)},t.sceneLayer=new eui.UILayer,t.mainLayer=new eui.UILayer,t.battleLayer=new eui.UILayer,t.panelLayer=new eui.UILayer,t.effectLayer=new eui.UILayer,t.teachLayer=new eui.UILayer,t.maskLayer=new eui.UILayer,t.loadLayer=new eui.UILayer,t}(eui.UILayer);e.GameLayer=t,__reflect(t.prototype,"game.GameLayer")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lock=!0,t}return __extends(t,e),Object.defineProperty(t.prototype,"image",{set:function(e){this.imageDisplay&&(this.imageDisplay.source=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bg",{set:function(e){this.bgDisplay&&(this.bgDisplay.source=e)},enumerable:!0,configurable:!0}),t}(e.EffectButton);e.TeamButton=t,__reflect(t.prototype,"game.TeamButton")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e}return __extends(n,t),n.prototype.setInfo=function(e,t){void 0===t&&(t=!0),this._currentPokemonInfo=e,t?this.setEffortData(this._currentPokemonInfo.effortLv||0):this.setIVData()},n.prototype.setEffortData=function(t){var n=this._currentPokemonInfo.effort,i=e.Data.TElfSeerValue[t],a=e.copyObject(this._currentPokemonInfo);a.effort={hp:0,speed:0,def:0,spAtk:0,atk:0,spDef:0};var o=e.parseBattlePokemonData(a,0,0),s=e.parseBattlePokemonData(this._currentPokemonInfo,0,0);this.updateAttribute("Tx_shenm",n.hp,i.everyValueLimit,s.hp-o.hp,e.Lang.shengming),this.updateAttribute("Tx_wug",n.atk,i.everyValueLimit,s.atk-o.atk,e.Lang.wugong),this.updateAttribute("Tx_teg",n.spAtk,i.everyValueLimit,s.spAtk-o.spAtk,e.Lang.tegong),this.updateAttribute("Tx_wuf",n.def,i.everyValueLimit,s.def-o.def,e.Lang.wufang),this.updateAttribute("Tx_tef",n.spDef,i.everyValueLimit,s.spDef-o.spDef,e.Lang.tefang),this.updateAttribute("Tx_sud",n.speed,i.everyValueLimit,s.speed-o.speed,e.Lang.sudu)},n.prototype.updateAttribute=function(t,n,i,a,o){null==this._itemList&&(this._itemList=[]),null==this._itemList[t]&&(this._itemList[t]=e.TeamEffortAttributeItem.GetAttributeItem(t,n,i,a,o),this.attGroup.addChild(this._itemList[t])),this._itemList[t].setAttributeItem(n,a,i,o)},n.prototype.setIVData=function(){var e=this._currentPokemonInfo.iv;this.updateAttribute("Tx_shenm",e.hp,n.maxIV,0,""),this.updateAttribute("Tx_wug",e.atk,n.maxIV,0,""),this.updateAttribute("Tx_teg",e.spAtk,n.maxIV,0,""),this.updateAttribute("Tx_wuf",e.def,n.maxIV,0,""),this.updateAttribute("Tx_tef",e.spDef,n.maxIV,0,""),this.updateAttribute("Tx_sud",e.speed,n.maxIV,0,"")},n.prototype.setFreshIVData=function(t,i){var a=t,o=e.copyObject(this._currentPokemonInfo),s=e.copyObject(this._currentPokemonInfo);s.iv=a;var r=e.parseBattlePokemonData(o,0,0),u=e.parseBattlePokemonData(s,0,0);this.updateAttribute("Tx_shenm",a.hp,n.maxIV,u.hp-r.hp,""),this.updateAttribute("Tx_wug",a.atk,n.maxIV,u.atk-r.atk,""),this.updateAttribute("Tx_teg",a.spAtk,n.maxIV,u.spAtk-r.spAtk,""),this.updateAttribute("Tx_wuf",a.def,n.maxIV,u.def-r.def,""),this.updateAttribute("Tx_tef",a.spDef,n.maxIV,u.spDef-r.spDef,""),this.updateAttribute("Tx_sud",a.speed,n.maxIV,u.speed-r.speed,"")},n.prototype.setEffortChangeInfo=function(t,n){var i=this._currentPokemonInfo.effort,a=e.Data.TElfSeerValue[this._currentPokemonInfo.effortLv||0],o=t,s=n;this.updateAttribute("Tx_shenm",i.hp,a.everyValueLimit,s.hp-o.hp,e.Lang.shengming),this.updateAttribute("Tx_wug",i.atk,a.everyValueLimit,s.atk-o.atk,e.Lang.wugong),this.updateAttribute("Tx_teg",i.spAtk,a.everyValueLimit,s.spAtk-o.spAtk,e.Lang.tegong),this.updateAttribute("Tx_wuf",i.def,a.everyValueLimit,s.def-o.def,e.Lang.wufang),this.updateAttribute("Tx_tef",i.spDef,a.everyValueLimit,s.spDef-o.spDef,e.Lang.tefang),this.updateAttribute("Tx_sud",i.speed,a.everyValueLimit,s.speed-o.speed,e.Lang.sudu)},n.maxIV=Number(e.Constants.maxIV),n}(e.GameComponent);e.TeamEffortAndIVDetail=t,__reflect(t.prototype,"game.TeamEffortAndIVDetail")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=TeamEffortAttributeItemSkin,t.init(),t}return __extends(t,e),t.prototype.init=function(){},t.GetAttributeItem=function(e,n,i,a,o,s){void 0===s&&(s=0);var r=new t;return r.setData(e,n,i,a,o,s),r},t.prototype.setAttributeItem=function(e,t,n,i){this.attLabel.text=t.toString(),this.attProgress.value=e,this.attProgress.maximum=n,0==t?(this.attLabel.text="0",this.attLabel.textColor=16760576):t>0?(this.attLabel.text=i+"+"+t,this.attLabel.textColor=1244928):(this.attLabel.text=""+i+t,this.attLabel.textColor=15269888)},t.prototype.setData=function(e,t,n,i,a,o){void 0===o&&(o=0),this.attImage.source="ui/scene/team/"+e,this.attLabel.text=i.toString(),this.attProgress.maximum=n,this.attProgress.value=t,0==i?(this.attLabel.text="0",this.attLabel.textColor=16760576):i>0?(this.attLabel.text=a+"+"+i,this.attLabel.textColor=1244928):(this.attLabel.text=""+a+i,this.attLabel.textColor=15269888),0==o?this.lockButton.visible=!1:1==o?this.lockButton.iconDisplay.source="ui/scene/team/UI_icon_suo01":2==o&&(this.lockButton.iconDisplay.source="ui/scene/team/UI_icon_suo02")},t}(e.GameComponent);e.TeamEffortAttributeItem=t,__reflect(t.prototype,"game.TeamEffortAttributeItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.skinName=TeamEffortItemSkin,n.itemIcon.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.NotificationCenter.getInstance().postNotification(e.TeamEffortPanel.TOUCH_ITEM,n)},n),n}return __extends(n,t),n.prototype.setInfo=function(t){this.itemIcon.item=t;var n=this.itemIcon.itemData;this.nameLabel.text=n.name,this.addLabel.text=this.minusLabel.text="",n.hp&&(n.hp>0?this.addLabel.text=e.Lang.shengming+"+"+n.hp:this.minusLabel.text=""+e.Lang.shengming+n.hp),n.atk&&(n.atk>0?this.addLabel.text=e.Lang.wugong+"+"+n.atk:this.minusLabel.text=""+e.Lang.wugong+n.atk),n.atkSp&&(n.atkSp>0?this.addLabel.text=e.Lang.tegong+"+"+n.atkSp:this.minusLabel.text=""+e.Lang.tegong+n.atkSp),n.def&&(n.def>0?this.addLabel.text=e.Lang.wufang+"+"+n.def:this.minusLabel.text=""+e.Lang.wufang+n.def),n.defSp&&(n.defSp>0?this.addLabel.text=e.Lang.tefang+"+"+n.defSp:this.minusLabel.text=""+e.Lang.tefang+n.defSp),n.spe&&(n.spe>0?this.addLabel.text=e.Lang.sudu+"+"+n.spe:this.minusLabel.text=""+e.Lang.sudu+n.spe)},n.prototype.update=function(){this.setInfo(this.itemIcon.itemInfo)},Object.defineProperty(n.prototype,"select",{set:function(e){this.selectRect.visible=e},enumerable:!0,configurable:!0}),n.prototype.onCreate=function(){},n.prototype.onDestroy=function(){},n}(e.GameComponent);e.TeamEffortItem=t,__reflect(t.prototype,"game.TeamEffortItem",["game.PoolItem"])}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.type=44,e._itemList=[],e._usedItem=[],e.skinName=TeamEffortPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.oneButton.image="ui/scene/team/Txshiyyc",this.tenButton.image="ui/scene/team/Tx_shiysc",this.noneLabel.text=e.Lang.ninmeiyoudangqianleibiededaoju,this.noticeLabel.text=e.Lang.zhanshenbutongdebaokemenghuodedenulizhibutong,this.noticeLabel1.text=e.Lang.keyishangxiahuadong,this.hpButton.noScale=!0,this.atkButton.noScale=!0,this.spAtkButton.noScale=!0,this.defButton.noScale=!0,this.spDefButton.noScale=!0,this.speedButton.noScale=!0,this.upgradeButton.image="ui/scene/team/Tx_shenjie",this.upgradeButton.bg="ui/scene/team/Btn_05",this._touchEvent=[{target:this.oneButton,callBackFunc:this.useItem},{target:this.tenButton,callBackFunc:this.useItem},{target:this.upgradeButton,callBackFunc:this.upgradeHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateItem,notifyName:e.PlayerModel.ITEM_UPDATE,execute:!0}],this.addEventAndNotify(),this._radioGroup=new e.RadioGroup(this.typeButtonGroup,[this.hpButton,this.atkButton,this.spAtkButton,this.defButton,this.spDefButton,this.speedButton],this.touchButtonHandle,this,this.radioChangeFunction),this._radioGroup.touchButton(this.hpButton),e.NotificationCenter.getInstance().addObserver(this,this.touchItem,n.TOUCH_ITEM)},n.prototype.upgradeHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o=this;return __generator(this,function(s){switch(s.label){case 0:return this._canUpgrade?this._currentPokemonInfo.effortLv>0?(t=e.Data.TElf[this._currentPokemonInfo.type],t&&(n=e.splitStringToNumberArray(t.seerValueCost)[this._currentPokemonInfo.effortLv-1],i={type:n[0],count:n[1]},2==n.length&&(a=e.CheckPanel.getInstance(),a.setData(e.Lang.xuyaoxiaohao,function(t){return __awaiter(o,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return t?e.DataManager.playerModel.getItemCount(i.type)>i.count?[4,e.DataManager.playerModel.upgradeEffort(this._currentPokemonInfo,i)]:[3,2]:[3,3];case 1:return n.sent(),[3,3];case 2:e.showTips(e.Lang.nindedaojubuzu),n.label=3;case 3:return[2]}})})},[i]),a.show())),[3,3]):[3,1]:(e.showTips(e.Lang.weimanzushengjietiaojiano,!0),[2]);case 1:return[4,e.DataManager.playerModel.upgradeEffort(this._currentPokemonInfo,null)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},n.prototype.useItem=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:return this.checkEffortMax()?(e.showTips(e.Lang.dangqianshuxingnulizhiyimanbuyaoyaotisheng,!0),[2]):(this.oneButton.touchEnabled=this.tenButton.touchEnabled=!1,t!=this.oneButton?[3,2]:[4,e.DataManager.playerModel.useEffortItem(this._currentItemInfo.type,1,this._currentPokemonInfo)]);case 1:return r.sent(),[3,4];case 2:switch(n=this.getCurrentNeedCount(),i=void 0,a=e.Data.TItem[this._currentItemInfo.type],this._currentButton){case this.hpButton:i=a.hp;break;case this.atkButton:i=a.atk;break;case this.spAtkButton:i=a.atkSp;break;case this.defButton:i=a.def;break;case this.spDefButton:i=a.defSp;break;case this.speedButton:i=a.spe}return i?(o=Math.min(Math.ceil(n/i),10),s=Math.min(o,this._currentItemInfo.count),[4,e.DataManager.playerModel.useEffortItem(this._currentItemInfo.type,s,this._currentPokemonInfo)]):[2];case 3:r.sent(),r.label=4;case 4:return this.oneButton.touchEnabled=this.tenButton.touchEnabled=!0,[2]}})})},n.prototype.checkEffortMax=function(){var t,n=e.Data.TElfSeerValue[this._currentPokemonInfo.effortLv||0].everyValueLimit;switch(this._currentButton){case this.hpButton:t=this._currentPokemonInfo.effort.hp>=n;break;case this.atkButton:t=this._currentPokemonInfo.effort.atk>=n;break;case this.spAtkButton:t=this._currentPokemonInfo.effort.spAtk>=n;break;case this.defButton:t=this._currentPokemonInfo.effort.def>=n;break;case this.spDefButton:t=this._currentPokemonInfo.effort.spDef>=n;break;case this.speedButton:t=this._currentPokemonInfo.effort.speed>=n}return t},n.prototype.getCurrentNeedCount=function(){var t=0,n=e.Data.TElfSeerValue[this._currentPokemonInfo.effortLv||0].everyValueLimit;switch(this._currentButton){case this.hpButton:t=n-this._currentPokemonInfo.effort.hp;break;case this.atkButton:t=n-this._currentPokemonInfo.effort.atk;break;case this.spAtkButton:t=n-this._currentPokemonInfo.effort.spAtk;break;case this.defButton:t=n-this._currentPokemonInfo.effort.def;break;case this.spDefButton:t=n-this._currentPokemonInfo.effort.spDef;
break;case this.speedButton:t=n-this._currentPokemonInfo.effort.speed}return t},n.prototype.touchItem=function(e){for(var t=0;t<this._usedItem.length;t++)this._usedItem[t]==e?(this._usedItem[t].select=!0,this._currentItemInfo=e.itemIcon.itemInfo):this._usedItem[t].select=!1},n.prototype.updateItem=function(){this._allItemInfo=e.DataManager.playerModel.getItemListByItemType(5),this._currentButton&&this.touchButtonHandle(this._currentButton)},n.prototype.touchButtonHandle=function(t){this._currentButton!=t&&(this._currentItemInfo=null),this._currentButton=t;var n=[];switch(this.itemGroup.removeChildren(),this._usedItem=[],this.itemScroller.viewport.scrollV=0,t){case this.hpButton:for(var i=0;i<this._allItemInfo.length;i++){var a=e.Data.TItem[this._allItemInfo[i].type];a.hp&&a.hp>0&&n.push(this._allItemInfo[i])}break;case this.atkButton:for(var i=0;i<this._allItemInfo.length;i++){var a=e.Data.TItem[this._allItemInfo[i].type];a.atk&&a.atk>0&&n.push(this._allItemInfo[i])}break;case this.spAtkButton:for(var i=0;i<this._allItemInfo.length;i++){var a=e.Data.TItem[this._allItemInfo[i].type];a.atkSp&&a.atkSp>0&&n.push(this._allItemInfo[i])}break;case this.defButton:for(var i=0;i<this._allItemInfo.length;i++){var a=e.Data.TItem[this._allItemInfo[i].type];a.def&&a.def>0&&n.push(this._allItemInfo[i])}break;case this.spDefButton:for(var i=0;i<this._allItemInfo.length;i++){var a=e.Data.TItem[this._allItemInfo[i].type];a.defSp&&a.defSp>0&&n.push(this._allItemInfo[i])}break;case this.speedButton:for(var i=0;i<this._allItemInfo.length;i++){var a=e.Data.TItem[this._allItemInfo[i].type];a.spe&&a.spe>0&&n.push(this._allItemInfo[i])}}if(n.length>0){this.noneLabel.visible=!1;for(var i=0;i<n.length;i++){var o=n[i];this._itemList[i]||(this._itemList[i]=new e.TeamEffortItem);var s=this._itemList[i];s.setInfo(o),!this._currentItemInfo||this._currentItemInfo.count<=0?0==i?(this._currentItemInfo=o,s.select=!0):s.select=!1:s.select=o.type==this._currentItemInfo.type,this.itemGroup.addChild(s),this._usedItem.push(s)}this.oneButton.visible=this.tenButton.visible=!0}else this.noneLabel.visible=!0,this.oneButton.visible=this.tenButton.visible=!1,this._currentItemInfo=null},n.prototype.radioChangeFunction=function(e,t){e.select=t},n.prototype.create=function(){e.updateTeach(this.type)},n.prototype.setPokemon=function(t,n,i){this._currentPokemonInfo=t,this.attributeDetail.setInfo(t),this.levelLabel.text=t.effortLv.toString();var a=e.Data.TElfSeerValue[t.effortLv||0],o=t.effort,s=o.hp+o.atk+o.spAtk+o.def+o.spDef+o.speed;this.gradeBar.value=s,this.starBar.value=t.star,this._canUpgrade=!1,a.nextLv?(this.gradeBar.maximum=a.ttSeerValue,this.starBar.maximum=a.LimitStar,this.upgradeButton.visible=!0,s>=a.ttSeerValue&&t.star>=a.LimitStar&&(this._canUpgrade=!0)):(this.gradeBar.maximum=s,this.starBar.value=t.star,this.upgradeButton.visible=!1),this.updatePoint()},n.prototype.updatePoint=function(){this._canUseType=e.checkPokemonCanUseEffort(this._currentPokemonInfo)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.TOUCH_ITEM="TeamEffortPanel_TOUCH_ITEM",n}(e.GameComponent);e.TeamEffortPanel=t,__reflect(t.prototype,"game.TeamEffortPanel",["game.TeamTrainDetailPanel"])}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=TeamEffortTypeButtonSkin,t}return __extends(t,e),Object.defineProperty(t.prototype,"bg",{set:function(e){this.bgDisplay.source=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{set:function(e){this.iconDisplay.source=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{set:function(e){this.labelDisplay.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"select",{set:function(e){e?(this.bg="ui/scene/team/Btn_danx01_d",this.icon="ui/scene/team/Btn_danx01_u"):(this.bg="ui/scene/team/Btn_danx01_d",this.icon="")},enumerable:!0,configurable:!0}),t}(e.EffectButton);e.TeamEffortTypeButton=t,__reflect(t.prototype,"game.TeamEffortTypeButton")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.type=43,e._costItemIconList=[],e._currentIndex=0,e._isSuper=!1,e.skinName=TeamEvaluationSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.leftArrow.icon=this.rightArrow.icon="ui/common/util/arrow",this.jinhuatiaojian.text=e.Lang.jinhuatiaojian+":",this.noneLabel.text=e.Lang.wufajinhua,this._touchEvent=[{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.leftArrow,callBackFunc:this.touchArrow},{target:this.rightArrow,callBackFunc:this.touchArrow}],this.showUI_jt(),this.addEventAndNotify()},n.prototype.showUI_jt=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._UI_jt01Bone?[3,2]:(t=this,[4,e.getBone("UI_jt01")]);case 1:t._UI_jt01Bone=n.sent(),this.UI_jt01Group.addChildAt(this._UI_jt01Bone,0),this._UI_jt01Bone.play(null,0),n.label=2;case 2:return[2]}})})},n.prototype.stop=function(){this._UI_jt01Bone&&this._UI_jt01Bone.stop()},n.prototype.onShow=function(){this.showUI_jt()},n.prototype.touchArrow=function(e){switch(e){case this.leftArrow:this._currentIndex--;break;case this.rightArrow:this._currentIndex++}this.updateSpecial(),this.updateArrow()},n.prototype.confirmHandle=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:if(!this._levelAchieve)return e.showTips(e.Lang.nindebaokemengdengjibuzu,!0),[2];if(!this._loveLevelAchieve)return e.showTips(e.Lang.nindebaokemengqinmidudengjibuzu,!0),[2];if(!this._itemAchieve)return e.showTips(e.Lang.nindedaojubuzu,!0),[2];for(t=0;t<this._costItems.length;t++)if(!e.checkCanBuy(this._costItems[t]))return[2];return e.DataManager.playerModel.eggLayParentID.indexOf(this._currentPokemonInfo.id)>-1?(e.showTips(e.Lang.shengdanzhongdebaokemengbukejinhua,!0),[2]):(this.confirmButton.touchEnabled=!1,this._isSuper?[4,e.DataManager.playerModel.superEvolvePokemon(this._currentPokemonInfo)]:[3,2]);case 1:return n.sent(),[3,6];case 2:return this._specialEva.length>0?[4,e.DataManager.playerModel.specialEvolvePokemon(this._currentPokemonInfo,this._specialEva[this._currentIndex],this._costItems,this._currentIndex)]:[3,4];case 3:return n.sent(),[3,6];case 4:return[4,e.DataManager.playerModel.evolvePokemon(this._currentPokemonInfo,this._currentPokemonData,this._costItems)];case 5:n.sent(),n.label=6;case 6:return this.confirmButton.touchEnabled=!0,[2]}})})},n.prototype.setPokemon=function(t,n,i){if(this._specialEva=[],this._costItems=[],this._currentPokemonInfo=t,this._currentPokemonData=n,this._currentBattleData=i,this.currentAttribute.setData(i),this.currentBattlePowerLabel.text=e.countPokemonBattleCount(i).toString(),this.noneLabel.visible=!1,this.evaluationGroup.visible=!0,this.currentAttribute.x=54,this.normalGroup.visible=!0,this.superGroup.visible=!1,this.itemBg.visible=!0,this.evaluationAttribute.visible=this.confirmButton.visible=this.point.visible=!0,this.confirmButton.image="ui/scene/team/Tx_jinh",this.confirmButton.bg="ui/common/button/green",this.evalConditionGroup.visible=!0,this.confirmButton.lock=!1,this.currentBattlePowerGroup.visible=!0,this.nextBattlePowerGroup.visible=!0,this.maxLabel.visible=!1,this._isSuper=!1,n.upElf&&!n.sotpGrow){var a=e.Data.TElf[n.upElf];if(a){var o=e.Data.TAdvanced[a.quality];if(o){o.QualityMax?(this.advancedBar.maximum=o.QualityMax,this.advancedBar.value=t.stage,this.progressLabel.text=t.stage+"/"+o.QualityMax):(this.advancedBar.maximum=1,this.advancedBar.value=1,this.progressLabel.text="1/1");var s=void 0;if(t.stage<o.QualityMax?(s=e.parseBattlePokemonData(t,i.formation,i.grid,!1,!1,e.DataManager.playerModel.playerTitleList,e.DataManager.playerModel.getBadgeList(),e.DataManager.playerModel.playerAllRole,1,!1,e.DataManager.playerModel.playerVip,e.DataManager.playerModel.teamConfig,e.DataManager.playerModel.homeAttribute,e.DataManager.playerModel.guildScience,e.DataManager.playerModel.teamConfig.artifacts,e.DataManager.playerModel.playerGymInfo.honorLevel,!0),this.confirmButton.image="ui/scene/team/Tx_jinh",this.evaluationAttribute.setData(s)):(this.confirmButton.image="ui/scene/team/Tx_jinh",s=e.parseBattlePokemonData(t,i.formation,i.grid,!1,!0),this.evaluationAttribute.setData(s)),this.nextBattlePowerLabel.text=e.countPokemonBattleCount(s).toString(),n.upLv){var r=o.PkmLvAdd*t.stage+n.upLv;this.levelLabel.text=t.lv+"/"+r,this._levelAchieve=t.lv>=r}else this._levelAchieve=!0,this.levelLabel.text="";if(n.upLoveLv){var u=o.PkmLoveLvAdd*t.stage+n.upLoveLv;this.loveIcon.visible=this.loveLabel.visible=!0,this.loveLabel.text=t.intimacyLv+"/"+u,this._loveLevelAchieve=t.intimacyLv>=u}else this.loveIcon.visible=this.loveLabel.visible=!1,this._loveLevelAchieve=!0;if(n.upPrice){this.costMoneyIcon.visible=this.costMoneyLabel.visible=!0;var l=n.upPrice.split(";"),c=Number(l[0]),h=Math.ceil(Number(l[1])*o.AdvancedPricePer);this.costMoneyIcon.source="icon/item/"+c;var p=e.DataManager.playerModel.getItemCount(c);this.costMoneyLabel.text=e.setNumber(p)+"/"+e.setNumber(h),this._moneyAchieve=p>=h,this._costItems.push({type:c,count:h})}else this._moneyAchieve=!0,this.costMoneyIcon.visible=this.costMoneyLabel.visible=!1;this.costItemGroup.removeChildren(),this._itemAchieve=!0;for(var g=e.splitStringToNumberArray(n.upItem),d=0;d<g.length;d++){this._costItemIconList[d]||(this._costItemIconList[d]=new e.TeamEvaluationItem);var c=g[d][0],h=Math.ceil(g[d][1]*o.AdvancedPricePer);this._costItemIconList[d].setData(c,h),this._costItems.push({type:c,count:h}),this._costItemIconList[d].achieve||(this._itemAchieve=!1),this.costItemGroup.addChild(this._costItemIconList[d])}this.point.visible=this._itemAchieve&&this._levelAchieve&&this._loveLevelAchieve&&this._moneyAchieve}}}else if(n.upElfSp&&!n.sotpGrow){this.advancedBar.maximum=1,this.advancedBar.value=1,this.progressLabel.text="1/1";for(var m=e.splitStringToNumberArray(n.upElfSp),f=n.upItemSp.split(":"),_=[],d=0;d<f.length;d++)_.push(e.splitStringToNumberArray(f[d]));for(var y=e.splitStringToNumberArray(n.upLvSp),v=e.splitStringToNumberArray(n.upLoveLvSp),b=e.splitStringToNumberArray(n.upPriceSp),d=0;d<m.length;d++)this._specialEva.push({needItems:_[d],needLevel:y[d],needLove:v[d],needPrice:b[d],pokemonId:m[d]});this._currentIndex=0,this.updateSpecial(),this.maxLabel.visible=!1}else n.advance?(this.confirmButton.lock=!1,this._isSuper=!0,this.superGroup.visible=!0,this.updateSuper(),this.evalConditionGroup.visible=!0):(this.point.visible=!1,this.noneLabel.visible=!0,this.evaluationAttribute.visible=!1,this.maxLabel.visible=!0,this.evalConditionGroup.visible=!1,this.confirmButton.lock=!0,this.nextBattlePowerGroup.visible=!1,this.currentBattlePowerGroup.visible=!1,this.costItemGroup.removeChildren());this.levelLabel.textColor=this._levelAchieve?gameConfig.TextColors.green:gameConfig.TextColors.red,this.loveLabel.textColor=this._loveLevelAchieve?gameConfig.TextColors.green:gameConfig.TextColors.red,this.costMoneyLabel.textColor=this._moneyAchieve?gameConfig.TextColors.green:gameConfig.TextColors.red,this.updateArrow()},n.prototype.updateSuper=function(){this.evalConditionGroup.visible=!1;var t=this._currentPokemonInfo.advance,n=e.Data.TREvolveUp[t];if(n){this.superStarGroup.removeChildren(),this.superLevelLabel.text=n.stage.toString();for(var i=0;i<n.level;i++){var a=new eui.Image("ui/scene/team/cjh");this.superStarGroup.addChild(a)}if(this.costItemGroup.removeChildren(),this.maxLabel.visible=!1,n.costItem){this._loveLevelAchieve=!0,this._levelAchieve=!0;var o=e.splitStringToNumberArray(n.price,";");this.costMoneyIcon.source="icon/item/"+o[0],this.costMoneyLabel.text=e.setNumber(o[1]);var s=e.DataManager.playerModel.getItemCount(o[0]);this._moneyAchieve=s>=o[1],this.costMoneyLabel.textColor=this._moneyAchieve?gameConfig.TextColors.green:gameConfig.TextColors.red,this._itemAchieve=!0;for(var r=e.splitStringToNumberArray(n.costItem),i=0;i<r.length;i++)this._costItemIconList[i]||(this._costItemIconList[i]=new e.TeamEvaluationItem),this._costItemIconList[i].setData(r[i][0],r[i][1]),this._costItems.push({type:r[i][0],count:r[i][1]}),this._costItemIconList[i].achieve||(this._itemAchieve=!1),this.costItemGroup.addChild(this._costItemIconList[i]);var u=e.copyObject(this._currentPokemonInfo);u.advance=t+1;var l=e.parseBattlePokemonData(u,this._currentBattleData.formation,this._currentBattleData.grid);this.evaluationAttribute.setData(l),this.nextBattlePowerLabel.text=e.countPokemonBattleCount(l).toString(),this.confirmButton.image="ui/scene/team/Tx_jief",this.confirmButton.bg="ui/scene/team/Btn_05",this.point.visible=this._itemAchieve&&this._levelAchieve&&this._loveLevelAchieve&&this._moneyAchieve,this.itemBg.visible=!0}else this.evaluationAttribute.visible=this.confirmButton.visible=this.point.visible=!1,this.maxLabel.visible=!0,this.itemBg.visible=!1,this.nextBattlePowerGroup.visible=!1,this.currentBattlePowerGroup.visible=!1,this.confirmButton.lock=!0}},n.prototype.updateSpecial=function(){this._costItems=[];var t=this._specialEva[this._currentIndex],i=e.copyObject(this._currentPokemonInfo);i.type=t.pokemonId;var a;if(a=e.parseBattlePokemonData(i,this._currentBattleData.formation,this._currentBattleData.grid),this.evaluationAttribute.setData(a),this.nextBattlePowerLabel.text=e.countPokemonBattleCount(a).toString(),t.needLevel?(this.levelLabel.text=i.lv+"/"+t.needLevel,this._levelAchieve=i.lv>=t.needLevel):(this._levelAchieve=!0,this.levelLabel.text=""),t.needLove?(this.loveIcon.visible=this.loveLabel.visible=!0,this.loveLabel.text=i.intimacyLv+"/"+t.needLove,this._loveLevelAchieve=i.intimacyLv>=t.needLove):(this.loveIcon.visible=this.loveLabel.visible=!1,this._loveLevelAchieve=!0),t.needPrice){var o=t.needPrice[0],s=t.needPrice[1];this.costMoneyIcon.source="icon/item/"+o;var r=e.DataManager.playerModel.getItemCount(o);this.costMoneyLabel.text=e.setNumber(r)+"/"+e.setNumber(s),this._moneyAchieve=r>=s,this._costItems.push({type:o,count:s})}else this._moneyAchieve=!0,this.costMoneyIcon.visible=this.costMoneyLabel.visible=!1;this.costItemGroup.removeChildren(),this._itemAchieve=!0;for(var u=t.needItems,l=0;l<u.length;l++)this._costItemIconList[l]||(this._costItemIconList[l]=new e.TeamEvaluationItem),this._costItemIconList[l].setData(u[l][0],u[l][1]),this._costItems.push({type:u[l][0],count:u[l][1]}),this._costItemIconList[l].achieve||(this._itemAchieve=!1),this.costItemGroup.addChild(this._costItemIconList[l]);e.NotificationCenter.getInstance().postNotification(n.CHANGE_EVALUATION,t.pokemonId),this.point.visible=this._itemAchieve&&this._levelAchieve&&this._loveLevelAchieve&&this._moneyAchieve},n.prototype.updateArrow=function(){return 0==this._specialEva.length?void(this.rightArrow.visible=this.leftArrow.visible=!1):(this.leftArrow.visible=this._currentIndex>0,void(this.rightArrow.visible=this._currentIndex<this._specialEva.length-1))},n.prototype.create=function(){e.updateTeach(this.type)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.CHANGE_EVALUATION="TeamEvaluation_CHANGE_EVALUATION",n}(e.GameComponent);e.TeamEvaluation=t,__reflect(t.prototype,"game.TeamEvaluation",["game.TeamTrainDetailPanel"])}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.skinName=TeamEvaluationItemSkin,n.touchChildren=!1,n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){if(n.itemIcon&&n.itemIcon.itemData){var t=e.ItemInfoPanel.getInstance();t.setData(n.itemIcon.itemData),t.show()}},n),n}return __extends(n,t),n.prototype.setData=function(t,n){this.itemIcon.item={type:t,count:0},this.nameLabel.text=this.itemIcon.itemData.name;var i=e.DataManager.playerModel.getItemCount(t);this.countLabel.text=i+"/"+n,this.achieve=i>=n,this.countLabel.textColor=this.achieve?gameConfig.TextColors.green:gameConfig.TextColors.red},n}(e.GameComponent);e.TeamEvaluationItem=t,__reflect(t.prototype,"game.TeamEvaluationItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=TeamEvaluationResultSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.confirmButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},n.prototype.create=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:return i=this,[4,e.getPokemonArtTexture(t)];case 1:return i._originTexture=r.sent(),a=this,[4,e.getPokemonArtTexture(n)];case 2:return a._nextTexture=r.sent(),[4,e.loadGroup("evaluation")];case 3:return r.sent(),this._bone?[3,5]:(o=this,[4,e.getBone("jinhua")]);case 4:o._bone=r.sent(),this.boneGroup.addChild(this._bone),r.label=5;case 5:return this._bone1?[3,7]:(s=this,[4,e.getBone("wucaiguang")]);case 6:s._bone1=r.sent(),this.bone1Group.addChild(this._bone1),r.label=7;case 7:return this.textImage.source="langs/gongxijinhuachengle",this.textImage.visible=!1,this.bone1Group.visible=!1,this.rotationImage.visible=!1,this.boneGroup.visible=!0,this.pokemonArtImage.source=this._originTexture,this.bgRect.alpha=0,this.confirmButton.visible=!1,this.pokemonArtImage.scaleX=this.pokemonArtImage.scaleY=1.5,[2]}})})},n.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t,n=this;return __generator(this,function(i){return t=e.defer(),this._bone.play(null,1),egret.Tween.get(this.bgRect).to({alpha:1},1e3).call(function(){n.pokemonArtImage.source=n._nextTexture}).wait(1e3).to({alpha:0},800).call(function(){n._bone1.play(null,0),n.textImage.visible=!0,n.bone1Group.visible=!0,n.rotationImage.visible=!0,effectUtils.rotationEffect(n.rotationImage,5e3),n._bone.stop(),n.confirmButton.visible=!0,n.boneGroup.visible=!1,t.resolve(null)}),[2,t.promise()]})})},n.prototype.closeHandle=function(){e.removePopUp(this),this._bone.stop(),this._bone1.stop(),effectUtils.removeRotationEffect(this.rotationImage)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.TeamEvaluationResult=t,__reflect(t.prototype,"game.TeamEvaluationResult")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.type=45,n._itemEnough=!1,n._moneyEnough=!1,n._lockState=[],n._baseCount=Number(e.Constants.dIVDiamondRefreshCount),n._canRefresh=!0,n.skinName=TeamIVPanelSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.lockButton0.name="0",this.lockButton1.name="1",this.lockButton2.name="2",this.lockButton3.name="3",this.lockButton4.name="4",this.lockButton5.name="5",this.itemButton.image="ui/scene/team/Tx_putxl",this.diamondButton.image="ui/scene/team/Tx_zuansxl",this.diamondButton.bg="ui/scene/team/Btn_05",this.saveButton.label=e.Lang.baocun;var t=e.Constants.IVCostItem.split(";");this.costItem={type:Number(t[0]),count:Number(t[1])},this.costItemIcon.source="icon/item/"+this.costItem.type;var n=e.Constants.IVCostDiamond.split(";");this.costMoney={type:Number(n[0]),count:Number(n[1])},this.costDiamondIcon.source="icon/item/"+this.costMoney.type,this.costItemLabel.text=e.DataManager.playerModel.getItemCount(this.costItem.type)+"/"+this.costItem.count,this.costDiamondLabel.text=e.DataManager.playerModel.getItemCount(this.costMoney.type)+"/"+this.costMoney.count,this._touchEvent=[{target:this.itemButton,callBackFunc:this.refreshPokemon},{target:this.diamondButton,callBackFunc:this.refreshPokemon},{target:this.saveButton,callBackFunc:this.savePokemon},{target:this.costGroup1,callBackFunc:this.touchCost},{target:this.costGroup2,callBackFunc:this.touchCost},{target:this.lockButton0,callBackFunc:this.touchLock},{target:this.lockButton1,callBackFunc:this.touchLock},{target:this.lockButton2,callBackFunc:this.touchLock},{target:this.lockButton3,callBackFunc:this.touchLock},{target:this.lockButton4,callBackFunc:this.touchLock},{target:this.lockButton5,callBackFunc:this.touchLock}],this.addEventAndNotify(),this._lockState=[],this.updateLock()},n.prototype.touchLock=function(e){var t=Number(e.name),n=this._lockState.indexOf(t);n>-1?this._lockState.splice(n,1):this._lockState.push(t),egret.localStorage.setItem("ivLockState_"+this._currentPokemonInfo.id,this._lockState.toString()),this.updateLock()},n.prototype.touchCost=function(){var t=e.ItemInfoPanel.getInstance();t.setData(e.Data.TItem[this.costItem.type]),t.show()},n.prototype.refreshPokemon=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return 6==this._lockState.length?(e.showTips(e.Lang.ninzhishaoxuyaoxuanzeyixiangshuxingxilian,!0),[2]):t!=this.itemButton||this._itemEnough?t!=this.diamondButton||this._moneyEnough?t!=this.diamondButton||this._canRefresh?(this.touchChildren=!1,t==this.itemButton?(n=1,i=this.costItem):(n=2,i=this.costMoney),[4,e.DataManager.playerModel.refreshPokemon(this._currentPokemonInfo,n,i,this._lockState)]):(e.showTips(e.Lang.jinricishuyiyongwanqingmingtianzailai,!0),[2]):(e.showTips(e.Lang.nindehuobibuzu,!0),[2]):(e.showTips(e.Lang.nindedaojubuzu,!0),[2]);case 1:return a=o.sent(),a&&(this.updateOwnItem(),this.setFreshStats(a)),this.touchChildren=!0,[2]}})})},n.prototype.setFreshStats=function(e){this.freshStats=e,this._currentPokemonInfo.iv=e,this.needSave=!0;var t=e,n=t.hp+t.atk+t.spAtk+t.def+t.spDef+t.speed;this.totalIVLabel.text=n.toString(),this.attributeDetail.setFreshIVData(e,this._currentPokemonInfo)},n.prototype.resetLock=function(){this.updateLock()},n.prototype.savePokemon=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},n.prototype.cancelSave=function(){this.freshStats=null,this.needSave=!1},n.prototype.create=function(){e.updateTeach(this.type),this.updateOwnItem()},n.prototype.updateOwnItem=function(){if(this._currentPokemonInfo){var t=this._currentPokemonInfo.iv,n=t.hp+t.atk+t.spAtk+t.def+t.spDef+t.speed;this.totalIVLabel.text=n.toString()}var i=2*this._lockState.length+1,a=e.DataManager.playerModel.getItemCount(this.costItem.type);if(this._itemEnough=a>=this.costItem.count*i,this._moneyEnough=e.DataManager.playerModel.diamond>=this.costMoney.count*i,this._baseCount){var o=e.Data.TVip[e.DataManager.playerModel.playerVip].AddIVTimes||0,s=o+this._baseCount-e.DataManager.playerModel.extension.dIVCount;this.limitLabel.text=""+s,this._canRefresh=s>0}else this.limitLabel.visible=!1,this._canRefresh=!0;this.costItemLabel.text=e.DataManager.playerModel.getItemCount(this.costItem.type)+"/"+this.costItem.count*i,this.costDiamondLabel.text=e.DataManager.playerModel.getItemCount(this.costMoney.type)+"/"+this.costMoney.count*i},n.prototype.setPokemon=function(t,n,i){this._currentPokemonInfo=t;var a=this._currentPokemonInfo.iv,o=a.hp+a.atk+a.spAtk+a.def+a.spDef+a.speed;this.totalIVLabel.text=o.toString(),this.attributeDetail.setInfo(t,!1);var s=egret.localStorage.getItem("ivLockState_"+this._currentPokemonInfo.id);s?this._lockState=e.splitStringToNumberArray(s,","):this._lockState=[],this.updateOwnItem()},n.prototype.updateLock=function(){this.lockButton0.icon=this.lockButton1.icon=this.lockButton2.icon=this.lockButton3.icon=this.lockButton4.icon=this.lockButton5.icon="ui/scene/team/UI_icon_suo02";for(var t=0;t<this._lockState.length;t++){var n=this._lockState[t];this["lockButton"+n].icon="ui/scene/team/UI_icon_suo01"}var i=2*this._lockState.length+1,a=e.DataManager.playerModel.getItemCount(this.costItem.type);this._itemEnough=a>=this.costItem.count*i,this._moneyEnough=e.DataManager.playerModel.diamond>=this.costMoney.count*i,this.costItemLabel.text=e.DataManager.playerModel.getItemCount(this.costItem.type)+"/"+this.costItem.count*i,this.costDiamondLabel.text=e.DataManager.playerModel.getItemCount(this.costMoney.type)+"/"+this.costMoney.count*i},n.prototype.save=function(){this.freshStats&&(e.DataManager.playerModel.savePokemonIV(this._currentPokemonInfo,this.freshStats),this.freshStats=null)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.GameComponent);e.TeamIVPanel=t,__reflect(t.prototype,"game.TeamIVPanel",["game.TeamTrainDetailPanel"])}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t}return __extends(t,e),t.prototype.setType=function(e,t){this.typeImage.source=e},t.prototype.setCount=function(e){this.countLabel.text=e},t}(e.EffectButton);e.TeamLabelButton=t,__reflect(t.prototype,"game.TeamLabelButton")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.type=41,e._timeOut=null,e._currentBar=1,e._max=!1,e.skinName=TeamLevelPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.levelUpTenButton.image="ui/scene/team/Tx_shensj",this.levelUpButton.image="ui/scene/team/Tx_shenj",this._touchEvent=[{target:this.levelUpButton,callBackFunc:this.levelUpHandle},{target:this.levelUpTenButton,callBackFunc:this.levelUpHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateTotalExp,notifyName:e.PlayerModel.EXP_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateGold,notifyName:e.PlayerModel.GOLD_UPDATE,execute:!0}],this.showUI_jt(),this.addEventAndNotify()},n.prototype.showUI_jt=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._UI_jt01Bone?[3,2]:(t=this,[4,e.getBone("UI_jt01")]);case 1:t._UI_jt01Bone=n.sent(),this.UI_jt01Group.addChildAt(this._UI_jt01Bone,0),n.label=2;case 2:return this._UI_jt01Bone.play(null,0),[2]}})})},n.prototype.stop=function(){this._UI_jt01Bone&&this._UI_jt01Bone.stop()},n.prototype.onShow=function(){this.showUI_jt()},n.prototype.levelUpHandle=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return e.DataManager.playerModel.maxPokemonLevel<=this.currentPokemonInfo.lv?(e.showTips(e.Lang.huodegengduodehuizhangketigaobaokemengdengjishangxiano,!0),[2]):this._max?(e.showTips(e.Lang.nindebaokemengyidadaozuigaodengji,!0),[2]):this.getLimitPKLevel()<=this.currentPokemonInfo.lv?(e.showTips(e.Lang.pkLevelReachStarLimit,!0),[2]):(this.levelUpTenButton.touchEnabled=this.levelUpButton.touchEnabled=!1,t!=this.levelUpButton?[3,2]:[4,e.DataManager.playerModel.upPokemonLevel(this.currentPokemonInfo,1)]);case 1:return n.sent(),[3,4];case 2:return t!=this.levelUpTenButton?[3,4]:[4,e.DataManager.playerModel.upPokemonLevel(this.currentPokemonInfo,10)];case 3:n.sent(),n.label=4;case 4:return this.levelUpTenButton.touchEnabled=this.levelUpButton.touchEnabled=!0,[2]}})})},n.prototype.updateTotalExp=function(){var t=e.DataManager.playerModel.exp;this.totalExpLabel.text=t.toString()},n.prototype.updateGold=function(){},n.prototype.create=function(){e.updateTeach(this.type),this.runBarAnim()},n.prototype.getLimitPKLevel=function(){return Math.min(e.Data.TElfStarUp[this.currentPokemonInfo.star].leverCap,e.DataManager.playerModel.maxPokemonLevel)},n.prototype.setPokemon=function(t,n,i){if(t){this.currentPokemonInfo=t,this.currentAttribute.setData(i),this.currentBattlePowerLabel.text=e.countPokemonBattleCount(i).toString(),this.currentLevelLabel.text=t.lv+"/"+this.getLimitPKLevel();var a=e.Data.TElfLevel[t.lv];if(a.exp){this._max=!1,this.totalExpDetailLabel.text=e.setNumber(t.exp)+"/"+e.setNumber(a.exp),this.currentExpBar.maximum=a.exp,this.currentExpBar.value=t.exp,this.nextLevelGroup.visible=!0,this.currentLevelGroup.x=0,this.nextLevelLabel.text=t.lv+1+"/"+this.getLimitPKLevel();var o=e.parseBattlePokemonData(t,i.formation,i.grid,!0);this.nextBattlePowerLabel.text=e.countPokemonBattleCount(o).toString(),this.nextAttribute.setData(o),this.point.visible=e.checkPokemonCanLevelUp(t);var s=a.money||0;this.levelUpLabel.text=""+e.setNumber(s),this.levelUpLabel.textColor=e.DataManager.playerModel.gold>=s?gameConfig.TextColors.green:gameConfig.TextColors.red,s=0;for(var r=0;10>r;r++){var u=e.Data.TElfLevel[t.lv+r];u&&u.money&&(s+=u.money)}this.levelUpTenLabel.text=""+e.setNumber(s),this.levelUpTenLabel.textColor=e.DataManager.playerModel.gold>=s?gameConfig.TextColors.green:gameConfig.TextColors.red}else this._max=!0,this.totalExpDetailLabel.text=e.Lang.yimanji,this.currentExpBar.maximum=1,this.currentExpBar.value=1,this.nextLevelGroup.visible=!1,this.currentLevelGroup.x=178,this.point.visible=!1}},n.prototype.runBarAnim=function(){var e=this;null==this._timeOut&&(this.totalExpBar.source="ui/scene/team/progress"+this._currentBar,this._timeOut=egret.setTimeout(function(){e._timeOut=null,e._currentBar++,e._currentBar>4&&(e._currentBar=1),e.runBarAnim()},this,150))},n.prototype.onRemove=function(){null!=this._timeOut&&(egret.clearTimeout(this._timeOut),this._timeOut=null)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.GameComponent);e.TeamLevelPanel=t,__reflect(t.prototype,"game.TeamLevelPanel",["game.TeamTrainDetailPanel"])}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=TeamLoveAttributeSkin,e}return __extends(n,t),n.prototype.setData=function(t){this.levelLabel.text=""+t.level,this.attGroup.removeChildren(),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_mingzdj",1e3*t.hit)),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_shanbdj",1e3*t.evade)),this.attGroup.addChild(e.TeamAttributeItem.GetTeamAttributeItem("Tx_baojdj",1e3*t.critChance))},n}(e.GameComponent);e.TeamLoveAttribute=t,__reflect(t.prototype,"game.TeamLoveAttribute")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=TeamLoveItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.oneButton,callBackFunc:this.oneHandle},{target:this.tenButton,callBackFunc:this.tenHandle}],this.addEventAndNotify()},n.prototype.oneHandle=function(){var t=this.itemIcon.itemInfo;this._isAdd?e.NotificationCenter.getInstance().postNotification(e.TeamAddLovePanel.SELECT_ITEM,{type:t.type,count:1}):e.NotificationCenter.getInstance().postNotification(e.TeamAddLovePanel.CANCEL_SELECT_ITEM,{type:t.type,count:1})},n.prototype.tenHandle=function(){var t=this.itemIcon.itemInfo,n=Math.min(t.count,10);this._isAdd?e.NotificationCenter.getInstance().postNotification(e.TeamAddLovePanel.SELECT_ITEM,{type:t.type,count:n}):e.NotificationCenter.getInstance().postNotification(e.TeamAddLovePanel.CANCEL_SELECT_ITEM,{type:t.type,count:n})},n.prototype.setItem=function(e,t){this._isAdd=t,this.itemIcon.item=e;var n=this.itemIcon.itemData;this.nameLabel.text=n.name,this.loveAddCountLabel.text=n.number1.toString(),t?(this.oneButton.image="langs/jia1",this.tenButton.image="langs/jia10"):(this.oneButton.image="langs/jian1",this.tenButton.image="langs/jian10")},Object.defineProperty(n.prototype,"totalLove",{get:function(){return this.itemIcon.itemData.number1*this.itemIcon.itemInfo.count},enumerable:!0,configurable:!0}),n.prototype.onDestroy=function(){this.removeFromParent()},n}(e.GameComponent);e.TeamLoveItem=t,__reflect(t.prototype,"game.TeamLoveItem",["game.PoolItem"])}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.type=42,n._itemIconPool=new e.ObjectPool(e.ItemIcon),n.skinName=TeamLovePanelSkin,n.init(),n}return __extends(n,t),n.prototype.init=function(){this.confirmButton.image="ui/scene/team/Tx_weiy",this.autoAddButton.image="ui/scene/team/Tx_yijtj",this.autoAddButton.imageDisplay.scaleX=this.autoAddButton.imageDisplay.scaleY=.9,this.costMoneyLabel.text="0",this.totalExpLabel.text="0",this._touchEvent=[{target:this.addItemButton,callBackFunc:this.touchAddButton},{target:this.autoAddButton,callBackFunc:this.touchAutoAddButton},{target:this.confirmButton,callBackFunc:this.confirmFeed}],this.showUI_jt(),this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.setSelectItem,n.ADD_LOVE_ITEM),this.setSelectItem([])
},n.prototype.showUI_jt=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._UI_jt01Bone?[3,2]:(t=this,[4,e.getBone("UI_jt01")]);case 1:t._UI_jt01Bone=n.sent(),this.UI_jt01Group.addChildAt(this._UI_jt01Bone,0),n.label=2;case 2:return this._UI_jt01Bone.play(null,0),[2]}})})},n.prototype.touchAddButton=function(){var t=e.TeamAddLovePanel.getInstance();t.setSelectItem(this._selectItemList),t.show()},n.prototype.touchAutoAddButton=function(){if(!this._totalNeedLove)return void e.showTips(e.Lang.nindebaokemengdeqinmiduyiman,!0);var t=e.DataManager.playerModel.getItemListByItemType(4);if(0==t.length)return void e.showTips(e.Lang.nindedaojubuzu,!0);var i=Math.floor(e.DataManager.playerModel.gold/n.everyLoveCostMoneyCount),a=Math.min(this._totalNeedLove,i);if(e.checkCanBuy({type:1,count:a})){t=t.sort(function(t,n){return e.Data.TItem[t.type].number1>e.Data.TItem[n.type].number1?1:-1});for(var o=e.DataManager.playerModel.gold,s=0,r=[],u=0;u<t.length;u++){for(var l=e.Data.TItem[t[u].type].number1,c=0,h=0;h<t[u].count&&(s+=l,o>=s*n.everyLoveCostMoneyCount)&&(c++,a-=l,!(0>=a));h++);if(c>0&&r.push({type:t[u].type,count:c}),0>=a)break}this.setSelectItem(r)}},n.prototype.confirmFeed=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._currentPokemonInfo.intimacyLv>=this._currentPokemonInfo.lv?(e.showTips(e.Lang.baokemengpinmidudengjidadaoshangxian,!0),[2]):this._moneyEnough?(this.confirmButton.touchEnabled=!1,[4,e.DataManager.playerModel.upgradePokemonLove(this._currentPokemonInfo,this._selectItemList)]):(e.showTips(e.Lang.nindehuobibuzu,!0),[2]);case 1:return t=n.sent(),t&&this.setSelectItem([]),this.confirmButton.touchEnabled=!0,this.updatePoint(),[2]}})})},n.prototype.create=function(){e.updateTeach(this.type)},n.prototype.onRemove=function(){},n.prototype.updateMoney=function(){this.setSelectItem(this._selectItemList)},n.prototype.setSelectItem=function(t){this._selectItemList=t,this._itemIconPool.destroyAllObject();for(var i=0,a=0;a<t.length;a++){var o=this._itemIconPool.createObject();o.item=t[a],i+=o.itemData.number1*o.itemInfo.count,this.costItemGroup.addChild(o)}var s=e.DataManager.playerModel.gold,r=n.everyLoveCostMoneyCount*i;this._moneyEnough=s>=r,this.costMoneyLabel.text=r+"/"+s,this.costMoneyLabel.textColor=this._moneyEnough?gameConfig.TextColors.green:gameConfig.TextColors.red,this.totalExpLabel.text=""+i,this.updatePoint()},n.prototype.stop=function(){this._UI_jt01Bone&&this._UI_jt01Bone.stop()},n.prototype.onShow=function(){this.showUI_jt()},n.prototype.setPokemon=function(t,n,i){this._currentPokemonInfo=t;var a=t.intimacyLv||1,o=e.Data.TElfLove[a];o.exp?(this.currentAttribute.x=59,this.nextGroup.visible=!0,this.currentAttribute.setData(o),this.nextAttribute.setData(e.Data.TElfLove[a+1]),this.currentExpDetailLabel.text=t.intimacy+"/"+o.exp,this.currentExpBar.maximum=o.exp,this.currentExpBar.value=t.intimacy,this._totalNeedLove=o.exp-t.intimacy,this.maxLabel.visible=!1,this.confirmButton.lock=!1):(this.currentAttribute.setData(o),this.nextGroup.visible=!1,this.currentExpDetailLabel.text=e.Lang.yimanji,this.currentExpBar.maximum=1,this.currentExpBar.value=1,this._totalNeedLove=0,this.maxLabel.visible=!0,this.confirmButton.lock=!0),this.updateMoney(),this.updatePoint()},n.prototype.updatePoint=function(){this.usePoint.visible=this.addPoint.visible=!1,e.TeamTrainPanel.getInstance().lovePoint.visible&&(this._selectItemList.length>0?(this.usePoint.visible=!0,this.addPoint.visible=!1):(this.usePoint.visible=!1,this.addPoint.visible=!0))},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.ADD_LOVE_ITEM="TeamLovePanel_ADD_LOVE_ITEM",n.everyLoveCostMoneyCount=Number(e.Constants.eachLoveNeedGold),n}(e.GameComponent);e.TeamLovePanel=t,__reflect(t.prototype,"game.TeamLovePanel",["game.TeamTrainDetailPanel"])}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=NatureItemSkin,e}return __extends(n,t),n.prototype.setData=function(t){this.natureData=t,this.nameLabel.text=e.Lang.xingge+": "+t.name,this.addLabel.visible=this.minusLabel.visible=!1,t.atk&&(t.atk>0?(this.addLabel.visible=!0,this.addLabel.text=e.Lang.wugong+"+"+100*t.atk+"%"):(this.minusLabel.visible=!0,this.minusLabel.text=""+e.Lang.wugong+100*t.atk+"%")),t.atkSp&&(t.atkSp>0?(this.addLabel.visible=!0,this.addLabel.text=e.Lang.tegong+"+"+100*t.atkSp+"%"):(this.minusLabel.visible=!0,this.minusLabel.text=""+e.Lang.tegong+100*t.atkSp+"%")),t.def&&(t.def>0?(this.addLabel.visible=!0,this.addLabel.text=e.Lang.wufang+"+"+100*t.def+"%"):(this.minusLabel.visible=!0,this.minusLabel.text=""+e.Lang.wufang+100*t.def+"%")),t.defSp&&(t.defSp>0?(this.addLabel.visible=!0,this.addLabel.text=e.Lang.tefang+"+"+100*t.defSp+"%"):(this.minusLabel.visible=!0,this.minusLabel.text=""+e.Lang.tefang+100*t.defSp+"%")),t.spe&&(t.spe>0?(this.addLabel.visible=!0,this.addLabel.text=e.Lang.sudu+"+"+100*t.spe+"%"):(this.minusLabel.visible=!0,this.minusLabel.text=""+e.Lang.sudu+100*t.spe+"%"))},n}(e.GameComponent);e.TeamNatureItem=t,__reflect(t.prototype,"game.TeamNatureItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._natureItemList=[],e._natureNum=25,e.skinName=TeamNaturePanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.image="langs/Tx_xixingge";var t=e.splitStringToNumberArray(e.Constants.charaItem,";");this._natureCostItem={type:t[0],count:t[1]},this.costIcon.source="icon/item/"+this._natureCostItem.type,this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.leftArrowButton,callBackFunc:this.touchArrow},{target:this.rightArrowButton,callBackFunc:this.touchArrow},{target:this.confirmButton,callBackFunc:this.touchConfirm},{target:this.costItemGroup,callBackFunc:this.touchCost}],this.addEventAndNotify();for(var n=0;4>n;n++){var i=new e.TeamNatureItem;this._natureItemList.push(i),this.natureGroup.addChild(i)}this.natureGroup.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this)},n.prototype.touchCost=function(){var t=e.ItemInfoPanel.getInstance();t.setData(e.Data.TItem[this._natureCostItem.type]),t.show()},n.prototype.onTouchBegin=function(e){this.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchCancle,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),this._touchY=e.stageY},n.prototype.onTouchCancle=function(e){var t=e.currentTarget;t.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchCancle,this),t.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this)},n.prototype.onStageTouchEnd=function(e){var t=e.currentTarget;t.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchCancle,this),t.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this);var n=e.stageY;n>this._touchY?this.round():this.round(200,!1)},n.prototype.touchConfirm=function(){var t=this;if(!this._canRefresh)return void e.showTips(e.Lang.nindedaojubuzu,!0);var n=e.CheckPanel.getInstance();n.setData(e.Lang.ninquedingyaogaibiandangqianbaokemengdexinggema,function(n){return __awaiter(t,void 0,void 0,function(){var t,i;return __generator(this,function(a){switch(a.label){case 0:return n?[4,e.DataManager.playerModel.refreshPokemonNature(this._currentPokemonInfo,this._natureCostItem)]:[3,6];case 1:t=a.sent(),i=0,a.label=2;case 2:return i<this._natureNum?[4,this.round()]:[3,5];case 3:if(a.sent(),this._currentNatureIndex==t)return[3,5];a.label=4;case 4:return i++,[3,2];case 5:this.setCurrentPokemon(this._currentPokemonInfo),a.label=6;case 6:return[2]}})})}),n.show()},n.prototype.round=function(t,n){var i=this;void 0===t&&(t=200),void 0===n&&(n=!0);var a=e.defer();if(this.stage.touchChildren=!1,n){this._currentNatureIndex=this._natureItemList[1].natureData.id;for(var o=0;o<this._natureItemList.length;o++){var s=this._natureItemList[o],r=126*o-126,u=.7;if(1==o)u=1;else if(0==o){var l=this._currentNatureIndex-1;0>=l&&(l=this._natureNum+l),l>this._natureNum&&(l-=this._natureNum);var c=e.Data.TElfXingGe[l];s.setData(c),s.verticalCenter=-252,r=-126,s.scaleX=s.scaleY=.3}else 3==o&&(u=.3);egret.Tween.get(s).to({verticalCenter:r,scaleX:u,scaleY:u},t).call(function(){i.setNatureItem(),a.resolve(null),i.stage.touchChildren=!0})}}else{this._currentNatureIndex=this._natureItemList[3].natureData.id;for(var o=0;o<this._natureItemList.length;o++){var s=this._natureItemList[o],r=126*(o-2)-126,u=.7;if(3==o)u=1;else if(0==o){var l=this._currentNatureIndex+1;0>=l&&(l=this._natureNum+l),l>this._natureNum&&(l-=this._natureNum);var c=e.Data.TElfXingGe[l];s.setData(c),s.verticalCenter=252,r=126,s.scaleX=s.scaleY=.3}else 1==o&&(u=.3);egret.Tween.get(s).to({verticalCenter:r,scaleX:u,scaleY:u},t).call(function(){i.setNatureItem(),a.resolve(null),i.stage.touchChildren=!0})}}return a.promise()},n.prototype.touchArrow=function(e){e==this.rightArrowButton?this._currentIndex++:e==this.leftArrowButton&&this._currentIndex--,this.setCurrentPokemon(this._pokemonList[this._currentIndex])},n.prototype.setCurrentPokemon=function(t){this._currentPokemonInfo=t;var n=e.Data.TElf[t.type];this._currentPokemonData=n;var i=0,a=0;if(0==t.slot){var o=e.DataManager.playerModel.getPlayerGridConfigById(t.id);i=o.formation,a=o.grid}var s=e.parseBattlePokemonData(t,i,a);this._currentPokemonBattleData=s,this.artPokemon.setData(t,n,s),this._pokemonList=e.DataManager.playerModel.playerTeamPokemonList,this._currentIndex=this._pokemonList.indexOf(t),this.updateArrowDisplay(),this._currentNatureIndex=this._currentPokemonInfo.nature,this.setNatureItem();var r=e.DataManager.playerModel.getItemCount(this._natureCostItem.type);this.costCountLabel.text=r+"/"+this._natureCostItem.count,r>=this._natureCostItem.count?(this._canRefresh=!0,this.costCountLabel.textColor=gameConfig.TextColors.green):(this._canRefresh=!1,this.costCountLabel.textColor=gameConfig.TextColors.red)},n.prototype.setNatureItem=function(){for(var t=this._currentNatureIndex,n=0;n<this._natureItemList.length;n++){var i=this._natureItemList[n];i.horizontalCenter=0,i.verticalCenter=126*n-252;var a=t+(n-2);0>=a&&(a=this._natureNum+a),a>this._natureNum&&(a-=this._natureNum);var o=e.Data.TElfXingGe[a];i.setData(o),2==n?(i.scaleX=i.scaleY=1,i.nameLabel.y=10,a==this._currentPokemonInfo.nature?i.curNature.source="ui/common/button/btn_13_select":i.curNature.source="ui/common/button/btn_13"):i.scaleX=i.scaleY=.7}},n.prototype.updateArrowDisplay=function(){this._currentIndex<0?this.leftArrowButton.visible=this.rightArrowButton.visible=!1:(this.leftArrowButton.visible=this._currentIndex>0,this.rightArrowButton.visible=this._currentIndex!=this._pokemonList.length-1)},n.prototype.closeHandle=function(){this.artPokemon.stop(),e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.TeamNaturePanel=t,__reflect(t.prototype,"game.TeamNaturePanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=TeamPokemonDetailSkin,e}return __extends(n,t),n.prototype.setPokemon=function(t,n,i,a,o,s){if(void 0===a&&(a=0),void 0===o&&(o=!1),void 0===s&&(s=!0),this.genderIcon.source=1==t.gender?"ui/scene/team/male":"ui/scene/team/female",this.setType(n),this._artPokemon||(this._artPokemon=new e.TeamArtPokemon,this._artPokemon.setScale(1.5),this.animGroup.addChild(this._artPokemon.display)),a){this._artPokemon.setPokemon(a,!1);var r=e.Data.TElf[a];this.nameLabel.text=r.name+"  LV."+t.lv,this.nameLabel.textColor=e.TeamBagPokemonIcon.textColor[r.quality];var u=e.copyObject(t);u.type=a,u.stage=0,this.battleLabel.text=""+e.countPokemonBattleCount(e.parseBattlePokemonData(u,i.formation,i.grid));var l=e.Data.TAbility[r.ability];this.abilityNameLabel.textFlow=e.parseColorText(l.name),this.abilityDetailLabel.textFlow=e.parseColorText(e.getAbilityText(l,t.star)),this.setType(r)}else if(this._artPokemon.setPokemon(n.id,!1),this.nameLabel.text=n.name+"  LV."+t.lv+" ",this.nameLabel.textColor=e.TeamBagPokemonIcon.textColor[n.quality],o){var u=e.copyObject(t);u.star++,this.battleLabel.text=""+e.countPokemonBattleCount(e.parseBattlePokemonData(u,i.formation,i.grid));var l=e.Data.TAbility[n.ability];this.abilityNameLabel.textFlow=e.parseColorText(l.name),this.abilityDetailLabel.textFlow=e.parseColorText(e.getAbilityText(l,u.star))}else{this.battleLabel.text=""+e.countPokemonBattleCount(i);var l=e.Data.TAbility[n.ability];this.abilityNameLabel.textFlow=e.parseColorText(l.name),this.abilityDetailLabel.textFlow=e.parseColorText(e.getAbilityText(l,t.star))}this.abilityGroup.visible=s},n.prototype.setType=function(e){var t=e.attribute;this.typeIcon2.visible=!1,this.typeIcon.x=71,this.typeIcon.source="icon/skillType/"+t,e.attribute2&&(this.typeIcon.x=51,this.typeIcon2.visible=!0,this.typeIcon2.source="icon/skillType/"+e.attribute2)},n.prototype.stop=function(){this._artPokemon&&this._artPokemon.stop()},n}(e.GameComponent);e.TeamPokemonDetail=t,__reflect(t.prototype,"game.TeamPokemonDetail")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._zhuanpan=Number(e.Constants.dailyZhuanPanFreeCount),n._sevenReward=[],n.skinName=ActivityIconSkin,n.touchChildren=!1,n}return __extends(n,t),n.prototype.setData=function(t){this.info=t,this.iconDisplay.source="ui/scene/activity/"+t.type+"_icon",e.isIos()&&(100==t.type||110==t.type)&&(this.iconDisplay.source="ui/scene/activity/"+t.type+"_icon_ios"),this.updatePoint()},n.prototype.updatePoint=function(){this.point.visible=!1;var t=e.DataManager.playerModel.getActivityInfo();switch(this.info.type){case 103:var n=e.DataManager.playerModel.getSuperCard();1==n&&(this.point.visible=!0);break;case 100:1==t.oneYuanRecharge&&(this.point.visible=!0);break;case 1:if(t.eventInfo.sevenLg.states.length<7)for(var i in e.Data.THuoSevenLg){var a=e.Data.THuoSevenLg[i];if(t.eventInfo.sevenLg.spend>=a.id&&t.eventInfo.sevenLg.states.indexOf(a.id)<0){this.point.visible=!0;break}}break;case 2:t.eventInfo.zp.mammonRabbit<this._zhuanpan&&(this.point.visible=!0);break;case 4:var o=0;for(var i in e.Data.THuoRechargeSum){var s=e.Data.THuoRechargeSum[i];if(t.eventInfo.sumRecharge.Recharge>=s.price&&0==(t.eventInfo.sumRecharge.State&1<<o)){this.point.visible=!0;break}}break;case 6:for(var r=e.Data.TFlashElf[1],u=!1,i=0;i<t.eventInfo.flashElf.states.length;i++)if(t.eventInfo.flashElf.states[i].count==r.Money){u=!0;break}!u&&t.eventInfo.flashElf.spent>=r.Money&&(this.point.visible=!0);break;case 5:var l=t.eventInfo.diamondSpend;for(var i in e.Data.TDiamondCon){for(var c=e.Data.TDiamondCon[i],h=!1,p=0;p<l.states.length;p++)if(l.states[p].count==c.Price){h=!0;break}if(!h&&l.spent>=c.Price){this.point.visible=!0;break}}break;case 107:var g=t.eventInfo.dailyDiamondSpend;for(var i in e.Data.TDailyCon){var d=e.Data.TDailyCon[i],m=!1;if(g.states.indexOf(d.ID)>-1&&(m=!0),!m&&g.spend>=d.Price){this.point.visible=!0;break}}break;case 108:var f=t.eventInfo.dailyRecharged;for(var i in e.Data.TDailyRecharge){var _=e.Data.TDailyRecharge[i],y=!1;if(f.states.indexOf(_.ID)>-1&&(y=!0),!y&&f.spend>=_.Price){this.point.visible=!0;break}}break;case 109:var v=t.eventInfo.playerLvReach.list;for(var i in e.Data.TLvaCtivity){var b=e.Data.TLvaCtivity[i],w=!1;if(-1!=v.indexOf(b.ID)&&(w=!0),!w&&e.DataManager.playerModel.playerLevel>=b.Lv){this.point.visible=!0;break}}break;case 110:var k=t.eventInfo.dailyRechargeGift;if(0==k.states.length)for(var i in e.Data.TRecharge49){var I=e.Data.TRecharge49[i];k.spend>=I.Price&&(this.point.visible=!0);break}break;case 112:var T=t.eventInfo.collent.collents;for(var i in e.Data.THuoCollent){for(var P=e.Data.THuoCollent[i],L=0,D=0;D<T.length;D++){var x=T[D];if(x.type==P.id){L=x.count;break}}if(L<P.countLimit){for(var C=e.splitStringToNumberArray(P.price),B=!0,S=0;S<C.length;S++){var x=C[S],E=e.DataManager.playerModel.getItemCount(x[0]);if(E<x[1]){B=!1;break}}if(B){this.point.visible=!0;break}}}break;case 113:var A=t.eventInfo.tdecennium;for(var i in e.Data.TDecennium){var M=e.Data.TDecennium[i],G=!1;if(A.states.indexOf(M.id)>-1&&(G=!0),!G&&A.number>=M.draws){this.point.visible=!0;break}}break;case 114:var N=t.eventInfo.fesLogin;for(var i in e.Data.THuoPolite){var R=e.Data.THuoPolite[i],q=!1;if(N.states.indexOf(R.id)>-1&&(q=!0),!q&&N.days>=R.id){this.point.visible=!0;break}}break;case 115:for(var j=t.eventInfo.goldenEggs.items,i=0;i<j.length;i++){if(0==j[i].state&&e.DataManager.playerModel.getItemCount(10151)>0){this.point.visible=!0;break}if(1==j[i].state){this.point.visible=!0;break}}break;case 116:var H=t.eventInfo.drawDiamond,O=e.Data.TDaysDiamond[H.drew+1];if(O){var L=Math.min(H.chargeCount-H.drew,O.doses-H.drew);L>0&&(this.point.visible=!0)}break;case 117:var F=t.eventInfo.firstGroupon,z=e.DataManager.playerModel.sEventData.firstGroupon.recharge,U=F.recharge;for(var i in e.Data.TFirstGroupon)if(e.Data.TFirstGroupon.hasOwnProperty(i)){var W=e.Data.TFirstGroupon[i];if(0==F.states[W.ID-1]&&z>=Number(W.population)&&U>=Number(W.doses)){this.point.visible=!0;break}}break;case 118:for(var i in e.Data.TOpencompetition)if(e.Data.TOpencompetition.hasOwnProperty(i)){var V=e.Data.TOpencompetition[i];if(V.id<=3){var Y=V.id-1,X=V.duration;Y&&(Y=24*(1+Y)*3600*1e3),X=3600*X*1e3;var K=new Date(e.formatTime(new Date(this.info.start.getTime()+Y),"yyyy.MM.dd")).getTime(),Z=K+X,Q=e.getNowTime().getTime(),J=.001*(Z-Q);if(Q>=K&&J>0){var x=e.DataManager.playerModel.getOpenCompetitionItem(V.id);if(x.progress>=Number(V.condition)&&!x.state){this.point.visible=!0;break}}}}break;case 122:var $=e.DataManager.playerModel.getActivityInfo().eventInfo.guoqing;$.GuoQingrecharge[0]||(this.point.visible=!0);break;case 123:var et=e.DataManager.playerModel.getActivityInfo().eventInfo.consumption;et&&e.XiaoFeiDaBiPin.getInstance().canClick&&(this.point.visible=!0);break;case 124:var tt=e.DataManager.playerModel.getActivityInfo().eventInfo.primeCharge;for(var i in e.Data.TPrimeCharge)if(e.Data.TPrimeCharge.hasOwnProperty(i)){var nt=e.Data.TPrimeCharge[i];if(tt.states.indexOf(nt.ID-1)<0&&tt.sumRecharge>=nt.doses){this.point.visible=!0;break}}break;case 125:e.SongFuZhuang.getInstance().point&&(this.point.visible=!0);break;case 9:var it=e.DataManager.playerModel.getActivityInfo().eventInfo.rechargeElf;0==(1&it.State)&&it.Recharge>=e.Data.TRechargeElfin[1].doses&&(this.point.visible=!0);break;case 129:break;case 11:var at=t.eventInfo.timing.list,ot=e.getNowTime(),st=ot.getHours(),rt=ot.getMinutes();for(var i in e.Data.TDailyGifts){var ut=e.Data.TDailyGifts[i];if(-1==at.indexOf(ut.ID)){var K=e.splitStringToNumberArray(ut.time,":"),Z=e.splitStringToNumberArray(ut.endtime,":");if(st<K[0]||st>Z[0])continue;if(st==K[0]&&rt<K[1])continue;if(st==Z[0]&&rt>=Z[1])continue;this.point.visible=!0;break}}break;case 12:var lt=t.eventInfo.christmasEve;0==lt.State&&lt.Recharge>=e.Data.TChristmasEve[1].money&&(this.point.visible=!0);break;case 133:var ct=t.eventInfo.sevendays;if(!this._sevenData){this._sevenData={};for(var i=0;i<e.Data.TSevendaysReward.length;i++){var ht=e.Data.TSevendaysReward[i];this._sevenData[ht.id]||(this._sevenData[ht.id]={}),this._sevenData[ht.id][ht.type]=ht,ht.integral&&this._sevenReward.push(ht)}}for(var pt=void 0,i=0;i<ct.items.length;i++)ct.items[i].day==ct.day&&(pt=ct.items[i]);if(pt)for(var i=0;i<pt.tasks.length;i++){var x=pt.tasks[i],gt=this._sevenData[pt.day][x.type];if(gt){var dt=x.state;if(!dt&&x.count>=gt.LimitedNum)return void(this.point.visible=!0)}}break;case 127:var mt=e.DataManager.playerModel.getActivityInfo().eventInfo.everyday;for(var i in e.Data.TEverydayRecharge){var ft=e.Data.TEverydayRecharge[i];if(0==ft.time){if(mt.record>0&&mt.everyRecharge>=ft.doses)return void(this.point.visible=!0)}else if(mt.number>=ft.time&&mt.sumRecharge>=ft.doses)return void(this.point.visible=!0)}break;case 137:var _t=e.DataManager.playerModel.getActivityInfo().eventInfo.lvAc2;for(var i in e.Data.TLvaCtivity2)if(e.Data.TLvaCtivity2.hasOwnProperty(i)){var yt=e.Data.TLvaCtivity2[i];if(_t.list.indexOf(yt.ID)<0&&e.DataManager.playerModel.playerLevel>=yt.Lv)return void(this.point.visible=!0)}break;case 120:this.point.visible=e.ZhongQiuPanel.getInstance().checkPoint();break;case 131:this.point.visible=e.XingYunZhuanPan.getInstance().point}},Object.defineProperty(n.prototype,"select",{set:function(e){this.selectImage.visible=e},enumerable:!0,configurable:!0}),n}(e.GameComponent);e.ActivityIcon=t,__reflect(t.prototype,"game.ActivityIcon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._teamPokemonList=[],e._bagPokemonList=[],e._currentPage=1,e._maxPage=2,e._equipIconList=[],e._starImages=[],e._starCostCount={},e._expCostCount={},e._loveCostCount={},e.skinName=TeamSceneSkin,e.teamPokemonGroup.removeChildren(),e.bagGroup.removeChildren(),e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this,i=0;for(var a in e.Data.TElfStarUp)if(this._starCostCount[a]=i,e.Data.TElfStarUp[a].costItem){var o=e.splitStringToNumberArray(e.Data.TElfStarUp[a].costItem,";");i+=o[1]}var s=0;for(var a in e.Data.TElfLevel)this._expCostCount[a]=s,e.Data.TElfLevel[a].exp&&(s+=e.Data.TElfLevel[a].exp);var r=0;for(var a in e.Data.TElfLove)this._loveCostCount[a]=r,e.Data.TElfLove[a].exp&&(r+=e.Data.TElfLove[a].exp);this.page=1,this.shuguoButton.image="ui/scene/team/Tx_shuguo",this.skillButton.image="ui/scene/team/jineng",this.skillButton.bg="ui/common/button/orangeBtn_1",this.recoveryButton.image="ui/scene/team/huishou",this.starButton.image="ui/scene/team/shengxing",this.helpPokemonButton.image="ui/scene/team/zhuzhen",this.followButton.image="ui/scene/team/gensui",this.equipButton.image="ui/scene/team/equip",this.trainButton.image="ui/scene/team/peiyang",this.ccButton.image="ui/scene/team/tianfu",this.sqButton.image="ui/scene/team/shengqi",this.rebornButton.icon="ui/scene/team/chongsheng",this.natureButton.setType("ui/scene/team/xingge","ui/scene/team/xixingge"),this.ivButton.setType("ui/scene/team/geti","ui/scene/team/xigeti"),this.speciesButton.setType("ui/scene/team/zhongzuzhi","ui/scene/team/book"),this._adjust=!0,this._touchEvent=[{target:this.leftArrowButton,callBackFunc:this.moveLastPage},{target:this.rightArrowButton,callBackFunc:this.moveNextPage},{target:this.trainButton,callBackFunc:this.touchTrain},{target:this.ivButton,callBackFunc:this.touchIV},{target:this.followButton,callBackFunc:this.setFollow},{target:this.teamConfigButton,callBackFunc:this.touchTeamConfig},{target:this.bagConfigButton,callBackFunc:this.touchBagConfig},{target:this.skillButton,callBackFunc:this.touchSkill},{target:this.equipButton,callBackFunc:this.touchEquip},{target:this.speciesButton,callBackFunc:this.touchSpecies},{target:this.natureButton,callBackFunc:this.touchNature},{target:this.recoveryButton,callBackFunc:this.touchRecovery},{target:this.starButton,callBackFunc:this.touchStar},{target:this.helpPokemonButton,callBackFunc:this.touchHelp},{target:this.sqButton,callBackFunc:this.touchSq},{target:this.superEquipIcon,callBackFunc:this.touchSq},{target:this.ccButton,callBackFunc:this.touchCc},{target:this.rebornButton,callBackFunc:this.touchReborn},{target:this.shuguoButton,callBackFunc:this.touchShuguo}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateTeam,notifyName:e.PlayerModel.POKEMON_TEAM_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateBag,notifyName:e.PlayerModel.POKEMON_BAG_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updatePokemonInfo,notifyName:e.PlayerModel.POKEMON_INFO_UPDATE,execute:!1},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateFollow,notifyName:e.PlayerModel.IDLE_POKEMON_UPDATE,execute:!1},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateLock,notifyName:e.PlayerModel.LOCK_UPDATE,execute:!0}],this.addEventAndNotify(),this._currentPokemonInfo=this._teamPokemonList[0].pokemonInfo,this.setCurrentPokemon(),e.NotificationCenter.getInstance().addObserver(this,function(e){t._currentPokemonInfo=e,t.setCurrentPokemon(!0)},n.TOUCH_POKEMON),e.NotificationCenter.getInstance().addObserver(this,this.movePokemonEnd,n.MOVE_POKEMON_END);var u=function(){t.bagGroup.height&&(t.bagGroup.removeEventListener(egret.Event.RENDER,u,t),t.updateBag())};this.bagGroup.addEventListener(egret.Event.RENDER,u,this)},n.prototype.touchReborn=function(){var t=e.DataManager.playerModel.playerLevel,n=this._currentPokemonInfo.lv;if(t<e.RebirthPanel.openPlayerLv)return void e.showTips(e.formatString(e.Lang.dengjijiesuo,e.RebirthPanel.openPlayerLv),!0);if(n<e.RebirthPanel.openPokemonLv)return void e.showTips(e.formatString(e.Lang.jinglingdengjiguodi,e.RebirthPanel.openPokemonLv),!0);var i=e.RebirthPanel.getInstance();i.pokemonID=this._currentPokemonInfo.id,i.show()},n.prototype.touchSq=function(){if(e.DataManager.playerModel.playerLevel>=Number(e.Constants.ArtifactOpenLv))if(this._currentPokemonInfo.artifact){for(var t=void 0,n=e.DataManager.playerModel.teamConfig.artifacts,i=0;i<n.length;i++)if(n[i].id==this._currentPokemonInfo.artifact){t=n[i];break}var a=e.SuperEquip.getInstance();a.setInfo(this._currentPokemonInfo,t),a.show()}else{var o=e.SuperEquipChange.getInstance();o.setPokemon(this._currentPokemonInfo,null),o.show()}else e.showTips(e.formatString(e.Lang.dengjijiesuo,e.Constants.ArtifactOpenLv),!0)},n.prototype.touchCc=function(){e.navPanel(83),e.GiftPanel.getInstance().setPokemonInfo(this._currentPokemonInfo)},n.prototype.touchHelp=function(){e.navPanel(63)},n.prototype.touchRecovery=function(){return e.DataManager.playerModel.playerLevel<Number(e.Constants.elfRecoverOpenLv)?void e.showTips(e.formatString(e.Lang.dengjijiesuo,e.Constants.elfRecoverOpenLv),!0):void e.navPanel(91)},n.prototype.touchNature=function(){var t=e.TeamNaturePanel.getInstance();t.setCurrentPokemon(this._currentPokemonInfo),e.navPanel(28)},n.prototype.touchSpecies=function(){var t=e.PokemonDetail.getInstance();t.setCurrentPokemon(this._currentPokemonInfo.type,null,e.getGiftUnlockAdd(this._currentPokemonInfo)),e.navPanel(35)},n.prototype.touchEquip=function(){e.NewEquipPanel.getInstance().setCurrentPokemon(this._currentPokemonInfo),e.navPanel(85)},n.prototype.touchStar=function(){e.navPanel(33),e.StarPanel.getInstance().setCurrentPokemon(this._currentPokemonInfo)},n.prototype.touchSkill=function(){var t=e.SkillPanel.getInstance();t.setCurrentPokemon(this._currentPokemonInfo),e.navPanel(27)},n.prototype.touchBagConfig=function(){e.navPanel(32)},n.prototype.touchTeamConfig=function(){e.navPanel(31)},n.prototype.setFollow=function(){e.navPanel(49)},n.prototype.updatePokemonInfo=function(e){this._currentPokemonInfo.id==e.id&&(this._currentPokemonInfo=e,this.setCurrentPokemon()),this.updateBag(),this.updateTeam()},n.prototype.updateFollow=function(){var t=e.DataManager.playerModel.idleFollowList;this._currentPokemonInfo&&t.indexOf(this._currentPokemonInfo.id)>-1?this._isFollow=!0:this._isFollow=!1},n.prototype.touchIV=function(){e.TeamTrainPanel.getInstance().setCurrentPokemon(this._currentPokemonInfo),e.navPanel(45)},n.prototype.touchTrain=function(){var t=e.TeamTrainPanel.getInstance();e.navPanel(26),t.setCurrentPokemon(this._currentPokemonInfo)},n.prototype.moveNextPage=function(){var e=this.page+1;e>this._maxPage||(this.page=e,this.updateBag())},n.prototype.moveLastPage=function(){var e=this.page-1;1>e||(this.page=e,this.updateBag())},n.prototype.movePokemonEnd=function(t){var n=t.icon,i=t.event,a=i.stageX,o=i.stageY;if(this.teamPokemonGroup.hitTestPoint(a,o)){if(this._teamPokemonList.indexOf(n)>=0)return void n.resetPokemon();for(var s=-1,r=0;r<this._teamPokemonList.length;r++)if(this._teamPokemonList[r].hitTestPoint(a,o)){s=r;break}if(-1==s)return void n.resetPokemon();var u=e.DataManager.playerModel.playerTeamPokemonList;u.length>=this._maxPokemon&&s>this._maxPokemon-1?n.resetPokemon():this.changeTeamAndBag(this._teamPokemonList[s],n)}else if(this.bagGroup.hitTestPoint(a,o)){for(var s=-1,r=0;r<this._bagPokemonList.length;r++)if(this._bagPokemonList[r].hitTestPoint(a,o)){s=r;break}if(-1==s)return void n.resetPokemon();for(var l=-1,c=0,r=0;r<this._teamPokemonList.length;r++){var h=this._teamPokemonList[r];h.pokemonInfo&&c++,h==n&&(l=r)}if(l>=0)this._bagPokemonList[s].pokemonInfo?this.changeTeamAndBag(n,this._bagPokemonList[s]):1>=c?(n.resetPokemon(),e.showTips(e.Lang.ninzhishaoyaoshangzhenyigebaokemeng,!0)):this.changeTeamAndBag(n,this._bagPokemonList[s]);else{var p=this._bagPokemonList.indexOf(n);p==s?n.resetPokemon():this.changeBagToBag(n,this._bagPokemonList[s])}}else n.resetPokemon()},n.prototype.changeTeamAndBag=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,a,o,s,r,a,o,s,r;return __generator(this,function(u){switch(u.label){case 0:if(n.isHelp)return e.showTips(e.Lang.xiezhudebaokemengbukeyishangzheno,!0),t.resetPokemon(),n.resetPokemon(),[2];if(i=e.DataManager.playerModel.playerTeamPokemonList,!t.pokemonInfo)return[3,5];if(!n.pokemonInfo)return[3,2];if(a=0,o=e.Data.TElf[n.pokemonInfo.type].battleId,t.pokemonInfo.type!=n.pokemonInfo.type)for(s=0;s<i.length;s++)r=i[s],r&&e.Data.TElf[r.type].battleId==o&&a++;return[4,e.DataManager.playerModel.changeTeamPokemonAndBagPokemon(t.pokemonInfo,n.pokemonInfo)];case 1:return u.sent(),[3,4];case 2:return[4,e.DataManager.playerModel.moveTeamPokemonToBag(t.pokemonInfo,n.slot)];case 3:u.sent(),u.label=4;case 4:return[3,7];case 5:if(!n.pokemonInfo)return[3,7];for(a=0,o=e.Data.TElf[n.pokemonInfo.type].battleId,s=0;s<i.length;s++)r=i[s],r&&e.Data.TElf[r.type].battleId==o&&a++;return[4,e.DataManager.playerModel.moveBagPokemonToTeam(n.pokemonInfo)];case 6:u.sent(),u.label=7;case 7:return this.setCurrentPokemon(),1==e.DataManager.playerModel.currentMission&&Auth.uploadLog("引导任务","上阵"),[2]}})})},n.prototype.changeBagToBag=function(t,n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return[4,e.DataManager.playerModel.moveBagPokemonToBag(t.pokemonInfo,t.slot,n.pokemonInfo,n.slot)];case 1:return i.sent(),this.setCurrentPokemon(),[2]}})})},n.prototype.setCurrentPokemon=function(t){void 0===t&&(t=!1);var n=this._currentPokemonInfo;if(n){var i=0,a=0;if(0==n.slot){var o=e.DataManager.playerModel.getPlayerGridConfigById(n.id);i=o.formation,a=o.grid}var s=e.parseBattlePokemonData(n,i,a),r=n.type,u=e.Data.TElf[r];t&&e.SoundManager.playEffect("music/"+u.voice),this._artPokemon||(this._artPokemon=new e.TeamArtPokemon,this._artPokemon.setScale(1),this.artImageGroup.addChild(this._artPokemon.display)),this._artPokemon.setPokemon(r,!1),this.starImage.source="ui/scene/book/"+u.rarityStar,this.nameLabel.text=u.name;var l=n.ballId;0==l&&(l=13001),this.ballImage.source="icon/item/"+l,this.levelLabel.text="Lv."+n.lv;var c=e.Data.TElfXingGe[n.nature];this.natureButton.setCount(c.name);var h=u.attribute;this.typeIcon.source="ui/scene/itemRecovery/type_"+h,this.typeIcon2.visible=!1,u.attribute2&&(this.typeIcon2.visible=!0,this.typeIcon2.source="ui/scene/itemRecovery/type_"+u.attribute2);var p=e.Data.TAttribute[h];p&&(this.bg.source="ui/scene/team/"+p.bg);var g=n.iv.atk+n.iv.spAtk+n.iv.def+n.iv.spDef+n.iv.speed+n.iv.hp;this.ivButton.setCount(""+g),this.battleLabel.text=""+e.setNumber(e.countPokemonBattleCount(s)),this.hpLabel.text=""+s.hp,this.atkLabel.text=""+s.atk,this.spAtkLabel.text=""+s.spAtk,this.speedLabel.text=""+s.speed,this.defLabel.text=""+s.def,this.spDefLabel.text=""+s.spDef,this.hpLabel.textColor=this.atkLabel.textColor=this.spAtkLabel.textColor=this.speedLabel.textColor=this.defLabel.textColor=this.spDefLabel.textColor=gameConfig.TextColors.white,this.speciesButton.setCount(""+(u.hp+u.atk+u.atkSp+u.def+u.defSp+u.spe+6*e.getGiftUnlockAdd(this._currentPokemonInfo))),this.genderIcon.source=1==n.gender?"ui/scene/team/male":"ui/scene/team/female",this.natureAddLabel.visible=this.natureMinusLabel.visible=!1,c.atk&&(c.atk>0?(this.atkLabel.textColor=gameConfig.TextColors.red,this.natureAddLabel.visible=!0,this.natureAddLabel.text=e.Lang.wugong+"+"+100*c.atk+"%"):(c.atk<0&&(this.atkLabel.textColor=gameConfig.TextColors.skyBlue),this.natureMinusLabel.visible=!0,this.natureMinusLabel.text=""+e.Lang.wugong+100*c.atk+"%")),c.atkSp&&(c.atkSp>0?(this.spAtkLabel.textColor=gameConfig.TextColors.red,this.natureAddLabel.visible=!0,this.natureAddLabel.text=e.Lang.tegong+"+"+100*c.atkSp+"%"):(c.atkSp<0&&(this.spAtkLabel.textColor=gameConfig.TextColors.skyBlue),this.natureMinusLabel.visible=!0,this.natureMinusLabel.text=""+e.Lang.tegong+100*c.atkSp+"%")),c.def&&(c.def>0?(this.defLabel.textColor=gameConfig.TextColors.red,this.natureAddLabel.visible=!0,this.natureAddLabel.text=e.Lang.wufang+"+"+100*c.def+"%"):(c.def<0&&(this.defLabel.textColor=gameConfig.TextColors.skyBlue),this.natureMinusLabel.visible=!0,this.natureMinusLabel.text=""+e.Lang.wufang+100*c.def+"%")),c.defSp&&(c.defSp>0?(this.spDefLabel.textColor=gameConfig.TextColors.red,this.natureAddLabel.visible=!0,this.natureAddLabel.text=e.Lang.tefang+"+"+100*c.defSp+"%"):(c.defSp<0&&(this.spDefLabel.textColor=gameConfig.TextColors.skyBlue),this.natureMinusLabel.visible=!0,this.natureMinusLabel.text=""+e.Lang.tefang+100*c.defSp+"%")),c.spe&&(c.spe>0?(this.speedLabel.textColor=gameConfig.TextColors.red,this.natureAddLabel.visible=!0,this.natureAddLabel.text=e.Lang.sudu+"+"+100*c.spe+"%"):(c.spe<0&&(this.speedLabel.textColor=gameConfig.TextColors.skyBlue),this.natureMinusLabel.visible=!0,this.natureMinusLabel.text=""+e.Lang.sudu+100*c.spe+"%"));
for(var d=0;d<this._teamPokemonList.length;d++){var m=this._teamPokemonList[d];m.pokemonInfo&&m.pokemonInfo==this._currentPokemonInfo?m.play():(m.stop(),m.resetPokemon())}for(var d=0;d<this._bagPokemonList.length;d++){var m=this._bagPokemonList[d];m.pokemonInfo&&m.pokemonInfo==this._currentPokemonInfo?m.play():(m.stop(),m.resetPokemon())}this.starGroup.removeChildren();for(var f=n.star||0,_=Math.floor(f/5),y=f%5,v=0,d=0;_>d;d++){var b=this._starImages[v];b||(b=new eui.Image,this._starImages[v]=b),b.source="ui/scene/team/star1",this.starGroup.addChild(b),v++}for(var d=0;y>d;d++){var b=this._starImages[v];b||(b=new eui.Image,this._starImages[v]=b),b.source="ui/scene/team/star",b.scaleX=b.scaleY=1,this.starGroup.addChild(b),v++}this.updateFollow(),this.skillButton.point=e.checkPokemonCanLearnSkill(n),this.starButton.point=e.checkPokemonCanStar(n),this.equipButton.point=e.checkPokemonCanEquip(n),this.trainButton.point=e.checkPokemonCanEvaluation(n)||e.checkPokemonCanLevelUp(n),this.ccButton.point=e.checkPokemonCanLearnGift(n);var w;if(n.artifact)for(var d=0;d<e.DataManager.playerModel.teamConfig.artifacts.length;d++)if(e.DataManager.playerModel.teamConfig.artifacts[d].id==n.artifact){w=e.DataManager.playerModel.teamConfig.artifacts[d];break}w?(this.superEquipIcon.visible=!0,this.superEquipIcon.source="icon/item/"+e.Data.TEArtifact[w.type].icon):this.superEquipIcon.visible=!1,this.sqButton.point=e.checkPokemonCanSuperEquip(n);var k=e.DataManager.playerModel.playerLevel;this.rebornButton.icon="ui/scene/team/chongsheng2",(k<e.RebirthPanel.openPlayerLv||n.lv<e.RebirthPanel.openPokemonLv)&&(this.rebornButton.icon="ui/scene/team/chongsheng")}},n.prototype.updateTeam=function(){for(var t=e.DataManager.playerModel.playerTeamPokemonList,n=e.splitStringToNumberArray(e.Constants.teamUnlockMission,";"),i=e.DataManager.playerModel.playerLevel,a=0;6>a;a++){this._teamPokemonList[a]||(this._teamPokemonList[a]=new e.TeamPokemonIcon,this.teamPokemonGroup.addChild(this._teamPokemonList[a])),i>=n[a]?(this._maxPokemon=a,this._teamPokemonList[a].setLock(!1,n[a])):this._teamPokemonList[a].setLock(!0,n[a]);var o=this._teamPokemonList[a];o.setPokemonInfo(t[a])}if(this._maxPokemon++,this.setCurrentPokemon(),this.finger.visible){var s=e.GetOffSetYWithBottom(904);this.finger.x=321,this.finger.y=s,this.finger.alpha=1,egret.Tween.get(this.finger,{loop:!0},null,!0).to({y:s-30},500).to({y:s},500)}},n.prototype.updateBag=function(){var t=e.DataManager.playerModel.playerPokemonBag,n=5*Math.floor(this.bagGroup.height/126),i=(this.page-1)*n+1,a=i+n,o=0;this.bagGroup.removeChildren();for(var s=0;n>s;s++){this._bagPokemonList[s]||(this._bagPokemonList[s]=new e.TeamBagPokemonIcon);var r=this._bagPokemonList[s];r.setPokemonInfo(null),r.slot=i+s,this.bagGroup.addChild(r)}for(var s=0;s<t.length;s++){var u=t[s],l=u.slot;if(o=Math.max(l,o),l>=i&&a>l){var c=(l-1)%n,r=this._bagPokemonList[c];if(!r)continue;r.setPokemonInfo(u)}}this._maxPage=Math.floor(o/n)+2,this.page=this.page,this.setCurrentPokemon()},Object.defineProperty(n.prototype,"page",{get:function(){return this._currentPage},set:function(e){this._currentPage=e,this.leftArrowButton.visible=this._currentPage>1,this.rightArrowButton.visible=this._currentPage<this._maxPage,this.bagLabel.text=this._currentPage+"/"+this._maxPage},enumerable:!0,configurable:!0}),n.prototype.onRemove=function(){egret.Tween.removeTweens(this.finger),this.page=1,this._currentPokemonInfo=this._teamPokemonList[0].pokemonInfo,this._artPokemon&&this._artPokemon.stop()},n.prototype.firstShow=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.loadGroup("team")];case 1:return t.sent(),[2]}})})},n.prototype.onCreate=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._artPokemon&&this._artPokemon.play(1,0),[4,e.DataManager.playerModel.sortPokemonBag(1)];case 1:return t.sent(),this.updateTeam(),this.updateFinger(),[2]}})})},n.prototype.updateFinger=function(){if(this.finger.visible=!1,!(e.DataManager.playerModel.currentMission>=6||e.TeachScene.getInstance().stage||e.GameLayer.teachLayer.numChildren>0)){for(var t=e.DataManager.playerModel.playerTeamPokemonList,n=e.DataManager.playerModel.playerAllPokemonList,i=e.splitStringToNumberArray(e.Constants.teamUnlockMission,";"),a=e.DataManager.playerModel.playerLevel,o=0,s=0;s<i.length;s++)a>=i[s]&&o++;var r=o-t.length;if(r&&n.length-t.length>0){this.finger.visible=!0,this.finger.x=73,this.finger.y=620,this.finger.alpha=1;egret.Tween.get(this.finger,{loop:!0},null,!0).to({x:127*t.length,y:480},1e3).to({x:73,y:620,alpha:0},0).wait(300).to({alpha:1},0)}}},n.prototype.updateLock=function(){this.starButton.lock=e.DataManager.playerModel.playerLevel<Number(e.Constants.elfStarOpenLv),this.sqButton.lock=e.DataManager.playerModel.playerLevel<Number(e.Constants.ArtifactOpenLv),this.recoveryButton.lock=e.DataManager.playerModel.playerLevel<Number(e.Constants.elfRecoverOpenLv),this.equipButton.lock=e.DataManager.playerModel.playerLevel<Number(e.Constants.elfBringOpenLv),this.teamConfigButton.lock=e.DataManager.playerModel.playerLevel<Number(e.Constants.elfGridOpenLv),this.ivButton.lock=e.DataManager.playerModel.playerLevel<Number(e.Constants.elfIvOpenLv),this.natureButton.lock=e.DataManager.playerModel.playerLevel<Number(e.Constants.elfXingGeOpenLv),this.ccButton.lock=e.DataManager.playerModel.playerLevel<Number(e.Constants.elfTanletOpenLv),this.shuguoButton.lock=!0;var t=e.Data.TElfHelpGrid[1];t&&t.unlockLevel&&e.DataManager.playerModel.playerLevel<t.unlockLevel?this.helpPokemonButton.lock=!0:this.helpPokemonButton.lock=!1},n.prototype.touchShuguo=function(){return this.shuguoButton.lock?void e.showTips(e.Lang.zanweikaifang,!0):void 0},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.TOUCH_POKEMON="TeamScene_TOUCH_POKEMON",n.MOVE_POKEMON_END="TeamScene_MOVE_POKEMON_END",n.BAG_UPDATE="TeamScene_BAG_UPDATE",n}(e.SceneComponent);e.TeamScene=t,__reflect(t.prototype,"game.TeamScene")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.showUI_jt(),e.skinName=TeamTrainArtSkin,e.touchEnabled=e.touchChildren=!1,e}return __extends(n,t),n.prototype.showUI_jt=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._UI_jt01Bone?[3,2]:(t=this,[4,e.getBone("UI_jt01")]);case 1:t._UI_jt01Bone=n.sent(),this.UI_jt01Group.addChildAt(this._UI_jt01Bone,0),n.label=2;case 2:return this._UI_jt01Bone.play(null,0),[2]}})})},n.prototype.setData=function(t,n,i,a,o){if(void 0===a&&(a=0),void 0===o&&(o=!1),this.currentPokemonDetail.setPokemon(t,n,i),this.showUI_jt(),!n.sotpGrow&&a)this.textImage.source="ui/scene/team/Tx_jinh01",this.evaluationGroup.visible=!0,this.currentGroup.x=-70,this.currentGroup.y=-10,this.currentGroup.scaleX=this.currentGroup.scaleY=.8,this.nextPokemonDetail.setPokemon(t,n,i,a),this.bg.source="ui/scene/team/UI_BGjh";else if(o&&t.star<n.starCan)this.evaluationGroup.visible=!0,this.currentGroup.x=-70,this.currentGroup.y=-10,this.currentGroup.scaleX=this.currentGroup.scaleY=.8,this.nextPokemonDetail.setPokemon(t,n,i,0,!0),this.bg.source="ui/scene/team/UI_BGjh";else{this.evaluationGroup.visible=!1,this.currentGroup.x=42,this.currentGroup.y=-65,this.currentGroup.scaleX=this.currentGroup.scaleY=1,this.nextPokemonDetail&&this.nextPokemonDetail.stop();var s=n.attribute,r=e.Data.TAttribute[s];r&&(this.bg.source="ui/scene/team/"+r.bg)}},n.prototype.stop=function(){this.currentPokemonDetail.stop(),this.nextPokemonDetail.stop(),this._UI_jt01Bone&&this._UI_jt01Bone.stop()},n}(e.GameComponent);e.TeamTrainArt=t,__reflect(t.prototype,"game.TeamTrainArt")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.name="train",e._isEvaluation=!1,e.skinName=TeamTrainPanelSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.initButton(),this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.rightArrowButton,callBackFunc:this.touchArrow},{target:this.leftArrowButton,callBackFunc:this.touchArrow}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updatePokemonInfo,notifyName:e.PlayerModel.POKEMON_INFO_UPDATE,execute:!1},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateLock,notifyName:e.PlayerModel.LOCK_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateStone,notifyName:e.PlayerModel.STONE_UPDATE,execute:!0}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.changeEvaluation,e.TeamEvaluation.CHANGE_EVALUATION),this._radioGroup=new e.RadioGroup(this.buttonGroup,[this.levelButton,this.loveButton,this.evaluationButton,this.effortButton,this.ivButton],this.touchButtonHandle,this,this.radioChangeFunction),this._radioGroup.touchButton(this.levelButton)},n.prototype.updateLock=function(){this.levelButton.lock=!1,this.loveButton.lock=e.DataManager.playerModel.playerLevel<Number(e.Constants.elfLoveOpenLv),this.evaluationButton.lock=e.DataManager.playerModel.playerLevel<Number(e.Constants.elfEvolveOpenLv),this.effortButton.lock=e.DataManager.playerModel.playerLevel<Number(e.Constants.elfEffortOpenLv),this.ivButton.lock=e.DataManager.playerModel.playerLevel<Number(e.Constants.elfIvOpenLv),this._lastButton&&this._radioGroup.touchButton(this._lastButton)},n.prototype.changeEvaluation=function(e){this._currentEvaluationId=e,this.artPokemon.setData(this._currentPokemonInfo,this._currentPokemonData,this._currentPokemonBattleData,this._currentEvaluationId)},n.prototype.updatePokemonInfo=function(e){this._currentPokemonInfo.id==e.id&&(this._currentPokemonInfo=e,this.setCurrentPokemon(e))},n.prototype.updateStone=function(){this._isEvaluation&&this._currentPanel.setPokemon(this._currentPokemonInfo,this._currentPokemonData,this._currentPokemonBattleData)},n.prototype.touchArrow=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,this.checkSave()];case 1:return n.sent(),t==this.rightArrowButton?this._currentIndex++:t==this.leftArrowButton&&this._currentIndex--,this.setCurrentPokemon(this._pokemonList[this._currentIndex]),this._currentPanel==e.TeamIVPanel.getInstance()&&e.TeamIVPanel.getInstance().resetLock(),[2]}})})},n.prototype.checkSave=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._currentPanel!=e.TeamIVPanel.getInstance()?[3,2]:(e.TeamIVPanel.getInstance().resetLock(),this._currentPanel.needSave?[4,this._currentPanel.save()]:[3,2]);case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.closeHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.checkSave()];case 1:return t.sent(),this._currentPanel&&this._currentPanel.onRemove(),this.artPokemon.stop(),e.TeamLovePanel.getInstance().stop(),e.TeamEvaluation.getInstance().stop(),e.TeamLevelPanel.getInstance().stop(),e.removePopUp(this),[2]}})})},n.prototype.initButton=function(){this.levelButton.image="",this.levelButton.image="ui/scene/team/duiwushengji",this.loveButton.image="",this.loveButton.image="ui/scene/team/Tx_qinmidu",this.evaluationButton.image="",this.evaluationButton.image="ui/scene/team/jinhua",this.effortButton.image="",this.effortButton.image="ui/scene/team/nulizhi",this.ivButton.image="",this.ivButton.image="ui/scene/team/getizhi",this.levelButton.noScale=!0,this.loveButton.noScale=!0,this.evaluationButton.noScale=!0,this.effortButton.noScale=!0,this.ivButton.noScale=!0},n.prototype.radioChangeFunction=function(e,t){e.lock?e.bg="ui/scene/team/btnbq01_d":t?(e.bg="ui/scene/team/btnbq01_u",e.y=0):(e.bg="ui/scene/team/btnbq01_d",e.y=-4)},n.prototype.touchButtonHandle=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,this.checkSave()];case 1:switch(n.sent(),this._currentPanel&&(this._currentPanel.removeFromParent(),this._currentPanel=null),this._isEvaluation=!1,t){case this.levelButton:this._currentPanel=e.TeamLevelPanel.getInstance();break;case this.loveButton:e.DataManager.playerModel.playerLevel<Number(e.Constants.elfLoveOpenLv)?(e.showTips(e.formatString(e.Lang.dengjijiesuo,e.Constants.elfLoveOpenLv),!0),this._lastButton?this._radioGroup.touchButton(this._lastButton):this._radioGroup.touchButton(this.levelButton)):this._currentPanel=e.TeamLovePanel.getInstance();break;case this.evaluationButton:e.DataManager.playerModel.playerLevel<Number(e.Constants.elfEvolveOpenLv)?(e.showTips(e.formatString(e.Lang.dengjijiesuo,e.Constants.elfEvolveOpenLv),!0),this._lastButton?this._radioGroup.touchButton(this._lastButton):this._radioGroup.touchButton(this.levelButton)):(this._isEvaluation=!0,this._currentPanel=e.TeamEvaluation.getInstance());break;case this.effortButton:e.DataManager.playerModel.playerLevel<Number(e.Constants.elfEffortOpenLv)?(e.showTips(e.formatString(e.Lang.dengjijiesuo,e.Constants.elfEffortOpenLv),!0),this._lastButton?this._radioGroup.touchButton(this._lastButton):this._radioGroup.touchButton(this.levelButton)):this._currentPanel=e.TeamEffortPanel.getInstance();break;case this.ivButton:e.DataManager.playerModel.playerLevel<Number(e.Constants.elfIvOpenLv)?(e.showTips(e.formatString(e.Lang.dengjijiesuo,e.Constants.elfIvOpenLv),!0),this._lastButton?this._radioGroup.touchButton(this._lastButton):this._radioGroup.touchButton(this.levelButton)):this._currentPanel=e.TeamIVPanel.getInstance()}return this._currentPanel&&(this._lastButton=t,this._currentPanel.create(),this.mainGroup.addChild(this._currentPanel),this._currentPokemonInfo&&(this._isEvaluation?this._currentEvaluationId=this._currentPokemonData.upElf:this._currentEvaluationId=0,this.artPokemon.setData(this._currentPokemonInfo,this._currentPokemonData,this._currentPokemonBattleData,this._currentEvaluationId),this._currentPanel.setPokemon(this._currentPokemonInfo,this._currentPokemonData,this._currentPokemonBattleData))),[2]}})})},n.prototype.setCurrentPokemon=function(t){this._currentPokemonInfo=t;var n=e.Data.TElf[t.type];this._currentPokemonData=n,this._isEvaluation?this._currentEvaluationId=n.upElf:this._currentEvaluationId=0;var i=0,a=0;if(0==t.slot){var o=e.DataManager.playerModel.getPlayerGridConfigById(t.id);i=o.formation,a=o.grid}var s=e.parseBattlePokemonData(t,i,a);this._currentPokemonBattleData=s,this._currentPanel&&(this._currentPanel.create(),this._currentPanel.setPokemon(t,n,s)),this.artPokemon.setData(t,n,s,this._currentEvaluationId),this._pokemonList=e.DataManager.playerModel.playerTeamPokemonList,this._currentIndex=this._pokemonList.indexOf(t),this.updateArrowDisplay(),this.levelPoint.visible=e.checkPokemonCanLevelUp(t),this.evaluationPoint.visible=e.checkPokemonCanEvaluation(t),this.lovePoint.visible=e.checkPokemonCanLove(t),this.effortPoint.visible=e.checkPokemonCanEffort(t)},n.prototype.changeToLevelPanel=function(){this._radioGroup.touchButton(this.levelButton)},n.prototype.changeToLovePanel=function(){this._radioGroup.touchButton(this.loveButton)},n.prototype.changeToEvaluationPanel=function(){this._radioGroup.touchButton(this.evaluationButton)},n.prototype.changeToEffortPanel=function(){this._radioGroup.touchButton(this.effortButton)},n.prototype.changeToIvPanel=function(){this._radioGroup.touchButton(this.ivButton)},n.prototype.updateArrowDisplay=function(){this._currentIndex<0?this.leftArrowButton.visible=this.rightArrowButton.visible=!1:(this.leftArrowButton.visible=this._currentIndex>0,this.rightArrowButton.visible=this._currentIndex!=this._pokemonList.length-1)},n.prototype.onShow=function(){this._currentPokemonInfo||this.setCurrentPokemon(e.DataManager.playerModel.playerTeamPokemonList[0]),e.TeamLovePanel.getInstance().onShow(),e.TeamEvaluation.getInstance().onShow(),e.TeamLevelPanel.getInstance().onShow()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.TeamTrainPanel=t,__reflect(t.prototype,"game.TeamTrainPanel")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=UpdateTipItemSkin,e.itemGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchItem,e),e}return __extends(n,t),n.prototype.touchItem=function(e){var t=e.target;t.showDetail&&t.showDetail()},n.prototype.setData=function(t){if(this.noteData=t,this.bg.source="ui/scene/updateTip/"+t.ID,this.itemGroup.removeChildren(),t.showingItems)for(var n=t.showingItems.split("|"),i=e.splitStringToNumberArray(t.ItemsX,"|"),a=e.splitStringToNumberArray(t.ItemsY,"|"),o=0;o<n.length;o++){var s=n[o];if(e.Data.TItem[s]){var r=new e.ItemIcon;r.scaleX=r.scaleY=.7,r.x=i[o],r.y=a[o],r.item={type:Number(s),count:0},this.itemGroup.addChild(r)}else if(e.Data.TElf[s]){var u=new e.PokemonIcon;u.scaleX=u.scaleY=.7,u.x=i[o],u.y=a[o],u.pokemon=Number(s),this.itemGroup.addChild(u)}}t.noteTxt&&("["==t.noteTxt[0]?this.indexLabel.textFlow=e.parseColorText(t.noteTxt):this.indexLabel.text=t.noteTxt,this.indexLabel.x=t.textX,this.indexLabel.y=t.textY,this.indexLabel.width=t.interval)},n}(e.GameComponent);e.UpdateTipItem=t,__reflect(t.prototype,"game.UpdateTipItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.selectBtns=[],e.pages=[],e.skinName=UpdateTipSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.initButtons(),this._touchEvent=[{target:this.okButton,callBackFunc:this.okHandle},{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.tipButton,callBackFunc:this.tipHandle}],this.addEventAndNotify(),this.radioGroup=new e.RadioGroup(this.buttonGroup,this.selectBtns,this.typeHandle,this,this.buttonChangeHandle),this.scrollerGroup.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onScrollerTouchBegin,this)},n.prototype.initButtons=function(){this.tipButton.bg="ui/scene/updateTip/select_bg",this.tipButton.select="ui/common/util/right",this.okButton.image="ui/scene/updateTip/lijiqianwang",this.buttonGroup.removeChildren(),this.itemGroup.removeChildren();var t=0,n=e.getNowTime(),i=egret.localStorage.getItem("updateTip");i?this.tipButton.chose=!0:this.tipButton.chose=!1;var a=n.getTime();for(var o in e.Data.TNotePad)if(e.Data.TNotePad.hasOwnProperty(o)){var s=e.Data.TNotePad[o],r=e.splitStringToNumberArray(s.opTime,"/"),u=new Date;u.setFullYear(r[0],r[1]-1,r[2]),u.setHours(0,0,0);var l=e.splitStringToNumberArray(s.edTime,"/"),c=new Date;if(c.setFullYear(l[0],l[1]-1,l[2]),c.setHours(23,59,59),a<u.getTime()||a>c.getTime())continue;var h=new e.UpdateTipSelectButton;h.data=s,h.btnIndex=t,h.anchorOffsetY=h.anchorOffsetX=16,this.selectBtns.push(h),this.buttonGroup.addChild(h);var p=new e.UpdateTipItem;p.setData(s),this.itemGroup.addChild(p),this.pages.push(p),t++}},n.prototype.typeHandle=function(e){var t=this;this.stage.touchChildren=!1;var n=e.btnIndex,i=630*-n,a=this.itemGroup.x,o=i-a;egret.Tween.removeTweens(this.itemGroup),egret.Tween.get(this.itemGroup).to({x:a+o},400).call(function(){t.stage.touchChildren=!0,t.selectBtn=e;for(var n=0;n<t.selectBtns.length;n++){var i=t.selectBtns[n];i.btnIndex===t.selectBtn.btnIndex?i.chose=!0:i.chose=!1}})},n.prototype.buttonChangeHandle=function(e,t){e.chose=t},n.prototype.onScrollerTouchBegin=function(e){var t=e.currentTarget;this._stageX=e.stageX,t.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.endScrollerTouchEnd,this),t.addEventListener(egret.TouchEvent.TOUCH_END,this.endScrollerTouchEnd,this)},n.prototype.endScrollerTouchEnd=function(e){var t=e.currentTarget;if(t.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.endScrollerTouchEnd,this),t.removeEventListener(egret.TouchEvent.TOUCH_END,this.endScrollerTouchEnd,this),!(Math.abs(this._stageX-e.stageX)<10)){var n=this.selectBtn.btnIndex;this._stageX<e.stageX?n--:n++,this.selectBtns[n]&&this.typeHandle(this.selectBtns[n]),this._stageX=e.stageX}},n.prototype.okHandle=function(){this.closeHandle(),e.navPanel(this.selectBtn.data.toPanelID)},n.prototype.tipHandle=function(){this.tipButton.selectImage.visible?(this.tipButton.chose=!1,egret.localStorage.removeItem("updateTip")):(this.tipButton.chose=!0,egret.localStorage.setItem("updateTip",e.getNowTime().getDate().toString()))},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.show=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.stage||0==this.selectBtns.length?[2]:[4,this.onShow()];case 1:return t.sent(),e.addPopUp(this,!0,0),[2]}})})},n.prototype.onShow=function(){this.selectBtns.length>0?this.selectBtn?this.typeHandle(this.selectBtn):this.typeHandle(this.selectBtns[0]):this.closeHandle()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.UpdateTip=t,__reflect(t.prototype,"game.UpdateTip")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.btnIndex=0,t.skinName=UpdateTipSelectButtonSkin,t.selectImage.visible=!1,t.bgImage.visible=!0,t}return __extends(t,e),Object.defineProperty(t.prototype,"bg",{set:function(e){this.bgImage.source=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"select",{set:function(e){this.selectImage.source=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chose",{set:function(e){this.selectImage.visible=e},enumerable:!0,configurable:!0}),t}(e.EffectButton);e.UpdateTipSelectButton=t,__reflect(t.prototype,"game.UpdateTipSelectButton")}(game||(game={}));var game;!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.postTouchNotify=function(){this.play()},n.prototype.endMovePokemon=function(t){e.NotificationCenter.getInstance().postNotification(e.ZhanKuangDongTeamSetting.MOVE_POKEMON_END,{icon:this,event:t})},n}(e.TeamBagPokemonIcon);e.ZhanKuangBagPokemon=t,__reflect(t.prototype,"game.ZhanKuangBagPokemon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._pokemonIcon=[],e.canClear=!1,e.isShow=!1,e.skinName=ZhanKuangDongTeamItemSkin,e.init(),e}return __extends(n,t),Object.defineProperty(n.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),n.prototype.init=function(){this.confirmButton.imageScale=1.5,this._touchEvent=[{target:this.touchGroup,callBackFunc:this.touchHandle},{target:this.confirmButton,callBackFunc:this.confirmHandle},{target:this.clearBtn,callBackFunc:this.clerHandle}],this.clearBtn.image="ui/scene/zhankuangzhan/Tx_yijianqc",this.addEventAndNotify()},n.prototype.touchHandle=function(){var t=e.ZhanKuangDongTeamSetting.getInstance();t.setTeamInfo(this.info,this,this._index),t.show()},n.prototype.clerHandle=function(){if(e.DataManager.playerModel.diamond>this.needDiaNum?this.canClear=!0:this.canClear=!1,this.canClear){e.DataManager.playerModel.ClearTreasureTime(this.info.teamId,this.costItem),e.showTips(e.Lang.qingchuchenggong,!1);var t=this.info.lastHarry.getTime();this.info.lastHarry.setUTCDate(t/1e3+Number(e.Constants.playerTreasureWait)),this.timeLabel.visible=!1,this.confirmButton.visible=!0,this.clearBtn.visible=!1,this.needDiamand.visible=!1}else e.showTips(e.Lang.nindezuanshibuzu,!0)},n.prototype.confirmHandle=function(){var t=this;if(this.info.isUnlock)e.ZhanKuangDongZhanQian.getInstance().selectTeam(this);else{var n,i=e.Constants.treasureUnlockTeamSpend.split("&")[this._index];if(i){n=[];for(var a=e.splitStringToNumberArray(i),o=0;o<a.length;o++){var s={type:a[o][0],count:a[o][1]};if(!e.checkCanBuy(s))return void e.showTips(e.Lang.nindedaojubuzu,!0);n.push(s)}}var r=e.CheckPanel.getInstance();r.setData(e.Lang.shifouxiaohaoxialiedaojujiesuo,function(i){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return i?[4,e.DataManager.playerModel.unLockTreasureTeam(this.info,n)]:[3,2];case 1:t.sent(),this.updateTeam(),t.label=2;case 2:return[2]}})})},n),r.show()}},n.prototype.setInfo=function(t,n){this._index=n,this.info=t,this.updateTeam(),this.updateTime(e.getNowTime().getTime())},n.prototype.updateTeam=function(){this.pokemonGroup.removeChildren();for(var t=this.info.pmsId,n=0;n<t.length;n++){var i=e.DataManager.playerModel.getPokemonInfoById(t[n]),a=this._pokemonIcon[n];a||(a=new e.PokemonIcon,this._pokemonIcon[n]=a),a.pokemon=i.type,this.pokemonGroup.addChild(a)}this.noneImage.visible=0==t.length},n.prototype.setSelect=function(e){this._select=e,this.touchGroup.touchEnabled=this.confirmButton.touchEnabled=!1,this.info.isUnlock?this.info.treasureId?(this.confirmButton.image="ui/scene/zhankuangzhan/caijizhong",this.stopBone()):(this.touchGroup.touchEnabled=this.confirmButton.touchEnabled=!0,this.confirmButton.image=e?"ui/scene/zhankuangzhan/chuzhan":"ui/scene/zhankuangzhan/dengdai",e?this.showJiaocha():this.stopBone()):(this.confirmButton.touchEnabled=!0,this.confirmButton.image="ui/scene/zhankuangzhan/weijiesuo",this.stopBone())},n.prototype.showJiaocha=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this.jiaochaGroup.visible?[3,3]:null!=this.jiaochaBone?[3,2]:(this.isShow=!1,this.jiaochaGroup.removeChildren(),this.jiaochaGroup.visible=!0,t=this,[4,e.getBone("wuqijiaocha")]);case 1:return t.jiaochaBone=n.sent(),this.jiaochaGroup.addChildAt(this.jiaochaBone,0),this.jiaochaBone.setTimeScale(.8),this.jiaochaBone.play(null,0),this.isShow=!0,[3,3];case 2:this.isShow||(this.jiaochaGroup.visible=!0,this.jiaochaBone.play(null,0)),n.label=3;case 3:return[2]}})})},n.prototype.stopBone=function(){this.jiaochaBone&&this.jiaochaBone.stop(),this.isShow=!1,this.jiaochaGroup.visible=!1},n.prototype.updateTime=function(t){if(this.timeLabel.visible=!1,this.confirmButton.visible=!0,this.clearBtn.visible=!1,this.needDiamand.visible=!1,this.info.isUnlock&&!this.info.treasureId){var n=this.info.lastHarry.getTime(),i=n/1e3+Number(e.Constants.playerTreasureWait),a=i-t/1e3;if(a>0){this.timeLabel.text=e.s2hms(a),this.timeLabel.visible=!0,this.confirmButton.visible=!1,this.clearBtn.visible=!0,this.needDiamand.visible=!0;var o=Math.floor(a%3600/60);o%5==0?(this.needDiamand.text=e.Lang.yijianqingchuxuyaohuafei+5*parseInt(o/5+"")+e.Lang.zuanshi,this.needDiaNum=o/5*5):(this.needDiamand.text=e.Lang.yijianqingchuxuyaohuafei+5*(parseInt(o/5+"")+1)+e.Lang.zuanshi,this.needDiaNum=5*(o/5+1))}}this.setSelect(this._select)},n}(e.GameComponent);e.ZhanKuangDongTeamItem=t,__reflect(t.prototype,"game.ZhanKuangDongTeamItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._currentPage=1,e._maxPage=2,e._bagPokemonList=[],e._totalPokemon=[],e._pokemonBag=[],e._slotList=[],e.skinName=ZhanKuangDongTeamSettingSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.leftArrowButton,callBackFunc:this.moveLastPage},{target:this.rightArrowButton,callBackFunc:this.moveNextPage},{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify(),e.NotificationCenter.getInstance().addObserver(this,this.movePokemonEnd,n.MOVE_POKEMON_END);for(var t=0;6>t;t++){var i=new e.ZhanKuangPokemonSlot;this._slotList.push(i),this.teamPokemonGroup.addChild(i)}},n.prototype.moveNextPage=function(){var e=this.page+1;e>this._maxPage||(this.page=e,this.updateBag())},n.prototype.moveLastPage=function(){var e=this.page-1;1>e||(this.page=e,this.updateBag())},Object.defineProperty(n.prototype,"page",{get:function(){return this._currentPage},set:function(e){this._currentPage=e,this.leftArrowButton.visible=this._currentPage>1,this.rightArrowButton.visible=this._currentPage<this._maxPage,this.bagLabel.text=this._currentPage+"/"+this._maxPage},enumerable:!0,configurable:!0}),n.prototype.updateBag=function(){this._pokemonBag=[];for(var t=e.DataManager.playerModel.totalZhankuangPokemon,n=0;n<this._totalPokemon.length;n++)t.indexOf(this._totalPokemon[n].id)<0&&this._pokemonBag.push(this._totalPokemon[n]);for(var i=this._pokemonBag,a=15*(this.page-1)+1,o=a+15,s=i.length,n=0;15>n;n++){this._bagPokemonList[n]||(this._bagPokemonList[n]=new e.ZhanKuangBagPokemon,this.bagGroup.addChild(this._bagPokemonList[n]));var r=this._bagPokemonList[n];r.setPokemonInfo(null),r.slot=a+n}for(var n=a;o>n;n++){var u=i[n-1];if(u){var l=(n-1)%15,r=this._bagPokemonList[l];if(!r)continue;r.setPokemonInfo(u),r.helpImage.visible=!1}}this._maxPage=Math.floor(s/15)+1,this.page=this.page},n.prototype.movePokemonEnd=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s,r,u,l,c,h,r,s,u,l,c,p,h;return __generator(this,function(g){if(n=t.icon,n.stop(),i=t.event,a=i.stageX,o=i.stageY,e.checkPointAtRect(a,o,33,426,770,120)){for(s=-1,r=this.teamInfo.pmsId,u=0;u<r.length;u++)if(l=r[u],l==n.pokemonInfo.id){s=u;break}s>=0?n.resetPokemon():(c=a-33,h=Math.floor(c/107),this._slotList[h]?this.changeTeamAndBag(this._slotList[h],n):n.resetPokemon())}else if(e.checkPointAtRect(a,o,47,554,624,372)){for(r=this.teamInfo.pmsId,s=-1,u=0;u<r.length;u++)if(l=r[u],l==n.pokemonInfo.id){s=u;break}c=a-47,p=o-554,h=Math.floor(c/126)+5*Math.floor(p/126),s>=0?this.changeTeamAndBag(n,this._bagPokemonList[h]):n.resetPokemon()}else n.resetPokemon();return[2]})})},n.prototype.changeTeamAndBag=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,i;return __generator(this,function(a){switch(a.label){case 0:return t.pokemonInfo?n.pokemonInfo?(i=0,0!=i?[3,2]:[4,e.DataManager.playerModel.changeTreasureTeamPokemon(this.teamInfo,t.pokemonInfo,n.pokemonInfo,this._index)]):[3,4]:[3,7];case 1:return a.sent(),[3,3];case 2:e.showTips(e.Lang.ninzuiduoshangzhenxiangtongbaokemeng,!0),a.label=3;case 3:return[3,6];case 4:return[4,e.DataManager.playerModel.cancelTreasureTeamPokemon(this.teamInfo,t.pokemonInfo,this._index)];case 5:a.sent(),a.label=6;case 6:return[3,10];case 7:return n.pokemonInfo?(i=0,0!=i?[3,9]:[4,e.DataManager.playerModel.equipTreasureTeamPokemon(this.teamInfo,n.pokemonInfo,this._index)]):[3,10];case 8:return a.sent(),[3,10];case 9:e.showTips(e.Lang.ninzuiduoshangzhenxiangtongbaokemeng,!0),a.label=10;case 10:return this.updateBag(),this.updateSlot(),[2]}})})},n.prototype.updateSlot=function(){for(var t=this.teamInfo.pmsId,n=0;n<this._slotList.length;n++){var i=this._slotList[n],a=e.DataManager.playerModel.getPokemonInfoById(t[n]);i.setPokemonInfo(a)}},n.prototype.closeHandle=function(){e.removePopUp(this),this.teamItem.updateTeam()},n.prototype.setTeamInfo=function(t,n,i){this.teamItem=n,this._index=i,this._totalPokemon=e.DataManager.playerModel.playerAllPokemonList,this.teamInfo=t,this.page=1,this.updateBag(),this.updateSlot()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.MOVE_POKEMON_END="ZhanKuangDongTeamSetting",n}(e.PanelComponent);e.ZhanKuangDongTeamSetting=t,__reflect(t.prototype,"game.ZhanKuangDongTeamSetting")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e.skinName=ZhanKuangDongZhanBaoSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeHandle,this)},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.prototype.onShow=function(){e.showZhanKuang=!1;var t=e.DataManager.playerModel.treasurePlayer.reports;this.itemGroup.removeChildren();for(var n=0;n<t.length;n++){var i=t[n],a=this._itemList[n];a||(a=new e.ZhanKuangZhanBaoItem,this._itemList[n]=a),a.setInfo(i),this.itemGroup.addChild(a)}this.noneLabel.visible=0==t.length},n}(e.PanelComponent);e.ZhanKuangDongZhanBao=t,__reflect(t.prototype,"game.ZhanKuangDongZhanBao")}(game||(game={}));
var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e._pokemonList=[],e._monsterList=[],e._caveIndex=0,e.skinName=ZhanKuangDongZhanQianSkin,e.init(),e}return __extends(n,t),Object.defineProperty(n.prototype,"treasurePlayerInfo",{get:function(){return this._treasureInfo.treasureItems[this._caveIndex]},enumerable:!0,configurable:!0}),n.prototype.init=function(){this.attackButton.image="ui/scene/zhankuangzhan/jingong",this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.attackButton,callBackFunc:this.attHandle},{target:this.leftArrowButton,callBackFunc:this.leftArrowHandle},{target:this.rightArrowButton,callBackFunc:this.rightArrowHandle}],this.addEventAndNotify()},n.prototype.leftArrowHandle=function(){this._caveIndex--,this.updateArrow()},n.prototype.rightArrowHandle=function(){this._caveIndex++,this.updateArrow()},n.prototype.updateArrow=function(){this.rewardItemIcon.source="icon/item/"+this._treasureData.Type,this.playerNameLabel.visible=!1;var t=this.treasurePlayerInfo;null!=t&&(this.playerNameLabel.visible=!0,this.playerNameLabel.text=t.player.name);var n=t&&t.player.id.sid==e.DataManager.playerModel.sid&&t.player.id.pid==e.DataManager.playerModel.pid;this.attackButton.lock=n,this.attackButton.touchEnabled=!n,this.rewardCountLabel.text=e.setNumber(this._cave.earn||this._treasureData.Time*this._treasureData.Efficiency),this.infoImage.source="ui/scene/zhankuangzhan/jibaiduifangkededaliangziyuan",this.attackButton.image="ui/scene/zhankuangzhan/jingong",this.updateCompetitorPokemon(),this.updateTeamList(),this.rightArrowButton.visible=this._caveIndex<this._cave.count-1,this.leftArrowButton.visible=this._caveIndex>0},n.prototype.attHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r,u,l,c,h,p,g,d,c,m,f,_;return __generator(this,function(y){switch(y.label){case 0:return this._selectTeam.info.treasureId&&this._selectTeam.info.treasureId?(e.showTips(e.Lang.duiwuzhengzaicaijingzhong,!0),[2]):0==this._selectTeam.info.pmsId.length?(e.showTips(e.Lang.dangqianduiwumeiyoubaokemengo,!0),[2]):(t={sid:0,pid:0},this.treasurePlayerInfo&&(t=this.treasurePlayerInfo.player.id),[4,e.DataManager.playerModel.starTreasureBattle(this._selectTeam.info.teamId,this._treasureInfo.ID,t)]);case 1:if(n=y.sent(),!n)return[2];if(i=this._monsterList,n.their)for(i=[],a=n.their.battlePms,o=n.their.team,s=n.their.playerInfo.vip,r=e.getHomeAttribute(n.their.home.level,n.their.home.placed),u=n.their.science,l=n.their.honorLv,c=0;c<a.length;c++)for(h=0;h<o.gridConfig.length;h++)o.gridConfig[h].id==a[c].id&&(p=o.gridConfig[h].grid,g=e.parseBattlePokemonData(a[c],o.formation,p,!1,!1,o.titles,o.badges,o.roles,1,!1,s,o,r,u,o.artifacts,l,!1),i.push(g));for(d=[],c=0;c<this._selectTeam.info.pmsId.length;c++)m=e.DataManager.playerModel.getPokemonInfoById(this._selectTeam.info.pmsId[c]),m&&(f=e.parseBattlePokemonData(m,0,c+1),d.push(f));return _=e.BattleScene.getInstance(),_.treasurePlayerTeam=d,_.treasureItem=this._cave,_.treasureMissionTeam=i,this.closeHandle(),e.showWaitPanel(),[4,_.initBattle(16)];case 2:return y.sent(),e.hideWaitPanel(),e.GameLayer.battleLayer.addChild(_),_.run(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!1,e.NotificationCenter.getInstance().addObserver(this,this.endBattle,e.BattleScene.QUIT_BATTLE),[2]}})})},n.prototype.endBattle=function(){this._cave.update(),e.GameLayer.panelLayer.visible=e.GameLayer.sceneLayer.visible=!0,e.NotificationCenter.getInstance().removeObserver(this,e.BattleScene.QUIT_BATTLE)},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.updateCompetitorPokemon=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,n,n,o,s,r;return __generator(this,function(u){switch(u.label){case 0:if(this.playerPokemonGroup.removeChildren(),t=[],!this.treasurePlayerInfo)return[3,1];for(n=0;n<this.treasurePlayerInfo.team.length;n++)t.push(this.treasurePlayerInfo.team[n].count);return[3,3];case 1:return(i=e.splitStringToNumberArray(this._treasureData.Monster)[this._caveIndex])?(a=this,[4,e.PlayerModel.getMissionPokemonList(i,1)]):[3,3];case 2:for(a._monsterList=u.sent(),n=0;n<this._monsterList.length;n++)t.push(this._monsterList[n].id);u.label=3;case 3:for(n=0;n<t.length;n++)this._pokemonList[n]||(this._pokemonList[n]=new e.TeamArtPokemon),o=this._pokemonList[n],o.setPokemon(t[n],!1),o.setScaleX(-1),s=n%3*110,r=75*Math.floor(n/3),o.setDisplayPosition(s,r),this.playerPokemonGroup.addChild(o.display);return[2]}})})},n.prototype.updateTeamList=function(){this._selectTeam=null,this.teamGroup.removeChildren();for(var t=e.DataManager.playerModel.treasurePlayer.team,n=0;n<t.length;n++){var i=t[n];this._itemList[n]||(this._itemList[n]=new e.ZhanKuangDongTeamItem);var a=this._itemList[n];a.setInfo(i,n),this._selectTeam||0!=n?a.setSelect(!1):(this._selectTeam=a,a.setSelect(!0)),this.teamGroup.addChild(a)}},n.prototype.selectTeam=function(e){this._selectTeam=e;for(var t=0;t<this._itemList.length;t++){var n=this._itemList[t];n.setSelect(n==e)}},n.prototype.setInfo=function(t){return __awaiter(this,void 0,void 0,function(){var n=this;return __generator(this,function(i){return this._cave=t,this._caveIndex=t.caveIndex,this._treasureInfo=t.treasureInfo,this._treasureData=t.treasureData,this.updateArrow(),this._interval=egret.setInterval(function(){for(var t=e.getNowTime().getTime(),i=0;i<n._itemList.length;i++)n._itemList[i].updateTime(t)},this,1e3),[2]})})},n.prototype.onRemove=function(){this._interval&&egret.clearInterval(this._interval)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.ZhanKuangDongZhanQian=t,__reflect(t.prototype,"game.ZhanKuangDongZhanQian")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._starImages=[],e.caveIndex=0,e.count=1,e.skinName=ZhanKuangKuangDongSkin,e.init(),e}return __extends(n,t),Object.defineProperty(n.prototype,"treasurePlayerInfo",{get:function(){return this.treasureInfo.treasureItems[this.caveIndex]},set:function(e){this.treasureInfo.treasureItems[this.caveIndex]=e},enumerable:!0,configurable:!0}),n.prototype.init=function(){this.revengeButton.image="ui/scene/zhankuangzhan/fuchou",this.revengeButton.imageScale=1.5,this._touchEvent=[{target:this.touchGroup,callBackFunc:this.touchHandle},{target:this.revengeButton,callBackFunc:this.revengeHandle},{target:this.leftArrow,callBackFunc:this.leftArrowHandle},{target:this.rightArrow,callBackFunc:this.rightArrowHandle}],this.addEventAndNotify()},n.prototype.revengeHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},n.prototype.touchHandle=function(){var t=e.ZhanKuangDongZhanQian.getInstance();t.setInfo(this),t.show()},n.prototype.setInfo=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){return null==e||null==t?[2]:(this.treasureInfo=e,this.treasureData=t,this.update(),[2])})})},n.prototype.update=function(){for(var t=0,n=0;n<this.treasureData.Star;n++){var i=this._starImages[t];i||(i=new eui.Image,this._starImages[t]=i),i.source="ui/scene/team/star",i.scaleX=i.scaleY=.7,this.starGroup.addChild(i),t++}e.ZhanKuangZhan.getInstance().sceneType==e.ZKZ_SceneType.mine?this.count=this.treasureData.Number:this.count=this.treasureInfo.treasureItems.length,this.sourceImage.source="icon/item/"+this.treasureData.Type,this.caveIndex=Math.max(this.treasureInfo.treasureItems.length-1,0),this.updateArrow()},n.prototype.showPlayer=function(){if(this.animGroup.removeChildren(),!this._avatar){this._avatar=new e.BattleAvatar;var t=new eui.Image("anim/pokemon/shadow");t.x=-22,t.y=-18,this._avatar.displayGroup.addChildAt(t,0)}this._avatar.setAvatar(this.treasurePlayerInfo.player.gender),this._avatar.setWing(this.treasurePlayerInfo.player.wing,1),this._avatar.setDecoration(this.treasurePlayerInfo.player.orna,1),this._avatar.play(1),this.animGroup.addChild(this._avatar.displayGroup),this.powerLabel.text=""+this.treasurePlayerInfo.player.name,this.nameLabel.text=e.Lang.zhanli+":"+e.setNumber(this.treasurePlayerInfo.fight)},n.prototype.showMonster=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,a,o,s,r;return __generator(this,function(u){switch(u.label){case 0:return(t=e.splitStringToNumberArray(this.treasureData.Monster)[this.caveIndex])?(this.animGroup.removeChildren(),n=this,[4,e.PlayerModel.getMissionPokemonList(t,1)]):[2];case 1:for(n.monsterPokemonData=u.sent(),i=0,a=0,o=null,s=0;s<this.monsterPokemonData.length;s++)r=e.countPokemonBattleCount(this.monsterPokemonData[s]),i+=r,r>a&&(a=r,o=this.monsterPokemonData[s]);return null==o&&(o=this.monsterPokemonData[Math.floor(Math.random()*this.monsterPokemonData.length)]),this._artPokemon||(this._artPokemon=new e.TeamArtPokemon),this._artPokemon.setPokemon(o.id,!1),this.animGroup.addChild(this._artPokemon.display),this.nameLabel.text=e.Lang.yeshengjingling,this.powerLabel.text=e.Lang.zhanli+":"+e.setNumber(i),[2]}})})},n.prototype.updateArrow=function(){this.stop(),this.treasurePlayerInfo?this.showPlayer():this.showMonster(),this.rightArrow.visible=this.caveIndex<this.count-1,this.leftArrow.visible=this.caveIndex>0,this.updateTime(e.getNowTime().getTime())},n.prototype.leftArrowHandle=function(){this.caveIndex--,this.updateArrow()},n.prototype.rightArrowHandle=function(){this.caveIndex++,this.updateArrow()},n.prototype.stop=function(){this._artPokemon&&this._artPokemon.stop(),this._avatar&&this._avatar.stop()},n.prototype.updateTime=function(t){if(this.treasureData){var n=-1;if(this.treasurePlayerInfo){var i=t-this.treasurePlayerInfo.StartTime.getTime();if(e.ZhanKuangZhan.getInstance().sceneType==e.ZKZ_SceneType.mine){this.treasurePlayerInfo.RemainSeconds--;var a=(i/36e5|0)*this.treasureData.Efficiency|0;n=this.treasurePlayerInfo.RemainSeconds,this.earn=a,this.infoLabel1.text="已经开采: "+e.setNumber(a),this.infoLabel2.text="剩余储存: "+e.setNumber(this.treasureData.Efficiency*(this.treasureData.Time-(i/36e5|0))),this.infoLabel3.text="剩余时间: "+e.s2hms(n),0>=n&&(this.treasurePlayerInfo=null,this.showMonster())}else{var a=(i/36e5|0)*this.treasureData.Efficiency|0;n=this.treasurePlayerInfo.RemainSeconds,this.earn=a,this.infoLabel1.text="预计掠夺: "+e.setNumber(a*Number(e.Constants.Proportion)),this.infoLabel2.text="已经开采: "+e.setNumber(a),this.infoLabel3.text="剩余时间: "+e.s2hms(n),0>=n&&this.removeFromParent()}}0>=n&&(this.infoLabel1.text="矿洞储存:"+e.setNumber(this.treasureData.Efficiency*this.treasureData.Time),this.infoLabel2.text="产能:"+this.treasureData.Efficiency+"/小时",this.infoLabel3.text="预计时间: "+e.s2hms(this.treasureData.Time))}},n}(e.GameComponent);e.ZhanKuangKuangDong=t,__reflect(t.prototype,"game.ZhanKuangKuangDong")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=ZhanKuangMapIconSkin,t.noScale=!0,t}return __extends(t,e),t.prototype.setData=function(e,t,n){this.bg="ui/scene/zhankuangzhan/"+e,this.labelDisplay.visible=!1,this.selectBg.visible=n},t.prototype.showSelectBg=function(e){this.selectBg.visible=e},Object.defineProperty(t.prototype,"bg",{set:function(e){this._bg=e,this.bgDisplay&&(this.bgDisplay.source=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{set:function(e){this._label=e,this.labelDisplay&&(this.labelDisplay.text=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelScale",{set:function(e){this.labelDisplay&&(this.labelDisplay.scaleX=this.labelDisplay.scaleY=e)},enumerable:!0,configurable:!0}),t}(e.EffectButton);e.ZhanKuangMapIcon=t,__reflect(t.prototype,"game.ZhanKuangMapIcon")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e.skinName=ZhanKuangMineSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.onShow=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:return[4,e.DataManager.playerModel.getTreasurePlayerInfo()];case 1:for(t=i.sent(),this.itemGroup.removeChildren(),n=0;n<t.length;n++)this._itemList[n]||(this._itemList[n]=new e.ZhanKuangMineItem),this._itemList[n].setData(t[n]),this.itemGroup.addChild(this._itemList[n]);return this.noneLabel.visible=0==t.length,[2]}})})},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.ZhanKuangMine=t,__reflect(t.prototype,"game.ZhanKuangMine")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._pokemonIcon=[],e._starImages=[],e.skinName=ZhanKuangMineItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this.goButton.image="langs/qianwang",this.goButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t._treasureData&&e.ZhanKuangZhan.getInstance().changeMap(t._treasureData.Zone),e.ZhanKuangMine.getInstance().closeHandle()},this)},n.prototype.setData=function(t){if(t.treasures[0]&&t.treasures[0].treasureItems[0]){var i=t.treasures[0].treasureItems[0],a=0;this.pokemonGroup.removeChildren();for(var o=0;o<i.team.length;o++){var s=e.DataManager.playerModel.getPokemonInfoById(i.team[o].type),r=this._pokemonIcon[o];r||(r=new e.PokemonIcon,this._pokemonIcon[o]=r),r.pokemon=s.type,this.pokemonGroup.addChild(r),a+=e.countPokemonBattleCount(e.parseBattlePokemonData(s,1,o+1))}if(this._treasureData=e.Data.TNewMining[t.treasures[0].tID],this._treasureData){var u=e.getNowTime().getTime()-i.StartTime.getTime(),l=(u/36e5|0)*this._treasureData.Efficiency|0;this.nameLabel.text=n.mapName[this._treasureData.Zone],this.earnLabel.text=e.formatString(e.Lang.dangqianleijijiangli,l),this.sourceImage1.source=this.sourceImage2.source="icon/item/"+this._treasureData.Type;for(var c=0,o=0;o<this._treasureData.Star;o++){var h=this._starImages[c];h||(h=new eui.Image,this._starImages[c]=h),h.source="ui/scene/team/star",h.scaleX=h.scaleY=.7,this.starGroup.addChild(h),c++}}this.fightLabel.text=e.Lang.zhanli+"："+e.setNumber(a),this.lostLabel.text=e.formatString(e.Lang.beilueduo,i.lostItem)}},n.mapName=["","水上栈道","铃铛塔","变色密林","冰雪域","3号道路","地鼠洞穴","芬芳草地"],n}(e.GameComponent);e.ZhanKuangMineItem=t,__reflect(t.prototype,"game.ZhanKuangMineItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.postTouchNotify=function(){this.play()},n.prototype.endMovePokemon=function(t){e.NotificationCenter.getInstance().postNotification(e.ZhanKuangDongTeamSetting.MOVE_POKEMON_END,{icon:this,event:t})},n.prototype.updatePoint=function(){this.point.visible=!1},n}(e.TeamPokemonIcon);e.ZhanKuangPokemonSlot=t,__reflect(t.prototype,"game.ZhanKuangPokemonSlot")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._itemList=[],e.skinName=ZhanKuangRevengeSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify()},n.prototype.updateInfo=function(){this.itemGroup.removeChildren();for(var t=e.DataManager.playerModel.treasurePlayer.revenges,n=0;n<t.length;n++){this._itemList[n]||(this._itemList[n]=new e.ZhanKuangRevengeItem);var i=this._itemList[n];i.setData(t[n]),this.itemGroup.addChild(i)}this.noneLabel.visible=0==t.length},n.prototype.onShow=function(){this.updateInfo()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.ZhanKuangRevenge=t,__reflect(t.prototype,"game.ZhanKuangRevenge")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=ZhanKuangRevengeItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this._avatar=new e.BattleAvatar,this.avatarGroup.addChild(this._avatar.displayGroup),this.revengeButton.image="ui/scene/zhankuangzhan/fuchou",this.revengeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){return __awaiter(t,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,e.DataManager.playerModel.getTreasureRevenge(this._playerInfo)];case 1:return t=n.sent(),t&&e.ZhanKuangZhan.getInstance().setOther(t,this._playerInfo),[2]}})})},this)},n.prototype.stop=function(){this._avatar&&this._avatar.stop()},n.prototype.setData=function(e){this._playerInfo=e.Rival,this._avatar.setAvatar(this._playerInfo.gender),this._avatar.setWing(this._playerInfo.wing,1),this._avatar.setDecoration(this._playerInfo.orna,1),this._playerInfo.title?(this.firstTitleImage.visible=!0,this.firstTitleImage.source="langs/title/"+this._playerInfo.title):this.firstTitleImage.visible=!1},n}(e.GameComponent);e.ZhanKuangRevengeItem=t,__reflect(t.prototype,"game.ZhanKuangRevengeItem")}(game||(game={}));var game;!function(e){var t;!function(e){e[e.mine=1]="mine",e[e.enemy=2]="enemy"}(t=e.ZKZ_SceneType||(e.ZKZ_SceneType={}));var n=function(n){function i(){var e=n.call(this)||this;return e._cavePosition=[[76,60],[472,220],[0,412],[490,510],[252,644]],e._caveList=[],e.skinName=ZhanKuangZhanSkin,e.init(),e}return __extends(i,n),i.prototype.init=function(){var t=this;this.ruleButton.icon="ui/scene/zhankuangzhan/guize",this.logButton.icon="ui/scene/zhankuangzhan/zhanbao",this.fuchouButton.icon="ui/scene/zhankuangzhan/choudi",this.changeSceneButton.icon="ui/scene/zhankuangzhan/wode",this._touchEvent=[{target:this.changeSceneButton,callBackFunc:this.changeScene},{target:this.logButton,callBackFunc:this.logHandle},{target:this.ruleButton,callBackFunc:this.ruleHandle},{target:this.fuchouButton,callBackFunc:this.fuchouHandle},{target:this.backButton,callBackFunc:this.closeHandle}];for(var n in e.Data.TMiningMap)if(null!=e.Data.TMiningMap[n]){var i=e.Data.TMiningMap[n],a=new e.ZhanKuangMapIcon;a.setData(i.ID,10*i.ID,!1),1==i.ID&&a.showSelectBg(!0),a.x=90*(Number(n)-1)+10,a.name=i.ID.toString(),this.mapGroup.addChild(a)}this.mapGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){var n=e.target;if(null!=n){for(var i=Number(n.name),a=0;a<t.mapGroup.$children.length;a++)if(i==a+1){var o=t.mapGroup.$children[String(a)];o.showSelectBg(!0)}else{var o=t.mapGroup.$children[String(a)];o.showSelectBg(!1)}t.changeMap(i)}},this),this.addEventAndNotify()},i.prototype.closeHandle=function(){e.navPanel(9)},i.prototype.changeMap=function(t){this._mapID=t,this.bgImage.source="ui/scene/zhankuangzhan/0"+e.Data.TMiningMap[t].Picture,this.bgImage.scaleX=this.bgImage.scaleY=2;var n;for(var i in this._info)if(this._info[i].mapId==t){n=this._info[i].treasures;break}this.caveGroup.removeChildren();var a=0;for(var i in e.Data.TNewMining){var o=e.Data.TNewMining[i];if(o.Place==a+1&&o.Zone==t){var s=this._caveList[a];s||(s=new e.ZhanKuangKuangDong,this._caveList[a]=s),a++;var r=e.splitStringToNumberArray(o.Position,",");s.x=r[0],s.y=r[1];for(var u in n)if(n[u].tID==o.ID){s.setInfo(n[u],o);break}this.caveGroup.addChild(s)}}this._timeInterval&&egret.clearInterval(this._timeInterval),this._timeInterval=egret.setInterval(this.updateTime,this,1e3)},i.prototype.ruleHandle=function(){e.ZhanKuangZhanRule.getInstance().setText(e.Data.TMiningRule[1].info).show()},i.prototype.fuchouHandle=function(){e.ZhanKuangRevenge.getInstance().show()},i.prototype.logHandle=function(){e.ZhanKuangDongZhanBao.getInstance().show()},i.prototype.changeScene=function(){e.ZhanKuangMine.getInstance().show()},i.prototype.setOther=function(e,n){this._info=e,this.otherPlayerInfo=n,this.setType(t.enemy)},i.prototype.setOtherTreasure=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.siteLabel.textColor=gameConfig.TextColors.red,this.siteLabel.text="仇人"+this.otherPlayerInfo.name+"的矿点",this.changeMap(this._mapID||1),[2]})})},i.prototype.setType=function(e){this.sceneType=e,this.siteLabel.visible=e==t.enemy,e==t.mine?this.setSelfTreasure():e==t.enemy&&this.setOtherTreasure()},i.prototype.setSelfTreasure=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.DataManager.playerModel.getTreasurePlayerInfoAsync()];case 1:return t.sent(),[4,e.DataManager.playerModel.getTreasureInfo()];case 2:return t.sent(),this._info=e.DataManager.playerModel.treasureInfo,this.changeMap(this._mapID||1),[2]}})})},i.prototype.updateTime=function(){for(var t=e.getNowTime().getTime(),n=0;n<this._caveList.length;n++)this._caveList[n].visible&&this._caveList[n].updateTime(t);this.logPoint.visible=e.showZhanKuang},i.prototype.onCreate=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.setType(t.mine),[2]})})},i.prototype.destroy=function(){this.removeFromParent();for(var t=0;t<this._caveList.length;t++){var n=this._caveList[t];n.stop()}e.HttpRequest.ExitTreasureAsync()},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.SceneComponent);e.ZhanKuangZhan=n,__reflect(n.prototype,"game.ZhanKuangZhan")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=ZhanKuangZhanBaoItemSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){var t=this;this._avatar=new e.BattleAvatar,this.avatarGroup.addChild(this._avatar.displayGroup),this.okButton.image="ui/scene/zhankuangzhan/lingqu",this.okButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.info.reward?[4,e.DataManager.playerModel.GetTreasureReward(this.info)]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.setInfo(this.info),[2]}})})},this)},n.prototype.setInfo=function(t){this.info=t;var n=t.attack;this.ZLWinGroup.visible=1==t.repotType,this.FSWinGroup.visible=3==t.repotType,this.LDWinGroup.visible=6==t.repotType,this.ZLfalseGroup.visible=2==t.repotType,this.FSfalseGroup.visible=5==t.repotType||4==t.repotType,this.LDfalseGroup.visible=7==t.repotType;var i=t.reward;switch(t.repotType){case 1:break;case 2:this.ZLfalseImage.visible=!!t.defend,this.ZLfalseLabel.visible=!!t.defend,t.defend&&(this.ZLfalseLabel.text=t.defend.name);break;case 6:this.LDWinNameLabel.text=t.defend.name,this.LDWinItemIcon.visible=this.LDWinCountLabel.visible=!!i,t.reward&&(this.LDWinItemIcon.source="icon/item"+i.type,this.LDWinCountLabel.text=""+i.count);break;case 7:this.LDfalseNameLabel.text=t.defend.name;break;case 3:this.FSWinNameLabel.text=t.attack.name,this.FSWinItemIcon.visible=this.FSWinCountLabel.visible=!!i,i&&(this.FSWinItemIcon.source="icon/item"+i.type,this.FSWinCountLabel.text=""+i.count);break;case 5:case 4:this.FSfalseNameLabel.text=t.attack.name,this.FSfalseItemIcon.visible=this.FSfalseCountLabel.visible=!!i,i&&(this.FSfalseItemIcon.source="icon/item"+i.type,this.FSfalseCountLabel.text=""+i.count)}this.nameLabel.text=n.name,this.vipLabel.text=e.getVipLevelByRecharge(n.vipExp).toString(),this._avatar.setAvatar(n.gender),this._avatar.setWing(n.wing,1),this._avatar.setDecoration(n.orna,1),n.title?(this.firstTitleImage.visible=!0,this.firstTitleImage.source="langs/title/"+n.title):this.firstTitleImage.visible=!1,this.otherInfo=n},n}(e.GameComponent);e.ZhanKuangZhanBaoItem=t,__reflect(t.prototype,"game.ZhanKuangZhanBaoItem")}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=ZhanKuangDongRuleSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.confirmButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeHandle,this)},n.prototype.closeHandle=function(){e.removePopUp(this)},n.prototype.setText=function(t){return this.infoLabel.textFlow=e.parseColorText(t),this},n.prototype.setRuleIDAndShow=function(t){e.Data.TMiningRule[t]&&(this.setText(e.Data.TMiningRule[t].info),this.show())},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.ZhanKuangZhanRule=t,__reflect(t.prototype,"game.ZhanKuangZhanRule")}(game||(game={}));var effectUtils;!function(e){function t(e,t){if(void 0===t&&(t=1e3),null==this.rotationArr&&(this.rotationArr=[]),!this.rotationArr[e.hashCode]){null!=this.rotationArr[e.hashCode]&&this.rotationArr[e.hashCode]||(this.rotationArr[e.hashCode]=!0);var n=function(){this.rotationArr[e.hashCode]&&null!=e&&(e.rotation=0,egret.Tween.get(e).to({rotation:360},t).call(n,this))};e.rotation=0,egret.Tween.get(e).to({rotation:360},t).call(n,this)}}function n(e){null==this.rotationArr&&(this.rotationArr=[]),this.rotationArr[e.hashCode]=!1}function i(e){var t=80,n=e.x;egret.Tween.get(e).to({x:e.x-10},t),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},t)},this,2*t),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x-20},t)},this,3*t),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},t)},this,4*t),egret.setTimeout(function(){egret.Tween.get(e).to({x:n},t)},this,5*t)}function a(e,t){void 0===t&&(t=1);var n=40,i=e.x,a=e.y;1==t?(egret.Tween.get(e).to({x:e.x-10},n),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},n)},this,2*n),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x-20},n)},this,3*n),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},n)},this,4*n),egret.setTimeout(function(){egret.Tween.get(e).to({x:i},n)},this,5*n)):(egret.Tween.get(e).to({x:e.x-10,y:e.y},n),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20,y:e.y},n)},this,2*n),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y+15},n)},this,3*n),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y-20},n)},this,4*n),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y+10},n)},this,5*n),egret.setTimeout(function(){egret.Tween.get(e).to({x:i,y:a},n)},this,6*n))}function o(e,t){if(void 0===t&&(t=1),!this.isPlayEffectPlay){this.isPlayEffectPlay=!0;var n=function(){this.isPlayEffectPlay=!1},i=function(){1==t?egret.Tween.get(e).to({scaleX:1,scaleY:1,x:e.x-e.width/4,y:e.y-e.height/4},500,egret.Ease.elasticOut).call(n,this):2==t?egret.Tween.get(e).to({scaleX:1,scaleY:1,x:e.x-e.width/4,y:e.y-e.height/4},500,egret.Ease.backOut).call(n,this):3==t&&egret.Tween.get(e).to({scaleX:1,scaleY:1,x:e.x-e.width/4,y:e.y-e.height/4},100).call(n,this)};egret.Tween.get(e).to({scaleX:.5,scaleY:.5,x:e.x+e.width/4,y:e.y+e.height/4},100,egret.Ease.sineIn).call(i,this)}}function s(e){var t=function(){if(null!=e){var n=function(){e.scaleX=1,e.scaleY=1,egret.Tween.get(e).to({alpha:1},1e3).call(t,self)};e.alpha=1,egret.Tween.get(e).to({scaleX:1.5,scaleY:1.5,alpha:0},1e3).call(n,self)}};t()}function r(e,t,n,i){void 0===t&&(t=300),void 0===n&&(n=10),void 0===i&&(i=0);var a=function(){if(null!=e){var i=function(){egret.Tween.get(e).to({y:e.y-n},t).call(a,this)};egret.Tween.get(e).to({y:e.y+n},t).call(i,this)}};egret.setTimeout(function(){a()},this,i)}function u(e,t,n){void 0===n&&(n=20);var i=function(){if(null!=e){var a=function(){egret.Tween.get(e).to({rotation:-n},t).call(i,this)};egret.Tween.get(e).to({rotation:n},t).call(a,this)}};i()}function l(e,t,n){void 0===t&&(t=""),void 0===n&&(n=200);for(var i=t.split(""),a=i.length,o=0;a>o;o++)egret.setTimeout(function(){e.appendText(i[Number(this)])},o,n*o)}e.rotationEffect=t,e.removeRotationEffect=n,e.shakeObj=i,e.shakeScreen=a;e.playEffect=o,e.playScaleEffect=s,e.flyObj=r,e.rockObj=u,e.typerEffect=l}(effectUtils||(effectUtils={}));var game;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e._activityIcon=[],e._haveList=!1,e.activityIDs=[],e.skinName=ActivityPanelSkin,e.init(),e}return __extends(i,t),i.prototype.init=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle}],this.addEventAndNotify(),this.detailGroup.mask=new egret.Rectangle(0,0,720,872)},i.prototype.closeHandle=function(){this.currentIcon&&(this._initActivity=this.currentIcon.info.type),this.currentIcon=null,e.removePopUp(this),e.IdleScene.getInstance().onStage&&(e.IdleScene.getInstance().visible=!0)},i.prototype.onShow=function(){this.updateList()},i.prototype.updateList=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=this,[4,e.DataManager.playerModel.getActivityList()];case 1:return t._activityList=n.sent(),this.updateActivityList(),this._haveList=!0,[2]}})})},i.prototype.checkCanShow=function(t,n){var i=!0,a=e.DataManager.playerModel.getActivityInfo();if(t.end){var o=n.getTime();if(o>=t.end.getTime())return i=!1}switch(t.type){case 138:i=!0;break;case 101:0!=a.recharged&&(i=!1);break;case 100:2==a.oneYuanRecharge&&(i=!1);break;case 103:a.superCard>1&&(i=!1);break;case 1:a.eventInfo.sevenLg.states.length>=7&&(i=!1);break;case 105:var s=0;for(var r in e.Data.THuoChengZhang)e.Data.THuoChengZhang.hasOwnProperty(r)&&s++;a.eventInfo.growthPlan.list.length-1>=s&&(i=!1);break;case 106:a.eventInfo.shenShou.state&&(i=!1);break;case 4:var u=0,l=!1;for(var r in e.Data.THuoRechargeSum){if(0==(a.eventInfo.sumRecharge.State&1<<u)){l=!0;break}u++}i=l;break;case 6:for(var r in e.Data.TFlashElf)for(var c=e.Data.TFlashElf[r],h=0;h<a.eventInfo.flashElf.states.length;h++)if(c.Money==a.eventInfo.flashElf.states[h].count){i=!1;break}break;case 5:var p=a.eventInfo.diamondSpend,g=!0;for(var r in e.Data.TDiamondCon){for(var c=e.Data.TDiamondCon[r],d=!1,h=0;h<p.states.length;h++)if(p.states[h].count==c.Price){d=!0;break}if(!d){g=!1;break}}i=!g;break;case 7:var m=!0;for(var r in e.Data.TPremiumPacks){var c=e.Data.TPremiumPacks[r],f=e.DataManager.playerModel.getPremiumPacksInfo(c.ID);if(f.count<c.CountLimit){m=!1;break}}i=!m;break;case 108:var _=!0,y=a.eventInfo.dailyRecharged;for(var r in e.Data.TDailyRecharge)if(y.states.indexOf(e.Data.TDailyRecharge[r].ID)<0){_=!1;break}i=!_;break;case 107:var v=!0,b=a.eventInfo.dailyDiamondSpend;for(var r in e.Data.TDailyCon)if(b.states.indexOf(e.Data.TDailyCon[r].ID)<0){v=!1;break}i=!v;break;case 109:var w=!0,k=a.eventInfo.playerLvReach.list;for(var r in e.Data.TLvaCtivity)if(k.indexOf(e.Data.TLvaCtivity[r].ID)<0){w=!1;break}i=!w;break;case 110:var I=a.eventInfo.dailyRechargeGift;I.states.length>0&&(i=!1);break;case 111:var T=0;for(var r in e.Data.TMammonRabbit)T=Math.max(e.Data.TMammonRabbit[r].ID,T);a.eventInfo.mammonRabbit.mammonRabbit>T&&(i=!1);break;case 113:var P=a.eventInfo.tdecennium,L=0,D=0;for(var r in e.Data.TDecennium){var c=e.Data.TDecennium[r];D++,P.states.indexOf(c.id)>-1&&L++}L>=D&&(i=!1);break;case 119:i=!0;break;case 120:i=!1;break;case 121:i=!1;break;case 122:var x=e.DataManager.playerModel.getActivityInfo().eventInfo.guoqing;x.GuoQingrecharge[0]&&(i=!1);break;case 124:var C=e.DataManager.playerModel.getActivityInfo().eventInfo.primeCharge;C.states.length>=3&&(i=!1);break;case 126:i=!1;break;case 8:var B=e.DataManager.playerModel.getActivityInfo().eventInfo.superElf.state;B&&(i=!1);break;case 127:i=!1;var S=e.DataManager.playerModel.getActivityInfo().eventInfo.everyday;for(var r in e.Data.TEverydayRecharge){var c=e.Data.TEverydayRecharge[r];if(S.receive.indexOf(c.id)<0){i=!0;break}}break;case 129:i=!1;break;case 9:var E=a.eventInfo.rechargeElf;0!=(1&E.State)&&(i=!1);break;case 10:i=!1;break;case 12:var A=a.eventInfo.christmasEve;A.State>0&&(i=!1);break;case 130:i=!1;break;case 131:i=!0;break;case 115:i=!0;break;case 112:i=!0;break;case 132:i=!1;break;case 137:i=!1;var M=e.DataManager.playerModel.getActivityInfo().eventInfo.lvAc2;for(var r in e.Data.TLvaCtivity2)if(e.Data.TLvaCtivity2.hasOwnProperty(r)){var c=e.Data.TLvaCtivity2[r];if(M.list.indexOf(c.ID)<0){i=!0;break}}}return i},i.prototype.updateActivityList=function(){var t=this;i.yiyuan=null,i.yuyue=null,i.sishijiuyuan=null,i.wanshengjie=null,i.yuandan=null;for(var n=0;n<this._activityList.length;n++){var a=this._activityList[n];
127==a.type||(100==a.type?i.yiyuan=a:10==a.type?i.yuyue=a:110==a.type?i.sishijiuyuan=a:126==a.type?i.wanshengjie=a:130==a.type&&(i.yuandan=a))}this._activityList=this._activityList.filter(function(e){return t.activityIDs.indexOf(e.type)>-1}),this._activityList=this._activityList.sort(function(e,t){return e.sort-t.sort});var o,s=0,r=e.getNowTime();this.iconGroup.removeChildren();for(var n=0;n<this._activityList.length;n++){var a=this._activityList[n];if(this.checkCanShow(a,r)){var u=this._activityIcon[s];u||(u=new e.ActivityIcon,this._activityIcon[s]=u),u.setData(a),this.iconGroup.addChild(u),a.type==this._initActivity&&(o=u,s>=3&&(this.iconScroller.viewport.scrollH=(s-2)*u.width+36)),s++}}this._radioGroup||(this._radioGroup=new e.RadioGroup(this.iconGroup,this._activityIcon,this.touchActivity,this,this.changeActivity)),o||(o=this._activityIcon[0],this.iconScroller.viewport.scrollH=0),this._radioGroup.touchButton(o)},i.prototype.checkIsHaveActivtiy=function(){if(null==this._activityList)return this.updateList(),!1;for(var t=e.getNowTime(),n=0;n<this._activityList.length;n++){var i=this._activityList[n];if(this.checkCanShow(i,t))return!0}return!1},i.prototype.changeActivity=function(e,t){e.select=t},i.prototype.touchActivity=function(t){if(this.currentIcon=t,this._currentInfo=t.info,this._currentInfo){switch(this._currentPanel&&this._currentPanel.removeFromParent(),this._currentInfo.type){case 1:this._currentPanel=e.QiRiDengLu.getInstance();break;case 138:this._currentPanel=e.QiRiJinSai.getInstance();break;case 103:this._currentPanel=e.ZhongShenKa.getInstance();break;case 102:this._currentPanel=e.YueKa.getInstance();break;case 100:this._currentPanel=e.YiYuanLiBao.getInstance();break;case 101:this._currentPanel=e.ShouChong.getInstance();break;case 2:this._currentPanel=e.ZhuanPan.getInstance();break;case 3:this._currentPanel=e.SuiPianBoss.getInstance();break;case 105:this._currentPanel=e.ChengZhangJiHua.getInstance();break;case 4:this._currentPanel=e.LeiJiChongZhi.getInstance();break;case 106:this._currentPanel=e.ShenShouJiangLin.getInstance();break;case 6:this._currentPanel=e.ShanGuangJingLing.getInstance();break;case 5:this._currentPanel=e.ZuanShiXiaoFei.getInstance();break;case 7:this._currentPanel=e.ChaoZhiLiBao.getInstance();break;case 107:this._currentPanel=e.DanRiXiaoFei.getInstance();break;case 108:this._currentPanel=e.DanRiChongZhi.getInstance();break;case 109:this._currentPanel=e.DengJiChongChong.getInstance();break;case 110:this._currentPanel=e.SiShiJiuLiBao.getInstance();break;case 111:this._currentPanel=e.CaiShenTuTu.getInstance();break;case 112:this._currentPanel=e.JiZiHuoDong.getInstance();break;case 113:this._currentPanel=e.ShiLianFuLiPanel.getInstance();break;case 114:this._currentPanel=e.DengLuYouLiPanel.getInstance();break;case 116:this._currentPanel=e.DrawDiamondPanel.getInstance();break;case 117:this._currentPanel=e.FirstGrouponPanel.getInstance();break;case 118:this._currentPanel=e.KaiFuJingSaiPanel.getInstance();break;case 122:this._currentPanel=e.JieRiChongZhiShuangBei.getInstance();break;case 123:this._currentPanel=e.XiaoFeiDaBiPin.getInstance();break;case 124:this._currentPanel=e.XinShouChong.getInstance();break;case 125:this._currentPanel=e.SongFuZhuang.getInstance();break;case 8:this._currentPanel=e.ChaoJiJingLing.getInstance();break;case 128:this._currentPanel=e.KaiFuDaBiPin.getInstance();break;case 9:this._currentPanel=e.LeiChongJingLing.getInstance();break;case 129:break;case 11:this._currentPanel=e.MeiRiSongLi.getInstance();break;case 12:this._currentPanel=e.YuanDanJingLing.getInstance();break;case 133:this._currentPanel=e.QiRiChengZhang.getInstance();break;case 127:this._currentPanel=e.TianTianYouLi.getInstance();break;case 137:this._currentPanel=e.PlayerLevelUp.getInstance();break;case 131:this._currentPanel=e.XingYunZhuanPan.getInstance();break;case 115:this._currentPanel=e.ZaJinDanPanel.getInstance();break;case 119:this._currentPanel=e.ZhongQiuPanel.getInstance()}this._currentPanel.info=this._currentInfo,this._currentPanel.setInfo(),this.detailGroup.addChild(this._currentPanel)}},i.prototype.setInitActivity=function(e){this._initActivity=e},i.prototype.checkPoint=function(){if(!this._haveList)return this.updateList(),null;for(var e=0;e<this._activityIcon.length;e++)if(this._activityIcon[e].point.visible)return!0;return!1},i.prototype.setPanelType=function(t){this._type=t,this._type=this._type||n.huodongzhongxin,this.activityIDs=[];for(var i in e.Data.TActiveConfiguration)if(e.Data.TActiveConfiguration.hasOwnProperty(i)){var a=e.Data.TActiveConfiguration[i],o=0;switch(this._type){case n.huodongzhongxin:o=a.activity;break;case n.xinfukuanghuan:o=a.newactivity;break;case n.xianshihaoli:o=a.timelimit;break;case n.quanminkuanghuan:o=a.hilarity}o&&this.activityIDs.push(o)}},i.getInstanceByType=function(e){return this._instances[e]||(this._instances[e]=new i,this._instances[e].setPanelType(e)),this._instances[e]},i.checkPoint=function(e){return this.getInstanceByType(e).checkPoint()?!0:!1},i.updateCurrentIconPoint=function(){for(var e=0;e<this._instances.length;e++){var t=this._instances[e];t&&t.currentIcon&&t.currentIcon.updatePoint()}},i.openActivity=function(e){var t=this.getInstanceByActivityType(e);t&&(t.setInitActivity(e),t.show())},i.getInstanceByActivityType=function(e){for(var t=0;t<this._instances.length;t++){var n=this._instances[t];if(n&&n.activityIDs.indexOf(e)>-1)return n}},i._instances=[],i}(e.PanelComponent);e.ActivityPanel=t,__reflect(t.prototype,"game.ActivityPanel");var n;!function(e){e[e.huodongzhongxin=0]="huodongzhongxin",e[e.xinfukuanghuan=1]="xinfukuanghuan",e[e.xianshihaoli=2]="xianshihaoli",e[e.quanminkuanghuan=3]="quanminkuanghuan"}(n=e.ActivityPanelType||(e.ActivityPanelType={}))}(game||(game={}));var game;!function(e){var t=function(){function e(e){this.SeedArray=[],this.MBIG=2147483647,this.MSEED=161803398,this.MZ=0,e||(e=(new Date).valueOf()%1e6|0);for(var t=0;56>t;t++)this.SeedArray.push(0);var n=-2147483648==e?2147483647:0|Math.abs(e),i=161803398-n;this.SeedArray[55]=i;for(var a=1,t=1;55>t;t++){var o=21*t%55|0;this.SeedArray[o]=a,a=i-a,0>a&&(a+=2147483647),i=this.SeedArray[o]}for(var s=1;5>s;s++)for(var r=1;56>r;r++)this.SeedArray[r]-=this.SeedArray[1+(r+30)%55],this.SeedArray[r]<0&&(this.SeedArray[r]+=2147483647);this.inext=0,this.inextp=21,e=1}return e.prototype.Sample=function(){return 4.656612875245797e-10*this.InternalSample()},e.prototype.InternalSample=function(){var e=this.inext,t=this.inextp;++e>=56&&(e=1),++t>=56&&(t=1);var n=this.SeedArray[e]-this.SeedArray[t];return 2147483647==n&&n--,0>n&&(n+=2147483647),this.SeedArray[e]=n,this.inext=e,this.inextp=t,n},e.prototype.Next=function(e,t){if(null==e&&null==t)return this.InternalSample();if(e>t)throw new Error("min > max");var n=t-e;return 2147483647>=n?(this.Sample()*n|0)+e:(this.GetSampleForLargeRange()*n|0)+e|0},e.prototype.GetSampleForLargeRange=function(){var e=this.InternalSample(),t=this.InternalSample()%2==0;t&&(e=-e);var n=e;return n+=2147483646,n/4294967293},e}();e.Random=t,__reflect(t.prototype,"game.Random")}(game||(game={}));var game;!function(e){function t(e){var t=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(t>=10?t:"0"+t)+":"+(n>=10?n:"0"+n)}function n(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),i=Math.floor(e%3600%60);return t+":"+(n>=10?n:"0"+n)+":"+(i>=10?i:"0"+i)}function i(e){var t=Math.floor(e/86400),n=Math.floor(e%86400/3600),i=Math.floor(e%86400%3600/60);return t+"天"+n+"时"+(i>=10?i:"0"+i)+"分"}function a(e,t){void 0===t&&(t="yyyy.MM.dd  hh:mm:ss");var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in n)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return t}function o(){var t=new Date;return t.setTime(t.getTime()+e.timeDelay),t}function s(e){var t=Math.floor(e/86400),n=Math.floor(e%86400/3600);if(n>0)return t+"天  "+n+"小时";var i=Math.floor(e%86400%3600/60),a=Math.floor(e%86400%3600%60);return t+"天  "+n+"时"+(i>=10?i:"0"+i)+"分"+(a>=10?a:"0"+a)+"秒"}e.week=["周日","周一","周二","周三","周四","周五","周六"],e.weekNumber=["7","1","2","3","4","5","6"],e.timeDelay=0,e.s2ms=t,e.s2hms=n,e.sDhm=i,e.formatTime=a,e.getNowTime=o,e.sDh=s}(game||(game={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName=BTRechargeSkin,e.rechargeButton.image="ui/scene/activity/Tx_chongzhi",e.rechargeButton.bg="ui/scene/activity/btn_11",e._touchEvent=[{target:e.rechargeButton,callBackFunc:e.touchRecharge},{target:e.closeButton,callBackFunc:e.closeHandle}],e.addEventAndNotify(),e}return __extends(n,t),n.prototype.touchRecharge=function(){e.navPanel(15),this.closeHandle()},n.prototype.closeHandle=function(){e.removePopUp(this)},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.PanelComponent);e.BTRecharge=t,__reflect(t.prototype,"game.BTRecharge")}(game||(game={}));var Game;!function(e){var t=function(e){function t(t){var n=e.call(this,5)||this;return n.dispMethods=function(e,t){},n}return __extends(t,e),t}(EasyGame.StubBase);e.IGuildNotifyStub=t,__reflect(t.prototype,"Game.IGuildNotifyStub");var n=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t}(EasyGame.ProxyBase);e.IGuildServiceProxy=n,__reflect(n.prototype,"Game.IGuildServiceProxy");var i=function(e){function t(t){var n=e.call(this,10)||this;return n.dispMethods=function(e,n){switch(e){case 1:t.OnMessage(n.read(3),n.read(EasyGame.Type.MessageData))}},n}return __extends(t,e),t}(EasyGame.StubBase);e.IMessengerNotifyStub=i,__reflect(i.prototype,"Game.IMessengerNotifyStub");var a=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.JoinChannel=function(e,t){var n=this,i=new EasyGame.StreamWriter;return i.writeInt(10),i.writeInt(1),i.write(3,e),new Promise(function(e){n.send(i,n.getResult(null,e,t||n.onError))})},t.prototype.LeaveChannel=function(e,t){var n=this,i=new EasyGame.StreamWriter;return i.writeInt(10),i.writeInt(2),i.write(3,e),new Promise(function(e){n.send(i,n.getResult(null,e,t||n.onError))})},t.prototype.GetMessages=function(e,t,n){var i=this,a=new EasyGame.StreamWriter;return a.writeInt(10),a.writeInt(3),a.write(3,e),a.write(2,t),new Promise(function(e){i.send(a,i.getResult(function(e){return e.readArray(EasyGame.Type.MessageData)},e,n||i.onError))})},t.prototype.SendMessage=function(e,t,n){var i=this,a=new EasyGame.StreamWriter;return a.writeInt(10),a.writeInt(4),a.write(3,e),a.write(3,t),new Promise(function(e){i.send(a,i.getResult(null,e,n||i.onError))})},t}(EasyGame.ProxyBase);e.IMessengerServiceProxy=a,__reflect(a.prototype,"Game.IMessengerServiceProxy"),EasyGame.Type.PlayerKey={read:function(e){var t={};return t.sid=e.read(2),t.pid=e.read(2),t},write:function(e,t){e.write(2,t.sid),e.write(2,t.pid)}},EasyGame.Type.PlayerBaseInfo={read:function(e){if(!e.read(1))return null;var t={};return t.id=e.read(EasyGame.Type.PlayerKey),t.name=e.read(3),t.icon=e.read(3),t.gender=e.read(2),t.level=e.read(2),t.camp=e.read(2),t},write:function(e,t){return null==t?void e.write(1,!1):(e.write(1,!0),e.write(EasyGame.Type.PlayerKey,t.id),e.write(3,t.name),e.write(3,t.icon),e.write(2,t.gender),e.write(2,t.level),void e.write(2,t.camp))}}}(Game||(Game={}));var Auth;!function(e){function t(e,t,n){return void 0===n&&(n="GET"),new Promise(function(i,a){var o=new XMLHttpRequest,s="";if(t){var r=[];for(var u in t){var l=t[u];r.push(u+"="+encodeURIComponent(l))}s=r.join("&")}"POST"===n?(o.open(n,e),o.setRequestHeader("Content-type","application/x-www-form-urlencoded")):(s&&(e=e+"?"+s),s=null,o.open(n,e)),o.onload=function(){var e=o.status>=400||!o.status&&!o.responseText;if(e){var t=o.statusText;0==o.status&&(t="timeout."),a(new Error(t))}i(o.responseText)},o.send(s||null)})}function n(e){null!=e&&(-1!=e.indexOf("+")&&(e=e.replace("+",window.location.hostname)),bt=e,It="ws"==bt.substring(0,2))}function i(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return[4,t(e.$serverUrl+"/wb/report",{token:yt,rmb:n})];case 1:return i.sent(),[2]}})})}function a(){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return n=SDK.getQueryString("GIFT"),null==n||""==n?[3,2]:[4,t(e.$serverUrl+"/wb/gifitBag",{token:yt,gift:n})];case 1:i=a.sent(),a.label=2;case 2:return[2,null]}})})}function o(i,a,o,s,r,u,l,c){return __awaiter(this,void 0,void 0,function(){var h,p,g;return __generator(this,function(d){switch(d.label){case 0:return g=(p=JSON).parse,[4,t(e.$serverUrl+"/login/start",{serverid:i,bbsid:a,portal:o,usertype:s,useraddr:r,token:u,ts:l,sign:c})];case 1:if(h=g.apply(p,[d.sent()]),h.status)throw new Error(h.message);return yt=h.result.token,n(h.result.agent),[2,h.result]}})})}function s(){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/login/awy/start",{token:SDK.getQueryString("token"),fuid:SDK.getQueryString("fuid"),focus:SDK.getQueryString("focus"),cp_sid:SDK.getQueryString("cp_sid"),cp_pid:SDK.getQueryString("cp_pid")})];case 1:if(i=o.apply(a,[s.sent()]),i.status)throw new Error(i.message);return yt=i.result.token,n(i.result.agent),[2,i.result]}})})}function r(){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/youyou/start",{userid:SDK.getQueryString("userid"),username:SDK.getQueryString("username"),isAdult:SDK.getQueryString("isAdult"),avatar:SDK.getQueryString("avatar"),sex:SDK.getQueryString("sex"),vaildCode:SDK.getQueryString("vaildCode"),time:SDK.getQueryString("time"),sign:SDK.getQueryString("sign")})];case 1:if(i=o.apply(a,[s.sent()]),i.status)throw new Error(i.message);return yt=i.result.token,n(i.result.agent),[2,i.result]}})})}function u(){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/nb/start",{token:SDK.getQueryString("token"),uid:SDK.getQueryString("uid"),pfid:SDK.getQueryString("pfid")})];case 1:if(i=o.apply(a,[s.sent()]),i.status)throw new Error(i.message);return yt=i.result.token,n(i.result.agent),[2,i.result]}})})}function l(e,t){t=t||window.location.href;var n=new RegExp("(\\?|#|&)"+e+"=(.*?)(&|#|$)"),i=(t||"").match(n);return decodeURIComponent(i?i[2]:"")}function c(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){return e.$openkeydata=t,[2]})})}function h(){return __awaiter(this,void 0,void 0,function(){var i,a,o,s,r,u;return __generator(this,function(c){switch(c.label){case 0:return i=showDataInfo(),a=e.$openkeydata,o=SDK.getQueryString("GIFT"),u=(r=JSON).parse,[4,t(e.$serverUrl+"/wb/start",{openid:i.openid,openkey:l("openkey",i.appurl),pfid:i.pf,qua:i.qua,platform:i.platform,opendata:a.toString(),bagId:o})];case 1:return s=u.apply(r,[c.sent()]),-1==s.status?[2,null]:(yt=s.result.token,setShareInfo(),n(s.result.agent),[2,s.result])}})})}function p(){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/gaveGame/start",{userid:SDK.getQueryString("user_id"),logintoken:SDK.getQueryString("login_token"),channelid:SDK.getQueryString("channel_id"),channelname:SDK.getQueryString("channel_name")})];case 1:return i=o.apply(a,[s.sent()]),-1==i.status?[2,null]:(yt=i.result.token,n(i.result.agent),[2,i.result])}})})}function g(){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return a=(i=JSON).parse,[4,t(e.$serverUrl+"/login/awy/servers",{})];case 1:if(n=a.apply(i,[o.sent()]),n.status)throw new Error(n.message);return[2,n.result]}})})}function d(){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return a=(i=JSON).parse,[4,t(e.$serverUrl+"/nb/servers",{})];case 1:if(n=a.apply(i,[o.sent()]),n.status)throw new Error(n.message);return[2,n.result]}})})}function m(){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return a=(i=JSON).parse,[4,t(e.$serverUrl+"/youyou/servers",{})];case 1:if(n=a.apply(i,[o.sent()]),n.status)throw new Error(n.message);return[2,n.result]}})})}function f(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return[4,t(e.$serverUrl+"/login/awy/selectServer",{token:yt,sid:n})];case 1:return i.sent(),[2]}})})}function _(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return[4,t(e.$serverUrl+"/nb/selectServer",{token:yt,sid:n})];case 1:return i.sent(),[2]}})})}function y(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return[4,t(e.$serverUrl+"/youyou/selectServer",{token:yt,sid:n})];case 1:return i.sent(),[2]}})})}function v(n,i,a){return __awaiter(this,void 0,void 0,function(){var o,s,r;return __generator(this,function(u){switch(u.label){case 0:return r=(s=JSON).parse,[4,t(e.$serverUrl+"/weixin/wxsign",{url:n,timestamp:i,nonceStr:a})];case 1:if(o=r.apply(s,[u.sent()]),o.status)throw new Error(o.message);return[2,o.result]}})})}function b(n){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/login/awy/preRecharge",{token:yt,id:n})];case 1:if(i=o.apply(a,[s.sent()]),i.status)throw new Error(i.message);return[2,i.result]}})})}function w(n){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/nb/preRecharge",{token:yt,id:n})];case 1:if(i=o.apply(a,[s.sent()]),i.status)throw new Error(i.message);return[2,i.result]}})})}function k(n){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/youyou/preRecharge",{token:yt,id:n})];case 1:if(i=o.apply(a,[s.sent()]),i.status)throw new Error(i.message);return[2,i.result]}})})}function I(n){return __awaiter(this,void 0,void 0,function(){var i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:return i=showDataInfo(),s=(o=JSON).parse,[4,t(e.$serverUrl+"/wb/preRecharge",{token:yt,id:n,openkey:l("openkey",i.appurl)})];case 1:return a=s.apply(o,[r.sent()]),[2,a.result]}})})}function T(n){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/gaveGame/preRecharge",{token:yt,id:n})];case 1:return i=o.apply(a,[s.sent()]),[2,i.result]}})})}function P(){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return RefreshOpenKey(),n=showDataInfo(),i=e.$openkeydata,[4,t(e.$serverUrl+"/wb/vipBag",{openid:n.openid,openkey:l("openkey",n.appurl),pf:n.pf,platform:n.platform})];case 1:if(a=o.sent())return[2,Number(a)];throw new Error(a)}})})}function L(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return game.DataManager.playerModel.GetCreateShortcut(e),[2]})})}function D(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return wbShare(),[2]})})}function x(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return addShortcut(),[2]})})}function C(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return console.log("CloseRecharge"),game.hideWaitPanel(),[2]})})}function B(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})}function S(){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return a=(i=JSON).parse,[4,t(e.$serverUrl+"/weixin/servers",{})];case 1:if(n=a.apply(i,[o.sent()]),n.status)throw new Error(n.message);return[2,n.result]}})})}function E(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return[4,t(e.$serverUrl+"/weixin/selectServer",{token:yt,sid:n})];case 1:return i.sent(),[2]}})})}function A(n){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/weixin/pay",{token:yt,id:n})];case 1:if(i=o.apply(a,[s.sent()]),i.status)throw new Error(i.message);return[2,i.result]}})})}function M(){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/istorm/game",{token:host.getToken()})];case 1:if(i=o.apply(a,[s.sent()]),i.status)throw new Error(i.message);return yt=i.result.token,n(i.result.agent),[2,i.result]}})})}function G(){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return a=(i=JSON).parse,[4,t(e.$serverUrl+"/istorm/servers",{})];case 1:if(n=a.apply(i,[o.sent()]),n.status)throw new Error(n.message);return[2,n.result]}})})}function N(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return[4,t(e.$serverUrl+"/istorm/selectServer",{token:yt,sid:n})];case 1:return i.sent(),[2]}})})}function R(){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/ayios/start",{accountid:iosUserId,sessionid:iosToken})];case 1:if(i=o.apply(a,[s.sent()]),i.status)throw new Error(i.message);return yt=i.result.token,n(i.result.agent),[2,i.result]}})})}function q(){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/ay/start",{accountid:host.getAccountId(),sessionid:host.getSessionId(),channel:host.getPackageName(),deviceid:host.getDeviceID()})];case 1:if(i=o.apply(a,[s.sent()]),i.status)throw new Error(i.message);return yt=i.result.token,n(i.result.agent),[2,i.result]}})})}function j(){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/mosdk/start",{user:host.getSessionId(),token:host.getTokenID(),phone:10==SDK.$platformType?1:2})];case 1:if(i=o.apply(a,[s.sent()]),i.status)throw new Error(i.message);return yt=i.result.token,n(i.result.agent),[2,i.result]}})})}function H(){return __awaiter(this,void 0,void 0,function(){var i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/hysdk/start",{user:host.getSessionId(),phone:2})];case 1:if(i=o.apply(a,[r.sent()]),i.status)throw new Error(i.message);return s=i.result.path,yt=i.result.token,n(i.result.agent),[2,i.result]}})})}function O(){return __awaiter(this,void 0,void 0,function(){var i,a,o,s;return __generator(this,function(r){switch(r.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/quick/start",{uid:iosUserId,token:iosToken,channel_code:game.channelType})];case 1:if(i=o.apply(a,[r.sent()]),i.status)throw new Error(i.message);return s=i.result.path,yt=i.result.token,n(i.result.agent),[2,i.result]}})})}function F(i){return __awaiter(this,void 0,void 0,function(){var a,o,s;return __generator(this,function(r){switch(r.label){case 0:return s=(o=JSON).parse,[4,t(e.$serverUrl+"/hysdk/selectServer",{token:yt,sid:i})];case 1:if(a=s.apply(o,[r.sent()]),0!=a.status)throw new Error(a.message);return n(a.result.agent),[2,a.result]}})})}function z(n){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/hysdk/preRecharge",{token:yt,id:n,sid:game.DataManager.playerModel.sid})];case 1:if(i=o.apply(a,[s.sent()]),i.status)throw new Error(i.message);return[2,i.result]}})})}function U(n){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/quick/preRecharge",{token:yt,id:n,sid:game.DataManager.playerModel.sid})];case 1:if(i=o.apply(a,[s.sent()]),i.status)throw new Error(i.message);return[2,i.result]}})})}function W(){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return a=(i=JSON).parse,[4,t(e.$serverUrl+"/ay/servers",{})];case 1:if(n=a.apply(i,[o.sent()]),n.status)throw new Error(n.message);return[2,n.result]}})})}function V(){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return a=(i=JSON).parse,[4,t(e.$serverUrl+"/ayios/servers",{})];case 1:if(n=a.apply(i,[o.sent()]),n.status)throw new Error(n.message);return[2,n.result]}})})}function Y(){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return a=(i=JSON).parse,[4,t(e.$serverUrl+"/wb/servers",{})];case 1:if(n=a.apply(i,[o.sent()]),n.status)throw new Error(n.message);return[2,n.result]}})})}function X(){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return a=(i=JSON).parse,[4,t(e.$serverUrl+"/gaveGame/servers",{})];case 1:if(n=a.apply(i,[o.sent()]),n.status)throw new Error(n.message);return[2,n.result]}})})}function K(){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return a=(i=JSON).parse,[4,t(e.$serverUrl+"/mosdk/servers",{})];case 1:if(n=a.apply(i,[o.sent()]),n.status)throw new Error(n.message);return[2,n.result]}})})}function Z(){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return a=(i=JSON).parse,[4,t(e.$serverUrl+"/hysdk/servers",{})];case 1:if(n=a.apply(i,[o.sent()]),n.status)throw new Error(n.message);return[2,n.result]}})})}function Q(i){return __awaiter(this,void 0,void 0,function(){var a,o,s;return __generator(this,function(r){switch(r.label){case 0:return s=(o=JSON).parse,[4,t(e.$serverUrl+"/ayios/selectServer",{token:yt,sid:i})];case 1:if(a=s.apply(o,[r.sent()]),0!=a.status)throw new Error(a.message);return n(a.result.agent),[2,a.result]}})})}function J(i){return __awaiter(this,void 0,void 0,function(){var a,o,s;return __generator(this,function(r){switch(r.label){case 0:return s=(o=JSON).parse,[4,t(e.$serverUrl+"/ay/selectServer",{token:yt,sid:i})];case 1:if(a=s.apply(o,[r.sent()]),0!=a.status)throw new Error(a.message);return n(a.result.agent),[2,a.result]}})})}function $(i){return __awaiter(this,void 0,void 0,function(){var a,o,s;return __generator(this,function(r){switch(r.label){case 0:return s=(o=JSON).parse,[4,t(e.$serverUrl+"/wb/selectServer",{token:yt,sid:i})];case 1:if(a=s.apply(o,[r.sent()]),0!=a.status)throw new Error(a.message);return n(a.result.agent),[2,a.result]}})})}function et(i){return __awaiter(this,void 0,void 0,function(){var a,o,s;return __generator(this,function(r){switch(r.label){case 0:return s=(o=JSON).parse,[4,t(e.$serverUrl+"/gaveGame/selectServer",{token:yt,sid:i})];case 1:if(a=s.apply(o,[r.sent()]),0!=a.status)throw new Error(a.message);return n(a.result.agent),[2,a.result]}})})}function tt(i){return __awaiter(this,void 0,void 0,function(){var a,o,s;return __generator(this,function(r){switch(r.label){case 0:return s=(o=JSON).parse,[4,t(e.$serverUrl+"/mosdk/selectServer",{token:yt,sid:i})];case 1:if(a=s.apply(o,[r.sent()]),0!=a.status)throw new Error(a.message);return n(a.result.agent),[2,a.result]}})})}function nt(n){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/ayios/preRecharge",{token:yt,id:n})];case 1:if(i=o.apply(a,[s.sent()]),i.status)throw new Error(i.message);return[2,i.result]}})})}function it(n){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/ay/preRecharge",{token:yt,id:n})];case 1:if(i=o.apply(a,[s.sent()]),i.status)throw new Error(i.message);return[2,i.result]}})})}function at(n){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/mosdk/preRecharge",{token:yt,id:n})];case 1:if(i=o.apply(a,[s.sent()]),i.status)throw new Error(i.message);return[2,i.result]}})})}function ot(n){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/mosdk/preRecharge",{token:yt,id:n})];case 1:if(i=o.apply(a,[s.sent()]),i.status)throw new Error(i.message);return[2,i.result]}})})}function st(i,a){return __awaiter(this,void 0,void 0,function(){var o,s,r;return __generator(this,function(u){switch(u.label){case 0:return r=(s=JSON).parse,[4,t(e.$serverUrl+"/login/login",{name:i,password:md5.hex(a)})];case 1:if(o=r.apply(s,[u.sent()]),o.status)throw new Error(o.message);return yt=o.result.token,n(o.result.agent),[2,o.result]}})})}function rt(i,a){return __awaiter(this,void 0,void 0,function(){var o,s,r;return __generator(this,function(u){switch(u.label){case 0:return r=(s=JSON).parse,[4,t(e.$serverUrl+"/login/register",{name:i,password:md5.hex(a)})];case 1:if(o=r.apply(s,[u.sent()]),o.status)throw new Error(o.message);return yt=o.result.token,n(o.result.agent),[2,o.result]}})})}function ut(){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return o=(a=JSON).parse,[4,t(e.$serverUrl+"/login/guestLogin",null)];case 1:if(i=o.apply(a,[s.sent()]),i.status)throw new Error(i.message);return yt=i.result.token,n(i.result.agent),[2,i.result]}})})}function lt(){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return a=(i=JSON).parse,[4,t(e.$serverUrl+"/login/servers",null)];case 1:if(n=a.apply(i,[o.sent()]),n.status)throw new Error(n.message);return[2,n.result]}})})}function ct(){return __awaiter(this,void 0,void 0,function(){var i,a,o;return __generator(this,function(s){switch(s.label){case 0:return(yt=egret.localStorage.getItem("token"))?(o=(a=JSON).parse,[4,t(e.$serverUrl+"/login/auth",{token:yt})]):[2,null];case 1:if(i=o.apply(a,[s.sent()]),i.status)throw yt=null,egret.localStorage.removeItem("token"),new Error(i.message);return n(i.result.agent),[2,i.result]}})})}function ht(){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return a=(i=JSON).parse,[4,t(e.$serverUrl+"/login/announce",{token:yt,noticeId:game.noticeId})];case 1:if(n=a.apply(i,[o.sent()]),n.status)throw new Error(n.message);return[2,n.result]}})})}function pt(i){return __awaiter(this,void 0,void 0,function(){var a,o,s;return __generator(this,function(r){switch(r.label){case 0:return s=(o=JSON).parse,[4,t(e.$serverUrl+"/login/selectServer",{token:yt,sid:i})];case 1:if(a=s.apply(o,[r.sent()]),0!=a.status)throw new Error(a.message);return n(a.result.agent),[2,a.result]}})})}function gt(e){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return It?(Tt=EasyGame.createWebSocketConnection(bt,yt,e),kt=Tt,[3,3]):[3,1];case 1:return[4,t(bt+"auth",{token:yt})];case 2:vt=i.sent(),wt=e,kt=new EasyGame.NotifyListener(bt+"notify",vt,e);
for(n in Pt)kt.addStub(Pt[n]);Pt=[],i.label=3;case 3:return[2]}})})}function dt(e){kt?kt.addStub(e):Pt.push(e)}function mt(e){return It?EasyGame.connectionAdapter(e,Tt):new EasyGame.RequestConnection(bt+"request/"+e,vt,!0,wt)}function ft(e,n){It||t(bt+"logger/upload?sid="+vt,{type:e,content:n},"POST")}function _t(){return __awaiter(this,void 0,void 0,function(){var n,i,a;return __generator(this,function(o){switch(o.label){case 0:return a=(i=JSON).parse,[4,t(e.$serverUrl+"/ayios/load",{})];case 1:return n=a.apply(i,[o.sent()]),console.log(n),[2]}})})}e.$serverUrl="http://222.186.10.142:8000",e.$openkeydata=null,e.ajax=t;var yt,vt,bt,wt,kt,It=!0;e.DataReport=i,e.PlatformBagWB=a,e.start=o,e.startAWY=s,e.startYouYou=r,e.startNB=u,e.getUrlParam=l,e.getWBOpenKey=c,e.startWB=h,e.startGAVE=p,e.getAWYServerList=g,e.getNBServerList=d,e.getYouYouServerList=m,e.selectAWYServer=f,e.selectNBServer=_,e.selectYouYouServer=y,e.wxSign=v,e.preRechargeAWY=b,e.preRechargeNB=w,e.preRechargeYouYou=k,e.preRechargeWB=I,e.preRechargeGAVE=T,e.getWBVipLevel=P,e.getRewardWB=L,e.AddShareWB=D,e.AddDesktopWB=x,e.CloseRecharge=C,e.UpdateRoleInfo=B,e.getWXServerList=S,e.selectWXServer=E,e.preRechargeWX=A,e.startIStorm=M,e.getIStormServerList=G,e.selectIStormServer=N,e.startAYIos=R,e.startAY=q,e.startMO=j,e.startHY=H,e.startHYIOS=O,e.selectHYServer=F,e.preRechargeHY=z,e.preRechargeHYIOS=U,e.getAYServerList=W,e.getAYIosServerList=V,e.getWBServerList=Y,e.getGAVEServerList=X,e.getMOServerList=K,e.getHYServerList=Z,e.selectAYIosServer=Q,e.selectAYServer=J,e.selectWBServer=$,e.selectGAVEServer=et,e.selectMOServer=tt,e.preRechargeAYIos=nt,e.preRechargeAY=it,e.preRechargeMO=at,e.preRechargeMOIOS=ot,e.login=st,e.register=rt,e.guestLogin=ut,e.quertServers=lt,e.auth=ct,e.getAnnounce=ht,e.selectServer=pt;var Tt,Pt=[];e.connectAgent=gt,e.addNotifyListener=dt,e.createConnection=mt,e.uploadLog=ft,e.testIOSVersion=_t}(Auth||(Auth={}));var md5;!function(e){function t(e){return a(i(s(e)))}function n(e){return o(i(s(e)))}function i(e){return u(l(r(e),8*e.length))}function a(e){try{}catch(t){_=0}for(var n,i=_?"0123456789ABCDEF":"0123456789abcdef",a="",o=0;o<e.length;o++)n=e.charCodeAt(o),a+=i.charAt(n>>>4&15)+i.charAt(15&n);return a}function o(e){try{}catch(t){y=""}for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="",a=e.length,o=0;a>o;o+=3)for(var s=e.charCodeAt(o)<<16|(a>o+1?e.charCodeAt(o+1)<<8:0)|(a>o+2?e.charCodeAt(o+2):0),r=0;4>r;r++)i+=8*o+6*r>8*e.length?y:n.charAt(s>>>6*(3-r)&63);return i}function s(e){for(var t,n,i="",a=-1;++a<e.length;)t=e.charCodeAt(a),n=a+1<e.length?e.charCodeAt(a+1):0,t>=55296&&56319>=t&&n>=56320&&57343>=n&&(t=65536+((1023&t)<<10)+(1023&n),a++),127>=t?i+=String.fromCharCode(t):2047>=t?i+=String.fromCharCode(192|t>>>6&31,128|63&t):65535>=t?i+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):2097151>=t&&(i+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return i}function r(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(var n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}function u(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}function l(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,i=-271733879,a=-1732584194,o=271733878,s=0;s<e.length;s+=16){var r=n,u=i,l=a,c=o;n=h(n,i,a,o,e[s+0],7,-680876936),o=h(o,n,i,a,e[s+1],12,-389564586),a=h(a,o,n,i,e[s+2],17,606105819),i=h(i,a,o,n,e[s+3],22,-1044525330),n=h(n,i,a,o,e[s+4],7,-176418897),o=h(o,n,i,a,e[s+5],12,1200080426),a=h(a,o,n,i,e[s+6],17,-1473231341),i=h(i,a,o,n,e[s+7],22,-45705983),n=h(n,i,a,o,e[s+8],7,1770035416),o=h(o,n,i,a,e[s+9],12,-1958414417),a=h(a,o,n,i,e[s+10],17,-42063),i=h(i,a,o,n,e[s+11],22,-1990404162),n=h(n,i,a,o,e[s+12],7,1804603682),o=h(o,n,i,a,e[s+13],12,-40341101),a=h(a,o,n,i,e[s+14],17,-1502002290),i=h(i,a,o,n,e[s+15],22,1236535329),n=p(n,i,a,o,e[s+1],5,-165796510),o=p(o,n,i,a,e[s+6],9,-1069501632),a=p(a,o,n,i,e[s+11],14,643717713),i=p(i,a,o,n,e[s+0],20,-373897302),n=p(n,i,a,o,e[s+5],5,-701558691),o=p(o,n,i,a,e[s+10],9,38016083),a=p(a,o,n,i,e[s+15],14,-660478335),i=p(i,a,o,n,e[s+4],20,-405537848),n=p(n,i,a,o,e[s+9],5,568446438),o=p(o,n,i,a,e[s+14],9,-1019803690),a=p(a,o,n,i,e[s+3],14,-187363961),i=p(i,a,o,n,e[s+8],20,1163531501),n=p(n,i,a,o,e[s+13],5,-1444681467),o=p(o,n,i,a,e[s+2],9,-51403784),a=p(a,o,n,i,e[s+7],14,1735328473),i=p(i,a,o,n,e[s+12],20,-1926607734),n=g(n,i,a,o,e[s+5],4,-378558),o=g(o,n,i,a,e[s+8],11,-2022574463),a=g(a,o,n,i,e[s+11],16,1839030562),i=g(i,a,o,n,e[s+14],23,-35309556),n=g(n,i,a,o,e[s+1],4,-1530992060),o=g(o,n,i,a,e[s+4],11,1272893353),a=g(a,o,n,i,e[s+7],16,-155497632),i=g(i,a,o,n,e[s+10],23,-1094730640),n=g(n,i,a,o,e[s+13],4,681279174),o=g(o,n,i,a,e[s+0],11,-358537222),a=g(a,o,n,i,e[s+3],16,-722521979),i=g(i,a,o,n,e[s+6],23,76029189),n=g(n,i,a,o,e[s+9],4,-640364487),o=g(o,n,i,a,e[s+12],11,-421815835),a=g(a,o,n,i,e[s+15],16,530742520),i=g(i,a,o,n,e[s+2],23,-995338651),n=d(n,i,a,o,e[s+0],6,-198630844),o=d(o,n,i,a,e[s+7],10,1126891415),a=d(a,o,n,i,e[s+14],15,-1416354905),i=d(i,a,o,n,e[s+5],21,-57434055),n=d(n,i,a,o,e[s+12],6,1700485571),o=d(o,n,i,a,e[s+3],10,-1894986606),a=d(a,o,n,i,e[s+10],15,-1051523),i=d(i,a,o,n,e[s+1],21,-2054922799),n=d(n,i,a,o,e[s+8],6,1873313359),o=d(o,n,i,a,e[s+15],10,-30611744),a=d(a,o,n,i,e[s+6],15,-1560198380),i=d(i,a,o,n,e[s+13],21,1309151649),n=d(n,i,a,o,e[s+4],6,-145523070),o=d(o,n,i,a,e[s+11],10,-1120210379),a=d(a,o,n,i,e[s+2],15,718787259),i=d(i,a,o,n,e[s+9],21,-343485551),n=m(n,r),i=m(i,u),a=m(a,l),o=m(o,c)}return Array(n,i,a,o)}function c(e,t,n,i,a,o){return m(f(m(m(t,e),m(i,o)),a),n)}function h(e,t,n,i,a,o,s){return c(t&n|~t&i,e,t,a,o,s)}function p(e,t,n,i,a,o,s){return c(t&i|n&~i,e,t,a,o,s)}function g(e,t,n,i,a,o,s){return c(t^n^i,e,t,a,o,s)}function d(e,t,n,i,a,o,s){return c(n^(t|~i),e,t,a,o,s)}function m(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}function f(e,t){return e<<t|e>>>32-t}var _=0,y="";e.hex=t,e.b64=n}(md5||(md5={}));var game;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.firstShow=!0,e.skinName=CaiShenTuTuSkin,e.init(),e}return __extends(n,t),n.prototype.init=function(){this.costButton.bg="ui/scene/activity/btn_11",this.costButton.image="ui/scene/activity/Tx_huanqu",this.costButton.imageScale=.7,this._touchEvent=[{target:this.costButton,callBackFunc:this.buyHandle}],this.addEventAndNotify(),this.firstShow=!0,this.initAnim()},n.prototype.buyHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i=this;return __generator(this,function(a){switch(a.label){case 0:return this._currentData?e.DataManager.playerModel.playerVip>=this._currentData.Lv?(t=e.DataManager.playerModel.diamond,n=this._currentData.Price,t>=n?[4,e.DataManager.playerModel.getMammonRabbitGift()]:[3,2]):[3,4]:[3,5];case 1:return a.sent(),this.update(),this.firstShow=!1,this.initAnim(),this.firstShow=!0,setTimeout(function(){i._bone.stop()},1300),[3,3];case 2:e.showTips(e.Lang.nindehuobibuzu,!0),a.label=3;case 3:return[3,5];case 4:e.showTips(e.Lang.nindevipdengjibuzu,!0),a.label=5;case 5:return[2]}})})},n.prototype.setInfo=function(){this.update()},n.prototype.update=function(){this._currentData=e.Data.TMammonRabbit[e.DataManager.playerModel.getActivityInfo().eventInfo.mammonRabbit.mammonRabbit+1],this._currentData?(this.rewardLabel.text=this._currentData.Item.toString(),this.costButton.visible=!0,this.vipLabel.visible=!0,this.vipLabel.text=this._currentData.Lv.toString(),this.costCount.text=this._currentData.Price+""):(this.rewardLabel.text="0",this.costButton.visible=!1,this.vipLabel.visible=!1)},n.prototype.initAnim=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return this._bone?[3,2]:(t=this,[4,e.getBone("changertu")]);case 1:t._bone=n.sent(),this.boneGroup.addChild(this._bone),n.label=2;case 2:return this._bone.play(null,0),this.firstShow&&this._bone.stop(),[2]}})})},n.prototype.onRemove=function(){this._bone&&this._bone.stop()},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n}(e.ActivityComponent);e.CaiShenTuTu=t,__reflect(t.prototype,"game.CaiShenTuTu")}(game||(game={}));var SDK;!function(e){function t(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:switch(n=e.$platformType){case 6:return[3,1];case 5:return[3,3];case 4:return[3,5];case 2:return[3,7];case 7:return[3,9];case 8:return[3,11];case 9:return[3,13];case 10:return[3,15];case 11:return[3,15];case 12:return[3,17];case 13:return[3,19];case 14:return[3,21]}return[3,23];case 1:return[4,Auth.startAYIos()];case 2:return t=i.sent(),[3,23];case 3:return[4,Auth.startAY()];case 4:return t=i.sent(),[3,23];case 5:return[4,Auth.startIStorm()];case 6:return t=i.sent(),[3,23];case 7:return[4,Auth.startAWY()];case 8:return t=i.sent(),[3,23];case 9:return[4,Auth.startNB()];case 10:return t=i.sent(),[3,23];case 11:return[4,Auth.startYouYou()];case 12:return t=i.sent(),[3,23];case 13:return[4,Auth.startWB()];case 14:return t=i.sent(),[3,23];case 15:return[4,Auth.startMO()];case 16:return t=i.sent(),[3,23];case 17:return[4,Auth.startGAVE()];case 18:return t=i.sent(),[3,23];case 19:return[4,Auth.startHY()];case 20:return t=i.sent(),[3,23];case 21:return[4,Auth.startHYIOS()];case 22:return t=i.sent(),[3,23];case 23:return[2,t]}})})}function n(t,n,i){return void 0===i&&(i=!1),__awaiter(this,void 0,void 0,function(){var a,o,s,r,u,r,l;return __generator(this,function(c){switch(c.label){case 0:switch(o=e.$platformType){case 6:return[3,1];case 5:return[3,3];case 4:return[3,5];case 1:return[3,7];case 2:return[3,9];case 0:return[3,11];case 7:return[3,13];case 8:return[3,15];case 9:return[3,17];case 10:return[3,19];case 11:return[3,19];case 12:return[3,21];case 13:return[3,23];case 14:return[3,23]}return[3,25];case 1:return[4,Auth.getAYIosServerList()];case 2:return a=c.sent(),[3,25];case 3:return[4,Auth.getAYServerList()];case 4:return a=c.sent(),[3,25];case 5:return[4,Auth.getIStormServerList()];case 6:return a=c.sent(),[3,25];case 7:return[4,Auth.getWXServerList()];case 8:return a=c.sent(),[3,25];case 9:return[4,Auth.getAWYServerList()];case 10:return a=c.sent(),[3,25];case 11:return[4,Auth.quertServers()];case 12:return a=c.sent(),[3,25];case 13:return[4,Auth.getNBServerList()];case 14:return a=c.sent(),[3,25];case 15:return[4,Auth.getYouYouServerList()];case 16:return a=c.sent(),[3,25];case 17:return[4,Auth.getWBServerList()];case 18:return a=c.sent(),[3,25];case 19:return[4,Auth.getMOServerList()];case 20:return a=c.sent(),[3,25];case 21:return[4,Auth.getGAVEServerList()];case 22:return a=c.sent(),[3,25];case 23:return[4,Auth.getHYServerList()];case 24:return a=c.sent(),[3,25];case 25:if(game.GameLayer.teachLayer.removeChildren(),!(a&&a.length>0))return[3,29];if(!i)return[3,26];for(s=0;s<a.length;s++)if(r=a[s],r.sid==t){e.$serverName=r.name,e.$serverId=r.sid;break}return[3,28];case 26:return u=game.SelectServer.getInstance(),game.GameLayer.sceneLayer.addChild(u),u.setServer(t,a,n),6!==e.$platformType&&game.navPanel(47),[4,u.selectServer()];case 27:if(r=c.sent(),10!=e.$platformType&&13!=e.$platformType&&14!=e.$platformType&&9!=e.$platformType&&5!=e.$platformType&&6!=e.$platformType&&0!=e.$platformType&&!game.isIos()&&r.clientURL!==window.location.origin+window.location.pathname)return window.location.href=r.clientURL+"?serverToken="+n.token+"&serverSid="+r.sid,[2,!1];e.$serverName=r.name,e.$serverId=r.sid,c.label=28;case 28:game.userSelectServer(e.$serverId,e.$serverName,n.pid),c.label=29;case 29:switch(l=e.$platformType){case 6:return[3,30];case 5:return[3,32];case 4:return[3,34];case 1:return[3,36];case 2:return[3,38];case 0:return[3,40];case 7:return[3,42];case 8:return[3,44];case 9:return[3,46];case 10:return[3,48];case 11:return[3,48];case 12:return[3,50];case 13:return[3,52];case 14:return[3,52]}return[3,54];case 30:return[4,Auth.selectAYIosServer(e.$serverId)];case 31:return c.sent(),[3,54];case 32:return[4,Auth.selectAYServer(e.$serverId)];case 33:return c.sent(),[3,54];case 34:return[4,Auth.selectIStormServer(e.$serverId)];case 35:return c.sent(),[3,54];case 36:return[4,Auth.selectWXServer(e.$serverId)];case 37:return c.sent(),[3,54];case 38:return[4,Auth.selectAWYServer(e.$serverId)];case 39:return c.sent(),[3,54];case 40:return[4,Auth.selectServer(e.$serverId)];case 41:return c.sent(),[3,54];case 42:return[4,Auth.selectNBServer(e.$serverId)];case 43:return c.sent(),[3,54];case 44:return[4,Auth.selectYouYouServer(e.$serverId)];case 45:return c.sent(),[3,54];case 46:return[4,Auth.selectWBServer(e.$serverId)];case 47:return c.sent(),[3,54];case 48:return[4,Auth.selectMOServer(e.$serverId)];case 49:return c.sent(),[3,54];case 50:return[4,Auth.selectGAVEServer(e.$serverId)];case 51:return c.sent(),[3,54];case 52:return[4,Auth.selectHYServer(e.$serverId)];case 53:return c.sent(),[3,54];case 54:return[2,!0]}})})}function i(t){return __awaiter(this,void 0,void 0,function(){var n,i,a,o,s,r,u,l,c,h,g,d,m,f,m,_,y,v,b;return __generator(this,function(w){switch(w.label){case 0:if(!game.canRecharge)return game.showTips("充值暂未开放,感谢您的支持!",!0),[2];switch(n=e.$platformType){case 6:return[3,1];case 5:return[3,3];case 2:return[3,5];case 7:return[3,7];case 9:return[3,9];case 12:return[3,11];case 8:return[3,13];case 10:return[3,15];case 11:return[3,17];case 13:return[3,19];case 14:return[3,21];case 1:return[3,23]}return[3,28];case 1:return[4,Auth.preRechargeAYIos(t)];case 2:return i=w.sent(),window.webkit.messageHandlers.host.postMessage({method:"pay",orderID:i.customorderid,price:i.sum,productID:i.productID,customInfo:i.callBackData,productDescription:i.desc,callback:i.url}),game.RechargeResult.getInstance().show(),[3,28];case 3:return[4,Auth.preRechargeAY(t)];case 4:return a=w.sent(),host.pay(a.customorderid,a.sum,a.desc,a.url,a.callBackData),game.RechargeResult.getInstance().show(),[3,28];case 5:return[4,Auth.preRechargeAWY(t)];case 6:return o=w.sent(),AWY_SDK.pay({pid:o.pid,txid:o.txid,userdata:o.userdata,hide:o.hide}),[3,28];case 7:return[4,Auth.preRechargeNB(t)];case 8:return s=w.sent(),NBSDK.pay(s,function(){},function(){}),game.RechargeResult.getInstance().show(),[3,28];case 9:return[4,Auth.preRechargeWB(t)];case 10:return r=w.sent(),u=r.count,game.showWaitPanel(0,3e3),-1==r.status?goPopPayTips({billno:r.billno,appid:r.appid,itemid:r.itemid,count:r.count,qua:r.qua}):0==r.status?(game.hideWaitPanel(),game.RechargeResult.getInstance().show()):(game.hideWaitPanel(),game.showTips(game.Lang.chuxiancuowu)),[3,28];case 11:return[4,Auth.preRechargeGAVE(t)];case 12:return l=w.sent(),l.game_user_name=game.DataManager.playerModel.playerName,requestPayGave(l),game.RechargeResult.getInstance().show(),[3,28];case 13:return[4,Auth.preRechargeYouYou(t)];case 14:return c=w.sent(),1==c.status?(H5youyouSDK.Pay({safeCode:c.code}),game.RechargeResult.getInstance().show()):game.showTips(game.Lang.chuxiancuowu),[3,28];case 15:return[4,Auth.preRechargeMO(t)];case 16:return h=w.sent(),game.RechargeResult.getInstance().show(),host.pay(h.product,h.server,h.role,h.extra1,h.extra2),[3,28];case 17:return[4,Auth.preRechargeMO(t)];case 18:return g=w.sent(),game.RechargeResult.getInstance().show(),[3,28];case 19:return[4,Auth.preRechargeHY(t)];case 20:return d=w.sent(),game.RechargeResult.getInstance().show(),m=game.DataManager.playerModel,host.PayLogic(d.roleId,m.playerName,m.sid,e.$serverName,d.orderId,d.waresName,d.price,d.extra),[3,28];case 21:return[4,Auth.preRechargeHYIOS(t)];case 22:return f=w.sent(),game.RechargeResult.getInstance().show(),m=game.DataManager.playerModel,window.webkit.messageHandlers.host.postMessage({method:"pay",goodsID:f.goodId,productName:f.productName,orderID:f.cpOrderId,count:f.count,amount:f.amount,serverName:e.$serverName,roleName:m.playerName,serverID:m.sid.toString(),roleID:m.pid.toString(),extra:f.extrasParams}),[3,28];case 23:return[4,Auth.preRechargeWX(t)];case 24:return _=w.sent(),p?(wx.chooseWXPay({timestamp:_.timeStamp,nonceStr:_.nonceStr,"package":_["package"],signType:_.signType,paySign:_.paySign,success:function(e){game.showTips(game.Lang.chongzhichenggong)}}),[3,27]):[3,25];case 25:return game.showWaitPanel(),y={debug:!0,appId:"wx1903f419e17102e5",timestamp:.001*(Date.now()-new Date(1970,1,1).getTime())|0,nonceStr:"pokemon",signature:"",jsApiList:["chooseWXPay"]},v=window.location,[4,Auth.wxSign(v.href,y.timestamp.toString(),y.nonceStr)];case 26:b=w.sent(),y.signature=b,wx.ready(function(){game.hideWaitPanel(),p=!0,wx.chooseWXPay({timestamp:_.timeStamp,nonceStr:_.nonceStr,"package":_["package"],signType:_.signType,paySign:_.paySign,success:function(e){game.showTips(game.Lang.chongzhichenggong)}})}),wx.error(function(e){var t="微信初始化失败： "+JSON.stringify(e);alert(t)}),wx.config(y),w.label=27;case 27:return[3,28];case 28:return[2]}})})}function a(e){updateRoleInfoGave(e)}function o(){var t=game.DataManager.playerModel;host.EnterGameUpdate(t.pid,t.playerName,t.sid,e.$serverName)}function s(t){var n=game.DataManager.playerModel;window.webkit.messageHandlers.host.postMessage({method:"UploadRoleInfo",serverName:e.$serverName,roleName:n.playerName,serverID:n.sid.toString(),roleID:n.pid.toString(),isCreate:"false"})}function r(){host.createRole(game.DataManager.playerModel.pid)}function u(){reportLogin_WB()}function l(){reportRegister_WB()}function c(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?n[2]:null}e.$platformType=0,e.$serverId=1;var h=function(){function e(){}return e}();e.GaveRoleInfo=h,__reflect(h.prototype,"SDK.GaveRoleInfo"),e.recharge_MO={"com.jancy.nlqygp.g60":1,"com.jancy.nlqygp.g300":2,"com.jancy.nlqygp.g480":3,"com.jancy.nlqygp.g900":4,"com.jancy.nlqygp.g1800":5,"com.jancy.nlqygp.g3000":6,"com.jancy.nlqygp.g6000":7,"com.jancy.nlqygp.m1":9,"com.jancy.nlqygp.m2":10,"com.jancy.nlqygp.lb1":13},e.recharge_MOIOS={"com.yap.nlqy.g60":1,"com.yap.nlqy.g300":2,"com.yap.nlqy.g480":3,"com.yap.nlqy.g900":4,"com.yap.nlqy.g1800":5,"com.yap.nlqy.g3000":6,"com.yap.nlqy.g6000":7,"com.yap.nlqy.m1":9,"com.yap.nlqy.m2":10,"com.yap.nlqy.lb1":13},e.login=t,e.selectServer=n;var p=!1;e.recharge=i,e.ReportGave=a,e.ReportHY=o,e.ReportHYIOS=s,e.createRoleHY=r,e.reportLoginWB=u,e.reportRegisterWB=l,e.getQueryString=c}(SDK||(SDK={}));var weixin;!function(e){function t(){return __awaiter(this,void 0,void 0,function(){var e,t,i,a;return __generator(this,function(o){switch(o.label){case 0:return e=game.defer(),n?[3,2]:(t={debug:!0,appId:"wx1903f419e17102e5",timestamp:.001*(Date.now()-new Date(1970,1,1).getTime())|0,nonceStr:"pokemon",signature:"",jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","chooseImage","previewImage","uploadImage","downloadImage","getNetworkType","hideOptionMenu","showOptionMenu","closeWindow","scanQRCode","chooseWXPay"]},i=window.location,[4,Auth.wxSign(i.href,t.timestamp.toString(),t.nonceStr)]);case 1:return a=o.sent(),t.signature=a,wx.ready(function(){n=!0,e.resolve(null)}),wx.error(function(e){var t="微信初始化失败： "+JSON.stringify(e);alert(t)}),wx.config(t),[3,3];case 2:e.resolve(null),o.label=3;case 3:return[2,e.promise()]}})})}var n=!1;e.init=t}(weixin||(weixin={}));